(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function ed(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function e6(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var X_={exports:{}},rg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qN;function t6(){if(qN)return rg;qN=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:o,ref:i!==void 0?i:null,props:a}}return rg.Fragment=e,rg.jsx=t,rg.jsxs=t,rg}var GN;function n6(){return GN||(GN=1,X_.exports=t6()),X_.exports}var s=n6(),Y_={exports:{}},Ln={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WN;function r6(){if(WN)return Ln;WN=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function v(G){return G===null||typeof G!="object"?null:(G=b&&G[b]||G["@@iterator"],typeof G=="function"?G:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function N(G,Y,ne){this.props=G,this.context=Y,this.refs=T,this.updater=ne||y}N.prototype.isReactComponent={},N.prototype.setState=function(G,Y){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,Y,"setState")},N.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function _(){}_.prototype=N.prototype;function j(G,Y,ne){this.props=G,this.context=Y,this.refs=T,this.updater=ne||y}var C=j.prototype=new _;C.constructor=j,w(C,N.prototype),C.isPureReactComponent=!0;var A=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function B(G,Y,ne,le,be,ce){return ne=ce.ref,{$$typeof:r,type:G,key:Y,ref:ne!==void 0?ne:null,props:ce}}function F(G,Y){return B(G.type,Y,void 0,void 0,void 0,G.props)}function k(G){return typeof G=="object"&&G!==null&&G.$$typeof===r}function z(G){var Y={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ne){return Y[ne]})}var V=/\/+/g;function X(G,Y){return typeof G=="object"&&G!==null&&G.key!=null?z(""+G.key):Y.toString(36)}function J(){}function ee(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(J,J):(G.status="pending",G.then(function(Y){G.status==="pending"&&(G.status="fulfilled",G.value=Y)},function(Y){G.status==="pending"&&(G.status="rejected",G.reason=Y)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function te(G,Y,ne,le,be){var ce=typeof G;(ce==="undefined"||ce==="boolean")&&(G=null);var ie=!1;if(G===null)ie=!0;else switch(ce){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(G.$$typeof){case r:case e:ie=!0;break;case g:return ie=G._init,te(ie(G._payload),Y,ne,le,be)}}if(ie)return be=be(G),ie=le===""?"."+X(G,0):le,A(be)?(ne="",ie!=null&&(ne=ie.replace(V,"$&/")+"/"),te(be,Y,ne,"",function(Te){return Te})):be!=null&&(k(be)&&(be=F(be,ne+(be.key==null||G&&G.key===be.key?"":(""+be.key).replace(V,"$&/")+"/")+ie)),Y.push(be)),1;ie=0;var ge=le===""?".":le+":";if(A(G))for(var _e=0;_e<G.length;_e++)le=G[_e],ce=ge+X(le,_e),ie+=te(le,Y,ne,ce,be);else if(_e=v(G),typeof _e=="function")for(G=_e.call(G),_e=0;!(le=G.next()).done;)le=le.value,ce=ge+X(le,_e++),ie+=te(le,Y,ne,ce,be);else if(ce==="object"){if(typeof G.then=="function")return te(ee(G),Y,ne,le,be);throw Y=String(G),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ie}function W(G,Y,ne){if(G==null)return G;var le=[],be=0;return te(G,le,"","",function(ce){return Y.call(ne,ce,be++)}),le}function K(G){if(G._status===-1){var Y=G._result;Y=Y(),Y.then(function(ne){(G._status===0||G._status===-1)&&(G._status=1,G._result=ne)},function(ne){(G._status===0||G._status===-1)&&(G._status=2,G._result=ne)}),G._status===-1&&(G._status=0,G._result=Y)}if(G._status===1)return G._result.default;throw G._result}var $=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function oe(){}return Ln.Children={map:W,forEach:function(G,Y,ne){W(G,function(){Y.apply(this,arguments)},ne)},count:function(G){var Y=0;return W(G,function(){Y++}),Y},toArray:function(G){return W(G,function(Y){return Y})||[]},only:function(G){if(!k(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ln.Component=N,Ln.Fragment=t,Ln.Profiler=i,Ln.PureComponent=j,Ln.StrictMode=n,Ln.Suspense=d,Ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ln.__COMPILER_RUNTIME={__proto__:null,c:function(G){return P.H.useMemoCache(G)}},Ln.cache=function(G){return function(){return G.apply(null,arguments)}},Ln.cloneElement=function(G,Y,ne){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var le=w({},G.props),be=G.key,ce=void 0;if(Y!=null)for(ie in Y.ref!==void 0&&(ce=void 0),Y.key!==void 0&&(be=""+Y.key),Y)!U.call(Y,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&Y.ref===void 0||(le[ie]=Y[ie]);var ie=arguments.length-2;if(ie===1)le.children=ne;else if(1<ie){for(var ge=Array(ie),_e=0;_e<ie;_e++)ge[_e]=arguments[_e+2];le.children=ge}return B(G.type,be,void 0,void 0,ce,le)},Ln.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},Ln.createElement=function(G,Y,ne){var le,be={},ce=null;if(Y!=null)for(le in Y.key!==void 0&&(ce=""+Y.key),Y)U.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(be[le]=Y[le]);var ie=arguments.length-2;if(ie===1)be.children=ne;else if(1<ie){for(var ge=Array(ie),_e=0;_e<ie;_e++)ge[_e]=arguments[_e+2];be.children=ge}if(G&&G.defaultProps)for(le in ie=G.defaultProps,ie)be[le]===void 0&&(be[le]=ie[le]);return B(G,ce,void 0,void 0,null,be)},Ln.createRef=function(){return{current:null}},Ln.forwardRef=function(G){return{$$typeof:c,render:G}},Ln.isValidElement=k,Ln.lazy=function(G){return{$$typeof:g,_payload:{_status:-1,_result:G},_init:K}},Ln.memo=function(G,Y){return{$$typeof:f,type:G,compare:Y===void 0?null:Y}},Ln.startTransition=function(G){var Y=P.T,ne={};P.T=ne;try{var le=G(),be=P.S;be!==null&&be(ne,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(oe,$)}catch(ce){$(ce)}finally{P.T=Y}},Ln.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ln.use=function(G){return P.H.use(G)},Ln.useActionState=function(G,Y,ne){return P.H.useActionState(G,Y,ne)},Ln.useCallback=function(G,Y){return P.H.useCallback(G,Y)},Ln.useContext=function(G){return P.H.useContext(G)},Ln.useDebugValue=function(){},Ln.useDeferredValue=function(G,Y){return P.H.useDeferredValue(G,Y)},Ln.useEffect=function(G,Y,ne){var le=P.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(G,Y)},Ln.useId=function(){return P.H.useId()},Ln.useImperativeHandle=function(G,Y,ne){return P.H.useImperativeHandle(G,Y,ne)},Ln.useInsertionEffect=function(G,Y){return P.H.useInsertionEffect(G,Y)},Ln.useLayoutEffect=function(G,Y){return P.H.useLayoutEffect(G,Y)},Ln.useMemo=function(G,Y){return P.H.useMemo(G,Y)},Ln.useOptimistic=function(G,Y){return P.H.useOptimistic(G,Y)},Ln.useReducer=function(G,Y,ne){return P.H.useReducer(G,Y,ne)},Ln.useRef=function(G){return P.H.useRef(G)},Ln.useState=function(G){return P.H.useState(G)},Ln.useSyncExternalStore=function(G,Y,ne){return P.H.useSyncExternalStore(G,Y,ne)},Ln.useTransition=function(){return P.H.useTransition()},Ln.version="19.1.1",Ln}var XN;function qf(){return XN||(XN=1,Y_.exports=r6()),Y_.exports}var ae=qf();const dn=ed(ae);var Z_={exports:{}},ig={},K_={exports:{}},J_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN;function i6(){return YN||(YN=1,(function(r){function e(W,K){var $=W.length;W.push(K);e:for(;0<$;){var oe=$-1>>>1,G=W[oe];if(0<i(G,K))W[oe]=K,W[$]=G,$=oe;else break e}}function t(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var K=W[0],$=W.pop();if($!==K){W[0]=$;e:for(var oe=0,G=W.length,Y=G>>>1;oe<Y;){var ne=2*(oe+1)-1,le=W[ne],be=ne+1,ce=W[be];if(0>i(le,$))be<G&&0>i(ce,le)?(W[oe]=ce,W[be]=$,oe=be):(W[oe]=le,W[ne]=$,oe=ne);else if(be<G&&0>i(ce,$))W[oe]=ce,W[be]=$,oe=be;else break e}}return K}function i(W,K){var $=W.sortIndex-K.sortIndex;return $!==0?$:W.id-K.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();r.unstable_now=function(){return o.now()-c}}var d=[],f=[],g=1,b=null,v=3,y=!1,w=!1,T=!1,N=!1,_=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function A(W){for(var K=t(f);K!==null;){if(K.callback===null)n(f);else if(K.startTime<=W)n(f),K.sortIndex=K.expirationTime,e(d,K);else break;K=t(f)}}function P(W){if(T=!1,A(W),!w)if(t(d)!==null)w=!0,U||(U=!0,X());else{var K=t(f);K!==null&&te(P,K.startTime-W)}}var U=!1,B=-1,F=5,k=-1;function z(){return N?!0:!(r.unstable_now()-k<F)}function V(){if(N=!1,U){var W=r.unstable_now();k=W;var K=!0;try{e:{w=!1,T&&(T=!1,j(B),B=-1),y=!0;var $=v;try{t:{for(A(W),b=t(d);b!==null&&!(b.expirationTime>W&&z());){var oe=b.callback;if(typeof oe=="function"){b.callback=null,v=b.priorityLevel;var G=oe(b.expirationTime<=W);if(W=r.unstable_now(),typeof G=="function"){b.callback=G,A(W),K=!0;break t}b===t(d)&&n(d),A(W)}else n(d);b=t(d)}if(b!==null)K=!0;else{var Y=t(f);Y!==null&&te(P,Y.startTime-W),K=!1}}break e}finally{b=null,v=$,y=!1}K=void 0}}finally{K?X():U=!1}}}var X;if(typeof C=="function")X=function(){C(V)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ee=J.port2;J.port1.onmessage=V,X=function(){ee.postMessage(null)}}else X=function(){_(V,0)};function te(W,K){B=_(function(){W(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(W){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var $=v;v=K;try{return W()}finally{v=$}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var $=v;v=W;try{return K()}finally{v=$}},r.unstable_scheduleCallback=function(W,K,$){var oe=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?oe+$:oe):$=oe,W){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,W={id:g++,callback:K,priorityLevel:W,startTime:$,expirationTime:G,sortIndex:-1},$>oe?(W.sortIndex=$,e(f,W),t(d)===null&&W===t(f)&&(T?(j(B),B=-1):T=!0,te(P,$-oe))):(W.sortIndex=G,e(d,W),w||y||(w=!0,U||(U=!0,X()))),W},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(W){var K=v;return function(){var $=v;v=K;try{return W.apply(this,arguments)}finally{v=$}}}})(J_)),J_}var ZN;function s6(){return ZN||(ZN=1,K_.exports=i6()),K_.exports}var Q_={exports:{}},Bs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KN;function a6(){if(KN)return Bs;KN=1;var r=qf();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:d,containerInfo:f,implementation:g}}var o=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Bs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Bs.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,g)},Bs.flushSync=function(d){var f=o.T,g=n.p;try{if(o.T=null,n.p=2,d)return d()}finally{o.T=f,n.p=g,n.d.f()}},Bs.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},Bs.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Bs.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,b=c(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:y}):g==="script"&&n.d.X(d,{crossOrigin:b,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Bs.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=c(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},Bs.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,b=c(g,f.crossOrigin);n.d.L(d,g,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Bs.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=c(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},Bs.requestFormReset=function(d){n.d.r(d)},Bs.unstable_batchedUpdates=function(d,f){return d(f)},Bs.useFormState=function(d,f,g){return o.H.useFormState(d,f,g)},Bs.useFormStatus=function(){return o.H.useHostTransitionStatus()},Bs.version="19.1.1",Bs}var JN;function R4(){if(JN)return Q_.exports;JN=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Q_.exports=a6(),Q_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QN;function o6(){if(QN)return ig;QN=1;var r=s6(),e=qf(),t=R4();function n(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)u+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var u=l,x=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(x=u.return),l=u.return;while(l)}return u.tag===3?x:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(n(188))}function d(l){var u=l.alternate;if(!u){if(u=a(l),u===null)throw Error(n(188));return u!==l?null:l}for(var x=l,E=u;;){var O=x.return;if(O===null)break;var I=O.alternate;if(I===null){if(E=O.return,E!==null){x=E;continue}break}if(O.child===I.child){for(I=O.child;I;){if(I===x)return c(O),l;if(I===E)return c(O),u;I=I.sibling}throw Error(n(188))}if(x.return!==E.return)x=O,E=I;else{for(var re=!1,fe=O.child;fe;){if(fe===x){re=!0,x=O,E=I;break}if(fe===E){re=!0,E=O,x=I;break}fe=fe.sibling}if(!re){for(fe=I.child;fe;){if(fe===x){re=!0,x=I,E=O;break}if(fe===E){re=!0,E=I,x=O;break}fe=fe.sibling}if(!re)throw Error(n(189))}}if(x.alternate!==E)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?l:u}function f(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=f(l),u!==null)return u;l=l.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function X(l){return l===null||typeof l!="object"?null:(l=V&&l[V]||l["@@iterator"],typeof l=="function"?l:null)}var J=Symbol.for("react.client.reference");function ee(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===J?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case w:return"Fragment";case N:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case U:return"SuspenseList";case k:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case y:return"Portal";case C:return(l.displayName||"Context")+".Provider";case j:return(l._context.displayName||"Context")+".Consumer";case A:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case B:return u=l.displayName||null,u!==null?u:ee(l.type)||"Memo";case F:u=l._payload,l=l._init;try{return ee(l(u))}catch{}}return null}var te=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},oe=[],G=-1;function Y(l){return{current:l}}function ne(l){0>G||(l.current=oe[G],oe[G]=null,G--)}function le(l,u){G++,oe[G]=l.current,l.current=u}var be=Y(null),ce=Y(null),ie=Y(null),ge=Y(null);function _e(l,u){switch(le(ie,u),le(ce,l),le(be,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?xN(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=xN(u),l=vN(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}ne(be),le(be,l)}function Te(){ne(be),ne(ce),ne(ie)}function Ee(l){l.memoizedState!==null&&le(ge,l);var u=be.current,x=vN(u,l.type);u!==x&&(le(ce,l),le(be,x))}function $e(l){ce.current===l&&(ne(be),ne(ce)),ge.current===l&&(ne(ge),Q0._currentValue=$)}var tt=Object.prototype.hasOwnProperty,xe=r.unstable_scheduleCallback,ke=r.unstable_cancelCallback,Ve=r.unstable_shouldYield,nt=r.unstable_requestPaint,Xe=r.unstable_now,je=r.unstable_getCurrentPriorityLevel,de=r.unstable_ImmediatePriority,ye=r.unstable_UserBlockingPriority,Be=r.unstable_NormalPriority,Oe=r.unstable_LowPriority,he=r.unstable_IdlePriority,se=r.log,Me=r.unstable_setDisableYieldValue,qe=null,Ge=null;function ze(l){if(typeof se=="function"&&Me(l),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(qe,l)}catch{}}var St=Math.clz32?Math.clz32:Dt,ot=Math.log,wt=Math.LN2;function Dt(l){return l>>>=0,l===0?32:31-(ot(l)/wt|0)|0}var ut=256,vt=4194304;function It(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Pt(l,u,x){var E=l.pendingLanes;if(E===0)return 0;var O=0,I=l.suspendedLanes,re=l.pingedLanes;l=l.warmLanes;var fe=E&134217727;return fe!==0?(E=fe&~I,E!==0?O=It(E):(re&=fe,re!==0?O=It(re):x||(x=fe&~l,x!==0&&(O=It(x))))):(fe=E&~I,fe!==0?O=It(fe):re!==0?O=It(re):x||(x=E&~l,x!==0&&(O=It(x)))),O===0?0:u!==0&&u!==O&&(u&I)===0&&(I=O&-O,x=u&-u,I>=x||I===32&&(x&4194048)!==0)?u:O}function gt(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function an(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function De(){var l=ut;return ut<<=1,(ut&4194048)===0&&(ut=256),l}function mt(){var l=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),l}function bt(l){for(var u=[],x=0;31>x;x++)u.push(l);return u}function jt(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function ht(l,u,x,E,O,I){var re=l.pendingLanes;l.pendingLanes=x,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=x,l.entangledLanes&=x,l.errorRecoveryDisabledLanes&=x,l.shellSuspendCounter=0;var fe=l.entanglements,we=l.expirationTimes,We=l.hiddenUpdates;for(x=re&~x;0<x;){var it=31-St(x),lt=1<<it;fe[it]=0,we[it]=-1;var Ke=We[it];if(Ke!==null)for(We[it]=null,it=0;it<Ke.length;it++){var Qe=Ke[it];Qe!==null&&(Qe.lane&=-536870913)}x&=~lt}E!==0&&at(l,E,0),I!==0&&O===0&&l.tag!==0&&(l.suspendedLanes|=I&~(re&~u))}function at(l,u,x){l.pendingLanes|=u,l.suspendedLanes&=~u;var E=31-St(u);l.entangledLanes|=u,l.entanglements[E]=l.entanglements[E]|1073741824|x&4194090}function Lt(l,u){var x=l.entangledLanes|=u;for(l=l.entanglements;x;){var E=31-St(x),O=1<<E;O&u|l[E]&u&&(l[E]|=u),x&=~O}}function tn(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Hn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Un(){var l=K.p;return l!==0?l:(l=window.event,l===void 0?32:IN(l.type))}function Wi(l,u){var x=K.p;try{return K.p=l,u()}finally{K.p=x}}var Br=Math.random().toString(36).slice(2),kr="__reactFiber$"+Br,yr="__reactProps$"+Br,As="__reactContainer$"+Br,Dr="__reactEvents$"+Br,Bt="__reactListeners$"+Br,Xi="__reactHandles$"+Br,Yi="__reactResources$"+Br,Zi="__reactMarker$"+Br;function ur(l){delete l[kr],delete l[yr],delete l[Dr],delete l[Bt],delete l[Xi]}function ds(l){var u=l[kr];if(u)return u;for(var x=l.parentNode;x;){if(u=x[As]||x[kr]){if(x=u.alternate,u.child!==null||x!==null&&x.child!==null)for(l=wN(l);l!==null;){if(x=l[kr])return x;l=wN(l)}return u}l=x,x=l.parentNode}return null}function Ys(l){if(l=l[kr]||l[As]){var u=l.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return l}return null}function hs(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(n(33))}function _a(l){var u=l[Yi];return u||(u=l[Yi]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Hr(l){l[Zi]=!0}var Jl=new Set,Ql={};function me(l,u){Ce(l,u),Ce(l+"Capture",u)}function Ce(l,u){for(Ql[l]=u,l=0;l<u.length;l++)Jl.add(u[l])}var He=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},Pe={};function ft(l){return tt.call(Pe,l)?!0:tt.call(Ze,l)?!1:He.test(l)?Pe[l]=!0:(Ze[l]=!0,!1)}function yt(l,u,x){if(ft(u))if(x===null)l.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var E=u.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+x)}}function Ct(l,u,x){if(x===null)l.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+x)}}function _t(l,u,x,E){if(E===null)l.removeAttribute(x);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(x);return}l.setAttributeNS(u,x,""+E)}}var qt,Xt;function Ut(l){if(qt===void 0)try{throw Error()}catch(x){var u=x.stack.trim().match(/\n( *(at )?)/);qt=u&&u[1]||"",Xt=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qt+l+Xt}var vn=!1;function Pn(l,u){if(!l||vn)return"";vn=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(u){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(Qe){var Ke=Qe}Reflect.construct(l,[],lt)}else{try{lt.call()}catch(Qe){Ke=Qe}l.call(lt.prototype)}}else{try{throw Error()}catch(Qe){Ke=Qe}(lt=l())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(Qe){if(Qe&&Ke&&typeof Qe.stack=="string")return[Qe.stack,Ke.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=E.DetermineComponentFrameRoot(),re=I[0],fe=I[1];if(re&&fe){var we=re.split(`
`),We=fe.split(`
`);for(O=E=0;E<we.length&&!we[E].includes("DetermineComponentFrameRoot");)E++;for(;O<We.length&&!We[O].includes("DetermineComponentFrameRoot");)O++;if(E===we.length||O===We.length)for(E=we.length-1,O=We.length-1;1<=E&&0<=O&&we[E]!==We[O];)O--;for(;1<=E&&0<=O;E--,O--)if(we[E]!==We[O]){if(E!==1||O!==1)do if(E--,O--,0>O||we[E]!==We[O]){var it=`
`+we[E].replace(" at new "," at ");return l.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",l.displayName)),it}while(1<=E&&0<=O);break}}}finally{vn=!1,Error.prepareStackTrace=x}return(x=l?l.displayName||l.name:"")?Ut(x):""}function Gt(l){switch(l.tag){case 26:case 27:case 5:return Ut(l.type);case 16:return Ut("Lazy");case 13:return Ut("Suspense");case 19:return Ut("SuspenseList");case 0:case 15:return Pn(l.type,!1);case 11:return Pn(l.type.render,!1);case 1:return Pn(l.type,!0);case 31:return Ut("Activity");default:return""}}function Qt(l){try{var u="";do u+=Gt(l),l=l.return;while(l);return u}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function hn(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function kt(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function $n(l){var u=kt(l)?"checked":"value",x=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),E=""+l[u];if(!l.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var O=x.get,I=x.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return O.call(this)},set:function(re){E=""+re,I.call(this,re)}}),Object.defineProperty(l,u,{enumerable:x.enumerable}),{getValue:function(){return E},setValue:function(re){E=""+re},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Sn(l){l._valueTracker||(l._valueTracker=$n(l))}function Wt(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var x=u.getValue(),E="";return l&&(E=kt(l)?l.checked?"true":"false":l.value),l=E,l!==x?(u.setValue(l),!0):!1}function Xn(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Kr=/[\n"\\]/g;function Pr(l){return l.replace(Kr,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Nn(l,u,x,E,O,I,re,fe){l.name="",re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"?l.type=re:l.removeAttribute("type"),u!=null?re==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+hn(u)):l.value!==""+hn(u)&&(l.value=""+hn(u)):re!=="submit"&&re!=="reset"||l.removeAttribute("value"),u!=null?Vr(l,re,hn(u)):x!=null?Vr(l,re,hn(x)):E!=null&&l.removeAttribute("value"),O==null&&I!=null&&(l.defaultChecked=!!I),O!=null&&(l.checked=O&&typeof O!="function"&&typeof O!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?l.name=""+hn(fe):l.removeAttribute("name")}function Mi(l,u,x,E,O,I,re,fe){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(l.type=I),u!=null||x!=null){if(!(I!=="submit"&&I!=="reset"||u!=null))return;x=x!=null?""+hn(x):"",u=u!=null?""+hn(u):x,fe||u===l.value||(l.value=u),l.defaultValue=u}E=E??O,E=typeof E!="function"&&typeof E!="symbol"&&!!E,l.checked=fe?l.checked:!!E,l.defaultChecked=!!E,re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"&&(l.name=re)}function Vr(l,u,x){u==="number"&&Xn(l.ownerDocument)===l||l.defaultValue===""+x||(l.defaultValue=""+x)}function rr(l,u,x,E){if(l=l.options,u){u={};for(var O=0;O<x.length;O++)u["$"+x[O]]=!0;for(x=0;x<l.length;x++)O=u.hasOwnProperty("$"+l[x].value),l[x].selected!==O&&(l[x].selected=O),O&&E&&(l[x].defaultSelected=!0)}else{for(x=""+hn(x),u=null,O=0;O<l.length;O++){if(l[O].value===x){l[O].selected=!0,E&&(l[O].defaultSelected=!0);return}u!==null||l[O].disabled||(u=l[O])}u!==null&&(u.selected=!0)}}function In(l,u,x){if(u!=null&&(u=""+hn(u),u!==l.value&&(l.value=u),x==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=x!=null?""+hn(x):""}function fs(l,u,x,E){if(u==null){if(E!=null){if(x!=null)throw Error(n(92));if(te(E)){if(1<E.length)throw Error(n(93));E=E[0]}x=E}x==null&&(x=""),u=x}x=hn(u),l.defaultValue=x,E=l.textContent,E===x&&E!==""&&E!==null&&(l.value=E)}function Ar(l,u){if(u){var x=l.firstChild;if(x&&x===l.lastChild&&x.nodeType===3){x.nodeValue=u;return}}l.textContent=u}var $l=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ol(l,u,x){var E=u.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?E?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":E?l.setProperty(u,x):typeof x!="number"||x===0||$l.has(u)?u==="float"?l.cssFloat=x:l[u]=(""+x).trim():l[u]=x+"px"}function qa(l,u,x){if(u!=null&&typeof u!="object")throw Error(n(62));if(l=l.style,x!=null){for(var E in x)!x.hasOwnProperty(E)||u!=null&&u.hasOwnProperty(E)||(E.indexOf("--")===0?l.setProperty(E,""):E==="float"?l.cssFloat="":l[E]="");for(var O in u)E=u[O],u.hasOwnProperty(O)&&x[O]!==E&&ol(l,O,E)}else for(var I in u)u.hasOwnProperty(I)&&ol(l,I,u[I])}function ec(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ll(l){return eu.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var tc=null;function cl(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Ga=null,Wa=null;function wh(l){var u=Ys(l);if(u&&(l=u.stateNode)){var x=l[yr]||null;e:switch(l=u.stateNode,u.type){case"input":if(Nn(l,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),u=x.name,x.type==="radio"&&u!=null){for(x=l;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Pr(""+u)+'"][type="radio"]'),u=0;u<x.length;u++){var E=x[u];if(E!==l&&E.form===l.form){var O=E[yr]||null;if(!O)throw Error(n(90));Nn(E,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(u=0;u<x.length;u++)E=x[u],E.form===l.form&&Wt(E)}break e;case"textarea":In(l,x.value,x.defaultValue);break e;case"select":u=x.value,u!=null&&rr(l,!!x.multiple,u,!1)}}}var ln=!1;function Cs(l,u,x){if(ln)return l(u,x);ln=!0;try{var E=l(u);return E}finally{if(ln=!1,(Ga!==null||Wa!==null)&&(Xo(),Ga&&(u=Ga,l=Wa,Wa=Ga=null,wh(u),l)))for(u=0;u<l.length;u++)wh(l[u])}}function Zn(l,u){var x=l.stateNode;if(x===null)return null;var E=x[yr]||null;if(E===null)return null;x=E[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(l=l.type,E=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!E;break e;default:l=!1}if(l)return null;if(x&&typeof x!="function")throw Error(n(231,u,typeof x));return x}var Zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ul=!1;if(Zs)try{var So={};Object.defineProperty(So,"passive",{get:function(){ul=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{ul=!1}var Ks=null,Xa=null,nc=null;function dl(){if(nc)return nc;var l,u=Xa,x=u.length,E,O="value"in Ks?Ks.value:Ks.textContent,I=O.length;for(l=0;l<x&&u[l]===O[l];l++);var re=x-l;for(E=1;E<=re&&u[x-E]===O[I-E];E++);return nc=O.slice(l,1<E?1-E:void 0)}function _r(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Rs(){return!0}function rc(){return!1}function ji(l){function u(x,E,O,I,re){this._reactName=x,this._targetInst=O,this.type=E,this.nativeEvent=I,this.target=re,this.currentTarget=null;for(var fe in l)l.hasOwnProperty(fe)&&(x=l[fe],this[fe]=x?x(I):I[fe]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Rs:rc,this.isPropagationStopped=rc,this}return g(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),u}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=ji(wo),Eo=g({},wo,{view:0,detail:0}),Zf=ji(Eo),Sa,Tn,ic,Ai=g({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ic&&(ic&&l.type==="mousemove"?(Sa=l.screenX-ic.screenX,Tn=l.screenY-ic.screenY):Tn=Sa=0,ic=l),Sa)},movementY:function(l){return"movementY"in l?l.movementY:Tn}}),fl=ji(Ai),Eh=g({},Ai,{dataTransfer:0}),x0=ji(Eh),Jr=g({},Eo,{relatedTarget:0}),nd=ji(Jr),Nh=g({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),Kf=ji(Nh),Jf=g({},wo,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),rd=ji(Jf),tu=g({},wo,{data:0}),ms=ji(tu),Qf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ya={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function id(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Ya[l])?!!u[l]:!1}function sc(){return id}var sd=g({},Eo,{key:function(l){if(l.key){var u=Qf[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=_r(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Th[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(l){return l.type==="keypress"?_r(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?_r(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Mh=ji(sd),ad=g({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nu=ji(ad),$f=g({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),jh=ji($f),od=g({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Za=ji(od),ld=g({},Ai,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),em=ji(ld),ru=g({},wo,{newState:0,oldState:0}),Ki=ji(ru),Ka=[9,13,27,32],Ja=Zs&&"CompositionEvent"in window,li=null;Zs&&"documentMode"in document&&(li=document.documentMode);var ac=Zs&&"TextEvent"in window&&!li,oc=Zs&&(!Ja||li&&8<li&&11>=li),No=" ",Qr=!1;function ml(l,u){switch(l){case"keyup":return Ka.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ah(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var To=!1;function lc(l,u){switch(l){case"compositionend":return Ah(u);case"keypress":return u.which!==32?null:(Qr=!0,No);case"textInput":return l=u.data,l===No&&Qr?null:l;default:return null}}function Ch(l,u){if(To)return l==="compositionend"||!Ja&&ml(l,u)?(l=dl(),nc=Xa=Ks=null,To=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return oc&&u.locale!=="ko"?null:u.data;default:return null}}var Ji={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mo(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Ji[l.type]:u==="textarea"}function Qi(l,u,x,E){Ga?Wa?Wa.push(E):Wa=[E]:Ga=E,u=Dx(u,"onChange"),0<u.length&&(x=new hl("onChange","change",null,x,E),l.push({event:x,listeners:u}))}var $i=null,pl=null;function gl(l){fN(l,0)}function iu(l){var u=hs(l);if(Wt(u))return l}function jo(l,u){if(l==="change")return u}var su=!1;if(Zs){var bl;if(Zs){var cc="oninput"in document;if(!cc){var ps=document.createElement("div");ps.setAttribute("oninput","return;"),cc=typeof ps.oninput=="function"}bl=cc}else bl=!1;su=bl&&(!document.documentMode||9<document.documentMode)}function dr(){$i&&($i.detachEvent("onpropertychange",tm),pl=$i=null)}function tm(l){if(l.propertyName==="value"&&iu(pl)){var u=[];Qi(u,pl,l,cl(l)),Cs(gl,u)}}function Rh(l,u,x){l==="focusin"?(dr(),$i=u,pl=x,$i.attachEvent("onpropertychange",tm)):l==="focusout"&&dr()}function nm(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return iu(pl)}function gs(l,u){if(l==="click")return iu(u)}function Ao(l,u){if(l==="input"||l==="change")return iu(u)}function xl(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var es=typeof Object.is=="function"?Object.is:xl;function $r(l,u){if(es(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var x=Object.keys(l),E=Object.keys(u);if(x.length!==E.length)return!1;for(E=0;E<x.length;E++){var O=x[E];if(!tt.call(u,O)||!es(l[O],u[O]))return!1}return!0}function bi(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function cd(l,u){var x=bi(l);l=0;for(var E;x;){if(x.nodeType===3){if(E=l+x.textContent.length,l<=u&&E>=u)return{node:x,offset:u-l};l=E}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=bi(x)}}function au(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?au(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function uc(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Xn(l.document);u instanceof l.HTMLIFrameElement;){try{var x=typeof u.contentWindow.location.href=="string"}catch{x=!1}if(x)l=u.contentWindow;else break;u=Xn(l.document)}return u}function vl(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var dc=Zs&&"documentMode"in document&&11>=document.documentMode,ts=null,yl=null,_l=null,ou=!1;function Oh(l,u,x){var E=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;ou||ts==null||ts!==Xn(E)||(E=ts,"selectionStart"in E&&vl(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),_l&&$r(_l,E)||(_l=E,E=Dx(yl,"onSelect"),0<E.length&&(u=new hl("onSelect","select",null,u,x),l.push({event:u,listeners:E}),u.target=ts)))}function Fr(l,u){var x={};return x[l.toLowerCase()]=u.toLowerCase(),x["Webkit"+l]="webkit"+u,x["Moz"+l]="moz"+u,x}var Co={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},lu={},rm={};Zs&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function wa(l){if(lu[l])return lu[l];if(!Co[l])return l;var u=Co[l],x;for(x in u)if(u.hasOwnProperty(x)&&x in rm)return lu[l]=u[x];return l}var zi=wa("animationend"),Os=wa("animationiteration"),xi=wa("animationstart"),im=wa("transitionrun"),Ds=wa("transitionstart"),hc=wa("transitioncancel"),Ea=wa("transitionend"),ud=new Map,Qa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qa.push("scrollEnd");function ci(l,u){ud.set(l,u),me(u,[l])}var Ro=new WeakMap;function ui(l,u){if(typeof l=="object"&&l!==null){var x=Ro.get(l);return x!==void 0?x:(u={value:l,source:u,stack:Qt(u)},Ro.set(l,u),u)}return{value:l,source:u,stack:Qt(u)}}var vi=[],Ps=0,Ls=0;function fc(){for(var l=Ps,u=Ls=Ps=0;u<l;){var x=vi[u];vi[u++]=null;var E=vi[u];vi[u++]=null;var O=vi[u];vi[u++]=null;var I=vi[u];if(vi[u++]=null,E!==null&&O!==null){var re=E.pending;re===null?O.next=O:(O.next=re.next,re.next=O),E.pending=O}I!==0&&mc(x,O,I)}}function $a(l,u,x,E){vi[Ps++]=l,vi[Ps++]=u,vi[Ps++]=x,vi[Ps++]=E,Ls|=E,l.lanes|=E,l=l.alternate,l!==null&&(l.lanes|=E)}function Oo(l,u,x,E){return $a(l,u,x,E),Na(l)}function eo(l,u){return $a(l,null,null,u),Na(l)}function mc(l,u,x){l.lanes|=x;var E=l.alternate;E!==null&&(E.lanes|=x);for(var O=!1,I=l.return;I!==null;)I.childLanes|=x,E=I.alternate,E!==null&&(E.childLanes|=x),I.tag===22&&(l=I.stateNode,l===null||l._visibility&1||(O=!0)),l=I,I=I.return;return l.tag===3?(I=l.stateNode,O&&u!==null&&(O=31-St(x),l=I.hiddenUpdates,E=l[O],E===null?l[O]=[u]:E.push(u),u.lane=x|536870912),I):null}function Na(l){if(50<Wo)throw Wo=0,ju=null,Error(n(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var to={};function dd(l,u,x,E){this.tag=l,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(l,u,x,E){return new dd(l,u,x,E)}function pc(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Lr(l,u){var x=l.alternate;return x===null?(x=ns(l.tag,u,l.key,l.mode),x.elementType=l.elementType,x.type=l.type,x.stateNode=l.stateNode,x.alternate=l,l.alternate=x):(x.pendingProps=u,x.type=l.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=l.flags&65011712,x.childLanes=l.childLanes,x.lanes=l.lanes,x.child=l.child,x.memoizedProps=l.memoizedProps,x.memoizedState=l.memoizedState,x.updateQueue=l.updateQueue,u=l.dependencies,x.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},x.sibling=l.sibling,x.index=l.index,x.ref=l.ref,x.refCleanup=l.refCleanup,x}function hd(l,u){l.flags&=65011714;var x=l.alternate;return x===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=x.childLanes,l.lanes=x.lanes,l.child=x.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=x.memoizedProps,l.memoizedState=x.memoizedState,l.updateQueue=x.updateQueue,l.type=x.type,u=x.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function ei(l,u,x,E,O,I){var re=0;if(E=l,typeof l=="function")pc(l)&&(re=1);else if(typeof l=="string")re=HD(l,x,be.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case k:return l=ns(31,x,u,O),l.elementType=k,l.lanes=I,l;case w:return no(x.children,O,I,u);case T:re=8,O|=24;break;case N:return l=ns(12,x,u,O|2),l.elementType=N,l.lanes=I,l;case P:return l=ns(13,x,u,O),l.elementType=P,l.lanes=I,l;case U:return l=ns(19,x,u,O),l.elementType=U,l.lanes=I,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case _:case C:re=10;break e;case j:re=9;break e;case A:re=11;break e;case B:re=14;break e;case F:re=16,E=null;break e}re=29,x=Error(n(130,l===null?"null":typeof l,"")),E=null}return u=ns(re,x,u,O),u.elementType=l,u.type=E,u.lanes=I,u}function no(l,u,x,E){return l=ns(7,l,E,u),l.lanes=x,l}function cu(l,u,x){return l=ns(6,l,null,u),l.lanes=x,l}function uu(l,u,x){return u=ns(4,l.children!==null?l.children:[],l.key,u),u.lanes=x,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var Sl=[],rs=0,h=null,S=0,R=[],q=0,Q=null,ue=1,Se="";function Ue(l,u){Sl[rs++]=S,Sl[rs++]=h,h=l,S=u}function Je(l,u,x){R[q++]=ue,R[q++]=Se,R[q++]=Q,Q=l;var E=ue;l=Se;var O=32-St(E)-1;E&=~(1<<O),x+=1;var I=32-St(u)+O;if(30<I){var re=O-O%5;I=(E&(1<<re)-1).toString(32),E>>=re,O-=re,ue=1<<32-St(u)+O|x<<O|E,Se=I+l}else ue=1<<I|x<<O|E,Se=l}function ct(l){l.return!==null&&(Ue(l,1),Je(l,1,0))}function Nt(l){for(;l===h;)h=Sl[--rs],Sl[rs]=null,S=Sl[--rs],Sl[rs]=null;for(;l===Q;)Q=R[--q],R[q]=null,Se=R[--q],R[q]=null,ue=R[--q],R[q]=null}var zt=null,Ht=null,cn=!1,ir=null,Sr=!1,yi=Error(n(519));function bs(l){var u=Error(n(418,""));throw Do(ui(u,l)),yi}function sm(l){var u=l.stateNode,x=l.type,E=l.memoizedProps;switch(u[kr]=l,u[yr]=E,x){case"dialog":Gn("cancel",u),Gn("close",u);break;case"iframe":case"object":case"embed":Gn("load",u);break;case"video":case"audio":for(x=0;x<W0.length;x++)Gn(W0[x],u);break;case"source":Gn("error",u);break;case"img":case"image":case"link":Gn("error",u),Gn("load",u);break;case"details":Gn("toggle",u);break;case"input":Gn("invalid",u),Mi(u,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),Sn(u);break;case"select":Gn("invalid",u);break;case"textarea":Gn("invalid",u),fs(u,E.value,E.defaultValue,E.children),Sn(u)}x=E.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||u.textContent===""+x||E.suppressHydrationWarning===!0||bN(u.textContent,x)?(E.popover!=null&&(Gn("beforetoggle",u),Gn("toggle",u)),E.onScroll!=null&&Gn("scroll",u),E.onScrollEnd!=null&&Gn("scrollend",u),E.onClick!=null&&(u.onclick=Px),u=!0):u=!1,u||bs(l)}function Dh(l){for(zt=l.return;zt;)switch(zt.tag){case 5:case 13:Sr=!1;return;case 27:case 3:Sr=!0;return;default:zt=zt.return}}function Js(l){if(l!==zt)return!1;if(!cn)return Dh(l),cn=!0,!1;var u=l.tag,x;if((x=u!==3&&u!==27)&&((x=u===5)&&(x=l.type,x=!(x!=="form"&&x!=="button")||D_(l.type,l.memoizedProps)),x=!x),x&&Ht&&bs(l),Dh(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8)if(x=l.data,x==="/$"){if(u===0){Ht=Ll(l.nextSibling);break e}u--}else x!=="$"&&x!=="$!"&&x!=="$?"||u++;l=l.nextSibling}Ht=null}}else u===27?(u=Ht,zd(l.type)?(l=U_,U_=null,Ht=l):Ht=u):Ht=zt?Ll(l.stateNode.nextSibling):null;return!0}function wl(){Ht=zt=null,cn=!1}function er(){var l=ir;return l!==null&&(sn===null?sn=l:sn.push.apply(sn,l),ir=null),l}function Do(l){ir===null?ir=[l]:ir.push(l)}var zr=Y(null),Qs=null,ro=null;function Po(l,u,x){le(zr,u._currentValue),u._currentValue=x}function io(l){l._currentValue=zr.current,ne(zr)}function du(l,u,x){for(;l!==null;){var E=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,E!==null&&(E.childLanes|=u)):E!==null&&(E.childLanes&u)!==u&&(E.childLanes|=u),l===x)break;l=l.return}}function gc(l,u,x,E){var O=l.child;for(O!==null&&(O.return=l);O!==null;){var I=O.dependencies;if(I!==null){var re=O.child;I=I.firstContext;e:for(;I!==null;){var fe=I;I=O;for(var we=0;we<u.length;we++)if(fe.context===u[we]){I.lanes|=x,fe=I.alternate,fe!==null&&(fe.lanes|=x),du(I.return,x,l),E||(re=null);break e}I=fe.next}}else if(O.tag===18){if(re=O.return,re===null)throw Error(n(341));re.lanes|=x,I=re.alternate,I!==null&&(I.lanes|=x),du(re,x,l),re=null}else re=O.child;if(re!==null)re.return=O;else for(re=O;re!==null;){if(re===l){re=null;break}if(O=re.sibling,O!==null){O.return=re.return,re=O;break}re=re.return}O=re}}function zs(l,u,x,E){l=null;for(var O=u,I=!1;O!==null;){if(!I){if((O.flags&524288)!==0)I=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var re=O.alternate;if(re===null)throw Error(n(387));if(re=re.memoizedProps,re!==null){var fe=O.type;es(O.pendingProps.value,re.value)||(l!==null?l.push(fe):l=[fe])}}else if(O===ge.current){if(re=O.alternate,re===null)throw Error(n(387));re.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(l!==null?l.push(Q0):l=[Q0])}O=O.return}l!==null&&gc(u,l,x,E),u.flags|=262144}function Ph(l){for(l=l.firstContext;l!==null;){if(!es(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Lo(l){Qs=l,ro=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function qr(l){return am(Qs,l)}function Lh(l,u){return Qs===null&&Lo(l),am(l,u)}function am(l,u){var x=u._currentValue;if(u={context:u,memoizedValue:x,next:null},ro===null){if(l===null)throw Error(n(308));ro=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else ro=ro.next=u;return x}var v0=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(x,E){l.push(E)}};this.abort=function(){u.aborted=!0,l.forEach(function(x){return x()})}},m_=r.unstable_scheduleCallback,Vb=r.unstable_NormalPriority,di={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function om(){return{controller:new v0,data:new Map,refCount:0}}function fd(l){l.refCount--,l.refCount===0&&m_(Vb,function(){l.controller.abort()})}var md=null,zh=0,wn=0,pd=null;function $s(l,u){if(md===null){var x=md=[];zh=0,wn=E_(),pd={status:"pending",value:void 0,then:function(E){x.push(E)}}}return zh++,u.then(lm,lm),u}function lm(){if(--zh===0&&md!==null){pd!==null&&(pd.status="fulfilled");var l=md;md=null,wn=0,pd=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function p_(l,u){var x=[],E={status:"pending",value:null,reason:null,then:function(O){x.push(O)}};return l.then(function(){E.status="fulfilled",E.value=u;for(var O=0;O<x.length;O++)(0,x[O])(u)},function(O){for(E.status="rejected",E.reason=O,O=0;O<x.length;O++)(0,x[O])(void 0)}),E}var Uh=W.S;W.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&$s(l,u),Uh!==null&&Uh(l,u)};var Ta=Y(null);function bc(){var l=Ta.current;return l!==null?l:yn.pooledCache}function Ih(l,u){u===null?le(Ta,Ta.current):le(Ta,u.pool)}function cm(){var l=bc();return l===null?null:{parent:di._currentValue,pool:l}}var Bh=Error(n(460)),y0=Error(n(474)),so=Error(n(542)),kh={then:function(){}};function um(l){return l=l.status,l==="fulfilled"||l==="rejected"}function gd(){}function dm(l,u,x){switch(x=l[x],x===void 0?l.push(u):x!==u&&(u.then(gd,gd),u=x),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,Fb(l),l;default:if(typeof u.status=="string")u.then(gd,gd);else{if(l=yn,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=u,l.status="pending",l.then(function(E){if(u.status==="pending"){var O=u;O.status="fulfilled",O.value=E}},function(E){if(u.status==="pending"){var O=u;O.status="rejected",O.reason=E}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,Fb(l),l}throw Ma=u,Bh}}var Ma=null;function _0(){if(Ma===null)throw Error(n(459));var l=Ma;return Ma=null,l}function Fb(l){if(l===Bh||l===so)throw Error(n(483))}var El=!1;function S0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fn(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function zo(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Nl(l,u,x){var E=l.updateQueue;if(E===null)return null;if(E=E.shared,(or&2)!==0){var O=E.pending;return O===null?u.next=u:(u.next=O.next,O.next=u),E.pending=u,u=Na(l),mc(l,null,x),u}return $a(l,E,u,x),Na(l)}function hu(l,u,x){if(u=u.updateQueue,u!==null&&(u=u.shared,(x&4194048)!==0)){var E=u.lanes;E&=l.pendingLanes,x|=E,u.lanes=x,Lt(l,x)}}function bd(l,u){var x=l.updateQueue,E=l.alternate;if(E!==null&&(E=E.updateQueue,x===E)){var O=null,I=null;if(x=x.firstBaseUpdate,x!==null){do{var re={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};I===null?O=I=re:I=I.next=re,x=x.next}while(x!==null);I===null?O=I=u:I=I.next=u}else O=I=u;x={baseState:E.baseState,firstBaseUpdate:O,lastBaseUpdate:I,shared:E.shared,callbacks:E.callbacks},l.updateQueue=x;return}l=x.lastBaseUpdate,l===null?x.firstBaseUpdate=u:l.next=u,x.lastBaseUpdate=u}var w0=!1;function Hh(){if(w0){var l=pd;if(l!==null)throw l}}function xd(l,u,x,E){w0=!1;var O=l.updateQueue;El=!1;var I=O.firstBaseUpdate,re=O.lastBaseUpdate,fe=O.shared.pending;if(fe!==null){O.shared.pending=null;var we=fe,We=we.next;we.next=null,re===null?I=We:re.next=We,re=we;var it=l.alternate;it!==null&&(it=it.updateQueue,fe=it.lastBaseUpdate,fe!==re&&(fe===null?it.firstBaseUpdate=We:fe.next=We,it.lastBaseUpdate=we))}if(I!==null){var lt=O.baseState;re=0,it=We=we=null,fe=I;do{var Ke=fe.lane&-536870913,Qe=Ke!==fe.lane;if(Qe?($t&Ke)===Ke:(E&Ke)===Ke){Ke!==0&&Ke===wn&&(w0=!0),it!==null&&(it=it.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var gn=l,on=fe;Ke=u;var Mr=x;switch(on.tag){case 1:if(gn=on.payload,typeof gn=="function"){lt=gn.call(Mr,lt,Ke);break e}lt=gn;break e;case 3:gn.flags=gn.flags&-65537|128;case 0:if(gn=on.payload,Ke=typeof gn=="function"?gn.call(Mr,lt,Ke):gn,Ke==null)break e;lt=g({},lt,Ke);break e;case 2:El=!0}}Ke=fe.callback,Ke!==null&&(l.flags|=64,Qe&&(l.flags|=8192),Qe=O.callbacks,Qe===null?O.callbacks=[Ke]:Qe.push(Ke))}else Qe={lane:Ke,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},it===null?(We=it=Qe,we=lt):it=it.next=Qe,re|=Ke;if(fe=fe.next,fe===null){if(fe=O.shared.pending,fe===null)break;Qe=fe,fe=Qe.next,Qe.next=null,O.lastBaseUpdate=Qe,O.shared.pending=null}}while(!0);it===null&&(we=lt),O.baseState=we,O.firstBaseUpdate=We,O.lastBaseUpdate=it,I===null&&(O.shared.lanes=0),mo|=re,l.lanes=re,l.memoizedState=lt}}function vd(l,u){if(typeof l!="function")throw Error(n(191,l));l.call(u)}function qb(l,u){var x=l.callbacks;if(x!==null)for(l.callbacks=null,l=0;l<x.length;l++)vd(x[l],u)}var yd=Y(null),hm=Y(0);function Gb(l,u){l=Da,le(hm,l),le(yd,u),Da=l|u.baseLanes}function E0(){le(hm,Da),le(yd,yd.current)}function Vh(){Da=hm.current,ne(yd),ne(hm)}var Tl=0,En=null,hr=null,hi=null,fm=!1,xc=!1,xs=!1,_i=0,ja=0,Ui=null,Wb=0;function ti(){throw Error(n(321))}function is(l,u){if(u===null)return!1;for(var x=0;x<u.length&&x<l.length;x++)if(!es(l[x],u[x]))return!1;return!0}function Ml(l,u,x,E,O,I){return Tl=I,En=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,W.H=l===null||l.memoizedState===null?Sm:k0,xs=!1,I=x(E,O),xs=!1,xc&&(I=Yb(u,x,E,O)),Xb(l),I}function Xb(l){W.H=Gh;var u=hr!==null&&hr.next!==null;if(Tl=0,hi=hr=En=null,fm=!1,ja=0,Ui=null,u)throw Error(n(300));l===null||Ci||(l=l.dependencies,l!==null&&Ph(l)&&(Ci=!0))}function Yb(l,u,x,E){En=l;var O=0;do{if(xc&&(Ui=null),ja=0,xc=!1,25<=O)throw Error(n(301));if(O+=1,hi=hr=null,l.updateQueue!=null){var I=l.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}W.H=yx,I=u(x,E)}while(xc);return I}function g_(){var l=W.H,u=l.useState()[0];return u=typeof u.then=="function"?ao(u):u,l=l.useState()[0],(hr!==null?hr.memoizedState:null)!==l&&(En.flags|=1024),u}function N0(){var l=_i!==0;return _i=0,l}function mm(l,u,x){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x}function T0(l){if(fm){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}fm=!1}Tl=0,hi=hr=En=null,xc=!1,ja=_i=0,Ui=null}function vs(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?En.memoizedState=hi=l:hi=hi.next=l,hi}function fi(){if(hr===null){var l=En.alternate;l=l!==null?l.memoizedState:null}else l=hr.next;var u=hi===null?En.memoizedState:hi.next;if(u!==null)hi=u,hr=l;else{if(l===null)throw En.alternate===null?Error(n(467)):Error(n(310));hr=l,l={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},hi===null?En.memoizedState=hi=l:hi=hi.next=l}return hi}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(l){var u=ja;return ja+=1,Ui===null&&(Ui=[]),l=dm(Ui,l,u),u=En,(hi===null?u.memoizedState:hi.next)===null&&(u=u.alternate,W.H=u===null||u.memoizedState===null?Sm:k0),l}function pm(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return ao(l);if(l.$$typeof===C)return qr(l)}throw Error(n(438,String(l)))}function M0(l){var u=null,x=En.updateQueue;if(x!==null&&(u=x.memoCache),u==null){var E=En.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(u={data:E.data.map(function(O){return O.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),x===null&&(x=vc(),En.updateQueue=x),x.memoCache=u,x=u.data[u.index],x===void 0)for(x=u.data[u.index]=Array(l),E=0;E<l;E++)x[E]=z;return u.index++,x}function jl(l,u){return typeof u=="function"?u(l):u}function yc(l){var u=fi();return j0(u,hr,l)}function j0(l,u,x){var E=l.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=x;var O=l.baseQueue,I=E.pending;if(I!==null){if(O!==null){var re=O.next;O.next=I.next,I.next=re}u.baseQueue=O=I,E.pending=null}if(I=l.baseState,O===null)l.memoizedState=I;else{u=O.next;var fe=re=null,we=null,We=u,it=!1;do{var lt=We.lane&-536870913;if(lt!==We.lane?($t&lt)===lt:(Tl&lt)===lt){var Ke=We.revertLane;if(Ke===0)we!==null&&(we=we.next={lane:0,revertLane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),lt===wn&&(it=!0);else if((Tl&Ke)===Ke){We=We.next,Ke===wn&&(it=!0);continue}else lt={lane:0,revertLane:We.revertLane,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},we===null?(fe=we=lt,re=I):we=we.next=lt,En.lanes|=Ke,mo|=Ke;lt=We.action,xs&&x(I,lt),I=We.hasEagerState?We.eagerState:x(I,lt)}else Ke={lane:lt,revertLane:We.revertLane,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},we===null?(fe=we=Ke,re=I):we=we.next=Ke,En.lanes|=lt,mo|=lt;We=We.next}while(We!==null&&We!==u);if(we===null?re=I:we.next=fe,!es(I,l.memoizedState)&&(Ci=!0,it&&(x=pd,x!==null)))throw x;l.memoizedState=I,l.baseState=re,l.baseQueue=we,E.lastRenderedState=I}return O===null&&(E.lanes=0),[l.memoizedState,E.dispatch]}function A0(l){var u=fi(),x=u.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=l;var E=x.dispatch,O=x.pending,I=u.memoizedState;if(O!==null){x.pending=null;var re=O=O.next;do I=l(I,re.action),re=re.next;while(re!==O);es(I,u.memoizedState)||(Ci=!0),u.memoizedState=I,u.baseQueue===null&&(u.baseState=I),x.lastRenderedState=I}return[I,E]}function Zb(l,u,x){var E=En,O=fi(),I=cn;if(I){if(x===void 0)throw Error(n(407));x=x()}else x=u();var re=!es((hr||O).memoizedState,x);re&&(O.memoizedState=x,Ci=!0),O=O.queue;var fe=Jb.bind(null,E,O,l);if(wd(2048,8,fe,[l]),O.getSnapshot!==u||re||hi!==null&&hi.memoizedState.tag&1){if(E.flags|=2048,Sd(9,Fh(),Kb.bind(null,E,O,x,u),null),yn===null)throw Error(n(349));I||(Tl&124)!==0||_d(E,u,x)}return x}function _d(l,u,x){l.flags|=16384,l={getSnapshot:u,value:x},u=En.updateQueue,u===null?(u=vc(),En.updateQueue=u,u.stores=[l]):(x=u.stores,x===null?u.stores=[l]:x.push(l))}function Kb(l,u,x,E){u.value=x,u.getSnapshot=E,Qb(u)&&$b(l)}function Jb(l,u,x){return x(function(){Qb(u)&&$b(l)})}function Qb(l){var u=l.getSnapshot;l=l.value;try{var x=u();return!es(l,x)}catch{return!0}}function $b(l){var u=eo(l,2);u!==null&&Ss(u,l,2)}function C0(l){var u=vs();if(typeof l=="function"){var x=l;if(l=x(),xs){ze(!0);try{x()}finally{ze(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:l},u}function ex(l,u,x,E){return l.baseState=x,j0(l,hr,typeof E=="function"?E:jl)}function b_(l,u,x,E,O){if(_m(l))throw Error(n(485));if(l=u.action,l!==null){var I={payload:O,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(re){I.listeners.push(re)}};W.T!==null?x(!0):I.isTransition=!1,E(I),x=u.pending,x===null?(I.next=u.pending=I,tx(u,I)):(I.next=x.next,u.pending=x.next=I)}}function tx(l,u){var x=u.action,E=u.payload,O=l.state;if(u.isTransition){var I=W.T,re={};W.T=re;try{var fe=x(O,E),we=W.S;we!==null&&we(re,fe),nx(l,u,fe)}catch(We){R0(l,u,We)}finally{W.T=I}}else try{I=x(O,E),nx(l,u,I)}catch(We){R0(l,u,We)}}function nx(l,u,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(E){rx(l,u,E)},function(E){return R0(l,u,E)}):rx(l,u,x)}function rx(l,u,x){u.status="fulfilled",u.value=x,ix(u),l.state=x,u=l.pending,u!==null&&(x=u.next,x===u?l.pending=null:(x=x.next,u.next=x,tx(l,x)))}function R0(l,u,x){var E=l.pending;if(l.pending=null,E!==null){E=E.next;do u.status="rejected",u.reason=x,ix(u),u=u.next;while(u!==E)}l.action=null}function ix(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function O0(l,u){return u}function sx(l,u){if(cn){var x=yn.formState;if(x!==null){e:{var E=En;if(cn){if(Ht){t:{for(var O=Ht,I=Sr;O.nodeType!==8;){if(!I){O=null;break t}if(O=Ll(O.nextSibling),O===null){O=null;break t}}I=O.data,O=I==="F!"||I==="F"?O:null}if(O){Ht=Ll(O.nextSibling),E=O.data==="F!";break e}}bs(E)}E=!1}E&&(u=x[0])}}return x=vs(),x.memoizedState=x.baseState=u,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O0,lastRenderedState:u},x.queue=E,x=xx.bind(null,En,E),E.dispatch=x,E=C0(!1),I=ym.bind(null,En,!1,E.queue),E=vs(),O={state:u,dispatch:null,action:l,pending:null},E.queue=O,x=b_.bind(null,En,O,I,x),O.dispatch=x,E.memoizedState=l,[u,x,!1]}function ax(l){var u=fi();return ox(u,hr,l)}function ox(l,u,x){if(u=j0(l,u,O0)[0],l=yc(jl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var E=ao(u)}catch(re){throw re===Bh?so:re}else E=u;u=fi();var O=u.queue,I=O.dispatch;return x!==u.memoizedState&&(En.flags|=2048,Sd(9,Fh(),x_.bind(null,O,x),null)),[E,I,l]}function x_(l,u){l.action=u}function lx(l){var u=fi(),x=hr;if(x!==null)return ox(u,x,l);fi(),u=u.memoizedState,x=fi();var E=x.queue.dispatch;return x.memoizedState=l,[u,E,!1]}function Sd(l,u,x,E){return l={tag:l,create:x,deps:E,inst:u,next:null},u=En.updateQueue,u===null&&(u=vc(),En.updateQueue=u),x=u.lastEffect,x===null?u.lastEffect=l.next=l:(E=x.next,x.next=l,l.next=E,u.lastEffect=l),l}function Fh(){return{destroy:void 0,resource:void 0}}function D0(){return fi().memoizedState}function gm(l,u,x,E){var O=vs();E=E===void 0?null:E,En.flags|=l,O.memoizedState=Sd(1|u,Fh(),x,E)}function wd(l,u,x,E){var O=fi();E=E===void 0?null:E;var I=O.memoizedState.inst;hr!==null&&E!==null&&is(E,hr.memoizedState.deps)?O.memoizedState=Sd(u,I,x,E):(En.flags|=l,O.memoizedState=Sd(1|u,I,x,E))}function P0(l,u){gm(8390656,8,l,u)}function L0(l,u){wd(2048,8,l,u)}function bm(l,u){return wd(4,2,l,u)}function xm(l,u){return wd(4,4,l,u)}function cx(l,u){if(typeof u=="function"){l=l();var x=u(l);return function(){typeof x=="function"?x():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function ux(l,u,x){x=x!=null?x.concat([l]):null,wd(4,4,cx.bind(null,u,l),x)}function z0(){}function dx(l,u){var x=fi();u=u===void 0?null:u;var E=x.memoizedState;return u!==null&&is(u,E[1])?E[0]:(x.memoizedState=[l,u],l)}function U0(l,u){var x=fi();u=u===void 0?null:u;var E=x.memoizedState;if(u!==null&&is(u,E[1]))return E[0];if(E=l(),xs){ze(!0);try{l()}finally{ze(!1)}}return x.memoizedState=[E,u],E}function vm(l,u,x){return x===void 0||(Tl&1073741824)!==0?l.memoizedState=u:(l.memoizedState=x,l=Dm(),En.lanes|=l,mo|=l,x)}function hx(l,u,x,E){return es(x,u)?x:yd.current!==null?(l=vm(l,x,E),es(l,u)||(Ci=!0),l):(Tl&42)===0?(Ci=!0,l.memoizedState=x):(l=Dm(),En.lanes|=l,mo|=l,u)}function fx(l,u,x,E,O){var I=K.p;K.p=I!==0&&8>I?I:8;var re=W.T,fe={};W.T=fe,ym(l,!1,u,x);try{var we=O(),We=W.S;if(We!==null&&We(fe,we),we!==null&&typeof we=="object"&&typeof we.then=="function"){var it=p_(we,E);qh(l,u,it,Xr(l))}else qh(l,u,E,Xr(l))}catch(lt){qh(l,u,{then:function(){},status:"rejected",reason:lt},Xr())}finally{K.p=I,W.T=re}}function v_(){}function I0(l,u,x,E){if(l.tag!==5)throw Error(n(476));var O=mx(l).queue;fx(l,O,u,$,x===null?v_:function(){return px(l),x(E)})}function mx(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:$},next:null};var x={};return u.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:x},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function px(l){var u=mx(l).next.queue;qh(l,u,{},Xr())}function B0(){return qr(Q0)}function gx(){return fi().memoizedState}function bx(){return fi().memoizedState}function y_(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var x=Xr();l=zo(x);var E=Nl(u,l,x);E!==null&&(Ss(E,u,x),hu(E,u,x)),u={cache:om()},l.payload=u;return}u=u.return}}function __(l,u,x){var E=Xr();x={lane:E,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},_m(l)?vx(u,x):(x=Oo(l,u,x,E),x!==null&&(Ss(x,l,E),ea(x,u,E)))}function xx(l,u,x){var E=Xr();qh(l,u,x,E)}function qh(l,u,x,E){var O={lane:E,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(_m(l))vx(u,O);else{var I=l.alternate;if(l.lanes===0&&(I===null||I.lanes===0)&&(I=u.lastRenderedReducer,I!==null))try{var re=u.lastRenderedState,fe=I(re,x);if(O.hasEagerState=!0,O.eagerState=fe,es(fe,re))return $a(l,u,O,0),yn===null&&fc(),!1}catch{}finally{}if(x=Oo(l,u,O,E),x!==null)return Ss(x,l,E),ea(x,u,E),!0}return!1}function ym(l,u,x,E){if(E={lane:2,revertLane:E_(),action:E,hasEagerState:!1,eagerState:null,next:null},_m(l)){if(u)throw Error(n(479))}else u=Oo(l,x,E,2),u!==null&&Ss(u,l,2)}function _m(l){var u=l.alternate;return l===En||u!==null&&u===En}function vx(l,u){xc=fm=!0;var x=l.pending;x===null?u.next=u:(u.next=x.next,x.next=u),l.pending=u}function ea(l,u,x){if((x&4194048)!==0){var E=u.lanes;E&=l.pendingLanes,x|=E,u.lanes=x,Lt(l,x)}}var Gh={readContext:qr,use:pm,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useLayoutEffect:ti,useInsertionEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useSyncExternalStore:ti,useId:ti,useHostTransitionStatus:ti,useFormState:ti,useActionState:ti,useOptimistic:ti,useMemoCache:ti,useCacheRefresh:ti},Sm={readContext:qr,use:pm,useCallback:function(l,u){return vs().memoizedState=[l,u===void 0?null:u],l},useContext:qr,useEffect:P0,useImperativeHandle:function(l,u,x){x=x!=null?x.concat([l]):null,gm(4194308,4,cx.bind(null,u,l),x)},useLayoutEffect:function(l,u){return gm(4194308,4,l,u)},useInsertionEffect:function(l,u){gm(4,2,l,u)},useMemo:function(l,u){var x=vs();u=u===void 0?null:u;var E=l();if(xs){ze(!0);try{l()}finally{ze(!1)}}return x.memoizedState=[E,u],E},useReducer:function(l,u,x){var E=vs();if(x!==void 0){var O=x(u);if(xs){ze(!0);try{x(u)}finally{ze(!1)}}}else O=u;return E.memoizedState=E.baseState=O,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:O},E.queue=l,l=l.dispatch=__.bind(null,En,l),[E.memoizedState,l]},useRef:function(l){var u=vs();return l={current:l},u.memoizedState=l},useState:function(l){l=C0(l);var u=l.queue,x=xx.bind(null,En,u);return u.dispatch=x,[l.memoizedState,x]},useDebugValue:z0,useDeferredValue:function(l,u){var x=vs();return vm(x,l,u)},useTransition:function(){var l=C0(!1);return l=fx.bind(null,En,l.queue,!0,!1),vs().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,x){var E=En,O=vs();if(cn){if(x===void 0)throw Error(n(407));x=x()}else{if(x=u(),yn===null)throw Error(n(349));($t&124)!==0||_d(E,u,x)}O.memoizedState=x;var I={value:x,getSnapshot:u};return O.queue=I,P0(Jb.bind(null,E,I,l),[l]),E.flags|=2048,Sd(9,Fh(),Kb.bind(null,E,I,x,u),null),x},useId:function(){var l=vs(),u=yn.identifierPrefix;if(cn){var x=Se,E=ue;x=(E&~(1<<32-St(E)-1)).toString(32)+x,u="«"+u+"R"+x,x=_i++,0<x&&(u+="H"+x.toString(32)),u+="»"}else x=Wb++,u="«"+u+"r"+x.toString(32)+"»";return l.memoizedState=u},useHostTransitionStatus:B0,useFormState:sx,useActionState:sx,useOptimistic:function(l){var u=vs();u.memoizedState=u.baseState=l;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=x,u=ym.bind(null,En,!0,x),x.dispatch=u,[l,u]},useMemoCache:M0,useCacheRefresh:function(){return vs().memoizedState=y_.bind(null,En)}},k0={readContext:qr,use:pm,useCallback:dx,useContext:qr,useEffect:L0,useImperativeHandle:ux,useInsertionEffect:bm,useLayoutEffect:xm,useMemo:U0,useReducer:yc,useRef:D0,useState:function(){return yc(jl)},useDebugValue:z0,useDeferredValue:function(l,u){var x=fi();return hx(x,hr.memoizedState,l,u)},useTransition:function(){var l=yc(jl)[0],u=fi().memoizedState;return[typeof l=="boolean"?l:ao(l),u]},useSyncExternalStore:Zb,useId:gx,useHostTransitionStatus:B0,useFormState:ax,useActionState:ax,useOptimistic:function(l,u){var x=fi();return ex(x,hr,l,u)},useMemoCache:M0,useCacheRefresh:bx},yx={readContext:qr,use:pm,useCallback:dx,useContext:qr,useEffect:L0,useImperativeHandle:ux,useInsertionEffect:bm,useLayoutEffect:xm,useMemo:U0,useReducer:A0,useRef:D0,useState:function(){return A0(jl)},useDebugValue:z0,useDeferredValue:function(l,u){var x=fi();return hr===null?vm(x,l,u):hx(x,hr.memoizedState,l,u)},useTransition:function(){var l=A0(jl)[0],u=fi().memoizedState;return[typeof l=="boolean"?l:ao(l),u]},useSyncExternalStore:Zb,useId:gx,useHostTransitionStatus:B0,useFormState:lx,useActionState:lx,useOptimistic:function(l,u){var x=fi();return hr!==null?ex(x,hr,l,u):(x.baseState=l,[l,x.queue.dispatch])},useMemoCache:M0,useCacheRefresh:bx},fu=null,Wh=0;function Xh(l){var u=Wh;return Wh+=1,fu===null&&(fu=[]),dm(fu,l,u)}function Ed(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function wm(l,u){throw u.$$typeof===b?Error(n(525)):(l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function _x(l){var u=l._init;return u(l._payload)}function Sx(l){function u(Le,Re){if(l){var Fe=Le.deletions;Fe===null?(Le.deletions=[Re],Le.flags|=16):Fe.push(Re)}}function x(Le,Re){if(!l)return null;for(;Re!==null;)u(Le,Re),Re=Re.sibling;return null}function E(Le){for(var Re=new Map;Le!==null;)Le.key!==null?Re.set(Le.key,Le):Re.set(Le.index,Le),Le=Le.sibling;return Re}function O(Le,Re){return Le=Lr(Le,Re),Le.index=0,Le.sibling=null,Le}function I(Le,Re,Fe){return Le.index=Fe,l?(Fe=Le.alternate,Fe!==null?(Fe=Fe.index,Fe<Re?(Le.flags|=67108866,Re):Fe):(Le.flags|=67108866,Re)):(Le.flags|=1048576,Re)}function re(Le){return l&&Le.alternate===null&&(Le.flags|=67108866),Le}function fe(Le,Re,Fe,st){return Re===null||Re.tag!==6?(Re=cu(Fe,Le.mode,st),Re.return=Le,Re):(Re=O(Re,Fe),Re.return=Le,Re)}function we(Le,Re,Fe,st){var Vt=Fe.type;return Vt===w?it(Le,Re,Fe.props.children,st,Fe.key):Re!==null&&(Re.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===F&&_x(Vt)===Re.type)?(Re=O(Re,Fe.props),Ed(Re,Fe),Re.return=Le,Re):(Re=ei(Fe.type,Fe.key,Fe.props,null,Le.mode,st),Ed(Re,Fe),Re.return=Le,Re)}function We(Le,Re,Fe,st){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==Fe.containerInfo||Re.stateNode.implementation!==Fe.implementation?(Re=uu(Fe,Le.mode,st),Re.return=Le,Re):(Re=O(Re,Fe.children||[]),Re.return=Le,Re)}function it(Le,Re,Fe,st,Vt){return Re===null||Re.tag!==7?(Re=no(Fe,Le.mode,st,Vt),Re.return=Le,Re):(Re=O(Re,Fe),Re.return=Le,Re)}function lt(Le,Re,Fe){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Re=cu(""+Re,Le.mode,Fe),Re.return=Le,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case v:return Fe=ei(Re.type,Re.key,Re.props,null,Le.mode,Fe),Ed(Fe,Re),Fe.return=Le,Fe;case y:return Re=uu(Re,Le.mode,Fe),Re.return=Le,Re;case F:var st=Re._init;return Re=st(Re._payload),lt(Le,Re,Fe)}if(te(Re)||X(Re))return Re=no(Re,Le.mode,Fe,null),Re.return=Le,Re;if(typeof Re.then=="function")return lt(Le,Xh(Re),Fe);if(Re.$$typeof===C)return lt(Le,Lh(Le,Re),Fe);wm(Le,Re)}return null}function Ke(Le,Re,Fe,st){var Vt=Re!==null?Re.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Vt!==null?null:fe(Le,Re,""+Fe,st);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case v:return Fe.key===Vt?we(Le,Re,Fe,st):null;case y:return Fe.key===Vt?We(Le,Re,Fe,st):null;case F:return Vt=Fe._init,Fe=Vt(Fe._payload),Ke(Le,Re,Fe,st)}if(te(Fe)||X(Fe))return Vt!==null?null:it(Le,Re,Fe,st,null);if(typeof Fe.then=="function")return Ke(Le,Re,Xh(Fe),st);if(Fe.$$typeof===C)return Ke(Le,Re,Lh(Le,Fe),st);wm(Le,Fe)}return null}function Qe(Le,Re,Fe,st,Vt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Le=Le.get(Fe)||null,fe(Re,Le,""+st,Vt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case v:return Le=Le.get(st.key===null?Fe:st.key)||null,we(Re,Le,st,Vt);case y:return Le=Le.get(st.key===null?Fe:st.key)||null,We(Re,Le,st,Vt);case F:var Fn=st._init;return st=Fn(st._payload),Qe(Le,Re,Fe,st,Vt)}if(te(st)||X(st))return Le=Le.get(Fe)||null,it(Re,Le,st,Vt,null);if(typeof st.then=="function")return Qe(Le,Re,Fe,Xh(st),Vt);if(st.$$typeof===C)return Qe(Le,Re,Fe,Lh(Re,st),Vt);wm(Re,st)}return null}function gn(Le,Re,Fe,st){for(var Vt=null,Fn=null,Zt=Re,un=Re=0,os=null;Zt!==null&&un<Fe.length;un++){Zt.index>un?(os=Zt,Zt=null):os=Zt.sibling;var cr=Ke(Le,Zt,Fe[un],st);if(cr===null){Zt===null&&(Zt=os);break}l&&Zt&&cr.alternate===null&&u(Le,Zt),Re=I(cr,Re,un),Fn===null?Vt=cr:Fn.sibling=cr,Fn=cr,Zt=os}if(un===Fe.length)return x(Le,Zt),cn&&Ue(Le,un),Vt;if(Zt===null){for(;un<Fe.length;un++)Zt=lt(Le,Fe[un],st),Zt!==null&&(Re=I(Zt,Re,un),Fn===null?Vt=Zt:Fn.sibling=Zt,Fn=Zt);return cn&&Ue(Le,un),Vt}for(Zt=E(Zt);un<Fe.length;un++)os=Qe(Zt,Le,un,Fe[un],st),os!==null&&(l&&os.alternate!==null&&Zt.delete(os.key===null?un:os.key),Re=I(os,Re,un),Fn===null?Vt=os:Fn.sibling=os,Fn=os);return l&&Zt.forEach(function(Hd){return u(Le,Hd)}),cn&&Ue(Le,un),Vt}function on(Le,Re,Fe,st){if(Fe==null)throw Error(n(151));for(var Vt=null,Fn=null,Zt=Re,un=Re=0,os=null,cr=Fe.next();Zt!==null&&!cr.done;un++,cr=Fe.next()){Zt.index>un?(os=Zt,Zt=null):os=Zt.sibling;var Hd=Ke(Le,Zt,cr.value,st);if(Hd===null){Zt===null&&(Zt=os);break}l&&Zt&&Hd.alternate===null&&u(Le,Zt),Re=I(Hd,Re,un),Fn===null?Vt=Hd:Fn.sibling=Hd,Fn=Hd,Zt=os}if(cr.done)return x(Le,Zt),cn&&Ue(Le,un),Vt;if(Zt===null){for(;!cr.done;un++,cr=Fe.next())cr=lt(Le,cr.value,st),cr!==null&&(Re=I(cr,Re,un),Fn===null?Vt=cr:Fn.sibling=cr,Fn=cr);return cn&&Ue(Le,un),Vt}for(Zt=E(Zt);!cr.done;un++,cr=Fe.next())cr=Qe(Zt,Le,un,cr.value,st),cr!==null&&(l&&cr.alternate!==null&&Zt.delete(cr.key===null?un:cr.key),Re=I(cr,Re,un),Fn===null?Vt=cr:Fn.sibling=cr,Fn=cr);return l&&Zt.forEach(function($D){return u(Le,$D)}),cn&&Ue(Le,un),Vt}function Mr(Le,Re,Fe,st){if(typeof Fe=="object"&&Fe!==null&&Fe.type===w&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case v:e:{for(var Vt=Fe.key;Re!==null;){if(Re.key===Vt){if(Vt=Fe.type,Vt===w){if(Re.tag===7){x(Le,Re.sibling),st=O(Re,Fe.props.children),st.return=Le,Le=st;break e}}else if(Re.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===F&&_x(Vt)===Re.type){x(Le,Re.sibling),st=O(Re,Fe.props),Ed(st,Fe),st.return=Le,Le=st;break e}x(Le,Re);break}else u(Le,Re);Re=Re.sibling}Fe.type===w?(st=no(Fe.props.children,Le.mode,st,Fe.key),st.return=Le,Le=st):(st=ei(Fe.type,Fe.key,Fe.props,null,Le.mode,st),Ed(st,Fe),st.return=Le,Le=st)}return re(Le);case y:e:{for(Vt=Fe.key;Re!==null;){if(Re.key===Vt)if(Re.tag===4&&Re.stateNode.containerInfo===Fe.containerInfo&&Re.stateNode.implementation===Fe.implementation){x(Le,Re.sibling),st=O(Re,Fe.children||[]),st.return=Le,Le=st;break e}else{x(Le,Re);break}else u(Le,Re);Re=Re.sibling}st=uu(Fe,Le.mode,st),st.return=Le,Le=st}return re(Le);case F:return Vt=Fe._init,Fe=Vt(Fe._payload),Mr(Le,Re,Fe,st)}if(te(Fe))return gn(Le,Re,Fe,st);if(X(Fe)){if(Vt=X(Fe),typeof Vt!="function")throw Error(n(150));return Fe=Vt.call(Fe),on(Le,Re,Fe,st)}if(typeof Fe.then=="function")return Mr(Le,Re,Xh(Fe),st);if(Fe.$$typeof===C)return Mr(Le,Re,Lh(Le,Fe),st);wm(Le,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint"?(Fe=""+Fe,Re!==null&&Re.tag===6?(x(Le,Re.sibling),st=O(Re,Fe),st.return=Le,Le=st):(x(Le,Re),st=cu(Fe,Le.mode,st),st.return=Le,Le=st),re(Le)):x(Le,Re)}return function(Le,Re,Fe,st){try{Wh=0;var Vt=Mr(Le,Re,Fe,st);return fu=null,Vt}catch(Zt){if(Zt===Bh||Zt===so)throw Zt;var Fn=ns(29,Zt,null,Le.mode);return Fn.lanes=st,Fn.return=Le,Fn}finally{}}}var mu=Sx(!0),wx=Sx(!1),mr=Y(null),oo=null;function _c(l){var u=l.alternate;le(ni,ni.current&1),le(mr,l),oo===null&&(u===null||yd.current!==null||u.memoizedState!==null)&&(oo=l)}function Ex(l){if(l.tag===22){if(le(ni,ni.current),le(mr,l),oo===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(oo=l)}}else Sc()}function Sc(){le(ni,ni.current),le(mr,mr.current)}function Uo(l){ne(mr),oo===l&&(oo=null),ne(ni)}var ni=Y(0);function Al(l){for(var u=l;u!==null;){if(u.tag===13){var x=u.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||z_(x)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function wc(l,u,x,E){u=l.memoizedState,x=x(E,u),x=x==null?u:g({},u,x),l.memoizedState=x,l.lanes===0&&(l.updateQueue.baseState=x)}var ys={enqueueSetState:function(l,u,x){l=l._reactInternals;var E=Xr(),O=zo(E);O.payload=u,x!=null&&(O.callback=x),u=Nl(l,O,E),u!==null&&(Ss(u,l,E),hu(u,l,E))},enqueueReplaceState:function(l,u,x){l=l._reactInternals;var E=Xr(),O=zo(E);O.tag=1,O.payload=u,x!=null&&(O.callback=x),u=Nl(l,O,E),u!==null&&(Ss(u,l,E),hu(u,l,E))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var x=Xr(),E=zo(x);E.tag=2,u!=null&&(E.callback=u),u=Nl(l,E,x),u!==null&&(Ss(u,l,x),hu(u,l,x))}};function Nx(l,u,x,E,O,I,re){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(E,I,re):u.prototype&&u.prototype.isPureReactComponent?!$r(x,E)||!$r(O,I):!0}function Tx(l,u,x,E){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(x,E),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(x,E),u.state!==l&&ys.enqueueReplaceState(u,u.state,null)}function Io(l,u){var x=u;if("ref"in u){x={};for(var E in u)E!=="ref"&&(x[E]=u[E])}if(l=l.defaultProps){x===u&&(x=g({},x));for(var O in l)x[O]===void 0&&(x[O]=l[O])}return x}var pu=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function Yh(l){pu(l)}function Em(l){console.error(l)}function Mx(l){pu(l)}function Nm(l,u){try{var x=l.onUncaughtError;x(u.value,{componentStack:u.stack})}catch(E){setTimeout(function(){throw E})}}function Aa(l,u,x){try{var E=l.onCaughtError;E(x.value,{componentStack:x.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function Tm(l,u,x){return x=zo(x),x.tag=3,x.payload={element:null},x.callback=function(){Nm(l,u)},x}function jx(l){return l=zo(l),l.tag=3,l}function Mm(l,u,x,E){var O=x.type.getDerivedStateFromError;if(typeof O=="function"){var I=E.value;l.payload=function(){return O(I)},l.callback=function(){Aa(u,x,E)}}var re=x.stateNode;re!==null&&typeof re.componentDidCatch=="function"&&(l.callback=function(){Aa(u,x,E),typeof O!="function"&&(la===null?la=new Set([this]):la.add(this));var fe=E.stack;this.componentDidCatch(E.value,{componentStack:fe!==null?fe:""})})}function S_(l,u,x,E,O){if(x.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(u=x.alternate,u!==null&&zs(u,x,O,!0),x=mr.current,x!==null){switch(x.tag){case 13:return oo===null?m():x.alternate===null&&Cr===0&&(Cr=3),x.flags&=-257,x.flags|=65536,x.lanes=O,E===kh?x.flags|=16384:(u=x.updateQueue,u===null?x.updateQueue=new Set([E]):u.add(E),et(l,E,O)),!1;case 22:return x.flags|=65536,E===kh?x.flags|=16384:(u=x.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([E])},x.updateQueue=u):(x=u.retryQueue,x===null?u.retryQueue=new Set([E]):x.add(E)),et(l,E,O)),!1}throw Error(n(435,x.tag))}return et(l,E,O),m(),!1}if(cn)return u=mr.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=O,E!==yi&&(l=Error(n(422),{cause:E}),Do(ui(l,x)))):(E!==yi&&(u=Error(n(423),{cause:E}),Do(ui(u,x))),l=l.current.alternate,l.flags|=65536,O&=-O,l.lanes|=O,E=ui(E,x),O=Tm(l.stateNode,E,O),bd(l,O),Cr!==4&&(Cr=2)),!1;var I=Error(n(520),{cause:E});if(I=ui(I,x),lr===null?lr=[I]:lr.push(I),Cr!==4&&(Cr=2),u===null)return!0;E=ui(E,x),x=u;do{switch(x.tag){case 3:return x.flags|=65536,l=O&-O,x.lanes|=l,l=Tm(x.stateNode,E,l),bd(x,l),!1;case 1:if(u=x.type,I=x.stateNode,(x.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(la===null||!la.has(I))))return x.flags|=65536,O&=-O,x.lanes|=O,O=jx(O),Mm(O,l,x,E),bd(x,O),!1}x=x.return}while(x!==null);return!1}var Ax=Error(n(461)),Ci=!1;function ri(l,u,x,E){u.child=l===null?wx(u,null,x,E):mu(u,l.child,x,E)}function Us(l,u,x,E,O){x=x.render;var I=u.ref;if("ref"in E){var re={};for(var fe in E)fe!=="ref"&&(re[fe]=E[fe])}else re=E;return Lo(u),E=Ml(l,u,x,re,I,O),fe=N0(),l!==null&&!Ci?(mm(l,u,O),Ri(l,u,O)):(cn&&fe&&ct(u),u.flags|=1,ri(l,u,E,O),u.child)}function Is(l,u,x,E,O){if(l===null){var I=x.type;return typeof I=="function"&&!pc(I)&&I.defaultProps===void 0&&x.compare===null?(u.tag=15,u.type=I,H0(l,u,I,E,O)):(l=ei(x.type,null,E,u,u.mode,O),l.ref=u.ref,l.return=u,u.child=l)}if(I=l.child,!Zh(l,O)){var re=I.memoizedProps;if(x=x.compare,x=x!==null?x:$r,x(re,E)&&l.ref===u.ref)return Ri(l,u,O)}return u.flags|=1,l=Lr(I,E),l.ref=u.ref,l.return=u,u.child=l}function H0(l,u,x,E,O){if(l!==null){var I=l.memoizedProps;if($r(I,E)&&l.ref===u.ref)if(Ci=!1,u.pendingProps=E=I,Zh(l,O))(l.flags&131072)!==0&&(Ci=!0);else return u.lanes=l.lanes,Ri(l,u,O)}return Nd(l,u,x,E,O)}function gu(l,u,x){var E=u.pendingProps,O=E.children,I=l!==null?l.memoizedState:null;if(E.mode==="hidden"){if((u.flags&128)!==0){if(E=I!==null?I.baseLanes|x:x,l!==null){for(O=u.child=l.child,I=0;O!==null;)I=I|O.lanes|O.childLanes,O=O.sibling;u.childLanes=I&~E}else u.childLanes=0,u.child=null;return bu(l,u,E,x)}if((x&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&Ih(u,I!==null?I.cachePool:null),I!==null?Gb(u,I):E0(),Ex(u);else return u.lanes=u.childLanes=536870912,bu(l,u,I!==null?I.baseLanes|x:x,x)}else I!==null?(Ih(u,I.cachePool),Gb(u,I),Sc(),u.memoizedState=null):(l!==null&&Ih(u,null),E0(),Sc());return ri(l,u,O,x),u.child}function bu(l,u,x,E){var O=bc();return O=O===null?null:{parent:di._currentValue,pool:O},u.memoizedState={baseLanes:x,cachePool:O},l!==null&&Ih(u,null),E0(),Ex(u),l!==null&&zs(l,u,E,!0),null}function xu(l,u){var x=u.ref;if(x===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(l===null||l.ref!==x)&&(u.flags|=4194816)}}function Nd(l,u,x,E,O){return Lo(u),x=Ml(l,u,x,E,void 0,O),E=N0(),l!==null&&!Ci?(mm(l,u,O),Ri(l,u,O)):(cn&&E&&ct(u),u.flags|=1,ri(l,u,x,O),u.child)}function ta(l,u,x,E,O,I){return Lo(u),u.updateQueue=null,x=Yb(u,E,x,O),Xb(l),E=N0(),l!==null&&!Ci?(mm(l,u,I),Ri(l,u,I)):(cn&&E&&ct(u),u.flags|=1,ri(l,u,x,I),u.child)}function na(l,u,x,E,O){if(Lo(u),u.stateNode===null){var I=to,re=x.contextType;typeof re=="object"&&re!==null&&(I=qr(re)),I=new x(E,I),u.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=ys,u.stateNode=I,I._reactInternals=u,I=u.stateNode,I.props=E,I.state=u.memoizedState,I.refs={},S0(u),re=x.contextType,I.context=typeof re=="object"&&re!==null?qr(re):to,I.state=u.memoizedState,re=x.getDerivedStateFromProps,typeof re=="function"&&(wc(u,x,re,E),I.state=u.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(re=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),re!==I.state&&ys.enqueueReplaceState(I,I.state,null),xd(u,E,I,O),Hh(),I.state=u.memoizedState),typeof I.componentDidMount=="function"&&(u.flags|=4194308),E=!0}else if(l===null){I=u.stateNode;var fe=u.memoizedProps,we=Io(x,fe);I.props=we;var We=I.context,it=x.contextType;re=to,typeof it=="object"&&it!==null&&(re=qr(it));var lt=x.getDerivedStateFromProps;it=typeof lt=="function"||typeof I.getSnapshotBeforeUpdate=="function",fe=u.pendingProps!==fe,it||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(fe||We!==re)&&Tx(u,I,E,re),El=!1;var Ke=u.memoizedState;I.state=Ke,xd(u,E,I,O),Hh(),We=u.memoizedState,fe||Ke!==We||El?(typeof lt=="function"&&(wc(u,x,lt,E),We=u.memoizedState),(we=El||Nx(u,x,we,E,Ke,We,re))?(it||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=E,u.memoizedState=We),I.props=E,I.state=We,I.context=re,E=we):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),E=!1)}else{I=u.stateNode,fn(l,u),re=u.memoizedProps,it=Io(x,re),I.props=it,lt=u.pendingProps,Ke=I.context,We=x.contextType,we=to,typeof We=="object"&&We!==null&&(we=qr(We)),fe=x.getDerivedStateFromProps,(We=typeof fe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(re!==lt||Ke!==we)&&Tx(u,I,E,we),El=!1,Ke=u.memoizedState,I.state=Ke,xd(u,E,I,O),Hh();var Qe=u.memoizedState;re!==lt||Ke!==Qe||El||l!==null&&l.dependencies!==null&&Ph(l.dependencies)?(typeof fe=="function"&&(wc(u,x,fe,E),Qe=u.memoizedState),(it=El||Nx(u,x,it,E,Ke,Qe,we)||l!==null&&l.dependencies!==null&&Ph(l.dependencies))?(We||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(E,Qe,we),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(E,Qe,we)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||re===l.memoizedProps&&Ke===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||re===l.memoizedProps&&Ke===l.memoizedState||(u.flags|=1024),u.memoizedProps=E,u.memoizedState=Qe),I.props=E,I.state=Qe,I.context=we,E=it):(typeof I.componentDidUpdate!="function"||re===l.memoizedProps&&Ke===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||re===l.memoizedProps&&Ke===l.memoizedState||(u.flags|=1024),E=!1)}return I=E,xu(l,u),E=(u.flags&128)!==0,I||E?(I=u.stateNode,x=E&&typeof x.getDerivedStateFromError!="function"?null:I.render(),u.flags|=1,l!==null&&E?(u.child=mu(u,l.child,null,O),u.child=mu(u,null,x,O)):ri(l,u,x,O),u.memoizedState=I.state,l=u.child):l=Ri(l,u,O),l}function Ec(l,u,x,E){return wl(),u.flags|=256,ri(l,u,x,E),u.child}var lo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function co(l){return{baseLanes:l,cachePool:cm()}}function Si(l,u,x){return l=l!==null?l.childLanes&~x:0,u&&(l|=Pa),l}function Td(l,u,x){var E=u.pendingProps,O=!1,I=(u.flags&128)!==0,re;if((re=I)||(re=l!==null&&l.memoizedState===null?!1:(ni.current&2)!==0),re&&(O=!0,u.flags&=-129),re=(u.flags&32)!==0,u.flags&=-33,l===null){if(cn){if(O?_c(u):Sc(),cn){var fe=Ht,we;if(we=fe){e:{for(we=fe,fe=Sr;we.nodeType!==8;){if(!fe){fe=null;break e}if(we=Ll(we.nextSibling),we===null){fe=null;break e}}fe=we}fe!==null?(u.memoizedState={dehydrated:fe,treeContext:Q!==null?{id:ue,overflow:Se}:null,retryLane:536870912,hydrationErrors:null},we=ns(18,null,null,0),we.stateNode=fe,we.return=u,u.child=we,zt=u,Ht=null,we=!0):we=!1}we||bs(u)}if(fe=u.memoizedState,fe!==null&&(fe=fe.dehydrated,fe!==null))return z_(fe)?u.lanes=32:u.lanes=536870912,null;Uo(u)}return fe=E.children,E=E.fallback,O?(Sc(),O=u.mode,fe=vu({mode:"hidden",children:fe},O),E=no(E,O,x,null),fe.return=u,E.return=u,fe.sibling=E,u.child=fe,O=u.child,O.memoizedState=co(x),O.childLanes=Si(l,re,x),u.memoizedState=lo,E):(_c(u),Bo(u,fe))}if(we=l.memoizedState,we!==null&&(fe=we.dehydrated,fe!==null)){if(I)u.flags&256?(_c(u),u.flags&=-257,u=Ii(l,u,x)):u.memoizedState!==null?(Sc(),u.child=l.child,u.flags|=128,u=null):(Sc(),O=E.fallback,fe=u.mode,E=vu({mode:"visible",children:E.children},fe),O=no(O,fe,x,null),O.flags|=2,E.return=u,O.return=u,E.sibling=O,u.child=E,mu(u,l.child,null,x),E=u.child,E.memoizedState=co(x),E.childLanes=Si(l,re,x),u.memoizedState=lo,u=O);else if(_c(u),z_(fe)){if(re=fe.nextSibling&&fe.nextSibling.dataset,re)var We=re.dgst;re=We,E=Error(n(419)),E.stack="",E.digest=re,Do({value:E,source:null,stack:null}),u=Ii(l,u,x)}else if(Ci||zs(l,u,x,!1),re=(x&l.childLanes)!==0,Ci||re){if(re=yn,re!==null&&(E=x&-x,E=(E&42)!==0?1:tn(E),E=(E&(re.suspendedLanes|x))!==0?0:E,E!==0&&E!==we.retryLane))throw we.retryLane=E,eo(l,E),Ss(re,l,E),Ax;fe.data==="$?"||m(),u=Ii(l,u,x)}else fe.data==="$?"?(u.flags|=192,u.child=l.child,u=null):(l=we.treeContext,Ht=Ll(fe.nextSibling),zt=u,cn=!0,ir=null,Sr=!1,l!==null&&(R[q++]=ue,R[q++]=Se,R[q++]=Q,ue=l.id,Se=l.overflow,Q=u),u=Bo(u,E.children),u.flags|=4096);return u}return O?(Sc(),O=E.fallback,fe=u.mode,we=l.child,We=we.sibling,E=Lr(we,{mode:"hidden",children:E.children}),E.subtreeFlags=we.subtreeFlags&65011712,We!==null?O=Lr(We,O):(O=no(O,fe,x,null),O.flags|=2),O.return=u,E.return=u,E.sibling=O,u.child=E,E=O,O=u.child,fe=l.child.memoizedState,fe===null?fe=co(x):(we=fe.cachePool,we!==null?(We=di._currentValue,we=we.parent!==We?{parent:We,pool:We}:we):we=cm(),fe={baseLanes:fe.baseLanes|x,cachePool:we}),O.memoizedState=fe,O.childLanes=Si(l,re,x),u.memoizedState=lo,E):(_c(u),x=l.child,l=x.sibling,x=Lr(x,{mode:"visible",children:E.children}),x.return=u,x.sibling=null,l!==null&&(re=u.deletions,re===null?(u.deletions=[l],u.flags|=16):re.push(l)),u.child=x,u.memoizedState=null,x)}function Bo(l,u){return u=vu({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function vu(l,u){return l=ns(22,l,null,u),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function Ii(l,u,x){return mu(u,l.child,null,x),l=Bo(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function Bi(l,u,x){l.lanes|=u;var E=l.alternate;E!==null&&(E.lanes|=u),du(l.return,u,x)}function Yn(l,u,x,E,O){var I=l.memoizedState;I===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:E,tail:x,tailMode:O}:(I.isBackwards=u,I.rendering=null,I.renderingStartTime=0,I.last=E,I.tail=x,I.tailMode=O)}function Ca(l,u,x){var E=u.pendingProps,O=E.revealOrder,I=E.tail;if(ri(l,u,E.children,x),E=ni.current,(E&2)!==0)E=E&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Bi(l,x,u);else if(l.tag===19)Bi(l,x,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}E&=1}switch(le(ni,E),O){case"forwards":for(x=u.child,O=null;x!==null;)l=x.alternate,l!==null&&Al(l)===null&&(O=x),x=x.sibling;x=O,x===null?(O=u.child,u.child=null):(O=x.sibling,x.sibling=null),Yn(u,!1,O,x,I);break;case"backwards":for(x=null,O=u.child,u.child=null;O!==null;){if(l=O.alternate,l!==null&&Al(l)===null){u.child=O;break}l=O.sibling,O.sibling=x,x=O,O=l}Yn(u,!0,x,null,I);break;case"together":Yn(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Ri(l,u,x){if(l!==null&&(u.dependencies=l.dependencies),mo|=u.lanes,(x&u.childLanes)===0)if(l!==null){if(zs(l,u,x,!1),(x&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,x=Lr(l,l.pendingProps),u.child=x,x.return=u;l.sibling!==null;)l=l.sibling,x=x.sibling=Lr(l,l.pendingProps),x.return=u;x.sibling=null}return u.child}function Zh(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&Ph(l)))}function Ra(l,u,x){switch(u.tag){case 3:_e(u,u.stateNode.containerInfo),Po(u,di,l.memoizedState.cache),wl();break;case 27:case 5:Ee(u);break;case 4:_e(u,u.stateNode.containerInfo);break;case 10:Po(u,u.type,u.memoizedProps.value);break;case 13:var E=u.memoizedState;if(E!==null)return E.dehydrated!==null?(_c(u),u.flags|=128,null):(x&u.child.childLanes)!==0?Td(l,u,x):(_c(u),l=Ri(l,u,x),l!==null?l.sibling:null);_c(u);break;case 19:var O=(l.flags&128)!==0;if(E=(x&u.childLanes)!==0,E||(zs(l,u,x,!1),E=(x&u.childLanes)!==0),O){if(E)return Ca(l,u,x);u.flags|=128}if(O=u.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),le(ni,ni.current),E)break;return null;case 22:case 23:return u.lanes=0,gu(l,u,x);case 24:Po(u,di,l.memoizedState.cache)}return Ri(l,u,x)}function yu(l,u,x){if(l!==null)if(l.memoizedProps!==u.pendingProps)Ci=!0;else{if(!Zh(l,x)&&(u.flags&128)===0)return Ci=!1,Ra(l,u,x);Ci=(l.flags&131072)!==0}else Ci=!1,cn&&(u.flags&1048576)!==0&&Je(u,S,u.index);switch(u.lanes=0,u.tag){case 16:e:{l=u.pendingProps;var E=u.elementType,O=E._init;if(E=O(E._payload),u.type=E,typeof E=="function")pc(E)?(l=Io(E,l),u.tag=1,u=na(null,u,E,l,x)):(u.tag=0,u=Nd(null,u,E,l,x));else{if(E!=null){if(O=E.$$typeof,O===A){u.tag=11,u=Us(null,u,E,l,x);break e}else if(O===B){u.tag=14,u=Is(null,u,E,l,x);break e}}throw u=ee(E)||E,Error(n(306,u,""))}}return u;case 0:return Nd(l,u,u.type,u.pendingProps,x);case 1:return E=u.type,O=Io(E,u.pendingProps),na(l,u,E,O,x);case 3:e:{if(_e(u,u.stateNode.containerInfo),l===null)throw Error(n(387));E=u.pendingProps;var I=u.memoizedState;O=I.element,fn(l,u),xd(u,E,null,x);var re=u.memoizedState;if(E=re.cache,Po(u,di,E),E!==I.cache&&gc(u,[di],x,!0),Hh(),E=re.element,I.isDehydrated)if(I={element:E,isDehydrated:!1,cache:re.cache},u.updateQueue.baseState=I,u.memoizedState=I,u.flags&256){u=Ec(l,u,E,x);break e}else if(E!==O){O=ui(Error(n(424)),u),Do(O),u=Ec(l,u,E,x);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Ht=Ll(l.firstChild),zt=u,cn=!0,ir=null,Sr=!0,x=wx(u,null,E,x),u.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(wl(),E===O){u=Ri(l,u,x);break e}ri(l,u,E,x)}u=u.child}return u;case 26:return xu(l,u),l===null?(x=MN(u.type,null,u.pendingProps,null))?u.memoizedState=x:cn||(x=u.type,l=u.pendingProps,E=Lx(ie.current).createElement(x),E[kr]=u,E[yr]=l,ws(E,x,l),Hr(E),u.stateNode=E):u.memoizedState=MN(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Ee(u),l===null&&cn&&(E=u.stateNode=EN(u.type,u.pendingProps,ie.current),zt=u,Sr=!0,O=Ht,zd(u.type)?(U_=O,Ht=Ll(E.firstChild)):Ht=O),ri(l,u,u.pendingProps.children,x),xu(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&cn&&((O=E=Ht)&&(E=jD(E,u.type,u.pendingProps,Sr),E!==null?(u.stateNode=E,zt=u,Ht=Ll(E.firstChild),Sr=!1,O=!0):O=!1),O||bs(u)),Ee(u),O=u.type,I=u.pendingProps,re=l!==null?l.memoizedProps:null,E=I.children,D_(O,I)?E=null:re!==null&&D_(O,re)&&(u.flags|=32),u.memoizedState!==null&&(O=Ml(l,u,g_,null,null,x),Q0._currentValue=O),xu(l,u),ri(l,u,E,x),u.child;case 6:return l===null&&cn&&((l=x=Ht)&&(x=AD(x,u.pendingProps,Sr),x!==null?(u.stateNode=x,zt=u,Ht=null,l=!0):l=!1),l||bs(u)),null;case 13:return Td(l,u,x);case 4:return _e(u,u.stateNode.containerInfo),E=u.pendingProps,l===null?u.child=mu(u,null,E,x):ri(l,u,E,x),u.child;case 11:return Us(l,u,u.type,u.pendingProps,x);case 7:return ri(l,u,u.pendingProps,x),u.child;case 8:return ri(l,u,u.pendingProps.children,x),u.child;case 12:return ri(l,u,u.pendingProps.children,x),u.child;case 10:return E=u.pendingProps,Po(u,u.type,E.value),ri(l,u,E.children,x),u.child;case 9:return O=u.type._context,E=u.pendingProps.children,Lo(u),O=qr(O),E=E(O),u.flags|=1,ri(l,u,E,x),u.child;case 14:return Is(l,u,u.type,u.pendingProps,x);case 15:return H0(l,u,u.type,u.pendingProps,x);case 19:return Ca(l,u,x);case 31:return E=u.pendingProps,x=u.mode,E={mode:E.mode,children:E.children},l===null?(x=vu(E,x),x.ref=u.ref,u.child=x,x.return=u,u=x):(x=Lr(l.child,E),x.ref=u.ref,u.child=x,x.return=u,u=x),u;case 22:return gu(l,u,x);case 24:return Lo(u),E=qr(di),l===null?(O=bc(),O===null&&(O=yn,I=om(),O.pooledCache=I,I.refCount++,I!==null&&(O.pooledCacheLanes|=x),O=I),u.memoizedState={parent:E,cache:O},S0(u),Po(u,di,O)):((l.lanes&x)!==0&&(fn(l,u),xd(u,null,null,x),Hh()),O=l.memoizedState,I=u.memoizedState,O.parent!==E?(O={parent:E,cache:E},u.memoizedState=O,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=O),Po(u,di,E)):(E=I.cache,Po(u,di,E),E!==O.cache&&gc(u,[di],x,!0))),ri(l,u,u.pendingProps.children,x),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function uo(l){l.flags|=4}function Kh(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!ON(u)){if(u=mr.current,u!==null&&(($t&4194048)===$t?oo!==null:($t&62914560)!==$t&&($t&536870912)===0||u!==oo))throw Ma=kh,y0;l.flags|=8192}}function Cl(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?mt():536870912,l.lanes|=u,Jn|=u)}function _u(l,u){if(!cn)switch(l.tailMode){case"hidden":u=l.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?l.tail=null:x.sibling=null;break;case"collapsed":x=l.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:E.sibling=null}}function wr(l){var u=l.alternate!==null&&l.alternate.child===l.child,x=0,E=0;if(u)for(var O=l.child;O!==null;)x|=O.lanes|O.childLanes,E|=O.subtreeFlags&65011712,E|=O.flags&65011712,O.return=l,O=O.sibling;else for(O=l.child;O!==null;)x|=O.lanes|O.childLanes,E|=O.subtreeFlags,E|=O.flags,O.return=l,O=O.sibling;return l.subtreeFlags|=E,l.childLanes=x,u}function V0(l,u,x){var E=u.pendingProps;switch(Nt(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(u),null;case 1:return wr(u),null;case 3:return x=u.stateNode,E=null,l!==null&&(E=l.memoizedState.cache),u.memoizedState.cache!==E&&(u.flags|=2048),io(di),Te(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(l===null||l.child===null)&&(Js(u)?uo(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,er())),wr(u),null;case 26:return x=u.memoizedState,l===null?(uo(u),x!==null?(wr(u),Kh(u,x)):(wr(u),u.flags&=-16777217)):x?x!==l.memoizedState?(uo(u),wr(u),Kh(u,x)):(wr(u),u.flags&=-16777217):(l.memoizedProps!==E&&uo(u),wr(u),u.flags&=-16777217),null;case 27:$e(u),x=ie.current;var O=u.type;if(l!==null&&u.stateNode!=null)l.memoizedProps!==E&&uo(u);else{if(!E){if(u.stateNode===null)throw Error(n(166));return wr(u),null}l=be.current,Js(u)?sm(u):(l=EN(O,E,x),u.stateNode=l,uo(u))}return wr(u),null;case 5:if($e(u),x=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==E&&uo(u);else{if(!E){if(u.stateNode===null)throw Error(n(166));return wr(u),null}if(l=be.current,Js(u))sm(u);else{switch(O=Lx(ie.current),l){case 1:l=O.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:l=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":l=O.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":l=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":l=O.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof E.is=="string"?O.createElement("select",{is:E.is}):O.createElement("select"),E.multiple?l.multiple=!0:E.size&&(l.size=E.size);break;default:l=typeof E.is=="string"?O.createElement(x,{is:E.is}):O.createElement(x)}}l[kr]=u,l[yr]=E;e:for(O=u.child;O!==null;){if(O.tag===5||O.tag===6)l.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===u)break e;for(;O.sibling===null;){if(O.return===null||O.return===u)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}u.stateNode=l;e:switch(ws(l,x,E),x){case"button":case"input":case"select":case"textarea":l=!!E.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&uo(u)}}return wr(u),u.flags&=-16777217,null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==E&&uo(u);else{if(typeof E!="string"&&u.stateNode===null)throw Error(n(166));if(l=ie.current,Js(u)){if(l=u.stateNode,x=u.memoizedProps,E=null,O=zt,O!==null)switch(O.tag){case 27:case 5:E=O.memoizedProps}l[kr]=u,l=!!(l.nodeValue===x||E!==null&&E.suppressHydrationWarning===!0||bN(l.nodeValue,x)),l||bs(u)}else l=Lx(l).createTextNode(E),l[kr]=u,u.stateNode=l}return wr(u),null;case 13:if(E=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(O=Js(u),E!==null&&E.dehydrated!==null){if(l===null){if(!O)throw Error(n(318));if(O=u.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[kr]=u}else wl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;wr(u),O=!1}else O=er(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=O),O=!0;if(!O)return u.flags&256?(Uo(u),u):(Uo(u),null)}if(Uo(u),(u.flags&128)!==0)return u.lanes=x,u;if(x=E!==null,l=l!==null&&l.memoizedState!==null,x){E=u.child,O=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(O=E.alternate.memoizedState.cachePool.pool);var I=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(I=E.memoizedState.cachePool.pool),I!==O&&(E.flags|=2048)}return x!==l&&x&&(u.child.flags|=8192),Cl(u,u.updateQueue),wr(u),null;case 4:return Te(),l===null&&j_(u.stateNode.containerInfo),wr(u),null;case 10:return io(u.type),wr(u),null;case 19:if(ne(ni),O=u.memoizedState,O===null)return wr(u),null;if(E=(u.flags&128)!==0,I=O.rendering,I===null)if(E)_u(O,!1);else{if(Cr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(I=Al(l),I!==null){for(u.flags|=128,_u(O,!1),l=I.updateQueue,u.updateQueue=l,Cl(u,l),u.subtreeFlags=0,l=x,x=u.child;x!==null;)hd(x,l),x=x.sibling;return le(ni,ni.current&1|2),u.child}l=l.sibling}O.tail!==null&&Xe()>ss&&(u.flags|=128,E=!0,_u(O,!1),u.lanes=4194304)}else{if(!E)if(l=Al(I),l!==null){if(u.flags|=128,E=!0,l=l.updateQueue,u.updateQueue=l,Cl(u,l),_u(O,!0),O.tail===null&&O.tailMode==="hidden"&&!I.alternate&&!cn)return wr(u),null}else 2*Xe()-O.renderingStartTime>ss&&x!==536870912&&(u.flags|=128,E=!0,_u(O,!1),u.lanes=4194304);O.isBackwards?(I.sibling=u.child,u.child=I):(l=O.last,l!==null?l.sibling=I:u.child=I,O.last=I)}return O.tail!==null?(u=O.tail,O.rendering=u,O.tail=u.sibling,O.renderingStartTime=Xe(),u.sibling=null,l=ni.current,le(ni,E?l&1|2:l&1),u):(wr(u),null);case 22:case 23:return Uo(u),Vh(),E=u.memoizedState!==null,l!==null?l.memoizedState!==null!==E&&(u.flags|=8192):E&&(u.flags|=8192),E?(x&536870912)!==0&&(u.flags&128)===0&&(wr(u),u.subtreeFlags&6&&(u.flags|=8192)):wr(u),x=u.updateQueue,x!==null&&Cl(u,x.retryQueue),x=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),E=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(E=u.memoizedState.cachePool.pool),E!==x&&(u.flags|=2048),l!==null&&ne(Ta),null;case 24:return x=null,l!==null&&(x=l.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),io(di),wr(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function Md(l,u){switch(Nt(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return io(di),Te(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return $e(u),null;case 13:if(Uo(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));wl()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return ne(ni),null;case 4:return Te(),null;case 10:return io(u.type),null;case 22:case 23:return Uo(u),Vh(),l!==null&&ne(Ta),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return io(di),null;case 25:return null;default:return null}}function jd(l,u){switch(Nt(u),u.tag){case 3:io(di),Te();break;case 26:case 27:case 5:$e(u);break;case 4:Te();break;case 13:Uo(u);break;case 19:ne(ni);break;case 10:io(u.type);break;case 22:case 23:Uo(u),Vh(),l!==null&&ne(Ta);break;case 24:io(di)}}function Su(l,u){try{var x=u.updateQueue,E=x!==null?x.lastEffect:null;if(E!==null){var O=E.next;x=O;do{if((x.tag&l)===l){E=void 0;var I=x.create,re=x.inst;E=I(),re.destroy=E}x=x.next}while(x!==O)}}catch(fe){Ae(u,u.return,fe)}}function ra(l,u,x){try{var E=u.updateQueue,O=E!==null?E.lastEffect:null;if(O!==null){var I=O.next;E=I;do{if((E.tag&l)===l){var re=E.inst,fe=re.destroy;if(fe!==void 0){re.destroy=void 0,O=u;var we=x,We=fe;try{We()}catch(it){Ae(O,we,it)}}}E=E.next}while(E!==I)}}catch(it){Ae(u,u.return,it)}}function wu(l){var u=l.updateQueue;if(u!==null){var x=l.stateNode;try{qb(u,x)}catch(E){Ae(l,l.return,E)}}}function Rl(l,u,x){x.props=Io(l.type,l.memoizedProps),x.state=l.memoizedState;try{x.componentWillUnmount()}catch(E){Ae(l,u,E)}}function Eu(l,u){try{var x=l.ref;if(x!==null){switch(l.tag){case 26:case 27:case 5:var E=l.stateNode;break;case 30:E=l.stateNode;break;default:E=l.stateNode}typeof x=="function"?l.refCleanup=x(E):x.current=E}}catch(O){Ae(l,u,O)}}function ko(l,u){var x=l.ref,E=l.refCleanup;if(x!==null)if(typeof E=="function")try{E()}catch(O){Ae(l,u,O)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(O){Ae(l,u,O)}else x.current=null}function Ad(l){var u=l.type,x=l.memoizedProps,E=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":x.autoFocus&&E.focus();break e;case"img":x.src?E.src=x.src:x.srcSet&&(E.srcset=x.srcSet)}}catch(O){Ae(l,l.return,O)}}function Jh(l,u,x){try{var E=l.stateNode;wD(E,l.type,x,u),E[yr]=u}catch(O){Ae(l,l.return,O)}}function Qh(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&zd(l.type)||l.tag===4}function Nc(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Qh(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&zd(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Tc(l,u,x){var E=l.tag;if(E===5||E===6)l=l.stateNode,u?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(l,u):(u=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,u.appendChild(l),x=x._reactRootContainer,x!=null||u.onclick!==null||(u.onclick=Px));else if(E!==4&&(E===27&&zd(l.type)&&(x=l.stateNode,u=null),l=l.child,l!==null))for(Tc(l,u,x),l=l.sibling;l!==null;)Tc(l,u,x),l=l.sibling}function Mc(l,u,x){var E=l.tag;if(E===5||E===6)l=l.stateNode,u?x.insertBefore(l,u):x.appendChild(l);else if(E!==4&&(E===27&&zd(l.type)&&(x=l.stateNode),l=l.child,l!==null))for(Mc(l,u,x),l=l.sibling;l!==null;)Mc(l,u,x),l=l.sibling}function jc(l){var u=l.stateNode,x=l.memoizedProps;try{for(var E=l.type,O=u.attributes;O.length;)u.removeAttributeNode(O[0]);ws(u,E,x),u[kr]=l,u[yr]=x}catch(I){Ae(l,l.return,I)}}var Ho=!1,Er=!1,Cd=!1,ia=typeof WeakSet=="function"?WeakSet:Set,pr=null;function wi(l,u){if(l=l.containerInfo,R_=Hx,l=uc(l),vl(l)){if("selectionStart"in l)var x={start:l.selectionStart,end:l.selectionEnd};else e:{x=(x=l.ownerDocument)&&x.defaultView||window;var E=x.getSelection&&x.getSelection();if(E&&E.rangeCount!==0){x=E.anchorNode;var O=E.anchorOffset,I=E.focusNode;E=E.focusOffset;try{x.nodeType,I.nodeType}catch{x=null;break e}var re=0,fe=-1,we=-1,We=0,it=0,lt=l,Ke=null;t:for(;;){for(var Qe;lt!==x||O!==0&&lt.nodeType!==3||(fe=re+O),lt!==I||E!==0&&lt.nodeType!==3||(we=re+E),lt.nodeType===3&&(re+=lt.nodeValue.length),(Qe=lt.firstChild)!==null;)Ke=lt,lt=Qe;for(;;){if(lt===l)break t;if(Ke===x&&++We===O&&(fe=re),Ke===I&&++it===E&&(we=re),(Qe=lt.nextSibling)!==null)break;lt=Ke,Ke=lt.parentNode}lt=Qe}x=fe===-1||we===-1?null:{start:fe,end:we}}else x=null}x=x||{start:0,end:0}}else x=null;for(O_={focusedElem:l,selectionRange:x},Hx=!1,pr=u;pr!==null;)if(u=pr,l=u.child,(u.subtreeFlags&1024)!==0&&l!==null)l.return=u,pr=l;else for(;pr!==null;){switch(u=pr,I=u.alternate,l=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&I!==null){l=void 0,x=u,O=I.memoizedProps,I=I.memoizedState,E=x.stateNode;try{var gn=Io(x.type,O,x.elementType===x.type);l=E.getSnapshotBeforeUpdate(gn,I),E.__reactInternalSnapshotBeforeUpdate=l}catch(on){Ae(x,x.return,on)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,x=l.nodeType,x===9)L_(l);else if(x===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":L_(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=u.sibling,l!==null){l.return=u.return,pr=l;break}pr=u.return}}function Ol(l,u,x){var E=x.flags;switch(x.tag){case 0:case 11:case 15:_s(l,x),E&4&&Su(5,x);break;case 1:if(_s(l,x),E&4)if(l=x.stateNode,u===null)try{l.componentDidMount()}catch(re){Ae(x,x.return,re)}else{var O=Io(x.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(O,u,l.__reactInternalSnapshotBeforeUpdate)}catch(re){Ae(x,x.return,re)}}E&64&&wu(x),E&512&&Eu(x,x.return);break;case 3:if(_s(l,x),E&64&&(l=x.updateQueue,l!==null)){if(u=null,x.child!==null)switch(x.child.tag){case 27:case 5:u=x.child.stateNode;break;case 1:u=x.child.stateNode}try{qb(l,u)}catch(re){Ae(x,x.return,re)}}break;case 27:u===null&&E&4&&jc(x);case 26:case 5:_s(l,x),u===null&&E&4&&Ad(x),E&512&&Eu(x,x.return);break;case 12:_s(l,x);break;case 13:_s(l,x),E&4&&Ac(l,x),E&64&&(l=x.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(x=Rr.bind(null,x),CD(l,x))));break;case 22:if(E=x.memoizedState!==null||Ho,!E){u=u!==null&&u.memoizedState!==null||Er,O=Ho;var I=Er;Ho=E,(Er=u)&&!I?Vo(l,x,(x.subtreeFlags&8772)!==0):_s(l,x),Ho=O,Er=I}break;case 30:break;default:_s(l,x)}}function An(l){var u=l.alternate;u!==null&&(l.alternate=null,An(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&ur(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var nn=null,Kn=!1;function Oa(l,u,x){for(x=x.child;x!==null;)Nu(l,u,x),x=x.sibling}function Nu(l,u,x){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(qe,x)}catch{}switch(x.tag){case 26:Er||ko(x,u),Oa(l,u,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Er||ko(x,u);var E=nn,O=Kn;zd(x.type)&&(nn=x.stateNode,Kn=!1),Oa(l,u,x),Y0(x.stateNode),nn=E,Kn=O;break;case 5:Er||ko(x,u);case 6:if(E=nn,O=Kn,nn=null,Oa(l,u,x),nn=E,Kn=O,nn!==null)if(Kn)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(x.stateNode)}catch(I){Ae(x,u,I)}else try{nn.removeChild(x.stateNode)}catch(I){Ae(x,u,I)}break;case 18:nn!==null&&(Kn?(l=nn,SN(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,x.stateNode),ng(l)):SN(nn,x.stateNode));break;case 4:E=nn,O=Kn,nn=x.stateNode.containerInfo,Kn=!0,Oa(l,u,x),nn=E,Kn=O;break;case 0:case 11:case 14:case 15:Er||ra(2,x,u),Er||ra(4,x,u),Oa(l,u,x);break;case 1:Er||(ko(x,u),E=x.stateNode,typeof E.componentWillUnmount=="function"&&Rl(x,u,E)),Oa(l,u,x);break;case 21:Oa(l,u,x);break;case 22:Er=(E=Er)||x.memoizedState!==null,Oa(l,u,x),Er=E;break;default:Oa(l,u,x)}}function Ac(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{ng(l)}catch(x){Ae(u,u.return,x)}}function jm(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new ia),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new ia),u;default:throw Error(n(435,l.tag))}}function Tu(l,u){var x=jm(l);u.forEach(function(E){var O=mn.bind(null,l,E);x.has(E)||(x.add(E),E.then(O,O))})}function Oi(l,u){var x=u.deletions;if(x!==null)for(var E=0;E<x.length;E++){var O=x[E],I=l,re=u,fe=re;e:for(;fe!==null;){switch(fe.tag){case 27:if(zd(fe.type)){nn=fe.stateNode,Kn=!1;break e}break;case 5:nn=fe.stateNode,Kn=!1;break e;case 3:case 4:nn=fe.stateNode.containerInfo,Kn=!0;break e}fe=fe.return}if(nn===null)throw Error(n(160));Nu(I,re,O),nn=null,Kn=!1,I=O.alternate,I!==null&&(I.return=null),O.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)Am(u,l),u=u.sibling}var ho=null;function Am(l,u){var x=l.alternate,E=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Oi(u,l),Gr(l),E&4&&(ra(3,l,l.return),Su(3,l),ra(5,l,l.return));break;case 1:Oi(u,l),Gr(l),E&512&&(Er||x===null||ko(x,x.return)),E&64&&Ho&&(l=l.updateQueue,l!==null&&(E=l.callbacks,E!==null&&(x=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=x===null?E:x.concat(E))));break;case 26:var O=ho;if(Oi(u,l),Gr(l),E&512&&(Er||x===null||ko(x,x.return)),E&4){var I=x!==null?x.memoizedState:null;if(E=l.memoizedState,x===null)if(E===null)if(l.stateNode===null){e:{E=l.type,x=l.memoizedProps,O=O.ownerDocument||O;t:switch(E){case"title":I=O.getElementsByTagName("title")[0],(!I||I[Zi]||I[kr]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=O.createElement(E),O.head.insertBefore(I,O.querySelector("head > title"))),ws(I,E,x),I[kr]=l,Hr(I),E=I;break e;case"link":var re=CN("link","href",O).get(E+(x.href||""));if(re){for(var fe=0;fe<re.length;fe++)if(I=re[fe],I.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&I.getAttribute("rel")===(x.rel==null?null:x.rel)&&I.getAttribute("title")===(x.title==null?null:x.title)&&I.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){re.splice(fe,1);break t}}I=O.createElement(E),ws(I,E,x),O.head.appendChild(I);break;case"meta":if(re=CN("meta","content",O).get(E+(x.content||""))){for(fe=0;fe<re.length;fe++)if(I=re[fe],I.getAttribute("content")===(x.content==null?null:""+x.content)&&I.getAttribute("name")===(x.name==null?null:x.name)&&I.getAttribute("property")===(x.property==null?null:x.property)&&I.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&I.getAttribute("charset")===(x.charSet==null?null:x.charSet)){re.splice(fe,1);break t}}I=O.createElement(E),ws(I,E,x),O.head.appendChild(I);break;default:throw Error(n(468,E))}I[kr]=l,Hr(I),E=I}l.stateNode=E}else RN(O,l.type,l.stateNode);else l.stateNode=AN(O,E,l.memoizedProps);else I!==E?(I===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):I.count--,E===null?RN(O,l.type,l.stateNode):AN(O,E,l.memoizedProps)):E===null&&l.stateNode!==null&&Jh(l,l.memoizedProps,x.memoizedProps)}break;case 27:Oi(u,l),Gr(l),E&512&&(Er||x===null||ko(x,x.return)),x!==null&&E&4&&Jh(l,l.memoizedProps,x.memoizedProps);break;case 5:if(Oi(u,l),Gr(l),E&512&&(Er||x===null||ko(x,x.return)),l.flags&32){O=l.stateNode;try{Ar(O,"")}catch(Qe){Ae(l,l.return,Qe)}}E&4&&l.stateNode!=null&&(O=l.memoizedProps,Jh(l,O,x!==null?x.memoizedProps:O)),E&1024&&(Cd=!0);break;case 6:if(Oi(u,l),Gr(l),E&4){if(l.stateNode===null)throw Error(n(162));E=l.memoizedProps,x=l.stateNode;try{x.nodeValue=E}catch(Qe){Ae(l,l.return,Qe)}}break;case 3:if(Ix=null,O=ho,ho=zx(u.containerInfo),Oi(u,l),ho=O,Gr(l),E&4&&x!==null&&x.memoizedState.isDehydrated)try{ng(u.containerInfo)}catch(Qe){Ae(l,l.return,Qe)}Cd&&(Cd=!1,Cc(l));break;case 4:E=ho,ho=zx(l.stateNode.containerInfo),Oi(u,l),Gr(l),ho=E;break;case 12:Oi(u,l),Gr(l);break;case 13:Oi(u,l),Gr(l),l.child.flags&8192&&l.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(fr=Xe()),E&4&&(E=l.updateQueue,E!==null&&(l.updateQueue=null,Tu(l,E)));break;case 22:O=l.memoizedState!==null;var we=x!==null&&x.memoizedState!==null,We=Ho,it=Er;if(Ho=We||O,Er=it||we,Oi(u,l),Er=it,Ho=We,Gr(l),E&8192)e:for(u=l.stateNode,u._visibility=O?u._visibility&-2:u._visibility|1,O&&(x===null||we||Ho||Er||sa(l)),x=null,u=l;;){if(u.tag===5||u.tag===26){if(x===null){we=x=u;try{if(I=we.stateNode,O)re=I.style,typeof re.setProperty=="function"?re.setProperty("display","none","important"):re.display="none";else{fe=we.stateNode;var lt=we.memoizedProps.style,Ke=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;fe.style.display=Ke==null||typeof Ke=="boolean"?"":(""+Ke).trim()}}catch(Qe){Ae(we,we.return,Qe)}}}else if(u.tag===6){if(x===null){we=u;try{we.stateNode.nodeValue=O?"":we.memoizedProps}catch(Qe){Ae(we,we.return,Qe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;x===u&&(x=null),u=u.return}x===u&&(x=null),u.sibling.return=u.return,u=u.sibling}E&4&&(E=l.updateQueue,E!==null&&(x=E.retryQueue,x!==null&&(E.retryQueue=null,Tu(l,x))));break;case 19:Oi(u,l),Gr(l),E&4&&(E=l.updateQueue,E!==null&&(l.updateQueue=null,Tu(l,E)));break;case 30:break;case 21:break;default:Oi(u,l),Gr(l)}}function Gr(l){var u=l.flags;if(u&2){try{for(var x,E=l.return;E!==null;){if(Qh(E)){x=E;break}E=E.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var O=x.stateNode,I=Nc(l);Mc(l,I,O);break;case 5:var re=x.stateNode;x.flags&32&&(Ar(re,""),x.flags&=-33);var fe=Nc(l);Mc(l,fe,re);break;case 3:case 4:var we=x.stateNode.containerInfo,We=Nc(l);Tc(l,We,we);break;default:throw Error(n(161))}}catch(it){Ae(l,l.return,it)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function Cc(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;Cc(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function _s(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Ol(l,u.alternate,u),u=u.sibling}function sa(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:ra(4,u,u.return),sa(u);break;case 1:ko(u,u.return);var x=u.stateNode;typeof x.componentWillUnmount=="function"&&Rl(u,u.return,x),sa(u);break;case 27:Y0(u.stateNode);case 26:case 5:ko(u,u.return),sa(u);break;case 22:u.memoizedState===null&&sa(u);break;case 30:sa(u);break;default:sa(u)}l=l.sibling}}function Vo(l,u,x){for(x=x&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var E=u.alternate,O=l,I=u,re=I.flags;switch(I.tag){case 0:case 11:case 15:Vo(O,I,x),Su(4,I);break;case 1:if(Vo(O,I,x),E=I,O=E.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(We){Ae(E,E.return,We)}if(E=I,O=E.updateQueue,O!==null){var fe=E.stateNode;try{var we=O.shared.hiddenCallbacks;if(we!==null)for(O.shared.hiddenCallbacks=null,O=0;O<we.length;O++)vd(we[O],fe)}catch(We){Ae(E,E.return,We)}}x&&re&64&&wu(I),Eu(I,I.return);break;case 27:jc(I);case 26:case 5:Vo(O,I,x),x&&E===null&&re&4&&Ad(I),Eu(I,I.return);break;case 12:Vo(O,I,x);break;case 13:Vo(O,I,x),x&&re&4&&Ac(O,I);break;case 22:I.memoizedState===null&&Vo(O,I,x),Eu(I,I.return);break;case 30:break;default:Vo(O,I,x)}u=u.sibling}}function Cm(l,u){var x=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==x&&(l!=null&&l.refCount++,x!=null&&fd(x))}function Rm(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&fd(l))}function gr(l,u,x,E){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Om(l,u,x,E),u=u.sibling}function Om(l,u,x,E){var O=u.flags;switch(u.tag){case 0:case 11:case 15:gr(l,u,x,E),O&2048&&Su(9,u);break;case 1:gr(l,u,x,E);break;case 3:gr(l,u,x,E),O&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&fd(l)));break;case 12:if(O&2048){gr(l,u,x,E),l=u.stateNode;try{var I=u.memoizedProps,re=I.id,fe=I.onPostCommit;typeof fe=="function"&&fe(re,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(we){Ae(u,u.return,we)}}else gr(l,u,x,E);break;case 13:gr(l,u,x,E);break;case 23:break;case 22:I=u.stateNode,re=u.alternate,u.memoizedState!==null?I._visibility&2?gr(l,u,x,E):fo(l,u):I._visibility&2?gr(l,u,x,E):(I._visibility|=2,Dl(l,u,x,E,(u.subtreeFlags&10256)!==0)),O&2048&&Cm(re,u);break;case 24:gr(l,u,x,E),O&2048&&Rm(u.alternate,u);break;default:gr(l,u,x,E)}}function Dl(l,u,x,E,O){for(O=O&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var I=l,re=u,fe=x,we=E,We=re.flags;switch(re.tag){case 0:case 11:case 15:Dl(I,re,fe,we,O),Su(8,re);break;case 23:break;case 22:var it=re.stateNode;re.memoizedState!==null?it._visibility&2?Dl(I,re,fe,we,O):fo(I,re):(it._visibility|=2,Dl(I,re,fe,we,O)),O&&We&2048&&Cm(re.alternate,re);break;case 24:Dl(I,re,fe,we,O),O&&We&2048&&Rm(re.alternate,re);break;default:Dl(I,re,fe,we,O)}u=u.sibling}}function fo(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var x=l,E=u,O=E.flags;switch(E.tag){case 22:fo(x,E),O&2048&&Cm(E.alternate,E);break;case 24:fo(x,E),O&2048&&Rm(E.alternate,E);break;default:fo(x,E)}u=u.sibling}}var aa=8192;function Rd(l){if(l.subtreeFlags&aa)for(l=l.child;l!==null;)Cx(l),l=l.sibling}function Cx(l){switch(l.tag){case 26:Rd(l),l.flags&aa&&l.memoizedState!==null&&FD(ho,l.memoizedState,l.memoizedProps);break;case 5:Rd(l);break;case 3:case 4:var u=ho;ho=zx(l.stateNode.containerInfo),Rd(l),ho=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=aa,aa=16777216,Rd(l),aa=u):Rd(l));break;default:Rd(l)}}function Rx(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function Nr(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var x=0;x<u.length;x++){var E=u[x];pr=E,qo(E,l)}Rx(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)F0(l),l=l.sibling}function F0(l){switch(l.tag){case 0:case 11:case 15:Nr(l),l.flags&2048&&ra(9,l,l.return);break;case 3:Nr(l);break;case 12:Nr(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,Fo(l)):Nr(l);break;default:Nr(l)}}function Fo(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var x=0;x<u.length;x++){var E=u[x];pr=E,qo(E,l)}Rx(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:ra(8,u,u.return),Fo(u);break;case 22:x=u.stateNode,x._visibility&2&&(x._visibility&=-3,Fo(u));break;default:Fo(u)}l=l.sibling}}function qo(l,u){for(;pr!==null;){var x=pr;switch(x.tag){case 0:case 11:case 15:ra(8,x,u);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var E=x.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:fd(x.memoizedState.cache)}if(E=x.child,E!==null)E.return=x,pr=E;else e:for(x=l;pr!==null;){E=pr;var O=E.sibling,I=E.return;if(An(E),E===x){pr=null;break e}if(O!==null){O.return=I,pr=O;break e}pr=I}}}var Wr={getCacheForType:function(l){var u=qr(di),x=u.data.get(l);return x===void 0&&(x=l(),u.data.set(l,x)),x}},q0=typeof WeakMap=="function"?WeakMap:Map,or=0,yn=null,Bn=null,$t=0,Mn=0,Ir=null,oa=!1,Od=!1,Dd=!1,Da=0,Cr=0,mo=0,Go=0,Mu=0,Pa=0,Jn=0,lr=null,sn=null,Vn=!1,fr=0,ss=1/0,La=null,la=null,Ei=0,as=null,br=null,ca=0,Pl=0,$h=null,ua=null,Wo=0,ju=null;function Xr(){if((or&2)!==0&&$t!==0)return $t&-$t;if(W.T!==null){var l=wn;return l!==0?l:E_()}return Un()}function Dm(){Pa===0&&(Pa=($t&536870912)===0||cn?De():536870912);var l=mr.current;return l!==null&&(l.flags|=32),Pa}function Ss(l,u,x){(l===yn&&(Mn===2||Mn===9)||l.cancelPendingCommit!==null)&&(Oc(l,0),po(l,$t,Pa,!1)),jt(l,x),((or&2)===0||l!==yn)&&(l===yn&&((or&2)===0&&(Go|=x),Cr===4&&po(l,$t,Pa,!1)),Lc(l))}function Pd(l,u,x){if((or&6)!==0)throw Error(n(327));var E=!x&&(u&124)===0&&(u&l.expiredLanes)===0||gt(l,u),O=E?D(l,u):p(l,u,!0),I=E;do{if(O===0){Od&&!E&&po(l,u,0,!1);break}else{if(x=l.current.alternate,I&&!Rc(x)){O=p(l,u,!1),I=!1;continue}if(O===2){if(I=u,l.errorRecoveryDisabledLanes&I)var re=0;else re=l.pendingLanes&-536870913,re=re!==0?re:re&536870912?536870912:0;if(re!==0){u=re;e:{var fe=l;O=lr;var we=fe.current.memoizedState.isDehydrated;if(we&&(Oc(fe,re).flags|=256),re=p(fe,re,!1),re!==2){if(Dd&&!we){fe.errorRecoveryDisabledLanes|=I,Go|=I,O=4;break e}I=sn,sn=O,I!==null&&(sn===null?sn=I:sn.push.apply(sn,I))}O=re}if(I=!1,O!==2)continue}}if(O===1){Oc(l,0),po(l,u,0,!0);break}e:{switch(E=l,I=O,I){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:po(E,u,Pa,!oa);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(O=fr+300-Xe(),10<O)){if(po(E,u,Pa,!oa),Pt(E,0,!0)!==0)break e;E.timeoutHandle=yN(ef.bind(null,E,x,sn,La,Vn,u,Pa,Go,Jn,oa,I,2,-0,0),O);break e}ef(E,x,sn,La,Vn,u,Pa,Go,Jn,oa,I,0,-0,0)}}break}while(!0);Lc(l)}function ef(l,u,x,E,O,I,re,fe,we,We,it,lt,Ke,Qe){if(l.timeoutHandle=-1,lt=u.subtreeFlags,(lt&8192||(lt&16785408)===16785408)&&(J0={stylesheets:null,count:0,unsuspend:VD},Cx(u),lt=qD(),lt!==null)){l.cancelPendingCommit=lt(xt.bind(null,l,u,I,x,E,O,re,fe,we,it,1,Ke,Qe)),po(l,I,re,!We);return}xt(l,u,I,x,E,O,re,fe,we)}function Rc(l){for(var u=l;;){var x=u.tag;if((x===0||x===11||x===15)&&u.flags&16384&&(x=u.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var E=0;E<x.length;E++){var O=x[E],I=O.getSnapshot;O=O.value;try{if(!es(I(),O))return!1}catch{return!1}}if(x=u.child,u.subtreeFlags&16384&&x!==null)x.return=u,u=x;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function po(l,u,x,E){u&=~Mu,u&=~Go,l.suspendedLanes|=u,l.pingedLanes&=~u,E&&(l.warmLanes|=u),E=l.expirationTimes;for(var O=u;0<O;){var I=31-St(O),re=1<<I;E[I]=-1,O&=~re}x!==0&&at(l,x,u)}function Xo(){return(or&6)===0?(G0(0),!1):!0}function Au(){if(Bn!==null){if(Mn===0)var l=Bn.return;else l=Bn,ro=Qs=null,T0(l),fu=null,Wh=0,l=Bn;for(;l!==null;)jd(l.alternate,l),l=l.return;Bn=null}}function Oc(l,u){var x=l.timeoutHandle;x!==-1&&(l.timeoutHandle=-1,ND(x)),x=l.cancelPendingCommit,x!==null&&(l.cancelPendingCommit=null,x()),Au(),yn=l,Bn=x=Lr(l.current,null),$t=u,Mn=0,Ir=null,oa=!1,Od=gt(l,u),Dd=!1,Jn=Pa=Mu=Go=mo=Cr=0,sn=lr=null,Vn=!1,(u&8)!==0&&(u|=u&32);var E=l.entangledLanes;if(E!==0)for(l=l.entanglements,E&=u;0<E;){var O=31-St(E),I=1<<O;u|=l[O],E&=~I}return Da=u,fc(),x}function Pm(l,u){En=null,W.H=Gh,u===Bh||u===so?(u=_0(),Mn=3):u===y0?(u=_0(),Mn=4):Mn=u===Ax?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ir=u,Bn===null&&(Cr=1,Nm(l,ui(u,l.current)))}function Ld(){var l=W.H;return W.H=Gh,l===null?Gh:l}function Lm(){var l=W.A;return W.A=Wr,l}function m(){Cr=4,oa||($t&4194048)!==$t&&mr.current!==null||(Od=!0),(mo&134217727)===0&&(Go&134217727)===0||yn===null||po(yn,$t,Pa,!1)}function p(l,u,x){var E=or;or|=2;var O=Ld(),I=Lm();(yn!==l||$t!==u)&&(La=null,Oc(l,u)),u=!1;var re=Cr;e:do try{if(Mn!==0&&Bn!==null){var fe=Bn,we=Ir;switch(Mn){case 8:Au(),re=6;break e;case 3:case 2:case 9:case 6:mr.current===null&&(u=!0);var We=Mn;if(Mn=0,Ir=null,Ne(l,fe,we,We),x&&Od){re=0;break e}break;default:We=Mn,Mn=0,Ir=null,Ne(l,fe,we,We)}}M(),re=Cr;break}catch(it){Pm(l,it)}while(!0);return u&&l.shellSuspendCounter++,ro=Qs=null,or=E,W.H=O,W.A=I,Bn===null&&(yn=null,$t=0,fc()),re}function M(){for(;Bn!==null;)Z(Bn)}function D(l,u){var x=or;or|=2;var E=Ld(),O=Lm();yn!==l||$t!==u?(La=null,ss=Xe()+500,Oc(l,u)):Od=gt(l,u);e:do try{if(Mn!==0&&Bn!==null){u=Bn;var I=Ir;t:switch(Mn){case 1:Mn=0,Ir=null,Ne(l,u,I,1);break;case 2:case 9:if(um(I)){Mn=0,Ir=null,pe(u);break}u=function(){Mn!==2&&Mn!==9||yn!==l||(Mn=7),Lc(l)},I.then(u,u);break e;case 3:Mn=7;break e;case 4:Mn=5;break e;case 7:um(I)?(Mn=0,Ir=null,pe(u)):(Mn=0,Ir=null,Ne(l,u,I,7));break;case 5:var re=null;switch(Bn.tag){case 26:re=Bn.memoizedState;case 5:case 27:var fe=Bn;if(!re||ON(re)){Mn=0,Ir=null;var we=fe.sibling;if(we!==null)Bn=we;else{var We=fe.return;We!==null?(Bn=We,Ie(We)):Bn=null}break t}}Mn=0,Ir=null,Ne(l,u,I,5);break;case 6:Mn=0,Ir=null,Ne(l,u,I,6);break;case 8:Au(),Cr=6;break e;default:throw Error(n(462))}}H();break}catch(it){Pm(l,it)}while(!0);return ro=Qs=null,W.H=E,W.A=O,or=x,Bn!==null?0:(yn=null,$t=0,fc(),Cr)}function H(){for(;Bn!==null&&!Ve();)Z(Bn)}function Z(l){var u=yu(l.alternate,l,Da);l.memoizedProps=l.pendingProps,u===null?Ie(l):Bn=u}function pe(l){var u=l,x=u.alternate;switch(u.tag){case 15:case 0:u=ta(x,u,u.pendingProps,u.type,void 0,$t);break;case 11:u=ta(x,u,u.pendingProps,u.type.render,u.ref,$t);break;case 5:T0(u);default:jd(x,u),u=Bn=hd(u,Da),u=yu(x,u,Da)}l.memoizedProps=l.pendingProps,u===null?Ie(l):Bn=u}function Ne(l,u,x,E){ro=Qs=null,T0(u),fu=null,Wh=0;var O=u.return;try{if(S_(l,O,u,x,$t)){Cr=1,Nm(l,ui(x,l.current)),Bn=null;return}}catch(I){if(O!==null)throw Bn=O,I;Cr=1,Nm(l,ui(x,l.current)),Bn=null;return}u.flags&32768?(cn||E===1?l=!0:Od||($t&536870912)!==0?l=!1:(oa=l=!0,(E===2||E===9||E===3||E===6)&&(E=mr.current,E!==null&&E.tag===13&&(E.flags|=16384))),rt(u,l)):Ie(u)}function Ie(l){var u=l;do{if((u.flags&32768)!==0){rt(u,oa);return}l=u.return;var x=V0(u.alternate,u,Da);if(x!==null){Bn=x;return}if(u=u.sibling,u!==null){Bn=u;return}Bn=u=l}while(u!==null);Cr===0&&(Cr=5)}function rt(l,u){do{var x=Md(l.alternate,l);if(x!==null){x.flags&=32767,Bn=x;return}if(x=l.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!u&&(l=l.sibling,l!==null)){Bn=l;return}Bn=l=x}while(l!==null);Cr=6,Bn=null}function xt(l,u,x,E,O,I,re,fe,we){l.cancelPendingCommit=null;do Dc();while(Ei!==0);if((or&6)!==0)throw Error(n(327));if(u!==null){if(u===l.current)throw Error(n(177));if(I=u.lanes|u.childLanes,I|=Ls,ht(l,x,I,re,fe,we),l===yn&&(Bn=yn=null,$t=0),br=u,as=l,ca=x,Pl=I,$h=O,ua=E,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,tr(Be,function(){return Pc(),null})):(l.callbackNode=null,l.callbackPriority=0),E=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||E){E=W.T,W.T=null,O=K.p,K.p=2,re=or,or|=4;try{wi(l,u,x)}finally{or=re,K.p=O,W.T=E}}Ei=1,Tt(),Rt(),_n()}}function Tt(){if(Ei===1){Ei=0;var l=as,u=br,x=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||x){x=W.T,W.T=null;var E=K.p;K.p=2;var O=or;or|=4;try{Am(u,l);var I=O_,re=uc(l.containerInfo),fe=I.focusedElem,we=I.selectionRange;if(re!==fe&&fe&&fe.ownerDocument&&au(fe.ownerDocument.documentElement,fe)){if(we!==null&&vl(fe)){var We=we.start,it=we.end;if(it===void 0&&(it=We),"selectionStart"in fe)fe.selectionStart=We,fe.selectionEnd=Math.min(it,fe.value.length);else{var lt=fe.ownerDocument||document,Ke=lt&&lt.defaultView||window;if(Ke.getSelection){var Qe=Ke.getSelection(),gn=fe.textContent.length,on=Math.min(we.start,gn),Mr=we.end===void 0?on:Math.min(we.end,gn);!Qe.extend&&on>Mr&&(re=Mr,Mr=on,on=re);var Le=cd(fe,on),Re=cd(fe,Mr);if(Le&&Re&&(Qe.rangeCount!==1||Qe.anchorNode!==Le.node||Qe.anchorOffset!==Le.offset||Qe.focusNode!==Re.node||Qe.focusOffset!==Re.offset)){var Fe=lt.createRange();Fe.setStart(Le.node,Le.offset),Qe.removeAllRanges(),on>Mr?(Qe.addRange(Fe),Qe.extend(Re.node,Re.offset)):(Fe.setEnd(Re.node,Re.offset),Qe.addRange(Fe))}}}}for(lt=[],Qe=fe;Qe=Qe.parentNode;)Qe.nodeType===1&&lt.push({element:Qe,left:Qe.scrollLeft,top:Qe.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<lt.length;fe++){var st=lt[fe];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}Hx=!!R_,O_=R_=null}finally{or=O,K.p=E,W.T=x}}l.current=u,Ei=2}}function Rt(){if(Ei===2){Ei=0;var l=as,u=br,x=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||x){x=W.T,W.T=null;var E=K.p;K.p=2;var O=or;or|=4;try{Ol(l,u.alternate,u)}finally{or=O,K.p=E,W.T=x}}Ei=3}}function _n(){if(Ei===4||Ei===3){Ei=0,nt();var l=as,u=br,x=ca,E=ua;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Ei=5:(Ei=0,br=as=null,da(l,l.pendingLanes));var O=l.pendingLanes;if(O===0&&(la=null),Hn(x),u=u.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(qe,u,void 0,(u.current.flags&128)===128)}catch{}if(E!==null){u=W.T,O=K.p,K.p=2,W.T=null;try{for(var I=l.onRecoverableError,re=0;re<E.length;re++){var fe=E[re];I(fe.value,{componentStack:fe.stack})}}finally{W.T=u,K.p=O}}(ca&3)!==0&&Dc(),Lc(l),O=l.pendingLanes,(x&4194090)!==0&&(O&42)!==0?l===ju?Wo++:(Wo=0,ju=l):Wo=0,G0(0)}}function da(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,fd(u)))}function Dc(l){return Tt(),Rt(),_n(),Pc()}function Pc(){if(Ei!==5)return!1;var l=as,u=Pl;Pl=0;var x=Hn(ca),E=W.T,O=K.p;try{K.p=32>x?32:x,W.T=null,x=$h,$h=null;var I=as,re=ca;if(Ei=0,br=as=null,ca=0,(or&6)!==0)throw Error(n(331));var fe=or;if(or|=4,F0(I.current),Om(I,I.current,re,x),or=fe,G0(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(qe,I)}catch{}return!0}finally{K.p=O,W.T=E,da(l,u)}}function Ye(l,u,x){u=ui(x,u),u=Tm(l.stateNode,u,2),l=Nl(l,u,2),l!==null&&(jt(l,2),Lc(l))}function Ae(l,u,x){if(l.tag===3)Ye(l,l,x);else for(;u!==null;){if(u.tag===3){Ye(u,l,x);break}else if(u.tag===1){var E=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(la===null||!la.has(E))){l=ui(x,l),x=jx(2),E=Nl(u,x,2),E!==null&&(Mm(x,E,u,l),jt(E,2),Lc(E));break}}u=u.return}}function et(l,u,x){var E=l.pingCache;if(E===null){E=l.pingCache=new q0;var O=new Set;E.set(u,O)}else O=E.get(u),O===void 0&&(O=new Set,E.set(u,O));O.has(x)||(Dd=!0,O.add(x),l=pt.bind(null,l,u,x),u.then(l,l))}function pt(l,u,x){var E=l.pingCache;E!==null&&E.delete(u),l.pingedLanes|=l.suspendedLanes&x,l.warmLanes&=~x,yn===l&&($t&x)===x&&(Cr===4||Cr===3&&($t&62914560)===$t&&300>Xe()-fr?(or&2)===0&&Oc(l,0):Mu|=x,Jn===$t&&(Jn=0)),Lc(l)}function Yt(l,u){u===0&&(u=mt()),l=eo(l,u),l!==null&&(jt(l,u),Lc(l))}function Rr(l){var u=l.memoizedState,x=0;u!==null&&(x=u.retryLane),Yt(l,x)}function mn(l,u){var x=0;switch(l.tag){case 13:var E=l.stateNode,O=l.memoizedState;O!==null&&(x=O.retryLane);break;case 19:E=l.stateNode;break;case 22:E=l.stateNode._retryCache;break;default:throw Error(n(314))}E!==null&&E.delete(u),Yt(l,x)}function tr(l,u){return xe(l,u)}var ii=null,kn=null,Yo=!1,zm=!1,w_=!1,tf=0;function Lc(l){l!==kn&&l.next===null&&(kn===null?ii=kn=l:kn=kn.next=l),zm=!0,Yo||(Yo=!0,gD())}function G0(l,u){if(!w_&&zm){w_=!0;do for(var x=!1,E=ii;E!==null;){if(l!==0){var O=E.pendingLanes;if(O===0)var I=0;else{var re=E.suspendedLanes,fe=E.pingedLanes;I=(1<<31-St(42|l)+1)-1,I&=O&~(re&~fe),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(x=!0,uN(E,I))}else I=$t,I=Pt(E,E===yn?I:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(I&3)===0||gt(E,I)||(x=!0,uN(E,I));E=E.next}while(x);w_=!1}}function pD(){oN()}function oN(){zm=Yo=!1;var l=0;tf!==0&&(ED()&&(l=tf),tf=0);for(var u=Xe(),x=null,E=ii;E!==null;){var O=E.next,I=lN(E,u);I===0?(E.next=null,x===null?ii=O:x.next=O,O===null&&(kn=x)):(x=E,(l!==0||(I&3)!==0)&&(zm=!0)),E=O}G0(l)}function lN(l,u){for(var x=l.suspendedLanes,E=l.pingedLanes,O=l.expirationTimes,I=l.pendingLanes&-62914561;0<I;){var re=31-St(I),fe=1<<re,we=O[re];we===-1?((fe&x)===0||(fe&E)!==0)&&(O[re]=an(fe,u)):we<=u&&(l.expiredLanes|=fe),I&=~fe}if(u=yn,x=$t,x=Pt(l,l===u?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),E=l.callbackNode,x===0||l===u&&(Mn===2||Mn===9)||l.cancelPendingCommit!==null)return E!==null&&E!==null&&ke(E),l.callbackNode=null,l.callbackPriority=0;if((x&3)===0||gt(l,x)){if(u=x&-x,u===l.callbackPriority)return u;switch(E!==null&&ke(E),Hn(x)){case 2:case 8:x=ye;break;case 32:x=Be;break;case 268435456:x=he;break;default:x=Be}return E=cN.bind(null,l),x=xe(x,E),l.callbackPriority=u,l.callbackNode=x,u}return E!==null&&E!==null&&ke(E),l.callbackPriority=2,l.callbackNode=null,2}function cN(l,u){if(Ei!==0&&Ei!==5)return l.callbackNode=null,l.callbackPriority=0,null;var x=l.callbackNode;if(Dc()&&l.callbackNode!==x)return null;var E=$t;return E=Pt(l,l===yn?E:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),E===0?null:(Pd(l,E,u),lN(l,Xe()),l.callbackNode!=null&&l.callbackNode===x?cN.bind(null,l):null)}function uN(l,u){if(Dc())return null;Pd(l,u,!0)}function gD(){TD(function(){(or&6)!==0?xe(de,pD):oN()})}function E_(){return tf===0&&(tf=De()),tf}function dN(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:ll(""+l)}function hN(l,u){var x=u.ownerDocument.createElement("input");return x.name=u.name,x.value=u.value,l.id&&x.setAttribute("form",l.id),u.parentNode.insertBefore(x,u),l=new FormData(l),x.parentNode.removeChild(x),l}function bD(l,u,x,E,O){if(u==="submit"&&x&&x.stateNode===O){var I=dN((O[yr]||null).action),re=E.submitter;re&&(u=(u=re[yr]||null)?dN(u.formAction):re.getAttribute("formAction"),u!==null&&(I=u,re=null));var fe=new hl("action","action",null,E,O);l.push({event:fe,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(tf!==0){var we=re?hN(O,re):new FormData(O);I0(x,{pending:!0,data:we,method:O.method,action:I},null,we)}}else typeof I=="function"&&(fe.preventDefault(),we=re?hN(O,re):new FormData(O),I0(x,{pending:!0,data:we,method:O.method,action:I},I,we))},currentTarget:O}]})}}for(var N_=0;N_<Qa.length;N_++){var T_=Qa[N_],xD=T_.toLowerCase(),vD=T_[0].toUpperCase()+T_.slice(1);ci(xD,"on"+vD)}ci(zi,"onAnimationEnd"),ci(Os,"onAnimationIteration"),ci(xi,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(im,"onTransitionRun"),ci(Ds,"onTransitionStart"),ci(hc,"onTransitionCancel"),ci(Ea,"onTransitionEnd"),Ce("onMouseEnter",["mouseout","mouseover"]),Ce("onMouseLeave",["mouseout","mouseover"]),Ce("onPointerEnter",["pointerout","pointerover"]),Ce("onPointerLeave",["pointerout","pointerover"]),me("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),me("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),me("onBeforeInput",["compositionend","keypress","textInput","paste"]),me("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),me("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),me("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var W0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(W0));function fN(l,u){u=(u&4)!==0;for(var x=0;x<l.length;x++){var E=l[x],O=E.event;E=E.listeners;e:{var I=void 0;if(u)for(var re=E.length-1;0<=re;re--){var fe=E[re],we=fe.instance,We=fe.currentTarget;if(fe=fe.listener,we!==I&&O.isPropagationStopped())break e;I=fe,O.currentTarget=We;try{I(O)}catch(it){pu(it)}O.currentTarget=null,I=we}else for(re=0;re<E.length;re++){if(fe=E[re],we=fe.instance,We=fe.currentTarget,fe=fe.listener,we!==I&&O.isPropagationStopped())break e;I=fe,O.currentTarget=We;try{I(O)}catch(it){pu(it)}O.currentTarget=null,I=we}}}}function Gn(l,u){var x=u[Dr];x===void 0&&(x=u[Dr]=new Set);var E=l+"__bubble";x.has(E)||(mN(u,l,2,!1),x.add(E))}function M_(l,u,x){var E=0;u&&(E|=4),mN(x,l,E,u)}var Ox="_reactListening"+Math.random().toString(36).slice(2);function j_(l){if(!l[Ox]){l[Ox]=!0,Jl.forEach(function(x){x!=="selectionchange"&&(yD.has(x)||M_(x,!1,l),M_(x,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Ox]||(u[Ox]=!0,M_("selectionchange",!1,u))}}function mN(l,u,x,E){switch(IN(u)){case 2:var O=XD;break;case 8:O=YD;break;default:O=V_}x=O.bind(null,u,x,l),O=void 0,!ul||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(O=!0),E?O!==void 0?l.addEventListener(u,x,{capture:!0,passive:O}):l.addEventListener(u,x,!0):O!==void 0?l.addEventListener(u,x,{passive:O}):l.addEventListener(u,x,!1)}function A_(l,u,x,E,O){var I=E;if((u&1)===0&&(u&2)===0&&E!==null)e:for(;;){if(E===null)return;var re=E.tag;if(re===3||re===4){var fe=E.stateNode.containerInfo;if(fe===O)break;if(re===4)for(re=E.return;re!==null;){var we=re.tag;if((we===3||we===4)&&re.stateNode.containerInfo===O)return;re=re.return}for(;fe!==null;){if(re=ds(fe),re===null)return;if(we=re.tag,we===5||we===6||we===26||we===27){E=I=re;continue e}fe=fe.parentNode}}E=E.return}Cs(function(){var We=I,it=cl(x),lt=[];e:{var Ke=ud.get(l);if(Ke!==void 0){var Qe=hl,gn=l;switch(l){case"keypress":if(_r(x)===0)break e;case"keydown":case"keyup":Qe=Mh;break;case"focusin":gn="focus",Qe=nd;break;case"focusout":gn="blur",Qe=nd;break;case"beforeblur":case"afterblur":Qe=nd;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qe=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qe=x0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qe=jh;break;case zi:case Os:case xi:Qe=Kf;break;case Ea:Qe=Za;break;case"scroll":case"scrollend":Qe=Zf;break;case"wheel":Qe=em;break;case"copy":case"cut":case"paste":Qe=rd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qe=nu;break;case"toggle":case"beforetoggle":Qe=Ki}var on=(u&4)!==0,Mr=!on&&(l==="scroll"||l==="scrollend"),Le=on?Ke!==null?Ke+"Capture":null:Ke;on=[];for(var Re=We,Fe;Re!==null;){var st=Re;if(Fe=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||Fe===null||Le===null||(st=Zn(Re,Le),st!=null&&on.push(X0(Re,st,Fe))),Mr)break;Re=Re.return}0<on.length&&(Ke=new Qe(Ke,gn,null,x,it),lt.push({event:Ke,listeners:on}))}}if((u&7)===0){e:{if(Ke=l==="mouseover"||l==="pointerover",Qe=l==="mouseout"||l==="pointerout",Ke&&x!==tc&&(gn=x.relatedTarget||x.fromElement)&&(ds(gn)||gn[As]))break e;if((Qe||Ke)&&(Ke=it.window===it?it:(Ke=it.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,Qe?(gn=x.relatedTarget||x.toElement,Qe=We,gn=gn?ds(gn):null,gn!==null&&(Mr=a(gn),on=gn.tag,gn!==Mr||on!==5&&on!==27&&on!==6)&&(gn=null)):(Qe=null,gn=We),Qe!==gn)){if(on=fl,st="onMouseLeave",Le="onMouseEnter",Re="mouse",(l==="pointerout"||l==="pointerover")&&(on=nu,st="onPointerLeave",Le="onPointerEnter",Re="pointer"),Mr=Qe==null?Ke:hs(Qe),Fe=gn==null?Ke:hs(gn),Ke=new on(st,Re+"leave",Qe,x,it),Ke.target=Mr,Ke.relatedTarget=Fe,st=null,ds(it)===We&&(on=new on(Le,Re+"enter",gn,x,it),on.target=Fe,on.relatedTarget=Mr,st=on),Mr=st,Qe&&gn)t:{for(on=Qe,Le=gn,Re=0,Fe=on;Fe;Fe=Um(Fe))Re++;for(Fe=0,st=Le;st;st=Um(st))Fe++;for(;0<Re-Fe;)on=Um(on),Re--;for(;0<Fe-Re;)Le=Um(Le),Fe--;for(;Re--;){if(on===Le||Le!==null&&on===Le.alternate)break t;on=Um(on),Le=Um(Le)}on=null}else on=null;Qe!==null&&pN(lt,Ke,Qe,on,!1),gn!==null&&Mr!==null&&pN(lt,Mr,gn,on,!0)}}e:{if(Ke=We?hs(We):window,Qe=Ke.nodeName&&Ke.nodeName.toLowerCase(),Qe==="select"||Qe==="input"&&Ke.type==="file")var Vt=jo;else if(Mo(Ke))if(su)Vt=Ao;else{Vt=nm;var Fn=Rh}else Qe=Ke.nodeName,!Qe||Qe.toLowerCase()!=="input"||Ke.type!=="checkbox"&&Ke.type!=="radio"?We&&ec(We.elementType)&&(Vt=jo):Vt=gs;if(Vt&&(Vt=Vt(l,We))){Qi(lt,Vt,x,it);break e}Fn&&Fn(l,Ke,We),l==="focusout"&&We&&Ke.type==="number"&&We.memoizedProps.value!=null&&Vr(Ke,"number",Ke.value)}switch(Fn=We?hs(We):window,l){case"focusin":(Mo(Fn)||Fn.contentEditable==="true")&&(ts=Fn,yl=We,_l=null);break;case"focusout":_l=yl=ts=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,Oh(lt,x,it);break;case"selectionchange":if(dc)break;case"keydown":case"keyup":Oh(lt,x,it)}var Zt;if(Ja)e:{switch(l){case"compositionstart":var un="onCompositionStart";break e;case"compositionend":un="onCompositionEnd";break e;case"compositionupdate":un="onCompositionUpdate";break e}un=void 0}else To?ml(l,x)&&(un="onCompositionEnd"):l==="keydown"&&x.keyCode===229&&(un="onCompositionStart");un&&(oc&&x.locale!=="ko"&&(To||un!=="onCompositionStart"?un==="onCompositionEnd"&&To&&(Zt=dl()):(Ks=it,Xa="value"in Ks?Ks.value:Ks.textContent,To=!0)),Fn=Dx(We,un),0<Fn.length&&(un=new ms(un,l,null,x,it),lt.push({event:un,listeners:Fn}),Zt?un.data=Zt:(Zt=Ah(x),Zt!==null&&(un.data=Zt)))),(Zt=ac?lc(l,x):Ch(l,x))&&(un=Dx(We,"onBeforeInput"),0<un.length&&(Fn=new ms("onBeforeInput","beforeinput",null,x,it),lt.push({event:Fn,listeners:un}),Fn.data=Zt)),bD(lt,l,We,x,it)}fN(lt,u)})}function X0(l,u,x){return{instance:l,listener:u,currentTarget:x}}function Dx(l,u){for(var x=u+"Capture",E=[];l!==null;){var O=l,I=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||I===null||(O=Zn(l,x),O!=null&&E.unshift(X0(l,O,I)),O=Zn(l,u),O!=null&&E.push(X0(l,O,I))),l.tag===3)return E;l=l.return}return[]}function Um(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function pN(l,u,x,E,O){for(var I=u._reactName,re=[];x!==null&&x!==E;){var fe=x,we=fe.alternate,We=fe.stateNode;if(fe=fe.tag,we!==null&&we===E)break;fe!==5&&fe!==26&&fe!==27||We===null||(we=We,O?(We=Zn(x,I),We!=null&&re.unshift(X0(x,We,we))):O||(We=Zn(x,I),We!=null&&re.push(X0(x,We,we)))),x=x.return}re.length!==0&&l.push({event:u,listeners:re})}var _D=/\r\n?/g,SD=/\u0000|\uFFFD/g;function gN(l){return(typeof l=="string"?l:""+l).replace(_D,`
`).replace(SD,"")}function bN(l,u){return u=gN(u),gN(l)===u}function Px(){}function Tr(l,u,x,E,O,I){switch(x){case"children":typeof E=="string"?u==="body"||u==="textarea"&&E===""||Ar(l,E):(typeof E=="number"||typeof E=="bigint")&&u!=="body"&&Ar(l,""+E);break;case"className":Ct(l,"class",E);break;case"tabIndex":Ct(l,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":Ct(l,x,E);break;case"style":qa(l,E,I);break;case"data":if(u!=="object"){Ct(l,"data",E);break}case"src":case"href":if(E===""&&(u!=="a"||x!=="href")){l.removeAttribute(x);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){l.removeAttribute(x);break}E=ll(""+E),l.setAttribute(x,E);break;case"action":case"formAction":if(typeof E=="function"){l.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(x==="formAction"?(u!=="input"&&Tr(l,u,"name",O.name,O,null),Tr(l,u,"formEncType",O.formEncType,O,null),Tr(l,u,"formMethod",O.formMethod,O,null),Tr(l,u,"formTarget",O.formTarget,O,null)):(Tr(l,u,"encType",O.encType,O,null),Tr(l,u,"method",O.method,O,null),Tr(l,u,"target",O.target,O,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){l.removeAttribute(x);break}E=ll(""+E),l.setAttribute(x,E);break;case"onClick":E!=null&&(l.onclick=Px);break;case"onScroll":E!=null&&Gn("scroll",l);break;case"onScrollEnd":E!=null&&Gn("scrollend",l);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(x=E.__html,x!=null){if(O.children!=null)throw Error(n(60));l.innerHTML=x}}break;case"multiple":l.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":l.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){l.removeAttribute("xlink:href");break}x=ll(""+E),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?l.setAttribute(x,""+E):l.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?l.setAttribute(x,""):l.removeAttribute(x);break;case"capture":case"download":E===!0?l.setAttribute(x,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?l.setAttribute(x,E):l.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?l.setAttribute(x,E):l.removeAttribute(x);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?l.removeAttribute(x):l.setAttribute(x,E);break;case"popover":Gn("beforetoggle",l),Gn("toggle",l),yt(l,"popover",E);break;case"xlinkActuate":_t(l,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":_t(l,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":_t(l,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":_t(l,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":_t(l,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":_t(l,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":_t(l,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":_t(l,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":_t(l,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":yt(l,"is",E);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=$c.get(x)||x,yt(l,x,E))}}function C_(l,u,x,E,O,I){switch(x){case"style":qa(l,E,I);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(x=E.__html,x!=null){if(O.children!=null)throw Error(n(60));l.innerHTML=x}}break;case"children":typeof E=="string"?Ar(l,E):(typeof E=="number"||typeof E=="bigint")&&Ar(l,""+E);break;case"onScroll":E!=null&&Gn("scroll",l);break;case"onScrollEnd":E!=null&&Gn("scrollend",l);break;case"onClick":E!=null&&(l.onclick=Px);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ql.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(O=x.endsWith("Capture"),u=x.slice(2,O?x.length-7:void 0),I=l[yr]||null,I=I!=null?I[x]:null,typeof I=="function"&&l.removeEventListener(u,I,O),typeof E=="function")){typeof I!="function"&&I!==null&&(x in l?l[x]=null:l.hasAttribute(x)&&l.removeAttribute(x)),l.addEventListener(u,E,O);break e}x in l?l[x]=E:E===!0?l.setAttribute(x,""):yt(l,x,E)}}}function ws(l,u,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gn("error",l),Gn("load",l);var E=!1,O=!1,I;for(I in x)if(x.hasOwnProperty(I)){var re=x[I];if(re!=null)switch(I){case"src":E=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Tr(l,u,I,re,x,null)}}O&&Tr(l,u,"srcSet",x.srcSet,x,null),E&&Tr(l,u,"src",x.src,x,null);return;case"input":Gn("invalid",l);var fe=I=re=O=null,we=null,We=null;for(E in x)if(x.hasOwnProperty(E)){var it=x[E];if(it!=null)switch(E){case"name":O=it;break;case"type":re=it;break;case"checked":we=it;break;case"defaultChecked":We=it;break;case"value":I=it;break;case"defaultValue":fe=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,u));break;default:Tr(l,u,E,it,x,null)}}Mi(l,I,fe,we,We,re,O,!1),Sn(l);return;case"select":Gn("invalid",l),E=re=I=null;for(O in x)if(x.hasOwnProperty(O)&&(fe=x[O],fe!=null))switch(O){case"value":I=fe;break;case"defaultValue":re=fe;break;case"multiple":E=fe;default:Tr(l,u,O,fe,x,null)}u=I,x=re,l.multiple=!!E,u!=null?rr(l,!!E,u,!1):x!=null&&rr(l,!!E,x,!0);return;case"textarea":Gn("invalid",l),I=O=E=null;for(re in x)if(x.hasOwnProperty(re)&&(fe=x[re],fe!=null))switch(re){case"value":E=fe;break;case"defaultValue":O=fe;break;case"children":I=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(91));break;default:Tr(l,u,re,fe,x,null)}fs(l,E,O,I),Sn(l);return;case"option":for(we in x)if(x.hasOwnProperty(we)&&(E=x[we],E!=null))switch(we){case"selected":l.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:Tr(l,u,we,E,x,null)}return;case"dialog":Gn("beforetoggle",l),Gn("toggle",l),Gn("cancel",l),Gn("close",l);break;case"iframe":case"object":Gn("load",l);break;case"video":case"audio":for(E=0;E<W0.length;E++)Gn(W0[E],l);break;case"image":Gn("error",l),Gn("load",l);break;case"details":Gn("toggle",l);break;case"embed":case"source":case"link":Gn("error",l),Gn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(We in x)if(x.hasOwnProperty(We)&&(E=x[We],E!=null))switch(We){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Tr(l,u,We,E,x,null)}return;default:if(ec(u)){for(it in x)x.hasOwnProperty(it)&&(E=x[it],E!==void 0&&C_(l,u,it,E,x,void 0));return}}for(fe in x)x.hasOwnProperty(fe)&&(E=x[fe],E!=null&&Tr(l,u,fe,E,x,null))}function wD(l,u,x,E){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,I=null,re=null,fe=null,we=null,We=null,it=null;for(Qe in x){var lt=x[Qe];if(x.hasOwnProperty(Qe)&&lt!=null)switch(Qe){case"checked":break;case"value":break;case"defaultValue":we=lt;default:E.hasOwnProperty(Qe)||Tr(l,u,Qe,null,E,lt)}}for(var Ke in E){var Qe=E[Ke];if(lt=x[Ke],E.hasOwnProperty(Ke)&&(Qe!=null||lt!=null))switch(Ke){case"type":I=Qe;break;case"name":O=Qe;break;case"checked":We=Qe;break;case"defaultChecked":it=Qe;break;case"value":re=Qe;break;case"defaultValue":fe=Qe;break;case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(n(137,u));break;default:Qe!==lt&&Tr(l,u,Ke,Qe,E,lt)}}Nn(l,re,fe,we,We,it,I,O);return;case"select":Qe=re=fe=Ke=null;for(I in x)if(we=x[I],x.hasOwnProperty(I)&&we!=null)switch(I){case"value":break;case"multiple":Qe=we;default:E.hasOwnProperty(I)||Tr(l,u,I,null,E,we)}for(O in E)if(I=E[O],we=x[O],E.hasOwnProperty(O)&&(I!=null||we!=null))switch(O){case"value":Ke=I;break;case"defaultValue":fe=I;break;case"multiple":re=I;default:I!==we&&Tr(l,u,O,I,E,we)}u=fe,x=re,E=Qe,Ke!=null?rr(l,!!x,Ke,!1):!!E!=!!x&&(u!=null?rr(l,!!x,u,!0):rr(l,!!x,x?[]:"",!1));return;case"textarea":Qe=Ke=null;for(fe in x)if(O=x[fe],x.hasOwnProperty(fe)&&O!=null&&!E.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:Tr(l,u,fe,null,E,O)}for(re in E)if(O=E[re],I=x[re],E.hasOwnProperty(re)&&(O!=null||I!=null))switch(re){case"value":Ke=O;break;case"defaultValue":Qe=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(n(91));break;default:O!==I&&Tr(l,u,re,O,E,I)}In(l,Ke,Qe);return;case"option":for(var gn in x)if(Ke=x[gn],x.hasOwnProperty(gn)&&Ke!=null&&!E.hasOwnProperty(gn))switch(gn){case"selected":l.selected=!1;break;default:Tr(l,u,gn,null,E,Ke)}for(we in E)if(Ke=E[we],Qe=x[we],E.hasOwnProperty(we)&&Ke!==Qe&&(Ke!=null||Qe!=null))switch(we){case"selected":l.selected=Ke&&typeof Ke!="function"&&typeof Ke!="symbol";break;default:Tr(l,u,we,Ke,E,Qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var on in x)Ke=x[on],x.hasOwnProperty(on)&&Ke!=null&&!E.hasOwnProperty(on)&&Tr(l,u,on,null,E,Ke);for(We in E)if(Ke=E[We],Qe=x[We],E.hasOwnProperty(We)&&Ke!==Qe&&(Ke!=null||Qe!=null))switch(We){case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(n(137,u));break;default:Tr(l,u,We,Ke,E,Qe)}return;default:if(ec(u)){for(var Mr in x)Ke=x[Mr],x.hasOwnProperty(Mr)&&Ke!==void 0&&!E.hasOwnProperty(Mr)&&C_(l,u,Mr,void 0,E,Ke);for(it in E)Ke=E[it],Qe=x[it],!E.hasOwnProperty(it)||Ke===Qe||Ke===void 0&&Qe===void 0||C_(l,u,it,Ke,E,Qe);return}}for(var Le in x)Ke=x[Le],x.hasOwnProperty(Le)&&Ke!=null&&!E.hasOwnProperty(Le)&&Tr(l,u,Le,null,E,Ke);for(lt in E)Ke=E[lt],Qe=x[lt],!E.hasOwnProperty(lt)||Ke===Qe||Ke==null&&Qe==null||Tr(l,u,lt,Ke,E,Qe)}var R_=null,O_=null;function Lx(l){return l.nodeType===9?l:l.ownerDocument}function xN(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vN(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function D_(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var P_=null;function ED(){var l=window.event;return l&&l.type==="popstate"?l===P_?!1:(P_=l,!0):(P_=null,!1)}var yN=typeof setTimeout=="function"?setTimeout:void 0,ND=typeof clearTimeout=="function"?clearTimeout:void 0,_N=typeof Promise=="function"?Promise:void 0,TD=typeof queueMicrotask=="function"?queueMicrotask:typeof _N<"u"?function(l){return _N.resolve(null).then(l).catch(MD)}:yN;function MD(l){setTimeout(function(){throw l})}function zd(l){return l==="head"}function SN(l,u){var x=u,E=0,O=0;do{var I=x.nextSibling;if(l.removeChild(x),I&&I.nodeType===8)if(x=I.data,x==="/$"){if(0<E&&8>E){x=E;var re=l.ownerDocument;if(x&1&&Y0(re.documentElement),x&2&&Y0(re.body),x&4)for(x=re.head,Y0(x),re=x.firstChild;re;){var fe=re.nextSibling,we=re.nodeName;re[Zi]||we==="SCRIPT"||we==="STYLE"||we==="LINK"&&re.rel.toLowerCase()==="stylesheet"||x.removeChild(re),re=fe}}if(O===0){l.removeChild(I),ng(u);return}O--}else x==="$"||x==="$?"||x==="$!"?O++:E=x.charCodeAt(0)-48;else E=0;x=I}while(x);ng(u)}function L_(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var x=u;switch(u=u.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":L_(x),ur(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}l.removeChild(x)}}function jD(l,u,x,E){for(;l.nodeType===1;){var O=x;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!E&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(E){if(!l[Zi])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(I=l.getAttribute("rel"),I==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(I!==O.rel||l.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||l.getAttribute("title")!==(O.title==null?null:O.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(I=l.getAttribute("src"),(I!==(O.src==null?null:O.src)||l.getAttribute("type")!==(O.type==null?null:O.type)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&I&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var I=O.name==null?null:""+O.name;if(O.type==="hidden"&&l.getAttribute("name")===I)return l}else return l;if(l=Ll(l.nextSibling),l===null)break}return null}function AD(l,u,x){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!x||(l=Ll(l.nextSibling),l===null))return null;return l}function z_(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function CD(l,u){var x=l.ownerDocument;if(l.data!=="$?"||x.readyState==="complete")u();else{var E=function(){u(),x.removeEventListener("DOMContentLoaded",E)};x.addEventListener("DOMContentLoaded",E),l._reactRetry=E}}function Ll(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return l}var U_=null;function wN(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var x=l.data;if(x==="$"||x==="$!"||x==="$?"){if(u===0)return l;u--}else x==="/$"&&u++}l=l.previousSibling}return null}function EN(l,u,x){switch(u=Lx(x),l){case"html":if(l=u.documentElement,!l)throw Error(n(452));return l;case"head":if(l=u.head,!l)throw Error(n(453));return l;case"body":if(l=u.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function Y0(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);ur(l)}var Zo=new Map,NN=new Set;function zx(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Cu=K.d;K.d={f:RD,r:OD,D:DD,C:PD,L:LD,m:zD,X:ID,S:UD,M:BD};function RD(){var l=Cu.f(),u=Xo();return l||u}function OD(l){var u=Ys(l);u!==null&&u.tag===5&&u.type==="form"?px(u):Cu.r(l)}var Im=typeof document>"u"?null:document;function TN(l,u,x){var E=Im;if(E&&typeof u=="string"&&u){var O=Pr(u);O='link[rel="'+l+'"][href="'+O+'"]',typeof x=="string"&&(O+='[crossorigin="'+x+'"]'),NN.has(O)||(NN.add(O),l={rel:l,crossOrigin:x,href:u},E.querySelector(O)===null&&(u=E.createElement("link"),ws(u,"link",l),Hr(u),E.head.appendChild(u)))}}function DD(l){Cu.D(l),TN("dns-prefetch",l,null)}function PD(l,u){Cu.C(l,u),TN("preconnect",l,u)}function LD(l,u,x){Cu.L(l,u,x);var E=Im;if(E&&l&&u){var O='link[rel="preload"][as="'+Pr(u)+'"]';u==="image"&&x&&x.imageSrcSet?(O+='[imagesrcset="'+Pr(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(O+='[imagesizes="'+Pr(x.imageSizes)+'"]')):O+='[href="'+Pr(l)+'"]';var I=O;switch(u){case"style":I=Bm(l);break;case"script":I=km(l)}Zo.has(I)||(l=g({rel:"preload",href:u==="image"&&x&&x.imageSrcSet?void 0:l,as:u},x),Zo.set(I,l),E.querySelector(O)!==null||u==="style"&&E.querySelector(Z0(I))||u==="script"&&E.querySelector(K0(I))||(u=E.createElement("link"),ws(u,"link",l),Hr(u),E.head.appendChild(u)))}}function zD(l,u){Cu.m(l,u);var x=Im;if(x&&l){var E=u&&typeof u.as=="string"?u.as:"script",O='link[rel="modulepreload"][as="'+Pr(E)+'"][href="'+Pr(l)+'"]',I=O;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=km(l)}if(!Zo.has(I)&&(l=g({rel:"modulepreload",href:l},u),Zo.set(I,l),x.querySelector(O)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(K0(I)))return}E=x.createElement("link"),ws(E,"link",l),Hr(E),x.head.appendChild(E)}}}function UD(l,u,x){Cu.S(l,u,x);var E=Im;if(E&&l){var O=_a(E).hoistableStyles,I=Bm(l);u=u||"default";var re=O.get(I);if(!re){var fe={loading:0,preload:null};if(re=E.querySelector(Z0(I)))fe.loading=5;else{l=g({rel:"stylesheet",href:l,"data-precedence":u},x),(x=Zo.get(I))&&I_(l,x);var we=re=E.createElement("link");Hr(we),ws(we,"link",l),we._p=new Promise(function(We,it){we.onload=We,we.onerror=it}),we.addEventListener("load",function(){fe.loading|=1}),we.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,Ux(re,u,E)}re={type:"stylesheet",instance:re,count:1,state:fe},O.set(I,re)}}}function ID(l,u){Cu.X(l,u);var x=Im;if(x&&l){var E=_a(x).hoistableScripts,O=km(l),I=E.get(O);I||(I=x.querySelector(K0(O)),I||(l=g({src:l,async:!0},u),(u=Zo.get(O))&&B_(l,u),I=x.createElement("script"),Hr(I),ws(I,"link",l),x.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},E.set(O,I))}}function BD(l,u){Cu.M(l,u);var x=Im;if(x&&l){var E=_a(x).hoistableScripts,O=km(l),I=E.get(O);I||(I=x.querySelector(K0(O)),I||(l=g({src:l,async:!0,type:"module"},u),(u=Zo.get(O))&&B_(l,u),I=x.createElement("script"),Hr(I),ws(I,"link",l),x.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},E.set(O,I))}}function MN(l,u,x,E){var O=(O=ie.current)?zx(O):null;if(!O)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(u=Bm(x.href),x=_a(O).hoistableStyles,E=x.get(u),E||(E={type:"style",instance:null,count:0,state:null},x.set(u,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){l=Bm(x.href);var I=_a(O).hoistableStyles,re=I.get(l);if(re||(O=O.ownerDocument||O,re={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(l,re),(I=O.querySelector(Z0(l)))&&!I._p&&(re.instance=I,re.state.loading=5),Zo.has(l)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Zo.set(l,x),I||kD(O,l,x,re.state))),u&&E===null)throw Error(n(528,""));return re}if(u&&E!==null)throw Error(n(529,""));return null;case"script":return u=x.async,x=x.src,typeof x=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=km(x),x=_a(O).hoistableScripts,E=x.get(u),E||(E={type:"script",instance:null,count:0,state:null},x.set(u,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function Bm(l){return'href="'+Pr(l)+'"'}function Z0(l){return'link[rel="stylesheet"]['+l+"]"}function jN(l){return g({},l,{"data-precedence":l.precedence,precedence:null})}function kD(l,u,x,E){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?E.loading=1:(u=l.createElement("link"),E.preload=u,u.addEventListener("load",function(){return E.loading|=1}),u.addEventListener("error",function(){return E.loading|=2}),ws(u,"link",x),Hr(u),l.head.appendChild(u))}function km(l){return'[src="'+Pr(l)+'"]'}function K0(l){return"script[async]"+l}function AN(l,u,x){if(u.count++,u.instance===null)switch(u.type){case"style":var E=l.querySelector('style[data-href~="'+Pr(x.href)+'"]');if(E)return u.instance=E,Hr(E),E;var O=g({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return E=(l.ownerDocument||l).createElement("style"),Hr(E),ws(E,"style",O),Ux(E,x.precedence,l),u.instance=E;case"stylesheet":O=Bm(x.href);var I=l.querySelector(Z0(O));if(I)return u.state.loading|=4,u.instance=I,Hr(I),I;E=jN(x),(O=Zo.get(O))&&I_(E,O),I=(l.ownerDocument||l).createElement("link"),Hr(I);var re=I;return re._p=new Promise(function(fe,we){re.onload=fe,re.onerror=we}),ws(I,"link",E),u.state.loading|=4,Ux(I,x.precedence,l),u.instance=I;case"script":return I=km(x.src),(O=l.querySelector(K0(I)))?(u.instance=O,Hr(O),O):(E=x,(O=Zo.get(I))&&(E=g({},x),B_(E,O)),l=l.ownerDocument||l,O=l.createElement("script"),Hr(O),ws(O,"link",E),l.head.appendChild(O),u.instance=O);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(E=u.instance,u.state.loading|=4,Ux(E,x.precedence,l));return u.instance}function Ux(l,u,x){for(var E=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=E.length?E[E.length-1]:null,I=O,re=0;re<E.length;re++){var fe=E[re];if(fe.dataset.precedence===u)I=fe;else if(I!==O)break}I?I.parentNode.insertBefore(l,I.nextSibling):(u=x.nodeType===9?x.head:x,u.insertBefore(l,u.firstChild))}function I_(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function B_(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var Ix=null;function CN(l,u,x){if(Ix===null){var E=new Map,O=Ix=new Map;O.set(x,E)}else O=Ix,E=O.get(x),E||(E=new Map,O.set(x,E));if(E.has(l))return E;for(E.set(l,null),x=x.getElementsByTagName(l),O=0;O<x.length;O++){var I=x[O];if(!(I[Zi]||I[kr]||l==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var re=I.getAttribute(u)||"";re=l+re;var fe=E.get(re);fe?fe.push(I):E.set(re,[I])}}return E}function RN(l,u,x){l=l.ownerDocument||l,l.head.insertBefore(x,u==="title"?l.querySelector("head > title"):null)}function HD(l,u,x){if(x===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function ON(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var J0=null;function VD(){}function FD(l,u,x){if(J0===null)throw Error(n(475));var E=J0;if(u.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var O=Bm(x.href),I=l.querySelector(Z0(O));if(I){l=I._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(E.count++,E=Bx.bind(E),l.then(E,E)),u.state.loading|=4,u.instance=I,Hr(I);return}I=l.ownerDocument||l,x=jN(x),(O=Zo.get(O))&&I_(x,O),I=I.createElement("link"),Hr(I);var re=I;re._p=new Promise(function(fe,we){re.onload=fe,re.onerror=we}),ws(I,"link",x),u.instance=I}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(E.count++,u=Bx.bind(E),l.addEventListener("load",u),l.addEventListener("error",u))}}function qD(){if(J0===null)throw Error(n(475));var l=J0;return l.stylesheets&&l.count===0&&k_(l,l.stylesheets),0<l.count?function(u){var x=setTimeout(function(){if(l.stylesheets&&k_(l,l.stylesheets),l.unsuspend){var E=l.unsuspend;l.unsuspend=null,E()}},6e4);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(x)}}:null}function Bx(){if(this.count--,this.count===0){if(this.stylesheets)k_(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var kx=null;function k_(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,kx=new Map,u.forEach(GD,l),kx=null,Bx.call(l))}function GD(l,u){if(!(u.state.loading&4)){var x=kx.get(l);if(x)var E=x.get(null);else{x=new Map,kx.set(l,x);for(var O=l.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<O.length;I++){var re=O[I];(re.nodeName==="LINK"||re.getAttribute("media")!=="not all")&&(x.set(re.dataset.precedence,re),E=re)}E&&x.set(null,E)}O=u.instance,re=O.getAttribute("data-precedence"),I=x.get(re)||E,I===E&&x.set(null,O),x.set(re,O),this.count++,E=Bx.bind(this),O.addEventListener("load",E),O.addEventListener("error",E),I?I.parentNode.insertBefore(O,I.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(O,l.firstChild)),u.state.loading|=4}}var Q0={$$typeof:C,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function WD(l,u,x,E,O,I,re,fe){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),this.hiddenUpdates=bt(null),this.identifierPrefix=E,this.onUncaughtError=O,this.onCaughtError=I,this.onRecoverableError=re,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function DN(l,u,x,E,O,I,re,fe,we,We,it,lt){return l=new WD(l,u,x,re,fe,we,We,lt),u=1,I===!0&&(u|=24),I=ns(3,null,null,u),l.current=I,I.stateNode=l,u=om(),u.refCount++,l.pooledCache=u,u.refCount++,I.memoizedState={element:E,isDehydrated:x,cache:u},S0(I),l}function PN(l){return l?(l=to,l):to}function LN(l,u,x,E,O,I){O=PN(O),E.context===null?E.context=O:E.pendingContext=O,E=zo(u),E.payload={element:x},I=I===void 0?null:I,I!==null&&(E.callback=I),x=Nl(l,E,u),x!==null&&(Ss(x,l,u),hu(x,l,u))}function zN(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var x=l.retryLane;l.retryLane=x!==0&&x<u?x:u}}function H_(l,u){zN(l,u),(l=l.alternate)&&zN(l,u)}function UN(l){if(l.tag===13){var u=eo(l,67108864);u!==null&&Ss(u,l,67108864),H_(l,67108864)}}var Hx=!0;function XD(l,u,x,E){var O=W.T;W.T=null;var I=K.p;try{K.p=2,V_(l,u,x,E)}finally{K.p=I,W.T=O}}function YD(l,u,x,E){var O=W.T;W.T=null;var I=K.p;try{K.p=8,V_(l,u,x,E)}finally{K.p=I,W.T=O}}function V_(l,u,x,E){if(Hx){var O=F_(E);if(O===null)A_(l,u,E,Vx,x),BN(l,E);else if(KD(O,l,u,x,E))E.stopPropagation();else if(BN(l,E),u&4&&-1<ZD.indexOf(l)){for(;O!==null;){var I=Ys(O);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var re=It(I.pendingLanes);if(re!==0){var fe=I;for(fe.pendingLanes|=2,fe.entangledLanes|=2;re;){var we=1<<31-St(re);fe.entanglements[1]|=we,re&=~we}Lc(I),(or&6)===0&&(ss=Xe()+500,G0(0))}}break;case 13:fe=eo(I,2),fe!==null&&Ss(fe,I,2),Xo(),H_(I,2)}if(I=F_(E),I===null&&A_(l,u,E,Vx,x),I===O)break;O=I}O!==null&&E.stopPropagation()}else A_(l,u,E,null,x)}}function F_(l){return l=cl(l),q_(l)}var Vx=null;function q_(l){if(Vx=null,l=ds(l),l!==null){var u=a(l);if(u===null)l=null;else{var x=u.tag;if(x===13){if(l=o(u),l!==null)return l;l=null}else if(x===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return Vx=l,null}function IN(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case de:return 2;case ye:return 8;case Be:case Oe:return 32;case he:return 268435456;default:return 32}default:return 32}}var G_=!1,Ud=null,Id=null,Bd=null,$0=new Map,eg=new Map,kd=[],ZD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BN(l,u){switch(l){case"focusin":case"focusout":Ud=null;break;case"dragenter":case"dragleave":Id=null;break;case"mouseover":case"mouseout":Bd=null;break;case"pointerover":case"pointerout":$0.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":eg.delete(u.pointerId)}}function tg(l,u,x,E,O,I){return l===null||l.nativeEvent!==I?(l={blockedOn:u,domEventName:x,eventSystemFlags:E,nativeEvent:I,targetContainers:[O]},u!==null&&(u=Ys(u),u!==null&&UN(u)),l):(l.eventSystemFlags|=E,u=l.targetContainers,O!==null&&u.indexOf(O)===-1&&u.push(O),l)}function KD(l,u,x,E,O){switch(u){case"focusin":return Ud=tg(Ud,l,u,x,E,O),!0;case"dragenter":return Id=tg(Id,l,u,x,E,O),!0;case"mouseover":return Bd=tg(Bd,l,u,x,E,O),!0;case"pointerover":var I=O.pointerId;return $0.set(I,tg($0.get(I)||null,l,u,x,E,O)),!0;case"gotpointercapture":return I=O.pointerId,eg.set(I,tg(eg.get(I)||null,l,u,x,E,O)),!0}return!1}function kN(l){var u=ds(l.target);if(u!==null){var x=a(u);if(x!==null){if(u=x.tag,u===13){if(u=o(x),u!==null){l.blockedOn=u,Wi(l.priority,function(){if(x.tag===13){var E=Xr();E=tn(E);var O=eo(x,E);O!==null&&Ss(O,x,E),H_(x,E)}});return}}else if(u===3&&x.stateNode.current.memoizedState.isDehydrated){l.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Fx(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var x=F_(l.nativeEvent);if(x===null){x=l.nativeEvent;var E=new x.constructor(x.type,x);tc=E,x.target.dispatchEvent(E),tc=null}else return u=Ys(x),u!==null&&UN(u),l.blockedOn=x,!1;u.shift()}return!0}function HN(l,u,x){Fx(l)&&x.delete(u)}function JD(){G_=!1,Ud!==null&&Fx(Ud)&&(Ud=null),Id!==null&&Fx(Id)&&(Id=null),Bd!==null&&Fx(Bd)&&(Bd=null),$0.forEach(HN),eg.forEach(HN)}function qx(l,u){l.blockedOn===u&&(l.blockedOn=null,G_||(G_=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,JD)))}var Gx=null;function VN(l){Gx!==l&&(Gx=l,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gx===l&&(Gx=null);for(var u=0;u<l.length;u+=3){var x=l[u],E=l[u+1],O=l[u+2];if(typeof E!="function"){if(q_(E||x)===null)continue;break}var I=Ys(x);I!==null&&(l.splice(u,3),u-=3,I0(I,{pending:!0,data:O,method:x.method,action:E},E,O))}}))}function ng(l){function u(we){return qx(we,l)}Ud!==null&&qx(Ud,l),Id!==null&&qx(Id,l),Bd!==null&&qx(Bd,l),$0.forEach(u),eg.forEach(u);for(var x=0;x<kd.length;x++){var E=kd[x];E.blockedOn===l&&(E.blockedOn=null)}for(;0<kd.length&&(x=kd[0],x.blockedOn===null);)kN(x),x.blockedOn===null&&kd.shift();if(x=(l.ownerDocument||l).$$reactFormReplay,x!=null)for(E=0;E<x.length;E+=3){var O=x[E],I=x[E+1],re=O[yr]||null;if(typeof I=="function")re||VN(x);else if(re){var fe=null;if(I&&I.hasAttribute("formAction")){if(O=I,re=I[yr]||null)fe=re.formAction;else if(q_(O)!==null)continue}else fe=re.action;typeof fe=="function"?x[E+1]=fe:(x.splice(E,3),E-=3),VN(x)}}}function W_(l){this._internalRoot=l}Wx.prototype.render=W_.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));var x=u.current,E=Xr();LN(x,E,l,u,null,null)},Wx.prototype.unmount=W_.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;LN(l.current,2,null,l,null,null),Xo(),u[As]=null}};function Wx(l){this._internalRoot=l}Wx.prototype.unstable_scheduleHydration=function(l){if(l){var u=Un();l={blockedOn:null,target:l,priority:u};for(var x=0;x<kd.length&&u!==0&&u<kd[x].priority;x++);kd.splice(x,0,l),x===0&&kN(l)}};var FN=e.version;if(FN!=="19.1.1")throw Error(n(527,FN,"19.1.1"));K.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=d(u),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var QD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xx.isDisabled&&Xx.supportsFiber)try{qe=Xx.inject(QD),Ge=Xx}catch{}}return ig.createRoot=function(l,u){if(!i(l))throw Error(n(299));var x=!1,E="",O=Yh,I=Em,re=Mx,fe=null;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onUncaughtError!==void 0&&(O=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(re=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(fe=u.unstable_transitionCallbacks)),u=DN(l,1,!1,null,null,x,E,O,I,re,fe,null),l[As]=u.current,j_(l),new W_(u)},ig.hydrateRoot=function(l,u,x){if(!i(l))throw Error(n(299));var E=!1,O="",I=Yh,re=Em,fe=Mx,we=null,We=null;return x!=null&&(x.unstable_strictMode===!0&&(E=!0),x.identifierPrefix!==void 0&&(O=x.identifierPrefix),x.onUncaughtError!==void 0&&(I=x.onUncaughtError),x.onCaughtError!==void 0&&(re=x.onCaughtError),x.onRecoverableError!==void 0&&(fe=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(we=x.unstable_transitionCallbacks),x.formState!==void 0&&(We=x.formState)),u=DN(l,1,!0,u,x??null,E,O,I,re,fe,we,We),u.context=PN(null),x=u.current,E=Xr(),E=tn(E),O=zo(E),O.callback=null,Nl(x,O,E),x=E,u.current.lanes=x,jt(u,x),Lc(u),l[As]=u.current,j_(l),new Wx(u)},ig.version="19.1.1",ig}var $N;function l6(){if($N)return Z_.exports;$N=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Z_.exports=o6(),Z_.exports}var c6=l6();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eT="popstate";function u6(r={}){function e(n,i){let{pathname:a,search:o,hash:c}=n.location;return ZS("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Kg(i)}return h6(e,t,null,r)}function Zr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Wl(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d6(){return Math.random().toString(36).substring(2,10)}function tT(r,e){return{usr:r.state,key:r.key,idx:e}}function ZS(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?n0(e):e,state:t,key:e&&e.key||n||d6()}}function Kg({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function n0(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function h6(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,c="POP",d=null,f=g();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function g(){return(o.state||{idx:null}).idx}function b(){c="POP";let N=g(),_=N==null?null:N-f;f=N,d&&d({action:c,location:T.location,delta:_})}function v(N,_){c="PUSH";let j=ZS(T.location,N,_);f=g()+1;let C=tT(j,f),A=T.createHref(j);try{o.pushState(C,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(A)}a&&d&&d({action:c,location:T.location,delta:1})}function y(N,_){c="REPLACE";let j=ZS(T.location,N,_);f=g();let C=tT(j,f),A=T.createHref(j);o.replaceState(C,"",A),a&&d&&d({action:c,location:T.location,delta:0})}function w(N){return f6(N)}let T={get action(){return c},get location(){return r(i,o)},listen(N){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(eT,b),d=N,()=>{i.removeEventListener(eT,b),d=null}},createHref(N){return e(i,N)},createURL:w,encodeLocation(N){let _=w(N);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:y,go(N){return o.go(N)}};return T}function f6(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Zr(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Kg(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function O4(r,e,t="/"){return m6(r,e,t,!1)}function m6(r,e,t,n){let i=typeof e=="string"?n0(e):e,a=Wu(i.pathname||"/",t);if(a==null)return null;let o=D4(r);p6(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let f=T6(a);c=E6(o[d],f,n)}return c}function D4(r,e=[],t=[],n="",i=!1){let a=(o,c,d=i,f)=>{let g={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&d)return;Zr(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let b=Fu([n,g.relativePath]),v=t.concat(g);o.children&&o.children.length>0&&(Zr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),D4(o.children,e,v,b,d)),!(o.path==null&&!o.index)&&e.push({path:b,score:S6(b,o.index),routesMeta:v})};return r.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))a(o,c);else for(let d of P4(o.path))a(o,c,!0,d)}),e}function P4(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=P4(n.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...o),c.map(d=>r.startsWith("/")&&d===""?"/":d)}function p6(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:w6(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var g6=/^:[\w-]+$/,b6=3,x6=2,v6=1,y6=10,_6=-2,nT=r=>r==="*";function S6(r,e){let t=r.split("/"),n=t.length;return t.some(nT)&&(n+=_6),e&&(n+=x6),t.filter(i=>!nT(i)).reduce((i,a)=>i+(g6.test(a)?b6:a===""?v6:y6),n)}function w6(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function E6(r,e,t=!1){let{routesMeta:n}=r,i={},a="/",o=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,g=a==="/"?e:e.slice(a.length)||"/",b=f1({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),v=d.route;if(!b&&f&&t&&!n[n.length-1].route.index&&(b=f1({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!b)return null;Object.assign(i,b.params),o.push({params:i,pathname:Fu([a,b.pathname]),pathnameBase:C6(Fu([a,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(a=Fu([a,b.pathnameBase]))}return o}function f1(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=N6(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((f,{paramName:g,isOptional:b},v)=>{if(g==="*"){let w=c[v]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const y=c[v];return b&&!y?f[g]=void 0:f[g]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:r}}function N6(r,e=!1,t=!0){Wl(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function T6(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wl(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Wu(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function M6(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?n0(r):r;return{pathname:t?t.startsWith("/")?t:j6(t,e):e,search:R6(n),hash:O6(i)}}function j6(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function $_(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A6(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cE(r){let e=A6(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function uE(r,e,t,n=!1){let i;typeof r=="string"?i=n0(r):(i={...r},Zr(!i.pathname||!i.pathname.includes("?"),$_("?","pathname","search",i)),Zr(!i.pathname||!i.pathname.includes("#"),$_("#","pathname","hash",i)),Zr(!i.search||!i.search.includes("#"),$_("#","search","hash",i)));let a=r===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=t;else{let b=e.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),b-=1;i.pathname=v.join("/")}c=b>=0?e[b]:"/"}let d=M6(i,c),f=o&&o!=="/"&&o.endsWith("/"),g=(a||o===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var Fu=r=>r.join("/").replace(/\/\/+/g,"/"),C6=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),R6=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,O6=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function D6(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var L4=["POST","PUT","PATCH","DELETE"];new Set(L4);var P6=["GET",...L4];new Set(P6);var r0=ae.createContext(null);r0.displayName="DataRouter";var gy=ae.createContext(null);gy.displayName="DataRouterState";ae.createContext(!1);var z4=ae.createContext({isTransitioning:!1});z4.displayName="ViewTransition";var L6=ae.createContext(new Map);L6.displayName="Fetchers";var z6=ae.createContext(null);z6.displayName="Await";var Yl=ae.createContext(null);Yl.displayName="Navigation";var Sb=ae.createContext(null);Sb.displayName="Location";var Zl=ae.createContext({outlet:null,matches:[],isDataRoute:!1});Zl.displayName="Route";var dE=ae.createContext(null);dE.displayName="RouteError";function U6(r,{relative:e}={}){Zr(i0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=ae.useContext(Yl),{hash:i,pathname:a,search:o}=Eb(r,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:Fu([t,a])),n.createHref({pathname:c,search:o,hash:i})}function i0(){return ae.useContext(Sb)!=null}function td(){return Zr(i0(),"useLocation() may be used only in the context of a <Router> component."),ae.useContext(Sb).location}var U4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function I4(r){ae.useContext(Yl).static||ae.useLayoutEffect(r)}function en(){let{isDataRoute:r}=ae.useContext(Zl);return r?K6():I6()}function I6(){Zr(i0(),"useNavigate() may be used only in the context of a <Router> component.");let r=ae.useContext(r0),{basename:e,navigator:t}=ae.useContext(Yl),{matches:n}=ae.useContext(Zl),{pathname:i}=td(),a=JSON.stringify(cE(n)),o=ae.useRef(!1);return I4(()=>{o.current=!0}),ae.useCallback((d,f={})=>{if(Wl(o.current,U4),!o.current)return;if(typeof d=="number"){t.go(d);return}let g=uE(d,JSON.parse(a),i,f.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Fu([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,a,i,r])}ae.createContext(null);function wb(){let{matches:r}=ae.useContext(Zl),e=r[r.length-1];return e?e.params:{}}function Eb(r,{relative:e}={}){let{matches:t}=ae.useContext(Zl),{pathname:n}=td(),i=JSON.stringify(cE(t));return ae.useMemo(()=>uE(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function B6(r,e){return B4(r,e)}function B4(r,e,t,n){Zr(i0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=ae.useContext(Yl),{matches:a}=ae.useContext(Zl),o=a[a.length-1],c=o?o.params:{},d=o?o.pathname:"/",f=o?o.pathnameBase:"/",g=o&&o.route;{let _=g&&g.path||"";k4(d,!g||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let b=td(),v;if(e){let _=typeof e=="string"?n0(e):e;Zr(f==="/"||_.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${_.pathname}" was given in the \`location\` prop.`),v=_}else v=b;let y=v.pathname||"/",w=y;if(f!=="/"){let _=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let T=O4(r,{pathname:w});Wl(g||T!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Wl(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=q6(T&&T.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:Fu([f,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:Fu([f,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,t,n);return e&&N?ae.createElement(Sb.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},N):N}function k6(){let r=Z6(),e=D6(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",r),o=ae.createElement(ae.Fragment,null,ae.createElement("p",null,"💿 Hey developer 👋"),ae.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ae.createElement("code",{style:a},"ErrorBoundary")," or"," ",ae.createElement("code",{style:a},"errorElement")," prop on your route.")),ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},e),t?ae.createElement("pre",{style:i},t):null,o)}var H6=ae.createElement(k6,null),V6=class extends ae.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?ae.createElement(Zl.Provider,{value:this.props.routeContext},ae.createElement(dE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F6({routeContext:r,match:e,children:t}){let n=ae.useContext(r0);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),ae.createElement(Zl.Provider,{value:r},t)}function q6(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,a=t?.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);Zr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:g,errors:b}=t,v=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!b||b[f.route.id]===void 0);if(f.route.lazy||v){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,g)=>{let b,v=!1,y=null,w=null;t&&(b=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||H6,o&&(c<0&&g===0?(k4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):c===g&&(v=!0,w=f.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,g+1)),N=()=>{let _;return b?_=y:v?_=w:f.route.Component?_=ae.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,ae.createElement(F6,{match:f,routeContext:{outlet:d,matches:T,isDataRoute:t!=null},children:_})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?ae.createElement(V6,{location:t.location,revalidation:t.revalidation,component:y,error:b,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):N()},null)}function hE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G6(r){let e=ae.useContext(r0);return Zr(e,hE(r)),e}function W6(r){let e=ae.useContext(gy);return Zr(e,hE(r)),e}function X6(r){let e=ae.useContext(Zl);return Zr(e,hE(r)),e}function fE(r){let e=X6(r),t=e.matches[e.matches.length-1];return Zr(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Y6(){return fE("useRouteId")}function Z6(){let r=ae.useContext(dE),e=W6("useRouteError"),t=fE("useRouteError");return r!==void 0?r:e.errors?.[t]}function K6(){let{router:r}=G6("useNavigate"),e=fE("useNavigate"),t=ae.useRef(!1);return I4(()=>{t.current=!0}),ae.useCallback(async(i,a={})=>{Wl(t.current,U4),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...a}))},[r,e])}var rT={};function k4(r,e,t){!e&&!rT[r]&&(rT[r]=!0,Wl(!1,t))}ae.memo(J6);function J6({routes:r,future:e,state:t}){return B4(r,void 0,t,e)}function H4({to:r,replace:e,state:t,relative:n}){Zr(i0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=ae.useContext(Yl);Wl(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=ae.useContext(Zl),{pathname:o}=td(),c=en(),d=uE(r,cE(a),o,n==="path"),f=JSON.stringify(d);return ae.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:n})},[c,f,n,e,t]),null}function Kt(r){Zr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Q6({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1}){Zr(!i0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=r.replace(/^\/*/,"/"),c=ae.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof t=="string"&&(t=n0(t));let{pathname:d="/",search:f="",hash:g="",state:b=null,key:v="default"}=t,y=ae.useMemo(()=>{let w=Wu(d,o);return w==null?null:{location:{pathname:w,search:f,hash:g,state:b,key:v},navigationType:n}},[o,d,f,g,b,v,n]);return Wl(y!=null,`<Router basename="${o}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:ae.createElement(Yl.Provider,{value:c},ae.createElement(Sb.Provider,{children:e,value:y}))}function $6({children:r,location:e}){return B6(KS(r),e)}function KS(r,e=[]){let t=[];return ae.Children.forEach(r,(n,i)=>{if(!ae.isValidElement(n))return;let a=[...e,i];if(n.type===ae.Fragment){t.push.apply(t,KS(n.props.children,a));return}Zr(n.type===Kt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=KS(n.props.children,a)),t.push(o)}),t}var Qv="get",$v="application/x-www-form-urlencoded";function by(r){return r!=null&&typeof r.tagName=="string"}function eP(r){return by(r)&&r.tagName.toLowerCase()==="button"}function tP(r){return by(r)&&r.tagName.toLowerCase()==="form"}function nP(r){return by(r)&&r.tagName.toLowerCase()==="input"}function rP(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function iP(r,e){return r.button===0&&(!e||e==="_self")&&!rP(r)}var Yx=null;function sP(){if(Yx===null)try{new FormData(document.createElement("form"),0),Yx=!1}catch{Yx=!0}return Yx}var aP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function e2(r){return r!=null&&!aP.has(r)?(Wl(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$v}"`),null):r}function oP(r,e){let t,n,i,a,o;if(tP(r)){let c=r.getAttribute("action");n=c?Wu(c,e):null,t=r.getAttribute("method")||Qv,i=e2(r.getAttribute("enctype"))||$v,a=new FormData(r)}else if(eP(r)||nP(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||c.getAttribute("action");if(n=d?Wu(d,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||Qv,i=e2(r.getAttribute("formenctype"))||e2(c.getAttribute("enctype"))||$v,a=new FormData(c,r),!sP()){let{name:f,type:g,value:b}=r;if(g==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,b)}}else{if(by(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Qv,n=null,i=$v,o=r}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mE(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function lP(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Wu(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function cP(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uP(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function dP(r,e,t){let n=await Promise.all(r.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await cP(a,t);return o.links?o.links():[]}return[]}));return pP(n.flat(1).filter(uP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function iT(r,e,t,n,i,a){let o=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,c=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,f)=>o(d,f)||c(d,f)):a==="data"?e.filter((d,f)=>{let g=n.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(o(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function hP(r,e,{includeHydrateFallback:t}={}){return fP(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function fP(r){return[...new Set(r)]}function mP(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function pP(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let a=JSON.stringify(mP(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}function V4(){let r=ae.useContext(r0);return mE(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function gP(){let r=ae.useContext(gy);return mE(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var pE=ae.createContext(void 0);pE.displayName="FrameworkContext";function F4(){let r=ae.useContext(pE);return mE(r,"You must render this element inside a <HydratedRouter> element"),r}function bP(r,e){let t=ae.useContext(pE),[n,i]=ae.useState(!1),[a,o]=ae.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:b}=e,v=ae.useRef(null);ae.useEffect(()=>{if(r==="render"&&o(!0),r==="viewport"){let T=_=>{_.forEach(j=>{o(j.isIntersecting)})},N=new IntersectionObserver(T,{threshold:.5});return v.current&&N.observe(v.current),()=>{N.disconnect()}}},[r]),ae.useEffect(()=>{if(n){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[n]);let y=()=>{i(!0)},w=()=>{i(!1),o(!1)};return t?r!=="intent"?[a,v,{}]:[a,v,{onFocus:sg(c,y),onBlur:sg(d,w),onMouseEnter:sg(f,y),onMouseLeave:sg(g,w),onTouchStart:sg(b,y)}]:[!1,v,{}]}function sg(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function xP({page:r,...e}){let{router:t}=V4(),n=ae.useMemo(()=>O4(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?ae.createElement(yP,{page:r,matches:n,...e}):null}function vP(r){let{manifest:e,routeModules:t}=F4(),[n,i]=ae.useState([]);return ae.useEffect(()=>{let a=!1;return dP(r,e,t).then(o=>{a||i(o)}),()=>{a=!0}},[r,e,t]),n}function yP({page:r,matches:e,...t}){let n=td(),{manifest:i,routeModules:a}=F4(),{basename:o}=V4(),{loaderData:c,matches:d}=gP(),f=ae.useMemo(()=>iT(r,e,d,i,n,"data"),[r,e,d,i,n]),g=ae.useMemo(()=>iT(r,e,d,i,n,"assets"),[r,e,d,i,n]),b=ae.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let w=new Set,T=!1;if(e.forEach(_=>{let j=i.routes[_.route.id];!j||!j.hasLoader||(!f.some(C=>C.route.id===_.route.id)&&_.route.id in c&&a[_.route.id]?.shouldRevalidate||j.hasClientLoader?T=!0:w.add(_.route.id))}),w.size===0)return[];let N=lP(r,o,"data");return T&&w.size>0&&N.searchParams.set("_routes",e.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[N.pathname+N.search]},[o,c,n,i,f,e,r,a]),v=ae.useMemo(()=>hP(g,i),[g,i]),y=vP(g);return ae.createElement(ae.Fragment,null,b.map(w=>ae.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),v.map(w=>ae.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),y.map(({key:w,link:T})=>ae.createElement("link",{key:w,nonce:t.nonce,...T})))}function _P(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var q4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{q4&&(window.__reactRouterVersion="7.8.1")}catch{}function SP({basename:r,children:e,window:t}){let n=ae.useRef();n.current==null&&(n.current=u6({window:t,v5Compat:!0}));let i=n.current,[a,o]=ae.useState({action:i.action,location:i.location}),c=ae.useCallback(d=>{ae.startTransition(()=>o(d))},[o]);return ae.useLayoutEffect(()=>i.listen(c),[i,c]),ae.createElement(Q6,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:i})}var G4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xu=ae.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:c,target:d,to:f,preventScrollReset:g,viewTransition:b,...v},y){let{basename:w}=ae.useContext(Yl),T=typeof f=="string"&&G4.test(f),N,_=!1;if(typeof f=="string"&&T&&(N=f,q4))try{let k=new URL(window.location.href),z=f.startsWith("//")?new URL(k.protocol+f):new URL(f),V=Wu(z.pathname,w);z.origin===k.origin&&V!=null?f=V+z.search+z.hash:_=!0}catch{Wl(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=U6(f,{relative:i}),[C,A,P]=bP(n,v),U=TP(f,{replace:o,state:c,target:d,preventScrollReset:g,relative:i,viewTransition:b});function B(k){e&&e(k),k.defaultPrevented||U(k)}let F=ae.createElement("a",{...v,...P,href:N||j,onClick:_||a?e:B,ref:_P(y,A),target:d,"data-discover":!T&&t==="render"?"true":void 0});return C&&!T?ae.createElement(ae.Fragment,null,F,ae.createElement(xP,{page:j})):F});Xu.displayName="Link";var wP=ae.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:c,children:d,...f},g){let b=Eb(o,{relative:f.relative}),v=td(),y=ae.useContext(gy),{navigator:w,basename:T}=ae.useContext(Yl),N=y!=null&&RP(b)&&c===!0,_=w.encodeLocation?w.encodeLocation(b).pathname:b.pathname,j=v.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(j=j.toLowerCase(),C=C?C.toLowerCase():null,_=_.toLowerCase()),C&&T&&(C=Wu(C,T)||C);const A=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let P=j===_||!i&&j.startsWith(_)&&j.charAt(A)==="/",U=C!=null&&(C===_||!i&&C.startsWith(_)&&C.charAt(_.length)==="/"),B={isActive:P,isPending:U,isTransitioning:N},F=P?e:void 0,k;typeof n=="function"?k=n(B):k=[n,P?"active":null,U?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let z=typeof a=="function"?a(B):a;return ae.createElement(Xu,{...f,"aria-current":F,className:k,ref:g,style:z,to:o,viewTransition:c},typeof d=="function"?d(B):d)});wP.displayName="NavLink";var EP=ae.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:o=Qv,action:c,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:b,...v},y)=>{let w=AP(),T=CP(c,{relative:f}),N=o.toLowerCase()==="get"?"get":"post",_=typeof c=="string"&&G4.test(c),j=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let A=C.nativeEvent.submitter,P=A?.getAttribute("formmethod")||o;w(A||C.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:i,state:a,relative:f,preventScrollReset:g,viewTransition:b})};return ae.createElement("form",{ref:y,method:N,action:T,onSubmit:n?d:j,...v,"data-discover":!_&&r==="render"?"true":void 0})});EP.displayName="Form";function NP(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W4(r){let e=ae.useContext(r0);return Zr(e,NP(r)),e}function TP(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:o}={}){let c=en(),d=td(),f=Eb(r,{relative:a});return ae.useCallback(g=>{if(iP(g,e)){g.preventDefault();let b=t!==void 0?t:Kg(d)===Kg(f);c(r,{replace:b,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[d,c,f,t,n,e,r,i,a,o])}var MP=0,jP=()=>`__${String(++MP)}__`;function AP(){let{router:r}=W4("useSubmit"),{basename:e}=ae.useContext(Yl),t=Y6();return ae.useCallback(async(n,i={})=>{let{action:a,method:o,encType:c,formData:d,body:f}=oP(n,e);if(i.navigate===!1){let g=i.fetcherKey||jP();await r.fetch(g,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await r.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function CP(r,{relative:e}={}){let{basename:t}=ae.useContext(Yl),n=ae.useContext(Zl);Zr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Eb(r||".",{relative:e})},o=td();if(r==null){a.search=o.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(g=>g==="")){c.delete("index"),d.filter(b=>b).forEach(b=>c.append("index",b));let g=c.toString();a.search=g?`?${g}`:""}}return(!r||r===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Fu([t,a.pathname])),Kg(a)}function RP(r,{relative:e}={}){let t=ae.useContext(z4);Zr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=W4("useViewTransitionState"),i=Eb(r,{relative:e});if(!t.isTransitioning)return!1;let a=Wu(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=Wu(t.nextLocation.pathname,n)||t.nextLocation.pathname;return f1(i.pathname,o)!=null||f1(i.pathname,a)!=null}var OP=R4();const DP="modulepreload",PP=function(r){return"/"+r},sT={},Nb=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let f=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=f;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=f(t.map(g=>{if(g=PP(g),g in sT)return;sT[g]=!0;const b=g.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const y=document.createElement("link");if(y.rel=b?"stylesheet":DP,b||(y.as="script"),y.crossOrigin="",y.href=g,d&&y.setAttribute("nonce",d),document.head.appendChild(y),b)return new Promise((w,T)=>{y.addEventListener("load",w),y.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},LP=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Nb(async()=>{const{default:n}=await Promise.resolve().then(()=>s0);return{default:n}},[]).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class gE extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class zP extends gE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class aT extends gE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class oT extends gE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var JS;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(JS||(JS={}));var UP=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function c(g){try{f(n.next(g))}catch(b){o(b)}}function d(g){try{f(n.throw(g))}catch(b){o(b)}}function f(g){g.done?a(g.value):i(g.value).then(c,d)}f((n=n.apply(r,e||[])).next())})};class IP{constructor(e,{headers:t={},customFetch:n,region:i=JS.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=LP(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return UP(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=t;let c={},{region:d}=t;d||(d=this.region);const f=new URL(`${this.url}/${e}`);d&&d!=="any"&&(c["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let g;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",g=o):typeof o=="string"?(c["Content-Type"]="text/plain",g=o):typeof FormData<"u"&&o instanceof FormData?g=o:(c["Content-Type"]="application/json",g=JSON.stringify(o)));const b=yield this.fetch(f.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:g}).catch(T=>{throw new zP(T)}),v=b.headers.get("x-relay-error");if(v&&v==="true")throw new aT(b);if(!b.ok)throw new oT(b);let y=((n=b.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield b.json():y==="application/octet-stream"?w=yield b.blob():y==="text/event-stream"?w=b:y==="multipart/form-data"?w=yield b.formData():w=yield b.text(),{data:w,error:null,response:b}}catch(i){return{data:null,error:i,response:i instanceof oT||i instanceof aT?i.context:void 0}}})}}var ls={},Hm={},Vm={},Fm={},qm={},Gm={},BP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Hp=BP();const kP=Hp.fetch,X4=Hp.fetch.bind(Hp),Y4=Hp.Headers,HP=Hp.Request,VP=Hp.Response,s0=Object.freeze(Object.defineProperty({__proto__:null,Headers:Y4,Request:HP,Response:VP,default:X4,fetch:kP},Symbol.toStringTag,{value:"Module"})),FP=e6(s0);var Zx={},lT;function Z4(){if(lT)return Zx;lT=1,Object.defineProperty(Zx,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Zx.default=r,Zx}var cT;function K4(){if(cT)return Gm;cT=1;var r=Gm&&Gm.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Gm,"__esModule",{value:!0});const e=r(FP),t=r(Z4());class n{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=Object.assign({},this.headers),this.headers[a]=o,this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var g,b,v;let y=null,w=null,T=null,N=f.status,_=f.statusText;if(f.ok){if(this.method!=="HEAD"){const P=await f.text();P===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=P:w=JSON.parse(P))}const C=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),A=(b=f.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");C&&A&&A.length>1&&(T=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(y={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,T=null,N=406,_="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const C=await f.text();try{y=JSON.parse(C),Array.isArray(y)&&f.status===404&&(w=[],y=null,N=200,_="OK")}catch{f.status===404&&C===""?(N=204,_="No Content"):y={message:C}}if(y&&this.isMaybeSingle&&(!((v=y?.details)===null||v===void 0)&&v.includes("0 rows"))&&(y=null,N=200,_="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:w,count:T,status:N,statusText:_}});return this.shouldThrowOnError||(d=d.catch(f=>{var g,b,v;return{error:{message:`${(g=f?.name)!==null&&g!==void 0?g:"FetchError"}: ${f?.message}`,details:`${(b=f?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(v=f?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),d.then(a,o)}returns(){return this}overrideTypes(){return this}}return Gm.default=n,Gm}var uT;function J4(){if(uT)return qm;uT=1;var r=qm&&qm.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(qm,"__esModule",{value:!0});const e=r(K4());class t extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:c=o}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var g;const b=[i?"analyze":null,a?"verbose":null,o?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${v}"; options=${b};`,f==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return qm.default=t,qm}var dT;function bE(){if(dT)return Fm;dT=1;var r=Fm&&Fm.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fm,"__esModule",{value:!0});const e=r(J4());class t extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${d}fts${f}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return Fm.default=t,Fm}var hT;function Q4(){if(hT)return Vm;hT=1;var r=Vm&&Vm.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vm,"__esModule",{value:!0});const e=r(bE());class t{constructor(i,{headers:a={},schema:o,fetch:c}){this.url=i,this.headers=a,this.schema=o,this.fetch=c}select(i,{head:a=!1,count:o}={}){const c=a?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",f),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:o=!0}={}){const c="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),a&&d.push(`count=${a}`),o||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(i)){const f=i.reduce((g,b)=>g.concat(Object.keys(b)),[]);if(f.length>0){const g=[...new Set(f)].map(b=>`"${b}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:c,defaultToNull:d=!0}={}){const f="POST",g=[`resolution=${o?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&g.push(this.headers.Prefer),c&&g.push(`count=${c}`),d||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(i)){const b=i.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(b.length>0){const v=[...new Set(b)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const o="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),this.headers.Prefer=c.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Vm.default=t,Vm}var ag={},og={},fT;function qP(){return fT||(fT=1,Object.defineProperty(og,"__esModule",{value:!0}),og.version=void 0,og.version="0.0.0-automated"),og}var mT;function GP(){if(mT)return ag;mT=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.DEFAULT_HEADERS=void 0;const r=qP();return ag.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},ag}var pT;function WP(){if(pT)return Hm;pT=1;var r=Hm&&Hm.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Hm,"__esModule",{value:!0});const e=r(Q4()),t=r(bE()),n=GP();class i{constructor(o,{headers:c={},schema:d,fetch:f}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),c),this.schemaName=d,this.fetch=f}from(o){const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:d=!1,get:f=!1,count:g}={}){let b;const v=new URL(`${this.url}/rpc/${o}`);let y;d||f?(b=d?"HEAD":"GET",Object.entries(c).filter(([T,N])=>N!==void 0).map(([T,N])=>[T,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([T,N])=>{v.searchParams.append(T,N)})):(b="POST",y=c);const w=Object.assign({},this.headers);return g&&(w.Prefer=`count=${g}`),new t.default({method:b,url:v,headers:w,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return Hm.default=i,Hm}var gT;function XP(){if(gT)return ls;gT=1;var r=ls&&ls.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(ls,"__esModule",{value:!0}),ls.PostgrestError=ls.PostgrestBuilder=ls.PostgrestTransformBuilder=ls.PostgrestFilterBuilder=ls.PostgrestQueryBuilder=ls.PostgrestClient=void 0;const e=r(WP());ls.PostgrestClient=e.default;const t=r(Q4());ls.PostgrestQueryBuilder=t.default;const n=r(bE());ls.PostgrestFilterBuilder=n.default;const i=r(J4());ls.PostgrestTransformBuilder=i.default;const a=r(K4());ls.PostgrestBuilder=a.default;const o=r(Z4());return ls.PostgrestError=o.default,ls.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},ls}var YP=XP();const ZP=ed(YP),{PostgrestClient:KP,PostgrestQueryBuilder:_ne,PostgrestFilterBuilder:Sne,PostgrestTransformBuilder:wne,PostgrestBuilder:Ene,PostgrestError:Nne}=ZP;class JP{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const t=parseInt(process.versions.node.split(".")[0]);return t>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const QP="2.15.1",$P=`realtime-js/${QP}`,eL="1.0.0",QS=1e4,tL=1e3,nL=100;var Ag;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ag||(Ag={}));var Hi;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Hi||(Hi={}));var Vl;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Vl||(Vl={}));var $S;(function(r){r.websocket="websocket"})($S||($S={}));var Tf;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Tf||(Tf={}));class rL{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const i=t.getUint8(1),a=t.getUint8(2);let o=this.HEADER_LENGTH+2;const c=n.decode(e.slice(o,o+i));o=o+i;const d=n.decode(e.slice(o,o+a));o=o+a;const f=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:c,event:d,payload:f}}}let $4=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ur;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ur||(Ur={}));const bT=(r,e,t={})=>{var n;const i=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,o)=>(a[o]=iL(o,r,e,i),a),{})},iL=(r,e,t,n)=>{const i=e.find(c=>c.name===r),a=i?.type,o=t[r];return a&&!n.includes(a)?eC(a,o):ew(o)},eC=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return lL(e,t)}switch(r){case Ur.bool:return sL(e);case Ur.float4:case Ur.float8:case Ur.int2:case Ur.int4:case Ur.int8:case Ur.numeric:case Ur.oid:return aL(e);case Ur.json:case Ur.jsonb:return oL(e);case Ur.timestamp:return cL(e);case Ur.abstime:case Ur.date:case Ur.daterange:case Ur.int4range:case Ur.int8range:case Ur.money:case Ur.reltime:case Ur.text:case Ur.time:case Ur.timestamptz:case Ur.timetz:case Ur.tsrange:case Ur.tstzrange:return ew(e);default:return ew(e)}},ew=r=>r,sL=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},aL=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},oL=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},lL=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let a;const o=r.slice(1,t);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(c=>eC(e,c))}return r},cL=r=>typeof r=="string"?r.replace(" ","T"):r,tC=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class t2{constructor(e,t,n={},i=QS){this.channel=e,this.event=t,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xT;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(xT||(xT={}));class Cg{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cg.syncState(this.state,i,a,o),this.pendingDiffs.forEach(d=>{this.state=Cg.syncDiff(this.state,d,a,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Cg.syncDiff(this.state,i,a,o),c())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,i){const a=this.cloneDeep(e),o=this.transformState(t),c={},d={};return this.map(a,(f,g)=>{o[f]||(d[f]=g)}),this.map(o,(f,g)=>{const b=a[f];if(b){const v=g.map(N=>N.presence_ref),y=b.map(N=>N.presence_ref),w=g.filter(N=>y.indexOf(N.presence_ref)<0),T=b.filter(N=>v.indexOf(N.presence_ref)<0);w.length>0&&(c[f]=w),T.length>0&&(d[f]=T)}else c[f]=g}),this.syncDiff(a,{joins:c,leaves:d},n,i)}static syncDiff(e,t,n,i){const{joins:a,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(c,d)=>{var f;const g=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(d),g.length>0){const b=e[c].map(y=>y.presence_ref),v=g.filter(y=>b.indexOf(y.presence_ref)<0);e[c].unshift(...v)}n(c,g,d)}),this.map(o,(c,d)=>{let f=e[c];if(!f)return;const g=d.map(b=>b.presence_ref);f=f.filter(b=>g.indexOf(b.presence_ref)<0),e[c]=f,i(c,f,d),f.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const i=e[n];return"metas"in i?t[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[n]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vT;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(vT||(vT={}));var Rg;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Rg||(Rg={}));var ku;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ku||(ku={}));class xE{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Hi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new t2(this,Vl.join,this.params,this.timeout),this.rejoinTimer=new $4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Hi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Hi.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Hi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Hi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Hi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vl.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Cg(this),this.broadcastEndpointURL=tC(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Hi.closed){const{config:{broadcast:a,presence:o,private:c}}=this.params,d=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Rg.PRESENCE]&&this.bindings[Rg.PRESENCE].length>0,g={},b={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(ku.CHANNEL_ERROR,v)),this._onClose(()=>e?.(ku.CLOSED)),this.updateJoinPayload(Object.assign({config:b},g)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e?.(ku.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,T=(y=w?.length)!==null&&y!==void 0?y:0,N=[];for(let _=0;_<T;_++){const j=w[_],{filter:{event:C,schema:A,table:P,filter:U}}=j,B=v&&v[_];if(B&&B.event===C&&B.schema===A&&B.table===P&&B.filter===U)N.push(Object.assign(Object.assign({},j),{id:B.id}));else{this.unsubscribe(),this.state=Hi.errored,e?.(ku.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(ku.SUBSCRIBED);return}}).receive("error",v=>{this.state=Hi.errored,e?.(ku.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(ku.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Hi.joined&&e===Rg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e,t={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,c,d;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Hi.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new t2(this,Vl.leave,{},e),n.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Hi.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(a),o}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new t2(this,e,t,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>nL){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var i,a;const o=e.toLocaleLowerCase(),{close:c,error:d,leave:f,join:g}=Vl;if(n&&[c,d,f,g].indexOf(o)>=0&&n!==this._joinRef())return;let v=this._onMessage(o,t,n);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var w,T,N;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((N=(T=y.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(y=>y.callback(v,n)):(a=this.bindings[o])===null||a===void 0||a.filter(y=>{var w,T,N,_,j,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const A=y.id,P=(w=y.filter)===null||w===void 0?void 0:w.event;return A&&((T=t.ids)===null||T===void 0?void 0:T.includes(A))&&(P==="*"||P?.toLocaleLowerCase()===((N=t.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const A=(j=(_=y?.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return A==="*"||A===((C=t?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:T,table:N,commit_timestamp:_,type:j,errors:C}=w;v=Object.assign(Object.assign({},{schema:T,table:N,commit_timestamp:_,eventType:j,new:{},old:{},errors:C}),this._getPayloadRecords(w))}y.callback(v,n)})}_isClosed(){return this.state===Hi.closed}_isJoined(){return this.state===Hi.joined}_isJoining(){return this.state===Hi.joining}_isLeaving(){return this.state===Hi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const i=e.toLocaleLowerCase(),a={type:i,filter:t,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&xE.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Vl.close,{},e)}_onError(e){this._on(Vl.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Hi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=bT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=bT(e.columns,e.old_record)),t}}const yT=()=>{},Kx={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uL=[1e3,2e3,5e3,1e4],dL=1e4,hL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fL{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=QS,this.transport=null,this.heartbeatIntervalMs=Kx.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yT,this.ref=0,this.reconnectTimer=null,this.logger=yT,this.conn=null,this.sendBuffer=[],this.serializer=new rL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Nb(async()=>{const{default:c}=await Promise.resolve().then(()=>s0);return{default:c}},void 0).then(({default:c})=>c(...o)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=t?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${$S.websocket}`,this.httpEndpoint=tC(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JP.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:eL}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ag.connecting:return Tf.Connecting;case Ag.open:return Tf.Open;case Ag.closing:return Tf.Closing;default:return Tf.Closed}}isConnected(){return this.connectionState()===Tf.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new xE(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${t} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(tL,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Kx.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{t.topic==="phoenix"&&t.event==="phx_reply"&&this.heartbeatCallback(t.payload.status==="ok"?"ok":"error"),t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=t,c=o?`(${o})`:"",d=a.status||"";this.log("receive",`${d} ${n} ${i} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(i,a,o)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Vl.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${n}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([hL],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const i={access_token:t,version:$P};t&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Vl.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new $4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kx.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,i,a,o,c,d,f;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:QS,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Kx.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(g=>uL[g-1]||dL),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((g,b)=>b(JSON.stringify(g))),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class vE extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Vi(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class mL extends vE{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tw extends vE{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var pL=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function c(g){try{f(n.next(g))}catch(b){o(b)}}function d(g){try{f(n.throw(g))}catch(b){o(b)}}function f(g){g.done?a(g.value):i(g.value).then(c,d)}f((n=n.apply(r,e||[])).next())})};const nC=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Nb(async()=>{const{default:n}=await Promise.resolve().then(()=>s0);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},gL=()=>pL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nb(()=>Promise.resolve().then(()=>s0),void 0)).Response:Response}),nw=r=>{if(Array.isArray(r))return r.map(t=>nw(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const i=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=nw(n)}),e},bL=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Gf=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function c(g){try{f(n.next(g))}catch(b){o(b)}}function d(g){try{f(n.throw(g))}catch(b){o(b)}}function f(g){g.done?a(g.value):i(g.value).then(c,d)}f((n=n.apply(r,e||[])).next())})};const n2=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),xL=(r,e,t)=>Gf(void 0,void 0,void 0,function*(){const n=yield gL();r instanceof n&&!t?.noResolveJson?r.json().then(i=>{const a=r.status||500,o=i?.statusCode||a+"";e(new mL(n2(i),a,o))}).catch(i=>{e(new tw(n2(i),i))}):e(new tw(n2(r),r))}),vL=(r,e,t,n)=>{const i={method:r,headers:e?.headers||{}};return r==="GET"||!n?i:(bL(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))};function Tb(r,e,t,n,i,a){return Gf(this,void 0,void 0,function*(){return new Promise((o,c)=>{r(t,vL(e,n,i,a)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>xL(d,c,n))})})}function m1(r,e,t,n){return Gf(this,void 0,void 0,function*(){return Tb(r,"GET",e,t,n)})}function Bc(r,e,t,n,i){return Gf(this,void 0,void 0,function*(){return Tb(r,"POST",e,n,i,t)})}function rw(r,e,t,n,i){return Gf(this,void 0,void 0,function*(){return Tb(r,"PUT",e,n,i,t)})}function yL(r,e,t,n){return Gf(this,void 0,void 0,function*(){return Tb(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function rC(r,e,t,n,i){return Gf(this,void 0,void 0,function*(){return Tb(r,"DELETE",e,n,i,t)})}var ha=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function c(g){try{f(n.next(g))}catch(b){o(b)}}function d(g){try{f(n.throw(g))}catch(b){o(b)}}function f(g){g.done?a(g.value):i(g.value).then(c,d)}f((n=n.apply(r,e||[])).next())})};const _L={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_T={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class SL{constructor(e,t={},n,i){this.url=e,this.headers=t,this.bucketId=n,this.fetch=nC(i)}uploadOrUpdate(e,t,n,i){return ha(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},_T),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=n,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const f=this._removeEmptyFolders(t),g=this._getFinalPath(f),b=yield(e=="PUT"?rw:Bc)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:b.Id,fullPath:b.Key},error:null}}catch(a){if(Vi(a))return{data:null,error:a};throw a}})}upload(e,t,n){return ha(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,i){return ha(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",t);try{let d;const f=Object.assign({upsert:_T.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType);const b=yield rw(this.fetch,c.toString(),d,{headers:g});return{data:{path:a,fullPath:b.Key},error:null}}catch(d){if(Vi(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return ha(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const a=yield Bc(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),c=o.searchParams.get("token");if(!c)throw new vE("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(n){if(Vi(n))return{data:null,error:n};throw n}})}update(e,t,n){return ha(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return ha(this,void 0,void 0,function*(){try{return{data:yield Bc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Vi(i))return{data:null,error:i};throw i}})}copy(e,t,n){return ha(this,void 0,void 0,function*(){try{return{data:{path:(yield Bc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Vi(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,n){return ha(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Bc(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(Vi(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,n){return ha(this,void 0,void 0,function*(){try{const i=yield Bc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(Vi(i))return{data:null,error:i};throw i}})}download(e,t){return ha(this,void 0,void 0,function*(){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(t?.transform||{}),o=a?`?${a}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield m1(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Vi(c))return{data:null,error:c};throw c}})}info(e){return ha(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield m1(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:nw(n),error:null}}catch(n){if(Vi(n))return{data:null,error:n};throw n}})}exists(e){return ha(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield yL(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Vi(n)&&n instanceof tw){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&i.push(a);const c=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${f}`)}}}remove(e){return ha(this,void 0,void 0,function*(){try{return{data:yield rC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Vi(t))return{data:null,error:t};throw t}})}list(e,t,n){return ha(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},_L),t),{prefix:e||""});return{data:yield Bc(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Vi(i))return{data:null,error:i};throw i}})}listV2(e,t){return ha(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Bc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(Vi(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const wL="2.11.0",EL={"X-Client-Info":`storage-js/${wL}`};var Wm=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function c(g){try{f(n.next(g))}catch(b){o(b)}}function d(g){try{f(n.throw(g))}catch(b){o(b)}}function f(g){g.done?a(g.value):i(g.value).then(c,d)}f((n=n.apply(r,e||[])).next())})};class NL{constructor(e,t={},n,i){const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},EL),t),this.fetch=nC(n)}listBuckets(){return Wm(this,void 0,void 0,function*(){try{return{data:yield m1(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Vi(e))return{data:null,error:e};throw e}})}getBucket(e){return Wm(this,void 0,void 0,function*(){try{return{data:yield m1(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Vi(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Wm(this,void 0,void 0,function*(){try{return{data:yield Bc(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Vi(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Wm(this,void 0,void 0,function*(){try{return{data:yield rw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Vi(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Wm(this,void 0,void 0,function*(){try{return{data:yield Bc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Vi(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Wm(this,void 0,void 0,function*(){try{return{data:yield rC(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Vi(t))return{data:null,error:t};throw t}})}}class TL extends NL{constructor(e,t={},n,i){super(e,t,n,i)}from(e){return new SL(this.url,this.headers,e,this.fetch)}}const ML="2.55.0";let wg="";typeof Deno<"u"?wg="deno":typeof document<"u"?wg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wg="react-native":wg="node";const jL={"X-Client-Info":`supabase-js-${wg}/${ML}`},AL={headers:jL},CL={schema:"public"},RL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OL={};var DL=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function c(g){try{f(n.next(g))}catch(b){o(b)}}function d(g){try{f(n.throw(g))}catch(b){o(b)}}function f(g){g.done?a(g.value):i(g.value).then(c,d)}f((n=n.apply(r,e||[])).next())})};const PL=r=>{let e;return r?e=r:typeof fetch>"u"?e=X4:e=fetch,(...t)=>e(...t)},LL=()=>typeof Headers>"u"?Y4:Headers,zL=(r,e,t)=>{const n=PL(t),i=LL();return(a,o)=>DL(void 0,void 0,void 0,function*(){var c;const d=(c=yield e())!==null&&c!==void 0?c:r;let f=new i(o?.headers);return f.has("apikey")||f.set("apikey",r),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(a,Object.assign(Object.assign({},o),{headers:f}))})};var UL=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function c(g){try{f(n.next(g))}catch(b){o(b)}}function d(g){try{f(n.throw(g))}catch(b){o(b)}}function f(g){g.done?a(g.value):i(g.value).then(c,d)}f((n=n.apply(r,e||[])).next())})};function IL(r){return r.endsWith("/")?r:r+"/"}function BL(r,e){var t,n;const{db:i,auth:a,realtime:o,global:c}=r,{db:d,auth:f,realtime:g,global:b}=e,v={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},g),o),storage:{},global:Object.assign(Object.assign(Object.assign({},b),c),{headers:Object.assign(Object.assign({},(t=b?.headers)!==null&&t!==void 0?t:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>UL(this,void 0,void 0,function*(){return""})};return r.accessToken?v.accessToken=r.accessToken:delete v.accessToken,v}const iC="2.71.1",Ep=30*1e3,iw=3,r2=iw*Ep,kL="http://localhost:9999",HL="supabase.auth.token",VL={"X-Client-Info":`gotrue-js/${iC}`},sw="X-Supabase-Api-Version",sC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qL=600*1e3;class yE extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Cn(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class GL extends yE{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function WL(r){return Cn(r)&&r.name==="AuthApiError"}class aC extends yE{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class bh extends yE{constructor(e,t,n,i){super(e,n,i),this.name=t,this.status=n}}class ih extends bh{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function XL(r){return Cn(r)&&r.name==="AuthSessionMissingError"}class Jx extends bh{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qx extends bh{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $x extends bh{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YL(r){return Cn(r)&&r.name==="AuthImplicitGrantRedirectError"}class ST extends bh{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class aw extends bh{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function i2(r){return Cn(r)&&r.name==="AuthRetryableFetchError"}class wT extends bh{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class ow extends bh{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const p1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ET=` 	
\r=`.split(""),ZL=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<ET.length;e+=1)r[ET[e].charCodeAt(0)]=-2;for(let e=0;e<p1.length;e+=1)r[p1[e].charCodeAt(0)]=e;return r})();function NT(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(p1[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(p1[n]),e.queuedBits-=6}}function oC(r,e,t){const n=ZL[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function TT(r){const e=[],t=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{QL(o,n,t)};for(let o=0;o<r.length;o+=1)oC(r.charCodeAt(o),i,a);return e.join("")}function KL(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function JL(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}KL(n,e)}}function QL(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function $L(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<r.length;i+=1)oC(r.charCodeAt(i),t,n);return new Uint8Array(e)}function e8(r){const e=[];return JL(r,t=>e.push(t)),new Uint8Array(e)}function t8(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};return r.forEach(i=>NT(i,t,n)),NT(null,t,n),e.join("")}function n8(r){return Math.round(Date.now()/1e3)+r}function r8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Bl=()=>typeof window<"u"&&typeof document<"u",nf={tested:!1,writable:!1},lC=()=>{if(!Bl())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nf.tested)return nf.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),nf.tested=!0,nf.writable=!0}catch{nf.tested=!0,nf.writable=!1}return nf.writable};function i8(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return t.searchParams.forEach((n,i)=>{e[i]=n}),e}const cC=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Nb(async()=>{const{default:n}=await Promise.resolve().then(()=>s0);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},s8=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Np=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},rf=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Vd=async(r,e)=>{await r.removeItem(e)};class xy{constructor(){this.promise=new xy.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}xy.promiseConstructor=Promise;function s2(r){const e=r.split(".");if(e.length!==3)throw new ow("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!FL.test(e[n]))throw new ow("JWT not in base64url format");return{header:JSON.parse(TT(e[0])),payload:JSON.parse(TT(e[1])),signature:$L(e[2]),raw:{header:e[0],payload:e[1]}}}async function a8(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function o8(r,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await r(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function l8(r){return("0"+r.toString(16)).substr(-2)}function c8(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let i="";for(let a=0;a<56;a++)i+=t.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,l8).join("")}async function u8(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function d8(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await u8(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xm(r,e,t=!1){const n=c8();let i=n;t&&(i+="/PASSWORD_RECOVERY"),await Np(r,`${e}-code-verifier`,i);const a=await d8(n);return[a,n===a?"plain":"s256"]}const h8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f8(r){const e=r.headers.get(sw);if(!e||!e.match(h8))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function m8(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function p8(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const g8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ym(r){if(!g8.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function a2(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function MT(r){return JSON.parse(JSON.stringify(r))}var b8=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const _f=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),x8=[502,503,504];async function jT(r){var e;if(!s8(r))throw new aw(_f(r),0);if(x8.includes(r.status))throw new aw(_f(r),r.status);let t;try{t=await r.json()}catch(a){throw new aC(_f(a),a)}let n;const i=f8(r);if(i&&i.getTime()>=sC["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new wT(_f(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ih}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new wT(_f(t),r.status,t.weak_password.reasons);throw new GL(_f(t),r.status||500,n)}const v8=(r,e,t,n)=>{const i={method:r,headers:e?.headers||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),t))};async function Wn(r,e,t,n){var i;const a=Object.assign({},n?.headers);a[sw]||(a[sw]=sC["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await y8(r,e,t+c,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function y8(r,e,t,n,i,a){const o=v8(e,n,i,a);let c;try{c=await r(t,Object.assign({},o))}catch(d){throw console.error(d),new aw(_f(d),0)}if(c.ok||await jT(c),n?.noResolveJson)return c;try{return await c.json()}catch(d){await jT(d)}}function Bu(r){var e;let t=null;E8(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=n8(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function AT(r){const e=Bu(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function oh(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function _8(r){return{data:r,error:null}}function S8(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:a}=r,o=b8(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:a},d=Object.assign({},o);return{data:{properties:c,user:d},error:null}}function w8(r){return r}function E8(r){return r.access_token&&r.refresh_token&&r.expires_in}const o2=["global","local","others"];var N8=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};class T8{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=cC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=o2[0]){if(o2.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${o2.join(", ")}`);try{return await Wn(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Cn(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Wn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:oh})}catch(n){if(Cn(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=N8(e,["options"]),i=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Wn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:S8,redirectTo:t?.redirectTo})}catch(t){if(Cn(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Wn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:oh})}catch(t){if(Cn(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,i,a,o,c,d;try{const f={nextPage:null,lastPage:0,total:0},g=await Wn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:w8});if(g.error)throw g.error;const b=await g.json(),v=(o=g.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(w=>{const T=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(w.split(";")[1].split("=")[1]);f[`${N}Page`]=T}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},b),f),error:null}}catch(f){if(Cn(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Ym(e);try{return await Wn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:oh})}catch(t){if(Cn(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Ym(e);try{return await Wn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:oh})}catch(n){if(Cn(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){Ym(e);try{return await Wn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:oh})}catch(n){if(Cn(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ym(e.userId);try{const{data:t,error:n}=await Wn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:n}}catch(t){if(Cn(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Ym(e.userId),Ym(e.id);try{return{data:await Wn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Cn(t))return{data:null,error:t};throw t}}}function CT(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function M8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zm={debug:!!(globalThis&&lC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class j8 extends uC{}async function A8(r,e,t){Zm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Zm.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Zm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return await t()}finally{Zm.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(e===0)throw Zm.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new j8(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Zm.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}M8();const C8={url:kL,storageKey:HL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:VL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function RT(r,e,t){return await t()}const Km={};class Jg{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jg.nextInstanceID,Jg.nextInstanceID+=1,this.instanceID>0&&Bl()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},C8),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new T8({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=cC(i.fetch),this.lock=i.lock||RT,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Bl()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=A8:this.lock=RT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:lC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=CT(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=CT(this.memoryStorage)),Bl()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=Km[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Km[this.storageKey]=Object.assign(Object.assign({},Km[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Km[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Km[this.storageKey]=Object.assign(Object.assign({},Km[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${iC}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=i8(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Bl()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),YL(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Cn(t)?{error:t}:{error:new aC("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,i;try{const a=await Wn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Bu}),{data:o,error:c}=a;if(c||!o)return{data:{user:null,session:null},error:c};const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(a){if(Cn(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,i;try{let a;if("email"in e){const{email:g,password:b,options:v}=e;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await Xm(this.storage,this.storageKey)),a=await Wn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:g,password:b,data:(t=v?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:w},xform:Bu})}else if("phone"in e){const{phone:g,password:b,options:v}=e;a=await Wn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:b,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(i=v?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Bu})}else throw new Qx("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c||!o)return{data:{user:null,session:null},error:c};const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(a){if(Cn(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:o,options:c}=e;t=await Wn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:AT})}else if("phone"in e){const{phone:a,password:o,options:c}=e;t=await Wn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:AT})}else throw new Qx("You must provide either an email or phone number and a password");const{data:n,error:i}=t;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Jx}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(t){if(Cn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,i,a,o,c,d,f,g,b,v,y;let w,T;if("message"in e)w=e.message,T=e.signature;else{const{chain:N,wallet:_,statement:j,options:C}=e;let A;if(Bl())if(typeof _=="object")A=_;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))A=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const P=new URL((t=C?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in A&&A.signIn){const U=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),j?{statement:j}:null));let B;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")B=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)B=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)w=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),T=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${P.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(n=C?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=C?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((b=(g=C?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||b===void 0)&&b.length?["Resources",...C.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const U=await A.signMessage(new TextEncoder().encode(w),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=U}}try{const{data:N,error:_}=await Wn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:t8(T)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Bu});if(_)throw _;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Jx}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:_})}catch(N){if(Cn(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const t=await rf(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(t??"").split("/");try{const{data:a,error:o}=await Wn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Bu});if(await Vd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Jx}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Cn(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:i,access_token:a,nonce:o}=e,c=await Wn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Bu}),{data:d,error:f}=c;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Jx}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(t){if(Cn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,i,a,o;try{if("email"in e){const{email:c,options:d}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Xm(this.storage,this.storageKey));const{error:b}=await Wn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=d?.data)!==null&&t!==void 0?t:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in e){const{phone:c,options:d}=e,{data:f,error:g}=await Wn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:f?.message_id},error:g}}throw new Qx("You must provide either an email or phone number.")}catch(c){if(Cn(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var t,n;try{let i,a;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await Wn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Bu});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,f=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(i){if(Cn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Xm(this.storage,this.storageKey)),await Wn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:_8})}catch(a){if(Cn(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new ih;const{error:i}=await Wn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Cn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await Wn(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:c}=await Wn(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:c}}throw new Qx("You must provide either an email or phone number and a type")}catch(t){if(Cn(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await rf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<r2:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await rf(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=a2()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,f,g)=>(!o&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,g))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Wn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:oh}):await this._useSession(async t=>{var n,i,a;const{data:o,error:c}=t;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ih}:await Wn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:oh})})}catch(t){if(Cn(t))return XL(t)&&(await this._removeSession(),await Vd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new ih;const o=i.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await Xm(this.storage,this.storageKey));const{data:f,error:g}=await Wn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:o.access_token,xform:oh});if(g)throw g;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Cn(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ih;const t=Date.now()/1e3;let n=t,i=!0,a=null;const{payload:o}=s2(e.access_token);if(o.exp&&(n=o.exp,i=n<=t),i){const{session:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(Cn(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:o,error:c}=t;if(c)throw c;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new ih;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Cn(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Bl())throw new $x("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $x(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new ST("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $x("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ST("No code detected.");const{data:j,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:c,expires_at:d,token_type:f}=e;if(!a||!c||!o||!f)throw new $x("No session defined in URL");const g=Math.round(Date.now()/1e3),b=parseInt(c);let v=g+b;d&&(v=parseInt(d));const y=v-g;y*1e3<=Ep&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${b}s`);const w=v-b;g-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,g):g-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,g);const{data:T,error:N}=await this._getUser(a);if(N)throw N;const _={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:b,expires_at:v,refresh_token:o,token_type:f,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(n){if(Cn(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await rf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:i,error:a}=t;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(WL(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Vd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=r8(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,i;try{const{data:{session:a},error:o}=t;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Xm(this.storage,this.storageKey,!0));try{return await Wn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(Cn(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Cn(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:i}=await this._useSession(async a=>{var o,c,d,f,g;const{data:b,error:v}=a;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Wn(this.fetch,"GET",y,{headers:this.headers,jwt:(g=(f=b.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Bl()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(Cn(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,i;const{data:a,error:o}=t;if(o)throw o;return await Wn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(Cn(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await o8(async i=>(i>0&&await a8(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Wn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Bu})),(i,a)=>{const o=200*Math.pow(2,i);return a&&i2(a)&&Date.now()+o-n<Ep})}catch(n){if(this._debug(t,"error",n),Cn(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Bl()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await rf(this.storage,this.storageKey);if(i&&this.userStorage){let o=await rf(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Np(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:a2()}else if(i&&!i.user&&!i.user){const o=await rf(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Vd(this.storage,this.storageKey+"-user"),await Np(this.storage,this.storageKey,i)):i.user=a2()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<r2;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${r2}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),i2(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new ih;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new xy;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new ih;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),Cn(a)){const o={session:null,error:a};return i2(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(d){a.push(d)}});if(await Promise.all(o),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await Np(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const a=MT(i);await Np(this.storage,this.storageKey,a)}else{const i=MT(t);await Np(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Vd(this.storage,this.storageKey),await Vd(this.storage,this.storageKey+"-code-verifier"),await Vd(this.storage,this.storageKey+"-user"),this.userStorage&&await Vd(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Bl()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ep);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ep);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ep}ms, refresh threshold is ${iw} ticks`),i<=iw&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof uC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bl()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const i=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Xm(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:i,error:a}=t;return a?{data:null,error:a}:await Wn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Cn(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,i;const{data:a,error:o}=t;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:f}=await Wn(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(t){if(Cn(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:a}=t;if(a)return{data:null,error:a};const{data:o,error:c}=await Wn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(t){if(Cn(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:a}=t;return a?{data:null,error:a}:await Wn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Cn(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=e?.factors||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=s2(i.access_token);let c=null;o.aal&&(c=o.aal);let d=c;((n=(t=i.user.factors)===null||t===void 0?void 0:t.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const g=o.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(c=>c.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+qL>i)return n;const{data:a,error:o}=await Wn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};n=y.session.access_token}const{header:i,payload:a,signature:o,raw:{header:c,payload:d}}=s2(n);t?.allowExpired||m8(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!f){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:a,header:i,signature:o},error:null}}const g=p8(i.alg),b=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,b,o,e8(`${c}.${d}`)))throw new ow("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Cn(n))return{data:null,error:n};throw n}}}Jg.nextInstanceID=0;const R8=Jg;class O8 extends R8{constructor(e){super(e)}}var D8=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function c(g){try{f(n.next(g))}catch(b){o(b)}}function d(g){try{f(n.throw(g))}catch(b){o(b)}}function f(g){g.done?a(g.value):i(g.value).then(c,d)}f((n=n.apply(r,e||[])).next())})};class P8{constructor(e,t,n){var i,a,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const c=IL(e),d=new URL(c);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:CL,realtime:OL,auth:Object.assign(Object.assign({},RL),{storageKey:f}),global:AL},b=BL(n??{},g);this.storageKey=(i=b.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=b.global.headers)!==null&&a!==void 0?a:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(v,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=b.auth)!==null&&o!==void 0?o:{},this.headers,b.global.fetch),this.fetch=zL(t,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new KP(new URL("rest/v1",d).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new TL(this.storageUrl.href,this.headers,this.fetch,n?.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new IP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return D8(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,storageKey:a,flowType:o,lock:c,debug:d},f,g){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new O8({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),f),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,flowType:o,lock:c,debug:d,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new fL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const L8=(r,e,t)=>new P8(r,e,t);function z8(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}z8()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const U8="https://dhlfazgdmflcldzojbdv.supabase.co",I8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRobGZhemdkbWZsY2xkem9qYmR2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczMzM0OTMsImV4cCI6MjA2MjkwOTQ5M30.FqvgGqUgc4WRDk4s8Geb4TpRoijtxTt0jh--ErrV6qg",Jt=L8(U8,I8),dC=ae.createContext();function B8({children:r}){const[e,t]=ae.useState(null),[n,i]=ae.useState(!1),[a,o]=ae.useState(!0);ae.useEffect(()=>{let d=!0;Jt.auth.getSession().then(({data:{session:g}})=>{if(!d)return;const b=g?.user??null;t(b),i(b?.app_metadata?.is_admin||!1),g&&Jt.realtime.setAuth(g.access_token),o(!1)});const{data:{subscription:f}}=Jt.auth.onAuthStateChange((g,b)=>{const v=b?.user??null;t(v),i(v?.app_metadata?.is_admin||!1),b?Jt.realtime.setAuth(b.access_token):Jt.realtime.setAuth(null),o(!1)});return()=>{d=!1,f.unsubscribe()}},[]);const c={user:e,isAdmin:n,loading:a,signIn:async({email:d,password:f})=>Jt.auth.signInWithPassword({email:d,password:f}),signUp:async({username:d,email:f,password:g})=>Jt.auth.signUp({email:f,password:g,options:{data:{username:d}}}),signOut:async()=>Jt.auth.signOut()};return s.jsx(dC.Provider,{value:c,children:r})}function sl(){return ae.useContext(dC)}const k8=ae.createContext(null),l2={didCatch:!1,error:null};let H8=class extends ae.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=l2}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var t,n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];(t=(n=this.props).onReset)===null||t===void 0||t.call(n,{args:a,reason:"imperative-api"}),this.setState(l2)}}componentDidCatch(e,t){var n,i;(n=(i=this.props).onError)===null||n===void 0||n.call(i,e,t)}componentDidUpdate(e,t){const{didCatch:n}=this.state,{resetKeys:i}=this.props;if(n&&t.error!==null&&V8(e.resetKeys,i)){var a,o;(a=(o=this.props).onReset)===null||a===void 0||a.call(o,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(l2)}}render(){const{children:e,fallbackRender:t,FallbackComponent:n,fallback:i}=this.props,{didCatch:a,error:o}=this.state;let c=e;if(a){const d={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")c=t(d);else if(n)c=ae.createElement(n,d);else if(i!==void 0)c=i;else throw o}return ae.createElement(k8.Provider,{value:{didCatch:a,error:o,resetErrorBoundary:this.resetErrorBoundary}},c)}};function V8(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return r.length!==e.length||r.some((t,n)=>!Object.is(t,e[n]))}const vy=ae.createContext({diceColor:"",setDiceColor:()=>{},showModal:!1,setShowModal:()=>{},selectedDie:null,setSelectedDie:()=>{},disableThreeJS:!1,setDisableThreeJS:()=>{}}),F8=({children:r})=>{const[e,t]=ae.useState(localStorage.getItem("diceColor")||"#fb2c36"),[n,i]=ae.useState(!1),[a,o]=ae.useState(null),[c,d]=ae.useState(!1);return s.jsx(vy.Provider,{value:{diceColor:e,setDiceColor:t,showModal:n,setShowModal:i,selectedDie:a,setSelectedDie:o,disableThreeJS:c,setDisableThreeJS:d},children:s.jsx("div",{id:"app-content",className:"relative min-h-screen top-0 left-0 w-full",children:r})})},_E=ae.createContext({});function SE(r){const e=ae.useRef(null);return e.current===null&&(e.current=r()),e.current}const wE=typeof window<"u",hC=wE?ae.useLayoutEffect:ae.useEffect,yy=ae.createContext(null);function EE(r,e){r.indexOf(e)===-1&&r.push(e)}function NE(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}const Yu=(r,e,t)=>t>e?e:t<r?r:t;let TE=()=>{};const Zu={},fC=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function mC(r){return typeof r=="object"&&r!==null}const pC=r=>/^0[^.\s]+$/u.test(r);function ME(r){let e;return()=>(e===void 0&&(e=r()),e)}const rl=r=>r,q8=(r,e)=>t=>e(r(t)),Mb=(...r)=>r.reduce(q8),Qg=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n};class jE{constructor(){this.subscriptions=[]}add(e){return EE(this.subscriptions,e),()=>NE(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qc=r=>r*1e3,Gc=r=>r/1e3;function gC(r,e){return e?r*(1e3/e):0}const bC=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,G8=1e-7,W8=12;function X8(r,e,t,n,i){let a,o,c=0;do o=e+(t-e)/2,a=bC(o,n,i)-r,a>0?t=o:e=o;while(Math.abs(a)>G8&&++c<W8);return o}function jb(r,e,t,n){if(r===e&&t===n)return rl;const i=a=>X8(a,0,1,r,t);return a=>a===0||a===1?a:bC(i(a),e,n)}const xC=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,vC=r=>e=>1-r(1-e),yC=jb(.33,1.53,.69,.99),AE=vC(yC),_C=xC(AE),SC=r=>(r*=2)<1?.5*AE(r):.5*(2-Math.pow(2,-10*(r-1))),CE=r=>1-Math.sin(Math.acos(r)),wC=vC(CE),EC=xC(CE),Y8=jb(.42,0,1,1),Z8=jb(0,0,.58,1),NC=jb(.42,0,.58,1),K8=r=>Array.isArray(r)&&typeof r[0]!="number",TC=r=>Array.isArray(r)&&typeof r[0]=="number",J8={linear:rl,easeIn:Y8,easeInOut:NC,easeOut:Z8,circIn:CE,circInOut:EC,circOut:wC,backIn:AE,backInOut:_C,backOut:yC,anticipate:SC},Q8=r=>typeof r=="string",OT=r=>{if(TC(r)){TE(r.length===4);const[e,t,n,i]=r;return jb(e,t,n,i)}else if(Q8(r))return J8[r];return r},ev=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $8(r,e){let t=new Set,n=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(g){o.has(g)&&(f.schedule(g),r()),g(c)}const f={schedule:(g,b=!1,v=!1)=>{const w=v&&i?t:n;return b&&o.add(g),w.has(g)||w.add(g),g},cancel:g=>{n.delete(g),o.delete(g)},process:g=>{if(c=g,i){a=!0;return}i=!0,[t,n]=[n,t],t.forEach(d),t.clear(),i=!1,a&&(a=!1,f.process(g))}};return f}const ez=40;function MC(r,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,o=ev.reduce((C,A)=>(C[A]=$8(a),C),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:g,update:b,preRender:v,render:y,postRender:w}=o,T=()=>{const C=Zu.useManualTiming?i.timestamp:performance.now();t=!1,Zu.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(C-i.timestamp,ez),1)),i.timestamp=C,i.isProcessing=!0,c.process(i),d.process(i),f.process(i),g.process(i),b.process(i),v.process(i),y.process(i),w.process(i),i.isProcessing=!1,t&&e&&(n=!1,r(T))},N=()=>{t=!0,n=!0,i.isProcessing||r(T)};return{schedule:ev.reduce((C,A)=>{const P=o[A];return C[A]=(U,B=!1,F=!1)=>(t||N(),P.schedule(U,B,F)),C},{}),cancel:C=>{for(let A=0;A<ev.length;A++)o[ev[A]].cancel(C)},state:i,steps:o}}const{schedule:Yr,cancel:hh,state:Ts,steps:c2}=MC(typeof requestAnimationFrame<"u"?requestAnimationFrame:rl,!0);let e1;function tz(){e1=void 0}const ka={now:()=>(e1===void 0&&ka.set(Ts.isProcessing||Zu.useManualTiming?Ts.timestamp:performance.now()),e1),set:r=>{e1=r,queueMicrotask(tz)}},jC=r=>e=>typeof e=="string"&&e.startsWith(r),RE=jC("--"),nz=jC("var(--"),OE=r=>nz(r)?rz.test(r.split("/*")[0].trim()):!1,rz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,a0={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},$g={...a0,transform:r=>Yu(0,1,r)},tv={...a0,default:1},Og=r=>Math.round(r*1e5)/1e5,DE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iz(r){return r==null}const sz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,PE=(r,e)=>t=>!!(typeof t=="string"&&sz.test(t)&&t.startsWith(r)||e&&!iz(t)&&Object.prototype.hasOwnProperty.call(t,e)),AC=(r,e,t)=>n=>{if(typeof n!="string")return n;const[i,a,o,c]=n.match(DE);return{[r]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},az=r=>Yu(0,255,r),u2={...a0,transform:r=>Math.round(az(r))},jf={test:PE("rgb","red"),parse:AC("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+u2.transform(r)+", "+u2.transform(e)+", "+u2.transform(t)+", "+Og($g.transform(n))+")"};function oz(r){let e="",t="",n="",i="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),i=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),i=r.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const lw={test:PE("#"),parse:oz,transform:jf.transform},Ab=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),sh=Ab("deg"),Wc=Ab("%"),bn=Ab("px"),lz=Ab("vh"),cz=Ab("vw"),DT={...Wc,parse:r=>Wc.parse(r)/100,transform:r=>Wc.transform(r*100)},Tp={test:PE("hsl","hue"),parse:AC("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+Wc.transform(Og(e))+", "+Wc.transform(Og(t))+", "+Og($g.transform(n))+")"},Pi={test:r=>jf.test(r)||lw.test(r)||Tp.test(r),parse:r=>jf.test(r)?jf.parse(r):Tp.test(r)?Tp.parse(r):lw.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?jf.transform(r):Tp.transform(r),getAnimatableNone:r=>{const e=Pi.parse(r);return e.alpha=0,Pi.transform(e)}},uz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dz(r){return isNaN(r)&&typeof r=="string"&&(r.match(DE)?.length||0)+(r.match(uz)?.length||0)>0}const CC="number",RC="color",hz="var",fz="var(",PT="${}",mz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eb(r){const e=r.toString(),t=[],n={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(mz,d=>(Pi.test(d)?(n.color.push(a),i.push(RC),t.push(Pi.parse(d))):d.startsWith(fz)?(n.var.push(a),i.push(hz),t.push(d)):(n.number.push(a),i.push(CC),t.push(parseFloat(d))),++a,PT)).split(PT);return{values:t,split:c,indexes:n,types:i}}function OC(r){return eb(r).values}function DC(r){const{split:e,types:t}=eb(r),n=e.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=e[o],i[o]!==void 0){const c=t[o];c===CC?a+=Og(i[o]):c===RC?a+=Pi.transform(i[o]):a+=i[o]}return a}}const pz=r=>typeof r=="number"?0:Pi.test(r)?Pi.getAnimatableNone(r):r;function gz(r){const e=OC(r);return DC(r)(e.map(pz))}const fh={test:dz,parse:OC,createTransformer:DC,getAnimatableNone:gz};function d2(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function bz({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let i=0,a=0,o=0;if(!e)i=a=o=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;i=d2(d,c,r+1/3),a=d2(d,c,r),o=d2(d,c,r-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function g1(r,e){return t=>t>0?e:r}const ai=(r,e,t)=>r+(e-r)*t,h2=(r,e,t)=>{const n=r*r,i=t*(e*e-n)+n;return i<0?0:Math.sqrt(i)},xz=[lw,jf,Tp],vz=r=>xz.find(e=>e.test(r));function LT(r){const e=vz(r);if(!e)return!1;let t=e.parse(r);return e===Tp&&(t=bz(t)),t}const zT=(r,e)=>{const t=LT(r),n=LT(e);if(!t||!n)return g1(r,e);const i={...t};return a=>(i.red=h2(t.red,n.red,a),i.green=h2(t.green,n.green,a),i.blue=h2(t.blue,n.blue,a),i.alpha=ai(t.alpha,n.alpha,a),jf.transform(i))},cw=new Set(["none","hidden"]);function yz(r,e){return cw.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function _z(r,e){return t=>ai(r,e,t)}function LE(r){return typeof r=="number"?_z:typeof r=="string"?OE(r)?g1:Pi.test(r)?zT:Ez:Array.isArray(r)?PC:typeof r=="object"?Pi.test(r)?zT:Sz:g1}function PC(r,e){const t=[...r],n=t.length,i=r.map((a,o)=>LE(a)(a,e[o]));return a=>{for(let o=0;o<n;o++)t[o]=i[o](a);return t}}function Sz(r,e){const t={...r,...e},n={};for(const i in t)r[i]!==void 0&&e[i]!==void 0&&(n[i]=LE(r[i])(r[i],e[i]));return i=>{for(const a in n)t[a]=n[a](i);return t}}function wz(r,e){const t=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=r.indexes[a][n[a]],c=r.values[o]??0;t[i]=c,n[a]++}return t}const Ez=(r,e)=>{const t=fh.createTransformer(e),n=eb(r),i=eb(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?cw.has(r)&&!i.values.length||cw.has(e)&&!n.values.length?yz(r,e):Mb(PC(wz(n,i),i.values),t):g1(r,e)};function LC(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?ai(r,e,t):LE(r)(r,e)}const Nz=r=>{const e=({timestamp:t})=>r(t);return{start:(t=!0)=>Yr.update(e,t),stop:()=>hh(e),now:()=>Ts.isProcessing?Ts.timestamp:ka.now()}},zC=(r,e,t=10)=>{let n="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)n+=Math.round(r(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},b1=2e4;function zE(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<b1;)e+=t,n=r.next(e);return e>=b1?1/0:e}function Tz(r,e=100,t){const n=t({...r,keyframes:[0,e]}),i=Math.min(zE(n),b1);return{type:"keyframes",ease:a=>n.next(i*a).value/e,duration:Gc(i)}}const Mz=5;function UC(r,e,t){const n=Math.max(e-Mz,0);return gC(t-r(n),e-n)}const pi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},f2=.001;function jz({duration:r=pi.duration,bounce:e=pi.bounce,velocity:t=pi.velocity,mass:n=pi.mass}){let i,a,o=1-e;o=Yu(pi.minDamping,pi.maxDamping,o),r=Yu(pi.minDuration,pi.maxDuration,Gc(r)),o<1?(i=f=>{const g=f*o,b=g*r,v=g-t,y=uw(f,o),w=Math.exp(-b);return f2-v/y*w},a=f=>{const b=f*o*r,v=b*t+t,y=Math.pow(o,2)*Math.pow(f,2)*r,w=Math.exp(-b),T=uw(Math.pow(f,2),o);return(-i(f)+f2>0?-1:1)*((v-y)*w)/T}):(i=f=>{const g=Math.exp(-f*r),b=(f-t)*r+1;return-f2+g*b},a=f=>{const g=Math.exp(-f*r),b=(t-f)*(r*r);return g*b});const c=5/r,d=Cz(i,a,c);if(r=qc(r),isNaN(d))return{stiffness:pi.stiffness,damping:pi.damping,duration:r};{const f=Math.pow(d,2)*n;return{stiffness:f,damping:o*2*Math.sqrt(n*f),duration:r}}}const Az=12;function Cz(r,e,t){let n=t;for(let i=1;i<Az;i++)n=n-r(n)/e(n);return n}function uw(r,e){return r*Math.sqrt(1-e*e)}const Rz=["duration","bounce"],Oz=["stiffness","damping","mass"];function UT(r,e){return e.some(t=>r[t]!==void 0)}function Dz(r){let e={velocity:pi.velocity,stiffness:pi.stiffness,damping:pi.damping,mass:pi.mass,isResolvedFromDuration:!1,...r};if(!UT(r,Oz)&&UT(r,Rz))if(r.visualDuration){const t=r.visualDuration,n=2*Math.PI/(t*1.2),i=n*n,a=2*Yu(.05,1,1-(r.bounce||0))*Math.sqrt(i);e={...e,mass:pi.mass,stiffness:i,damping:a}}else{const t=jz(r);e={...e,...t,mass:pi.mass},e.isResolvedFromDuration=!0}return e}function x1(r=pi.visualDuration,e=pi.bounce){const t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r;let{restSpeed:n,restDelta:i}=t;const a=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:f,mass:g,duration:b,velocity:v,isResolvedFromDuration:y}=Dz({...t,velocity:-Gc(t.velocity||0)}),w=v||0,T=f/(2*Math.sqrt(d*g)),N=o-a,_=Gc(Math.sqrt(d/g)),j=Math.abs(N)<5;n||(n=j?pi.restSpeed.granular:pi.restSpeed.default),i||(i=j?pi.restDelta.granular:pi.restDelta.default);let C;if(T<1){const P=uw(_,T);C=U=>{const B=Math.exp(-T*_*U);return o-B*((w+T*_*N)/P*Math.sin(P*U)+N*Math.cos(P*U))}}else if(T===1)C=P=>o-Math.exp(-_*P)*(N+(w+_*N)*P);else{const P=_*Math.sqrt(T*T-1);C=U=>{const B=Math.exp(-T*_*U),F=Math.min(P*U,300);return o-B*((w+T*_*N)*Math.sinh(F)+P*N*Math.cosh(F))/P}}const A={calculatedDuration:y&&b||null,next:P=>{const U=C(P);if(y)c.done=P>=b;else{let B=P===0?w:0;T<1&&(B=P===0?qc(w):UC(C,P,U));const F=Math.abs(B)<=n,k=Math.abs(o-U)<=i;c.done=F&&k}return c.value=c.done?o:U,c},toString:()=>{const P=Math.min(zE(A),b1),U=zC(B=>A.next(P*B).value,P,30);return P+"ms "+U},toTransition:()=>{}};return A}x1.applyToOptions=r=>{const e=Tz(r,100,x1);return r.ease=e.ease,r.duration=qc(e.duration),r.type="keyframes",r};function dw({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:d,restDelta:f=.5,restSpeed:g}){const b=r[0],v={done:!1,value:b},y=F=>c!==void 0&&F<c||d!==void 0&&F>d,w=F=>c===void 0?d:d===void 0||Math.abs(c-F)<Math.abs(d-F)?c:d;let T=t*e;const N=b+T,_=o===void 0?N:o(N);_!==N&&(T=_-b);const j=F=>-T*Math.exp(-F/n),C=F=>_+j(F),A=F=>{const k=j(F),z=C(F);v.done=Math.abs(k)<=f,v.value=v.done?_:z};let P,U;const B=F=>{y(v.value)&&(P=F,U=x1({keyframes:[v.value,w(v.value)],velocity:UC(C,F,v.value),damping:i,stiffness:a,restDelta:f,restSpeed:g}))};return B(0),{calculatedDuration:null,next:F=>{let k=!1;return!U&&P===void 0&&(k=!0,A(F),B(F)),P!==void 0&&F>=P?U.next(F-P):(!k&&A(F),v)}}}function Pz(r,e,t){const n=[],i=t||Zu.mix||LC,a=r.length-1;for(let o=0;o<a;o++){let c=i(r[o],r[o+1]);if(e){const d=Array.isArray(e)?e[o]||rl:e;c=Mb(d,c)}n.push(c)}return n}function Lz(r,e,{clamp:t=!0,ease:n,mixer:i}={}){const a=r.length;if(TE(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=r[0]===r[1];r[0]>r[a-1]&&(r=[...r].reverse(),e=[...e].reverse());const c=Pz(e,n,i),d=c.length,f=g=>{if(o&&g<r[0])return e[0];let b=0;if(d>1)for(;b<r.length-2&&!(g<r[b+1]);b++);const v=Qg(r[b],r[b+1],g);return c[b](v)};return t?g=>f(Yu(r[0],r[a-1],g)):f}function zz(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const i=Qg(0,e,n);r.push(ai(t,1,i))}}function Uz(r){const e=[0];return zz(e,r.length-1),e}function Iz(r,e){return r.map(t=>t*e)}function Bz(r,e){return r.map(()=>e||NC).splice(0,r.length-1)}function Dg({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=K8(n)?n.map(OT):OT(n),a={done:!1,value:e[0]},o=Iz(t&&t.length===e.length?t:Uz(e),r),c=Lz(o,e,{ease:Array.isArray(i)?i:Bz(e,i)});return{calculatedDuration:r,next:d=>(a.value=c(d),a.done=d>=r,a)}}const kz=r=>r!==null;function UE(r,{repeat:e,repeatType:t="loop"},n,i=1){const a=r.filter(kz),c=i<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!c||n===void 0?a[c]:n}const Hz={decay:dw,inertia:dw,tween:Dg,keyframes:Dg,spring:x1};function IC(r){typeof r.type=="string"&&(r.type=Hz[r.type])}class IE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Vz=r=>r/100;class BE extends IE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==ka.now()&&this.tick(ka.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;IC(e);const{type:t=Dg,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:c}=e;const d=t||Dg;d!==Dg&&typeof c[0]!="number"&&(this.mixKeyframes=Mb(Vz,LC(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=zE(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:g,repeat:b,repeatType:v,repeatDelay:y,type:w,onUpdate:T,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const _=this.currentTime-f*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let C=this.currentTime,A=n;if(b){const F=Math.min(this.currentTime,i)/c;let k=Math.floor(F),z=F%1;!z&&F>=1&&(z=1),z===1&&k--,k=Math.min(k,b+1),!!(k%2)&&(v==="reverse"?(z=1-z,y&&(z-=y/c)):v==="mirror"&&(A=o)),C=Yu(0,1,z)*c}const P=j?{done:!1,value:g[0]}:A.next(C);a&&(P.value=a(P.value));let{done:U}=P;!j&&d!==null&&(U=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return B&&w!==dw&&(P.value=UE(g,this.options,N,this.speed)),T&&T(P.value),B&&this.finish(),P}then(e,t){return this.finished.then(e,t)}get duration(){return Gc(this.calculatedDuration)}get time(){return Gc(this.currentTime)}set time(e){e=qc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ka.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Gc(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Nz,startTime:t}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ka.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Fz(r){for(let e=1;e<r.length;e++)r[e]??(r[e]=r[e-1])}const Af=r=>r*180/Math.PI,hw=r=>{const e=Af(Math.atan2(r[1],r[0]));return fw(e)},qz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:hw,rotateZ:hw,skewX:r=>Af(Math.atan(r[1])),skewY:r=>Af(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},fw=r=>(r=r%360,r<0&&(r+=360),r),IT=hw,BT=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),kT=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),Gz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:BT,scaleY:kT,scale:r=>(BT(r)+kT(r))/2,rotateX:r=>fw(Af(Math.atan2(r[6],r[5]))),rotateY:r=>fw(Af(Math.atan2(-r[2],r[0]))),rotateZ:IT,rotate:IT,skewX:r=>Af(Math.atan(r[4])),skewY:r=>Af(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function mw(r){return r.includes("scale")?1:0}function pw(r,e){if(!r||r==="none")return mw(e);const t=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(t)n=Gz,i=t;else{const c=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=qz,i=c}if(!i)return mw(e);const a=n[e],o=i[1].split(",").map(Xz);return typeof a=="function"?a(o):o[a]}const Wz=(r,e)=>{const{transform:t="none"}=getComputedStyle(r);return pw(t,e)};function Xz(r){return parseFloat(r.trim())}const o0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],l0=new Set(o0),HT=r=>r===a0||r===bn,Yz=new Set(["x","y","z"]),Zz=o0.filter(r=>!Yz.has(r));function Kz(r){const e=[];return Zz.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const Df={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:(r,{transform:e})=>pw(e,"x"),y:(r,{transform:e})=>pw(e,"y")};Df.translateX=Df.x;Df.translateY=Df.y;const Pf=new Set;let gw=!1,bw=!1,xw=!1;function BC(){if(bw){const r=Array.from(Pf).filter(n=>n.needsMeasurement),e=new Set(r.map(n=>n.element)),t=new Map;e.forEach(n=>{const i=Kz(n);i.length&&(t.set(n,i),n.render())}),r.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=t.get(n);i&&i.forEach(([a,o])=>{n.getValue(a)?.set(o)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}bw=!1,gw=!1,Pf.forEach(r=>r.complete(xw)),Pf.clear()}function kC(){Pf.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(bw=!0)})}function Jz(){xw=!0,kC(),BC(),xw=!1}class kE{constructor(e,t,n,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Pf.add(this),gw||(gw=!0,Yr.read(kC),Yr.resolveKeyframes(BC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;if(e[0]===null){const a=i?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&t){const c=n.readValue(t,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}Fz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Pf.delete(this)}cancel(){this.state==="scheduled"&&(Pf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Qz=r=>r.startsWith("--");function $z(r,e,t){Qz(e)?r.style.setProperty(e,t):r.style[e]=t}const eU=ME(()=>window.ScrollTimeline!==void 0),tU={};function nU(r,e){const t=ME(r);return()=>tU[e]??t()}const HC=nU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Eg=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,VT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Eg([0,.65,.55,1]),circOut:Eg([.55,0,1,.45]),backIn:Eg([.31,.01,.66,-.59]),backOut:Eg([.33,1.53,.69,.99])};function VC(r,e){if(r)return typeof r=="function"?HC()?zC(r,e):"ease-out":TC(r)?Eg(r):Array.isArray(r)?r.map(t=>VC(t,e)||VT.easeOut):VT[r]}function rU(r,e,t,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:d}={},f=void 0){const g={[e]:t};d&&(g.offset=d);const b=VC(c,i);Array.isArray(b)&&(g.easing=b);const v={delay:n,duration:i,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),r.animate(g,v)}function FC(r){return typeof r=="function"&&"applyToOptions"in r}function iU({type:r,...e}){return FC(r)&&HC()?r.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class sU extends IE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,TE(typeof e.type!="string");const f=iU(e);this.animation=rU(t,n,i,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=UE(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(g):$z(t,n,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Gc(Number(e))}get time(){return Gc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=qc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&eU()?(this.animation.timeline=e,rl):t(this)}}const qC={anticipate:SC,backInOut:_C,circInOut:EC};function aU(r){return r in qC}function oU(r){typeof r.ease=="string"&&aU(r.ease)&&(r.ease=qC[r.ease])}const FT=10;class lU extends sU{constructor(e){oU(e),IC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:i,element:a,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const c=new BE({...o,autoplay:!1}),d=qc(this.finishedTime??this.time);t.setWithVelocity(c.sample(d-FT).value,c.sample(d).value,FT),c.stop()}}const qT=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(fh.test(r)||r==="0")&&!r.startsWith("url("));function cU(r){const e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function uU(r,e,t,n){const i=r[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=r[r.length-1],o=qT(i,e),c=qT(a,e);return!o||!c?!1:cU(r)||(t==="spring"||FC(t))&&n}function vw(r){r.duration=0,r.type}const dU=new Set(["opacity","clipPath","filter","transform"]),hU=ME(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fU(r){const{motionValue:e,name:t,repeatDelay:n,repeatType:i,damping:a,type:o}=r;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return hU()&&t&&dU.has(t)&&(t!=="transform"||!f)&&!d&&!n&&i!=="mirror"&&a!==0&&o!=="inertia"}const mU=40;class pU extends IE{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:d,motionValue:f,element:g,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ka.now();const v={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:a,repeatType:o,name:d,motionValue:f,element:g,...b},y=g?.KeyframeResolver||kE;this.keyframeResolver=new y(c,(w,T,N)=>this.onKeyframesResolved(w,T,v,!N),d,f,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:d,isHandoff:f,onUpdate:g}=n;this.resolvedAt=ka.now(),uU(e,a,o,c)||((Zu.instantAnimations||!d)&&g?.(UE(e,n,t)),e[0]=e[e.length-1],vw(n),n.repeat=0);const v={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>mU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},y=!f&&fU(v)?new lU({...v,element:v.motionValue.owner.current}):new BE(v);y.finished.then(()=>this.notifyFinished()).catch(rl),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Jz()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const gU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bU(r){const e=gU.exec(r);if(!e)return[,];const[,t,n,i]=e;return[`--${t??n}`,i]}function GC(r,e,t=1){const[n,i]=bU(r);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return fC(o)?parseFloat(o):o}return OE(i)?GC(i,e,t+1):i}function HE(r,e){return r?.[e]??r?.default??r}const WC=new Set(["width","height","top","left","right","bottom",...o0]),xU={test:r=>r==="auto",parse:r=>r},XC=r=>e=>e.test(r),YC=[a0,bn,Wc,sh,cz,lz,xU],GT=r=>YC.find(XC(r));function vU(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||pC(r):!0}const yU=new Set(["brightness","contrast","saturate","opacity"]);function _U(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(DE)||[];if(!n)return r;const i=t.replace(n,"");let a=yU.has(e)?1:0;return n!==t&&(a*=100),e+"("+a+i+")"}const SU=/\b([a-z-]*)\(.*?\)/gu,yw={...fh,getAnimatableNone:r=>{const e=r.match(SU);return e?e.map(_U).join(" "):r}},WT={...a0,transform:Math.round},wU={rotate:sh,rotateX:sh,rotateY:sh,rotateZ:sh,scale:tv,scaleX:tv,scaleY:tv,scaleZ:tv,skew:sh,skewX:sh,skewY:sh,distance:bn,translateX:bn,translateY:bn,translateZ:bn,x:bn,y:bn,z:bn,perspective:bn,transformPerspective:bn,opacity:$g,originX:DT,originY:DT,originZ:bn},VE={borderWidth:bn,borderTopWidth:bn,borderRightWidth:bn,borderBottomWidth:bn,borderLeftWidth:bn,borderRadius:bn,radius:bn,borderTopLeftRadius:bn,borderTopRightRadius:bn,borderBottomRightRadius:bn,borderBottomLeftRadius:bn,width:bn,maxWidth:bn,height:bn,maxHeight:bn,top:bn,right:bn,bottom:bn,left:bn,padding:bn,paddingTop:bn,paddingRight:bn,paddingBottom:bn,paddingLeft:bn,margin:bn,marginTop:bn,marginRight:bn,marginBottom:bn,marginLeft:bn,backgroundPositionX:bn,backgroundPositionY:bn,...wU,zIndex:WT,fillOpacity:$g,strokeOpacity:$g,numOctaves:WT},EU={...VE,color:Pi,backgroundColor:Pi,outlineColor:Pi,fill:Pi,stroke:Pi,borderColor:Pi,borderTopColor:Pi,borderRightColor:Pi,borderBottomColor:Pi,borderLeftColor:Pi,filter:yw,WebkitFilter:yw},ZC=r=>EU[r];function KC(r,e){let t=ZC(r);return t!==yw&&(t=fh),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const NU=new Set(["auto","none","0"]);function TU(r,e,t){let n=0,i;for(;n<r.length&&!i;){const a=r[n];typeof a=="string"&&!NU.has(a)&&eb(a).values.length&&(i=r[n]),n++}if(i&&t)for(const a of e)r[a]=KC(t,i)}class MU extends kE{constructor(e,t,n,i,a){super(e,t,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),OE(f))){const g=GC(f,t.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!WC.has(n)||e.length!==2)return;const[i,a]=e,o=GT(i),c=GT(a);if(o!==c)if(HT(o)&&HT(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else Df[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||vU(e[i]))&&n.push(i);n.length&&TU(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Df[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=Df[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function jU(r,e,t){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let n=document;const i=t?.[r]??n.querySelectorAll(r);return i?Array.from(i):[]}return Array.from(r)}const JC=(r,e)=>e&&typeof r=="number"?e.transform(r):r;function QC(r){return mC(r)&&"offsetHeight"in r}const XT=30,AU=r=>!isNaN(parseFloat(r));class CU{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=ka.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ka.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=AU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new jE);const n=this.events[e].add(t);return e==="change"?()=>{n(),Yr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ka.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>XT)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,XT);return gC(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vp(r,e){return new CU(r,e)}const{schedule:FE}=MC(queueMicrotask,!1),kl={x:!1,y:!1};function $C(){return kl.x||kl.y}function RU(r){return r==="x"||r==="y"?kl[r]?null:(kl[r]=!0,()=>{kl[r]=!1}):kl.x||kl.y?null:(kl.x=kl.y=!0,()=>{kl.x=kl.y=!1})}function e5(r,e){const t=jU(r),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[t,i,()=>n.abort()]}function YT(r){return!(r.pointerType==="touch"||$C())}function OU(r,e,t={}){const[n,i,a]=e5(r,t),o=c=>{if(!YT(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const g=b=>{YT(b)&&(f(b),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,i)};return n.forEach(c=>{c.addEventListener("pointerenter",o,i)}),a}const t5=(r,e)=>e?r===e?!0:t5(r,e.parentElement):!1,qE=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,DU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PU(r){return DU.has(r.tagName)||r.tabIndex!==-1}const t1=new WeakSet;function ZT(r){return e=>{e.key==="Enter"&&r(e)}}function m2(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const LU=(r,e)=>{const t=r.currentTarget;if(!t)return;const n=ZT(()=>{if(t1.has(t))return;m2(t,"down");const i=ZT(()=>{m2(t,"up")}),a=()=>m2(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function KT(r){return qE(r)&&!$C()}function zU(r,e,t={}){const[n,i,a]=e5(r,t),o=c=>{const d=c.currentTarget;if(!KT(c))return;t1.add(d);const f=e(d,c),g=(y,w)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",v),t1.has(d)&&t1.delete(d),KT(y)&&typeof f=="function"&&f(y,{success:w})},b=y=>{g(y,d===window||d===document||t.useGlobalTarget||t5(d,y.target))},v=y=>{g(y,!1)};window.addEventListener("pointerup",b,i),window.addEventListener("pointercancel",v,i)};return n.forEach(c=>{(t.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),QC(c)&&(c.addEventListener("focus",f=>LU(f,i)),!PU(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function n5(r){return mC(r)&&"ownerSVGElement"in r}function UU(r){return n5(r)&&r.tagName==="svg"}const qs=r=>!!(r&&r.getVelocity),IU=[...YC,Pi,fh],BU=r=>IU.find(XC(r)),GE=ae.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class kU extends ae.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=t.offsetParent,i=QC(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function HU({children:r,isPresent:e,anchorX:t,root:n}){const i=ae.useId(),a=ae.useRef(null),o=ae.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=ae.useContext(GE);return ae.useInsertionEffect(()=>{const{width:d,height:f,top:g,left:b,right:v}=o.current;if(e||!a.current||!d||!f)return;const y=t==="left"?`left: ${b}`:`right: ${v}`;a.current.dataset.motionPopId=i;const w=document.createElement("style");c&&(w.nonce=c);const T=n??document.head;return T.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${y}px !important;
            top: ${g}px !important;
          }
        `),()=>{T.contains(w)&&T.removeChild(w)}},[e]),s.jsx(kU,{isPresent:e,childRef:a,sizeRef:o,children:ae.cloneElement(r,{ref:a})})}const VU=({children:r,initial:e,isPresent:t,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o,anchorX:c,root:d})=>{const f=SE(FU),g=ae.useId();let b=!0,v=ae.useMemo(()=>(b=!1,{id:g,initial:e,isPresent:t,custom:i,onExitComplete:y=>{f.set(y,!0);for(const w of f.values())if(!w)return;n&&n()},register:y=>(f.set(y,!1),()=>f.delete(y))}),[t,f,n]);return a&&b&&(v={...v}),ae.useMemo(()=>{f.forEach((y,w)=>f.set(w,!1))},[t]),ae.useEffect(()=>{!t&&!f.size&&n&&n()},[t]),o==="popLayout"&&(r=s.jsx(HU,{isPresent:t,anchorX:c,root:d,children:r})),s.jsx(yy.Provider,{value:v,children:r})};function FU(){return new Map}function r5(r=!0){const e=ae.useContext(yy);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,a=ae.useId();ae.useEffect(()=>{if(r)return i(a)},[r]);const o=ae.useCallback(()=>r&&n&&n(a),[a,n,r]);return!t&&n?[!1,o]:[!0]}const nv=r=>r.key||"";function JT(r){const e=[];return ae.Children.forEach(r,t=>{ae.isValidElement(t)&&e.push(t)}),e}const qU=({children:r,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[f,g]=r5(o),b=ae.useMemo(()=>JT(r),[r]),v=o&&!f?[]:b.map(nv),y=ae.useRef(!0),w=ae.useRef(b),T=SE(()=>new Map),[N,_]=ae.useState(b),[j,C]=ae.useState(b);hC(()=>{y.current=!1,w.current=b;for(let U=0;U<j.length;U++){const B=nv(j[U]);v.includes(B)?T.delete(B):T.get(B)!==!0&&T.set(B,!1)}},[j,v.length,v.join("-")]);const A=[];if(b!==N){let U=[...b];for(let B=0;B<j.length;B++){const F=j[B],k=nv(F);v.includes(k)||(U.splice(B,0,F),A.push(F))}return a==="wait"&&A.length&&(U=A),C(JT(U)),_(b),null}const{forceRender:P}=ae.useContext(_E);return s.jsx(s.Fragment,{children:j.map(U=>{const B=nv(U),F=o&&!f?!1:b===j||v.includes(B),k=()=>{if(T.has(B))T.set(B,!0);else return;let z=!0;T.forEach(V=>{V||(z=!1)}),z&&(P?.(),C(w.current),o&&g?.(),n&&n())};return s.jsx(VU,{isPresent:F,initial:!y.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:F?void 0:k,anchorX:c,children:U},B)})})},i5=ae.createContext({strict:!1}),QT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fp={};for(const r in QT)Fp[r]={isEnabled:e=>QT[r].some(t=>!!e[t])};function GU(r){for(const e in r)Fp[e]={...Fp[e],...r[e]}}const WU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function v1(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||WU.has(r)}let s5=r=>!v1(r);function XU(r){typeof r=="function"&&(s5=e=>e.startsWith("on")?!v1(e):r(e))}try{XU(require("@emotion/is-prop-valid").default)}catch{}function YU(r,e,t){const n={};for(const i in r)i==="values"&&typeof r.values=="object"||(s5(i)||t===!0&&v1(i)||!e&&!v1(i)||r.draggable&&i.startsWith("onDrag"))&&(n[i]=r[i]);return n}const _y=ae.createContext({});function Sy(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function tb(r){return typeof r=="string"||Array.isArray(r)}const WE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],XE=["initial",...WE];function wy(r){return Sy(r.animate)||XE.some(e=>tb(r[e]))}function a5(r){return!!(wy(r)||r.variants)}function ZU(r,e){if(wy(r)){const{initial:t,animate:n}=r;return{initial:t===!1||tb(t)?t:void 0,animate:tb(n)?n:void 0}}return r.inherit!==!1?e:{}}function KU(r){const{initial:e,animate:t}=ZU(r,ae.useContext(_y));return ae.useMemo(()=>({initial:e,animate:t}),[$T(e),$T(t)])}function $T(r){return Array.isArray(r)?r.join(" "):r}const nb={};function JU(r){for(const e in r)nb[e]=r[e],RE(e)&&(nb[e].isCSSVariable=!0)}function o5(r,{layout:e,layoutId:t}){return l0.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!nb[r]||r==="opacity")}const QU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$U=o0.length;function e9(r,e,t){let n="",i=!0;for(let a=0;a<$U;a++){const o=o0[a],c=r[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||t){const f=JC(c,VE[o]);if(!d){i=!1;const g=QU[o]||o;n+=`${g}(${f}) `}t&&(e[o]=f)}}return n=n.trim(),t?n=t(e,i?"":n):i&&(n="none"),n}function YE(r,e,t){const{style:n,vars:i,transformOrigin:a}=r;let o=!1,c=!1;for(const d in e){const f=e[d];if(l0.has(d)){o=!0;continue}else if(RE(d)){i[d]=f;continue}else{const g=JC(f,VE[d]);d.startsWith("origin")?(c=!0,a[d]=g):n[d]=g}}if(e.transform||(o||t?n.transform=e9(e,r.transform,t):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:g=0}=a;n.transformOrigin=`${d} ${f} ${g}`}}const ZE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function l5(r,e,t){for(const n in e)!qs(e[n])&&!o5(n,t)&&(r[n]=e[n])}function t9({transformTemplate:r},e){return ae.useMemo(()=>{const t=ZE();return YE(t,e,r),Object.assign({},t.vars,t.style)},[e])}function n9(r,e){const t=r.style||{},n={};return l5(n,t,r),Object.assign(n,t9(r,e)),n}function r9(r,e){const t={},n=n9(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=n,t}const i9={offset:"stroke-dashoffset",array:"stroke-dasharray"},s9={offset:"strokeDashoffset",array:"strokeDasharray"};function a9(r,e,t=1,n=0,i=!0){r.pathLength=1;const a=i?i9:s9;r[a.offset]=bn.transform(-n);const o=bn.transform(e),c=bn.transform(t);r[a.array]=`${o} ${c}`}function c5(r,{attrX:e,attrY:t,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...c},d,f,g){if(YE(r,c,f),d){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:b,style:v}=r;b.transform&&(v.transform=b.transform,delete b.transform),(v.transform||b.transformOrigin)&&(v.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),v.transform&&(v.transformBox=g?.transformBox??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),t!==void 0&&(b.y=t),n!==void 0&&(b.scale=n),i!==void 0&&a9(b,i,a,o,!1)}const u5=()=>({...ZE(),attrs:{}}),d5=r=>typeof r=="string"&&r.toLowerCase()==="svg";function o9(r,e,t,n){const i=ae.useMemo(()=>{const a=u5();return c5(a,e,d5(n),r.transformTemplate,r.style),{...a.attrs,style:{...a.style}}},[e]);if(r.style){const a={};l5(a,r.style,r),i.style={...a,...i.style}}return i}const l9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function KE(r){return typeof r!="string"||r.includes("-")?!1:!!(l9.indexOf(r)>-1||/[A-Z]/u.test(r))}function c9(r,e,t,{latestValues:n},i,a=!1){const c=(KE(r)?o9:r9)(e,n,i,r),d=YU(e,typeof r=="string",a),f=r!==ae.Fragment?{...d,...c,ref:t}:{},{children:g}=e,b=ae.useMemo(()=>qs(g)?g.get():g,[g]);return ae.createElement(r,{...f,children:b})}function eM(r){const e=[{},{}];return r?.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function JE(r,e,t,n){if(typeof e=="function"){const[i,a]=eM(n);e=e(t!==void 0?t:r.custom,i,a)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){const[i,a]=eM(n);e=e(t!==void 0?t:r.custom,i,a)}return e}function n1(r){return qs(r)?r.get():r}function u9({scrapeMotionValuesFromProps:r,createRenderState:e},t,n,i){return{latestValues:d9(t,n,i,r),renderState:e()}}function d9(r,e,t,n){const i={},a=n(r,{});for(const v in a)i[v]=n1(a[v]);let{initial:o,animate:c}=r;const d=wy(r),f=a5(r);e&&f&&!d&&r.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let g=t?t.initial===!1:!1;g=g||o===!1;const b=g?c:o;if(b&&typeof b!="boolean"&&!Sy(b)){const v=Array.isArray(b)?b:[b];for(let y=0;y<v.length;y++){const w=JE(r,v[y]);if(w){const{transitionEnd:T,transition:N,..._}=w;for(const j in _){let C=_[j];if(Array.isArray(C)){const A=g?C.length-1:0;C=C[A]}C!==null&&(i[j]=C)}for(const j in T)i[j]=T[j]}}}return i}const h5=r=>(e,t)=>{const n=ae.useContext(_y),i=ae.useContext(yy),a=()=>u9(r,e,n,i);return t?a():SE(a)};function QE(r,e,t){const{style:n}=r,i={};for(const a in n)(qs(n[a])||e.style&&qs(e.style[a])||o5(a,r)||t?.getValue(a)?.liveStyle!==void 0)&&(i[a]=n[a]);return i}const h9=h5({scrapeMotionValuesFromProps:QE,createRenderState:ZE});function f5(r,e,t){const n=QE(r,e,t);for(const i in r)if(qs(r[i])||qs(e[i])){const a=o0.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=r[i]}return n}const f9=h5({scrapeMotionValuesFromProps:f5,createRenderState:u5}),m9=Symbol.for("motionComponentSymbol");function Mp(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function p9(r,e,t){return ae.useCallback(n=>{n&&r.onMount&&r.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):Mp(t)&&(t.current=n))},[e])}const $E=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),g9="framerAppearId",m5="data-"+$E(g9),p5=ae.createContext({});function b9(r,e,t,n,i){const{visualElement:a}=ae.useContext(_y),o=ae.useContext(i5),c=ae.useContext(yy),d=ae.useContext(GE).reducedMotion,f=ae.useRef(null);n=n||o.renderer,!f.current&&n&&(f.current=n(r,{visualState:e,parent:a,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const g=f.current,b=ae.useContext(p5);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&x9(f.current,t,i,b);const v=ae.useRef(!1);ae.useInsertionEffect(()=>{g&&v.current&&g.update(t,c)});const y=t[m5],w=ae.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return hC(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),w.current&&g.animationState&&g.animationState.animateChanges())}),ae.useEffect(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),w.current=!1),g.enteringChildren=void 0)}),g}function x9(r,e,t,n){const{layoutId:i,layout:a,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:g}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:g5(r.parent)),r.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||c&&Mp(c),visualElement:r,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:g,layoutScroll:d,layoutRoot:f})}function g5(r){if(r)return r.options.allowProjection!==!1?r.projection:g5(r.parent)}function p2(r,{forwardMotionProps:e=!1}={},t,n){t&&GU(t);const i=KE(r)?f9:h9;function a(c,d){let f;const g={...ae.useContext(GE),...c,layoutId:v9(c)},{isStatic:b}=g,v=KU(c),y=i(c,b);if(!b&&wE){y9();const w=_9(g);f=w.MeasureLayout,v.visualElement=b9(r,y,g,n,w.ProjectionNode)}return s.jsxs(_y.Provider,{value:v,children:[f&&v.visualElement?s.jsx(f,{visualElement:v.visualElement,...g}):null,c9(r,c,p9(y,v.visualElement,d),y,b,e)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=ae.forwardRef(a);return o[m9]=r,o}function v9({layoutId:r}){const e=ae.useContext(_E).id;return e&&r!==void 0?e+"-"+r:r}function y9(r,e){ae.useContext(i5).strict}function _9(r){const{drag:e,layout:t}=Fp;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e?.isEnabled(r)||t?.isEnabled(r)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function S9(r,e){if(typeof Proxy>"u")return p2;const t=new Map,n=(a,o)=>p2(a,o,r,e),i=(a,o)=>n(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?n:(t.has(o)||t.set(o,p2(o,void 0,r,e)),t.get(o))})}function b5({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function w9({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function E9(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function g2(r){return r===void 0||r===1}function _w({scale:r,scaleX:e,scaleY:t}){return!g2(r)||!g2(e)||!g2(t)}function Sf(r){return _w(r)||x5(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function x5(r){return tM(r.x)||tM(r.y)}function tM(r){return r&&r!=="0%"}function y1(r,e,t){const n=r-t,i=e*n;return t+i}function nM(r,e,t,n,i){return i!==void 0&&(r=y1(r,i,n)),y1(r,t,n)+e}function Sw(r,e=0,t=1,n,i){r.min=nM(r.min,e,t,n,i),r.max=nM(r.max,e,t,n,i)}function v5(r,{x:e,y:t}){Sw(r.x,e.translate,e.scale,e.originPoint),Sw(r.y,t.translate,t.scale,t.originPoint)}const rM=.999999999999,iM=1.0000000000001;function N9(r,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,o;for(let c=0;c<i;c++){a=t[c],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ap(r,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,v5(r,o)),n&&Sf(a.latestValues)&&Ap(r,a.latestValues))}e.x<iM&&e.x>rM&&(e.x=1),e.y<iM&&e.y>rM&&(e.y=1)}function jp(r,e){r.min=r.min+e,r.max=r.max+e}function sM(r,e,t,n,i=.5){const a=ai(r.min,r.max,i);Sw(r,e,t,a,n)}function Ap(r,e){sM(r.x,e.x,e.scaleX,e.scale,e.originX),sM(r.y,e.y,e.scaleY,e.scale,e.originY)}function y5(r,e){return b5(E9(r.getBoundingClientRect(),e))}function T9(r,e,t){const n=y5(r,t),{scroll:i}=e;return i&&(jp(n.x,i.offset.x),jp(n.y,i.offset.y)),n}const aM=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cp=()=>({x:aM(),y:aM()}),oM=()=>({min:0,max:0}),Ti=()=>({x:oM(),y:oM()}),ww={current:null},_5={current:!1};function M9(){if(_5.current=!0,!!wE)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>ww.current=r.matches;r.addEventListener("change",e),e()}else ww.current=!1}const j9=new WeakMap;function A9(r,e,t){for(const n in e){const i=e[n],a=t[n];if(qs(i))r.addValue(n,i);else if(qs(a))r.addValue(n,Vp(i,{owner:r}));else if(a!==i)if(r.hasValue(n)){const o=r.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=r.getStaticValue(n);r.addValue(n,Vp(o!==void 0?o:i,{owner:r}))}}for(const n in t)e[n]===void 0&&r.removeValue(n);return e}const lM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class C9{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ka.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Yr.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=wy(t),this.isVariantNode=a5(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in b){const y=b[v];d[v]!==void 0&&qs(y)&&y.set(d[v])}}mount(e){this.current=e,j9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),_5.current||M9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ww.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),hh(this.notifyUpdate),hh(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=l0.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Yr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fp){const t=Fp[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ti()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<lM.length;n++){const i=lM[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=A9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Vp(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(fC(n)||pC(n))?n=parseFloat(n):!BU(n)&&fh.test(t)&&(n=KC(e,t)),this.setBaseTarget(e,qs(n)?n.get():n)),qs(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const a=JE(this.props,t,this.presenceContext?.custom);a&&(n=a[e])}if(t&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!qs(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new jE),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){FE.render(this.render)}}class S5 extends C9{constructor(){super(...arguments),this.KeyframeResolver=MU}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function w5(r,{style:e,vars:t},n,i){const a=r.style;let o;for(o in e)a[o]=e[o];i?.applyProjectionStyles(a,n);for(o in t)a.setProperty(o,t[o])}function R9(r){return window.getComputedStyle(r)}class O9 extends S5{constructor(){super(...arguments),this.type="html",this.renderInstance=w5}readValueFromInstance(e,t){if(l0.has(t))return this.projection?.isProjecting?mw(t):Wz(e,t);{const n=R9(e),i=(RE(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return y5(e,t)}build(e,t,n){YE(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return QE(e,t,n)}}const E5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function D9(r,e,t,n){w5(r,e,void 0,n);for(const i in e.attrs)r.setAttribute(E5.has(i)?i:$E(i),e.attrs[i])}class P9 extends S5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ti}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(l0.has(t)){const n=ZC(t);return n&&n.default||0}return t=E5.has(t)?t:$E(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return f5(e,t,n)}build(e,t,n){c5(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,i){D9(e,t,n,i)}mount(e){this.isSVGTag=d5(e.tagName),super.mount(e)}}const L9=(r,e)=>KE(r)?new P9(e):new O9(e,{allowProjection:r!==ae.Fragment});function Lp(r,e,t){const n=r.getProps();return JE(n,e,t!==void 0?t:n.custom,r)}const Ew=r=>Array.isArray(r);function z9(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,Vp(t))}function U9(r){return Ew(r)?r[r.length-1]||0:r}function I9(r,e){const t=Lp(r,e);let{transitionEnd:n={},transition:i={},...a}=t||{};a={...a,...n};for(const o in a){const c=U9(a[o]);z9(r,o,c)}}function B9(r){return!!(qs(r)&&r.add)}function Nw(r,e){const t=r.getValue("willChange");if(B9(t))return t.add(e);if(!t&&Zu.WillChange){const n=new Zu.WillChange("auto");r.addValue("willChange",n),n.add(e)}}function N5(r){return r.props[m5]}const k9=r=>r!==null;function H9(r,{repeat:e,repeatType:t="loop"},n){const i=r.filter(k9),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[a]}const V9={type:"spring",stiffness:500,damping:25,restSpeed:10},F9=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),q9={type:"keyframes",duration:.8},G9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},W9=(r,{keyframes:e})=>e.length>2?q9:l0.has(r)?r.startsWith("scale")?F9(e[1]):V9:G9;function X9({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:c,from:d,elapsed:f,...g}){return!!Object.keys(g).length}const e3=(r,e,t,n={},i,a)=>o=>{const c=HE(n,r)||{},d=c.delay||n.delay||0;let{elapsed:f=0}=n;f=f-qc(d);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:v=>{e.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:r,motionValue:e,element:a?void 0:i};X9(c)||Object.assign(g,W9(r,g)),g.duration&&(g.duration=qc(g.duration)),g.repeatDelay&&(g.repeatDelay=qc(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(vw(g),g.delay===0&&(b=!0)),(Zu.instantAnimations||Zu.skipAnimations)&&(b=!0,vw(g),g.delay=0),g.allowFlatten=!c.type&&!c.ease,b&&!a&&e.get()!==void 0){const v=H9(g.keyframes,c);if(v!==void 0){Yr.update(()=>{g.onUpdate(v),g.onComplete()});return}}return c.isSync?new BE(g):new pU(g)};function Y9({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function T5(r,e,{delay:t=0,transitionOverride:n,type:i}={}){let{transition:a=r.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(a=n);const d=[],f=i&&r.animationState&&r.animationState.getState()[i];for(const g in c){const b=r.getValue(g,r.latestValues[g]??null),v=c[g];if(v===void 0||f&&Y9(f,g))continue;const y={delay:t,...HE(a||{},g)},w=b.get();if(w!==void 0&&!b.isAnimating&&!Array.isArray(v)&&v===w&&!y.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const _=N5(r);if(_){const j=window.MotionHandoffAnimation(_,g,Yr);j!==null&&(y.startTime=j,T=!0)}}Nw(r,g),b.start(e3(g,b,v,r.shouldReduceMotion&&WC.has(g)?{type:!1}:y,r,T));const N=b.animation;N&&d.push(N)}return o&&Promise.all(d).then(()=>{Yr.update(()=>{o&&I9(r,o)})}),d}function M5(r,e,t,n=0,i=1){const a=Array.from(r).sort((f,g)=>f.sortNodePosition(g)).indexOf(e),o=r.size,c=(o-1)*n;return typeof t=="function"?t(a,o):i===1?a*n:c-a*n}function Tw(r,e,t={}){const n=Lp(r,e,t.type==="exit"?r.presenceContext?.custom:void 0);let{transition:i=r.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(i=t.transitionOverride);const a=n?()=>Promise.all(T5(r,n,t)):()=>Promise.resolve(),o=r.variantChildren&&r.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:b}=i;return Z9(r,e,d,f,g,b,t)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,f]=c==="beforeChildren"?[a,o]:[o,a];return d().then(()=>f())}else return Promise.all([a(),o(t.delay)])}function Z9(r,e,t=0,n=0,i=0,a=1,o){const c=[];for(const d of r.variantChildren)d.notify("AnimationStart",e),c.push(Tw(d,e,{...o,delay:t+(typeof n=="function"?0:n)+M5(r.variantChildren,d,n,i,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function K9(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>Tw(r,a,t));n=Promise.all(i)}else if(typeof e=="string")n=Tw(r,e,t);else{const i=typeof e=="function"?Lp(r,e,t.custom):e;n=Promise.all(T5(r,i,t))}return n.then(()=>{r.notify("AnimationComplete",e)})}function j5(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}const J9=XE.length;function A5(r){if(!r)return;if(!r.isControllingVariants){const t=r.parent?A5(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}const e={};for(let t=0;t<J9;t++){const n=XE[t],i=r.props[n];(tb(i)||i===!1)&&(e[n]=i)}return e}const Q9=[...WE].reverse(),$9=WE.length;function eI(r){return e=>Promise.all(e.map(({animation:t,options:n})=>K9(r,t,n)))}function tI(r){let e=eI(r),t=cM(),n=!0;const i=d=>(f,g)=>{const b=Lp(r,g,d==="exit"?r.presenceContext?.custom:void 0);if(b){const{transition:v,transitionEnd:y,...w}=b;f={...f,...w,...y}}return f};function a(d){e=d(r)}function o(d){const{props:f}=r,g=A5(r.parent)||{},b=[],v=new Set;let y={},w=1/0;for(let N=0;N<$9;N++){const _=Q9[N],j=t[_],C=f[_]!==void 0?f[_]:g[_],A=tb(C),P=_===d?j.isActive:null;P===!1&&(w=N);let U=C===g[_]&&C!==f[_]&&A;if(U&&n&&r.manuallyAnimateOnMount&&(U=!1),j.protectedKeys={...y},!j.isActive&&P===null||!C&&!j.prevProp||Sy(C)||typeof C=="boolean")continue;const B=nI(j.prevProp,C);let F=B||_===d&&j.isActive&&!U&&A||N>w&&A,k=!1;const z=Array.isArray(C)?C:[C];let V=z.reduce(i(_),{});P===!1&&(V={});const{prevResolvedValues:X={}}=j,J={...X,...V},ee=K=>{F=!0,v.has(K)&&(k=!0,v.delete(K)),j.needsAnimating[K]=!0;const $=r.getValue(K);$&&($.liveStyle=!1)};for(const K in J){const $=V[K],oe=X[K];if(y.hasOwnProperty(K))continue;let G=!1;Ew($)&&Ew(oe)?G=!j5($,oe):G=$!==oe,G?$!=null?ee(K):v.add(K):$!==void 0&&v.has(K)?ee(K):j.protectedKeys[K]=!0}j.prevProp=C,j.prevResolvedValues=V,j.isActive&&(y={...y,...V}),n&&r.blockInitialAnimation&&(F=!1);const te=U&&B;F&&(!te||k)&&b.push(...z.map(K=>{const $={type:_};if(typeof K=="string"&&n&&!te&&r.manuallyAnimateOnMount&&r.parent){const{parent:oe}=r,G=Lp(oe,K);if(oe.enteringChildren&&G){const{delayChildren:Y}=G.transition||{};$.delay=M5(oe.enteringChildren,r,Y)}}return{animation:K,options:$}}))}if(v.size){const N={};if(typeof f.initial!="boolean"){const _=Lp(r,Array.isArray(f.initial)?f.initial[0]:f.initial);_&&_.transition&&(N.transition=_.transition)}v.forEach(_=>{const j=r.getBaseTarget(_),C=r.getValue(_);C&&(C.liveStyle=!0),N[_]=j??null}),b.push({animation:N})}let T=!!b.length;return n&&(f.initial===!1||f.initial===f.animate)&&!r.manuallyAnimateOnMount&&(T=!1),n=!1,T?e(b):Promise.resolve()}function c(d,f){if(t[d].isActive===f)return Promise.resolve();r.variantChildren?.forEach(b=>b.animationState?.setActive(d,f)),t[d].isActive=f;const g=o(d);for(const b in t)t[b].protectedKeys={};return g}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>t,reset:()=>{t=cM(),n=!0}}}function nI(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!j5(e,r):!1}function sf(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cM(){return{animate:sf(!0),whileInView:sf(),whileHover:sf(),whileTap:sf(),whileDrag:sf(),whileFocus:sf(),exit:sf()}}class xh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class rI extends xh{constructor(e){super(e),e.animationState||(e.animationState=tI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let iI=0;class sI extends xh{constructor(){super(...arguments),this.id=iI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const aI={animation:{Feature:rI},exit:{Feature:sI}};function rb(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}function Cb(r){return{point:{x:r.pageX,y:r.pageY}}}const oI=r=>e=>qE(e)&&r(e,Cb(e));function Pg(r,e,t,n){return rb(r,e,oI(t),n)}const C5=1e-4,lI=1-C5,cI=1+C5,R5=.01,uI=0-R5,dI=0+R5;function ba(r){return r.max-r.min}function hI(r,e,t){return Math.abs(r-e)<=t}function uM(r,e,t,n=.5){r.origin=n,r.originPoint=ai(e.min,e.max,r.origin),r.scale=ba(t)/ba(e),r.translate=ai(t.min,t.max,r.origin)-r.originPoint,(r.scale>=lI&&r.scale<=cI||isNaN(r.scale))&&(r.scale=1),(r.translate>=uI&&r.translate<=dI||isNaN(r.translate))&&(r.translate=0)}function Lg(r,e,t,n){uM(r.x,e.x,t.x,n?n.originX:void 0),uM(r.y,e.y,t.y,n?n.originY:void 0)}function dM(r,e,t){r.min=t.min+e.min,r.max=r.min+ba(e)}function fI(r,e,t){dM(r.x,e.x,t.x),dM(r.y,e.y,t.y)}function hM(r,e,t){r.min=e.min-t.min,r.max=r.min+ba(e)}function zg(r,e,t){hM(r.x,e.x,t.x),hM(r.y,e.y,t.y)}function $o(r){return[r("x"),r("y")]}const O5=({current:r})=>r?r.ownerDocument.defaultView:null,fM=(r,e)=>Math.abs(r-e);function mI(r,e){const t=fM(r.x,e.x),n=fM(r.y,e.y);return Math.sqrt(t**2+n**2)}class D5{constructor(e,t,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=x2(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,w=mI(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!w)return;const{point:T}=v,{timestamp:N}=Ts;this.history.push({...T,timestamp:N});const{onStart:_,onMove:j}=this.handlers;y||(_&&_(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,v)},this.handlePointerMove=(v,y)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=b2(y,this.transformPagePoint),Yr.update(this.updatePoint,!0)},this.handlePointerUp=(v,y)=>{this.end();const{onEnd:w,onSessionEnd:T,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=x2(v.type==="pointercancel"?this.lastMoveEventInfo:b2(y,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,_),T&&T(v,_)},!qE(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const c=Cb(e),d=b2(c,this.transformPagePoint),{point:f}=d,{timestamp:g}=Ts;this.history=[{...f,timestamp:g}];const{onSessionStart:b}=t;b&&b(e,x2(d,this.history)),this.removeListeners=Mb(Pg(this.contextWindow,"pointermove",this.handlePointerMove),Pg(this.contextWindow,"pointerup",this.handlePointerUp),Pg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hh(this.updatePoint)}}function b2(r,e){return e?{point:e(r.point)}:r}function mM(r,e){return{x:r.x-e.x,y:r.y-e.y}}function x2({point:r},e){return{point:r,delta:mM(r,P5(e)),offset:mM(r,pI(e)),velocity:gI(e,.1)}}function pI(r){return r[0]}function P5(r){return r[r.length-1]}function gI(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const i=P5(r);for(;t>=0&&(n=r[t],!(i.timestamp-n.timestamp>qc(e)));)t--;if(!n)return{x:0,y:0};const a=Gc(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bI(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?ai(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?ai(t,r,n.max):Math.min(r,t)),r}function pM(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function xI(r,{top:e,left:t,bottom:n,right:i}){return{x:pM(r.x,t,i),y:pM(r.y,e,n)}}function gM(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function vI(r,e){return{x:gM(r.x,e.x),y:gM(r.y,e.y)}}function yI(r,e){let t=.5;const n=ba(r),i=ba(e);return i>n?t=Qg(e.min,e.max-n,r.min):n>i&&(t=Qg(r.min,r.max-i,e.min)),Yu(0,1,t)}function _I(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const Mw=.35;function SI(r=Mw){return r===!1?r=0:r===!0&&(r=Mw),{x:bM(r,"left","right"),y:bM(r,"top","bottom")}}function bM(r,e,t){return{min:xM(r,e),max:xM(r,t)}}function xM(r,e){return typeof r=="number"?r:r[e]||0}const wI=new WeakMap;class EI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ti(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=b=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Cb(b).point)},o=(b,v)=>{const{drag:y,dragPropagation:w,onDragStart:T}=this.getProps();if(y&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RU(y),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$o(_=>{let j=this.getAxisMotionValue(_).get()||0;if(Wc.test(j)){const{projection:C}=this.visualElement;if(C&&C.layout){const A=C.layout.layoutBox[_];A&&(j=ba(A)*(parseFloat(j)/100))}}this.originPoint[_]=j}),T&&Yr.postRender(()=>T(b,v)),Nw(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v;const{dragPropagation:y,dragDirectionLock:w,onDirectionLock:T,onDrag:N}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:_}=v;if(w&&this.currentDirection===null){this.currentDirection=NI(_),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,_),this.updateAxis("y",v.point,_),this.visualElement.render(),N&&N(b,v)},d=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v,this.stop(b,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>$o(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new D5(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:n,contextWindow:O5(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,i=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&Yr.postRender(()=>c(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!rv(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=bI(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Mp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=xI(n.layoutBox,e):this.constraints=!1,this.elastic=SI(t),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&$o(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=_I(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Mp(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=T9(n,i.root,this.visualElement.getTransformPagePoint());let o=vI(i.layout.layoutBox,a);if(t){const c=t(w9(o));this.hasMutatedConstraints=!!c,c&&(o=b5(c))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=$o(g=>{if(!rv(g,t,this.currentDirection))return;let b=d&&d[g]||{};o&&(b={min:0,max:0});const v=i?200:1e6,y=i?40:1e7,w={type:"inertia",velocity:n?e[g]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...b};return this.startAxisValueAnimation(g,w)});return Promise.all(f).then(c)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Nw(this.visualElement,e),n.start(e3(e,n,0,t,this.visualElement,!1))}stopAnimation(){$o(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$o(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){$o(t=>{const{drag:n}=this.getProps();if(!rv(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[t];a.set(e[t]-ai(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Mp(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};$o(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();i[o]=yI({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),$o(o=>{if(!rv(o,e,null))return;const c=this.getAxisMotionValue(o),{min:d,max:f}=this.constraints[o];c.set(ai(d,f,i[o]))})}addListeners(){if(!this.visualElement.current)return;wI.set(this.visualElement,this);const e=this.visualElement.current,t=Pg(e,"pointerdown",d=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Mp(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Yr.read(n);const o=rb(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&($o(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=d[g].translate,b.set(b.get()+d[g].translate))}),this.visualElement.render())}));return()=>{o(),t(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Mw,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function rv(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function NI(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class TI extends xh{constructor(e){super(e),this.removeGroupControls=rl,this.removeListeners=rl,this.controls=new EI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rl}unmount(){this.removeGroupControls(),this.removeListeners()}}const vM=r=>(e,t)=>{r&&Yr.postRender(()=>r(e,t))};class MI extends xh{constructor(){super(...arguments),this.removePointerDownListener=rl}onPointerDown(e){this.session=new D5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:O5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:vM(e),onStart:vM(t),onMove:n,onEnd:(a,o)=>{delete this.session,i&&Yr.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Pg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const r1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yM(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const lg={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(bn.test(r))r=parseFloat(r);else return r;const t=yM(r,e.target.x),n=yM(r,e.target.y);return`${t}% ${n}%`}},jI={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,i=fh.parse(r);if(i.length>5)return n;const a=fh.createTransformer(r),o=typeof i[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;i[0+o]/=c,i[1+o]/=d;const f=ai(c,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=f),typeof i[3+o]=="number"&&(i[3+o]/=f),a(i)}};let v2=!1;class AI extends ae.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;JU(CI),a&&(t.group&&t.group.add(a),n&&n.register&&i&&n.register(a),v2&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),r1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,v2=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Yr.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),FE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;v2=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function L5(r){const[e,t]=r5(),n=ae.useContext(_E);return s.jsx(AI,{...r,layoutGroup:n,switchLayoutGroup:ae.useContext(p5),isPresent:e,safeToRemove:t})}const CI={borderRadius:{...lg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lg,borderTopRightRadius:lg,borderBottomLeftRadius:lg,borderBottomRightRadius:lg,boxShadow:jI};function RI(r,e,t){const n=qs(r)?r:Vp(r);return n.start(e3("",n,e,t)),n.animation}const OI=(r,e)=>r.depth-e.depth;class DI{constructor(){this.children=[],this.isDirty=!1}add(e){EE(this.children,e),this.isDirty=!0}remove(e){NE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(OI),this.isDirty=!1,this.children.forEach(e)}}function PI(r,e){const t=ka.now(),n=({timestamp:i})=>{const a=i-t;a>=e&&(hh(n),r(a-e))};return Yr.setup(n,!0),()=>hh(n)}const z5=["TopLeft","TopRight","BottomLeft","BottomRight"],LI=z5.length,_M=r=>typeof r=="string"?parseFloat(r):r,SM=r=>typeof r=="number"||bn.test(r);function zI(r,e,t,n,i,a){i?(r.opacity=ai(0,t.opacity??1,UI(n)),r.opacityExit=ai(e.opacity??1,0,II(n))):a&&(r.opacity=ai(e.opacity??1,t.opacity??1,n));for(let o=0;o<LI;o++){const c=`border${z5[o]}Radius`;let d=wM(e,c),f=wM(t,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||SM(d)===SM(f)?(r[c]=Math.max(ai(_M(d),_M(f),n),0),(Wc.test(f)||Wc.test(d))&&(r[c]+="%")):r[c]=f}(e.rotate||t.rotate)&&(r.rotate=ai(e.rotate||0,t.rotate||0,n))}function wM(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const UI=U5(0,.5,wC),II=U5(.5,.95,rl);function U5(r,e,t){return n=>n<r?0:n>e?1:t(Qg(r,e,n))}function EM(r,e){r.min=e.min,r.max=e.max}function Ko(r,e){EM(r.x,e.x),EM(r.y,e.y)}function NM(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function TM(r,e,t,n,i){return r-=e,r=y1(r,1/t,n),i!==void 0&&(r=y1(r,1/i,n)),r}function BI(r,e=0,t=1,n=.5,i,a=r,o=r){if(Wc.test(e)&&(e=parseFloat(e),e=ai(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=ai(a.min,a.max,n);r===a&&(c-=e),r.min=TM(r.min,e,t,c,i),r.max=TM(r.max,e,t,c,i)}function MM(r,e,[t,n,i],a,o){BI(r,e[t],e[n],e[i],e.scale,a,o)}const kI=["x","scaleX","originX"],HI=["y","scaleY","originY"];function jM(r,e,t,n){MM(r.x,e,kI,t?t.x:void 0,n?n.x:void 0),MM(r.y,e,HI,t?t.y:void 0,n?n.y:void 0)}function AM(r){return r.translate===0&&r.scale===1}function I5(r){return AM(r.x)&&AM(r.y)}function CM(r,e){return r.min===e.min&&r.max===e.max}function VI(r,e){return CM(r.x,e.x)&&CM(r.y,e.y)}function RM(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function B5(r,e){return RM(r.x,e.x)&&RM(r.y,e.y)}function OM(r){return ba(r.x)/ba(r.y)}function DM(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}class FI{constructor(){this.members=[]}add(e){EE(this.members,e),e.scheduleRender()}remove(e){if(NE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qI(r,e,t){let n="";const i=r.x.translate/e.x,a=r.y.translate/e.y,o=t?.z||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:g,rotateX:b,rotateY:v,skewX:y,skewY:w}=t;f&&(n=`perspective(${f}px) ${n}`),g&&(n+=`rotate(${g}deg) `),b&&(n+=`rotateX(${b}deg) `),v&&(n+=`rotateY(${v}deg) `),y&&(n+=`skewX(${y}deg) `),w&&(n+=`skewY(${w}deg) `)}const c=r.x.scale*e.x,d=r.y.scale*e.y;return(c!==1||d!==1)&&(n+=`scale(${c}, ${d})`),n||"none"}const y2=["","X","Y","Z"],GI=1e3;let WI=0;function _2(r,e,t,n){const{latestValues:i}=e;i[r]&&(t[r]=i[r],e.setStaticValue(r,0),n&&(n[r]=0))}function k5(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:e}=r.options;if(!e)return;const t=N5(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",Yr,!(i||a))}const{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&k5(n)}function H5({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},c=e?.()){this.id=WI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ZI),this.nodes.forEach($I),this.nodes.forEach(eB),this.nodes.forEach(KI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new DI)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new jE),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=n5(o)&&!UU(o),this.instance=o;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),r){let g,b=0;const v=()=>this.root.updateBlockedByResize=!1;Yr.read(()=>{b=window.innerWidth}),r(o,()=>{const y=window.innerWidth;y!==b&&(b=y,this.root.updateBlockedByResize=!0,g&&g(),g=PI(v,250),r1.hasAnimatedSinceResize&&(r1.hasAnimatedSinceResize=!1,this.nodes.forEach(zM)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||sB,{onLayoutAnimationStart:T,onLayoutAnimationComplete:N}=f.getProps(),_=!this.targetLayout||!B5(this.targetLayout,y),j=!b&&v;if(this.options.layoutRoot||this.resumeFrom||j||b&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...HE(w,"layout"),onPlay:T,onComplete:N};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(g,j)}else b||zM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),hh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tB),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&k5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(LM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(QI),this.nodes.forEach(XI),this.nodes.forEach(YI)):this.nodes.forEach(LM),this.clearAllSnapshots();const c=ka.now();Ts.delta=Yu(0,1e3/60,c-Ts.timestamp),Ts.timestamp=c,Ts.isProcessing=!0,c2.update.process(Ts),c2.preRender.process(Ts),c2.render.process(Ts),Ts.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,FE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JI),this.sharedNodes.forEach(nB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ba(this.snapshot.measuredBox.x)&&!ba(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ti(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!I5(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;o&&this.instance&&(c||Sf(this.latestValues)||g)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),aB(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ti();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(oB))){const{scroll:f}=this.root;f&&(jp(c.x,f.offset.x),jp(c.y,f.offset.y))}return c}removeElementScroll(o){const c=Ti();if(Ko(c,o),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:g,options:b}=f;f!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&Ko(c,o),jp(c.x,g.offset.x),jp(c.y,g.offset.y))}return c}applyTransform(o,c=!1){const d=Ti();Ko(d,o);for(let f=0;f<this.path.length;f++){const g=this.path[f];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ap(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Sf(g.latestValues)&&Ap(d,g.latestValues)}return Sf(this.latestValues)&&Ap(d,this.latestValues),d}removeTransform(o){const c=Ti();Ko(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Sf(f.latestValues))continue;_w(f.latestValues)&&f.updateSnapshot();const g=Ti(),b=f.measurePageBox();Ko(g,b),jM(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return Sf(this.latestValues)&&jM(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ts.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:b}=this.options;if(!(!this.layout||!(g||b))){if(this.resolvedRelativeTargetAt=Ts.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ti(),this.relativeTargetOrigin=Ti(),zg(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ko(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ti(),this.targetWithTransforms=Ti()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ko(this.target,this.layout.layoutBox),v5(this.target,this.targetDelta)):Ko(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ti(),this.relativeTargetOrigin=Ti(),zg(this.relativeTargetOrigin,this.target,v.target),Ko(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_w(this.parent.latestValues)||x5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ts.timestamp&&(d=!1),d)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;Ko(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;N9(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ti());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(NM(this.prevProjectionDelta.x,this.projectionDelta.x),NM(this.prevProjectionDelta.y,this.projectionDelta.y)),Lg(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!DM(this.projectionDelta.x,this.prevProjectionDelta.x)||!DM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cp(),this.projectionDelta=Cp(),this.projectionDeltaWithTransform=Cp()}setAnimationOrigin(o,c=!1){const d=this.snapshot,f=d?d.latestValues:{},g={...this.latestValues},b=Cp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=Ti(),y=d?d.source:void 0,w=this.layout?this.layout.source:void 0,T=y!==w,N=this.getStack(),_=!N||N.members.length<=1,j=!!(T&&!_&&this.options.crossfade===!0&&!this.path.some(iB));this.animationProgress=0;let C;this.mixTargetDelta=A=>{const P=A/1e3;UM(b.x,o.x,P),UM(b.y,o.y,P),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zg(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rB(this.relativeTarget,this.relativeTargetOrigin,v,P),C&&VI(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Ti()),Ko(C,this.relativeTarget)),T&&(this.animationValues=g,zI(g,f,this.latestValues,P,j,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(hh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yr.update(()=>{r1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vp(0)),this.currentAnimation=RI(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:g}=o;if(!(!c||!d||!f)){if(this!==o&&this.layout&&f&&V5(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Ti();const b=ba(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+b;const v=ba(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+v}Ko(c,d),Ap(c,g),Lg(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new FI),this.sharedNodes.get(o).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&_2("z",o,f,this.animationValues);for(let g=0;g<y2.length;g++)_2(`rotate${y2[g]}`,o,f,this.animationValues),_2(`skew${y2[g]}`,o,f,this.animationValues);o.render();for(const g in f)o.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=n1(c?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=n1(c?.pointerEvents)||""),this.hasProjected&&!Sf(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let b=qI(this.projectionDeltaWithTransform,this.treeScale,g);d&&(b=d(g,b)),o.transform=b;const{x:v,y}=this.projectionDelta;o.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,f.animationValues?o.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:o.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const w in nb){if(g[w]===void 0)continue;const{correct:T,applyTo:N,isCSSVariable:_}=nb[w],j=b==="none"?g[w]:T(g[w],f);if(N){const C=N.length;for(let A=0;A<C;A++)o[N[A]]=j}else _?this.options.visualElement.renderState.vars[w]=j:o[w]=j}this.options.layoutId&&(o.pointerEvents=f===this?n1(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(PM),this.root.sharedNodes.clear()}}}function XI(r){r.updateLayout()}function YI(r){const e=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&e&&r.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=r.layout,{animationType:i}=r.options,a=e.source!==r.layout.source;i==="size"?$o(g=>{const b=a?e.measuredBox[g]:e.layoutBox[g],v=ba(b);b.min=t[g].min,b.max=b.min+v}):V5(i,e.layoutBox,t)&&$o(g=>{const b=a?e.measuredBox[g]:e.layoutBox[g],v=ba(t[g]);b.max=b.min+v,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[g].max=r.relativeTarget[g].min+v)});const o=Cp();Lg(o,t,e.layoutBox);const c=Cp();a?Lg(c,r.applyTransform(n,!0),e.measuredBox):Lg(c,t,e.layoutBox);const d=!I5(o);let f=!1;if(!r.resumeFrom){const g=r.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:v}=g;if(b&&v){const y=Ti();zg(y,e.layoutBox,b.layoutBox);const w=Ti();zg(w,t,v.layoutBox),B5(y,w)||(f=!0),g.options.layoutRoot&&(r.relativeTarget=w,r.relativeTargetOrigin=y,r.relativeParent=g)}}}r.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(r.isLead()){const{onExitComplete:t}=r.options;t&&t()}r.options.transition=void 0}function ZI(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function KI(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function JI(r){r.clearSnapshot()}function PM(r){r.clearMeasurements()}function LM(r){r.isLayoutDirty=!1}function QI(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function zM(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function $I(r){r.resolveTargetDelta()}function eB(r){r.calcProjection()}function tB(r){r.resetSkewAndRotation()}function nB(r){r.removeLeadSnapshot()}function UM(r,e,t){r.translate=ai(e.translate,0,t),r.scale=ai(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function IM(r,e,t,n){r.min=ai(e.min,t.min,n),r.max=ai(e.max,t.max,n)}function rB(r,e,t,n){IM(r.x,e.x,t.x,n),IM(r.y,e.y,t.y,n)}function iB(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const sB={duration:.45,ease:[.4,0,.1,1]},BM=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),kM=BM("applewebkit/")&&!BM("chrome/")?Math.round:rl;function HM(r){r.min=kM(r.min),r.max=kM(r.max)}function aB(r){HM(r.x),HM(r.y)}function V5(r,e,t){return r==="position"||r==="preserve-aspect"&&!hI(OM(e),OM(t),.2)}function oB(r){return r!==r.root&&r.scroll?.wasRoot}const lB=H5({attachResizeListener:(r,e)=>rb(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),S2={current:void 0},F5=H5({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!S2.current){const r=new lB({});r.mount(window),r.setOptions({layoutScroll:!0}),S2.current=r}return S2.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),cB={pan:{Feature:MI},drag:{Feature:TI,ProjectionNode:F5,MeasureLayout:L5}};function VM(r,e,t){const{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=n[i];a&&Yr.postRender(()=>a(e,Cb(e)))}class uB extends xh{mount(){const{current:e}=this.node;e&&(this.unmount=OU(e,(t,n)=>(VM(this.node,n,"Start"),i=>VM(this.node,i,"End"))))}unmount(){}}class dB extends xh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mb(rb(this.node.current,"focus",()=>this.onFocus()),rb(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function FM(r,e,t){const{props:n}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&n.whileTap&&r.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=n[i];a&&Yr.postRender(()=>a(e,Cb(e)))}class hB extends xh{mount(){const{current:e}=this.node;e&&(this.unmount=zU(e,(t,n)=>(FM(this.node,n,"Start"),(i,{success:a})=>FM(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jw=new WeakMap,w2=new WeakMap,fB=r=>{const e=jw.get(r.target);e&&e(r)},mB=r=>{r.forEach(fB)};function pB({root:r,...e}){const t=r||document;w2.has(t)||w2.set(t,{});const n=w2.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(mB,{root:r,...e})),n[i]}function gB(r,e,t){const n=pB(e);return jw.set(r,t),n.observe(r),()=>{jw.delete(r),n.unobserve(r)}}const bB={some:0,all:1};class xB extends xh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:a}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:bB[i]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),v=f?g:b;v&&v(d)};return gB(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(vB(e,t))&&this.startObserver()}unmount(){}}function vB({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const yB={inView:{Feature:xB},tap:{Feature:hB},focus:{Feature:dB},hover:{Feature:uB}},_B={layout:{ProjectionNode:F5,MeasureLayout:L5}},SB={...aI,...yB,...cB,..._B},qn=S9(SB,L9);var E2={exports:{}},Ru={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qM;function wB(){return qM||(qM=1,Ru.ConcurrentRoot=1,Ru.ContinuousEventPriority=8,Ru.DefaultEventPriority=32,Ru.DiscreteEventPriority=2,Ru.IdleEventPriority=268435456,Ru.LegacyRoot=0,Ru.NoEventPriority=0),Ru}var GM;function EB(){return GM||(GM=1,E2.exports=wB()),E2.exports}var i1=EB();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ey="179",NB={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TB={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},q5=0,Aw=1,G5=2,MB=3,W5=0,Ny=1,Ug=2,Hl=3,Ku=0,xa=1,ql=2,qu=0,Lf=1,Cw=2,Rw=3,Ow=4,X5=5,lh=100,Y5=101,Z5=102,K5=103,J5=104,Q5=200,$5=201,e7=202,t7=203,_1=204,S1=205,n7=206,r7=207,i7=208,s7=209,a7=210,o7=211,l7=212,c7=213,u7=214,w1=0,E1=1,N1=2,If=3,T1=4,M1=5,j1=6,A1=7,Rb=0,d7=1,h7=2,Xc=0,f7=1,m7=2,p7=3,t3=4,g7=5,b7=6,x7=7,Dw="attached",v7="detached",Ty=300,Ju=301,mh=302,ib=303,sb=304,c0=306,ab=1e3,nl=1001,ob=1002,Ms=1003,n3=1004,jB=1004,Rp=1005,AB=1005,Fi=1006,Ig=1007,CB=1007,Vc=1008,RB=1008,il=1009,r3=1010,i3=1011,qp=1012,My=1013,Qu=1014,Ha=1015,u0=1016,jy=1017,Ay=1018,Gp=1020,s3=35902,a3=1021,o3=1022,Gs=1023,Wp=1026,Xp=1027,Cy=1028,Ob=1029,l3=1030,Ry=1031,OB=1032,Oy=1033,Bg=33776,kg=33777,Hg=33778,Vg=33779,C1=35840,R1=35841,O1=35842,D1=35843,P1=36196,L1=37492,z1=37496,U1=37808,I1=37809,B1=37810,k1=37811,H1=37812,V1=37813,F1=37814,q1=37815,G1=37816,W1=37817,X1=37818,Y1=37819,Z1=37820,K1=37821,Fg=36492,J1=36494,Q1=36495,c3=36283,$1=36284,ey=36285,ty=36286,y7=2200,_7=2201,S7=2202,lb=2300,ny=2301,s1=2302,Cf=2400,Rf=2401,cb=2402,Dy=2500,u3=2501,DB=0,PB=1,LB=2,w7=3200,E7=3201,zB=3202,UB=3203,vh=0,N7=1,Hu="",Fs="srgb",ph="srgb-linear",ub="linear",xr="srgb",IB=0,wf=7680,BB=7681,kB=7682,HB=7683,VB=34055,FB=34056,qB=5386,GB=512,WB=513,XB=514,YB=515,ZB=516,KB=517,JB=518,Pw=519,T7=512,M7=513,j7=514,d3=515,A7=516,C7=517,R7=518,O7=519,db=35044,QB=35048,$B=35040,ek=35045,tk=35049,nk=35041,rk=35046,ik=35050,sk=35042,ak="100",Lw="300 es",vo=2e3,Yp=2001,ok={COMPUTE:"compute",RENDER:"render"},lk={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},ck={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};class Kc{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const i=n[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}}const ks=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let WM=1234567;const zf=Math.PI/180,Zp=180/Math.PI;function yo(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(ks[r&255]+ks[r>>8&255]+ks[r>>16&255]+ks[r>>24&255]+"-"+ks[e&255]+ks[e>>8&255]+"-"+ks[e>>16&15|64]+ks[e>>24&255]+"-"+ks[t&63|128]+ks[t>>8&255]+"-"+ks[t>>16&255]+ks[t>>24&255]+ks[n&255]+ks[n>>8&255]+ks[n>>16&255]+ks[n>>24&255]).toLowerCase()}function pn(r,e,t){return Math.max(e,Math.min(t,r))}function h3(r,e){return(r%e+e)%e}function uk(r,e,t,n,i){return n+(r-e)*(i-n)/(t-e)}function dk(r,e,t){return r!==e?(t-r)/(e-r):0}function qg(r,e,t){return(1-t)*r+t*e}function hk(r,e,t,n){return qg(r,e,1-Math.exp(-t*n))}function fk(r,e=1){return e-Math.abs(h3(r,e*2)-e)}function mk(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*(3-2*r))}function pk(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*r*(r*(r*6-15)+10))}function gk(r,e){return r+Math.floor(Math.random()*(e-r+1))}function bk(r,e){return r+Math.random()*(e-r)}function xk(r){return r*(.5-Math.random())}function vk(r){r!==void 0&&(WM=r);let e=WM+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function yk(r){return r*zf}function _k(r){return r*Zp}function Sk(r){return(r&r-1)===0&&r!==0}function wk(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function Ek(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function Nk(r,e,t,n,i){const a=Math.cos,o=Math.sin,c=a(t/2),d=o(t/2),f=a((e+n)/2),g=o((e+n)/2),b=a((e-n)/2),v=o((e-n)/2),y=a((n-e)/2),w=o((n-e)/2);switch(i){case"XYX":r.set(c*g,d*b,d*v,c*f);break;case"YZY":r.set(d*v,c*g,d*b,c*f);break;case"ZXZ":r.set(d*b,d*v,c*g,c*f);break;case"XZX":r.set(c*g,d*w,d*y,c*f);break;case"YXY":r.set(d*y,c*g,d*w,c*f);break;case"ZYZ":r.set(d*w,d*y,c*g,c*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ga(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return r/4294967295;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int32Array:return Math.max(r/2147483647,-1);case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function Rn(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return Math.round(r*4294967295);case Uint16Array:return Math.round(r*65535);case Uint8Array:return Math.round(r*255);case Int32Array:return Math.round(r*2147483647);case Int16Array:return Math.round(r*32767);case Int8Array:return Math.round(r*127);default:throw new Error("Invalid component type.")}}const Tk={DEG2RAD:zf,RAD2DEG:Zp,generateUUID:yo,clamp:pn,euclideanModulo:h3,mapLinear:uk,inverseLerp:dk,lerp:qg,damp:hk,pingpong:fk,smoothstep:mk,smootherstep:pk,randInt:gk,randFloat:bk,randFloatSpread:xk,seededRandom:vk,degToRad:yk,radToDeg:_k,isPowerOfTwo:Sk,ceilPowerOfTwo:wk,floorPowerOfTwo:Ek,setQuaternionFromProperEuler:Nk,normalize:Rn,denormalize:ga};class dt{constructor(e=0,t=0){dt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=pn(this.x,e.x,t.x),this.y=pn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=pn(this.x,e,t),this.y=pn(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(pn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(pn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*n-o*i+e.x,this.y=a*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Va{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,a,o,c){let d=n[i+0],f=n[i+1],g=n[i+2],b=n[i+3];const v=a[o+0],y=a[o+1],w=a[o+2],T=a[o+3];if(c===0){e[t+0]=d,e[t+1]=f,e[t+2]=g,e[t+3]=b;return}if(c===1){e[t+0]=v,e[t+1]=y,e[t+2]=w,e[t+3]=T;return}if(b!==T||d!==v||f!==y||g!==w){let N=1-c;const _=d*v+f*y+g*w+b*T,j=_>=0?1:-1,C=1-_*_;if(C>Number.EPSILON){const P=Math.sqrt(C),U=Math.atan2(P,_*j);N=Math.sin(N*U)/P,c=Math.sin(c*U)/P}const A=c*j;if(d=d*N+v*A,f=f*N+y*A,g=g*N+w*A,b=b*N+T*A,N===1-c){const P=1/Math.sqrt(d*d+f*f+g*g+b*b);d*=P,f*=P,g*=P,b*=P}}e[t]=d,e[t+1]=f,e[t+2]=g,e[t+3]=b}static multiplyQuaternionsFlat(e,t,n,i,a,o){const c=n[i],d=n[i+1],f=n[i+2],g=n[i+3],b=a[o],v=a[o+1],y=a[o+2],w=a[o+3];return e[t]=c*w+g*b+d*y-f*v,e[t+1]=d*w+g*v+f*b-c*y,e[t+2]=f*w+g*y+c*v-d*b,e[t+3]=g*w-c*b-d*v-f*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,i=e._y,a=e._z,o=e._order,c=Math.cos,d=Math.sin,f=c(n/2),g=c(i/2),b=c(a/2),v=d(n/2),y=d(i/2),w=d(a/2);switch(o){case"XYZ":this._x=v*g*b+f*y*w,this._y=f*y*b-v*g*w,this._z=f*g*w+v*y*b,this._w=f*g*b-v*y*w;break;case"YXZ":this._x=v*g*b+f*y*w,this._y=f*y*b-v*g*w,this._z=f*g*w-v*y*b,this._w=f*g*b+v*y*w;break;case"ZXY":this._x=v*g*b-f*y*w,this._y=f*y*b+v*g*w,this._z=f*g*w+v*y*b,this._w=f*g*b-v*y*w;break;case"ZYX":this._x=v*g*b-f*y*w,this._y=f*y*b+v*g*w,this._z=f*g*w-v*y*b,this._w=f*g*b+v*y*w;break;case"YZX":this._x=v*g*b+f*y*w,this._y=f*y*b+v*g*w,this._z=f*g*w-v*y*b,this._w=f*g*b-v*y*w;break;case"XZY":this._x=v*g*b-f*y*w,this._y=f*y*b-v*g*w,this._z=f*g*w+v*y*b,this._w=f*g*b+v*y*w;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],a=t[8],o=t[1],c=t[5],d=t[9],f=t[2],g=t[6],b=t[10],v=n+c+b;if(v>0){const y=.5/Math.sqrt(v+1);this._w=.25/y,this._x=(g-d)*y,this._y=(a-f)*y,this._z=(o-i)*y}else if(n>c&&n>b){const y=2*Math.sqrt(1+n-c-b);this._w=(g-d)/y,this._x=.25*y,this._y=(i+o)/y,this._z=(a+f)/y}else if(c>b){const y=2*Math.sqrt(1+c-n-b);this._w=(a-f)/y,this._x=(i+o)/y,this._y=.25*y,this._z=(d+g)/y}else{const y=2*Math.sqrt(1+b-n-c);this._w=(o-i)/y,this._x=(a+f)/y,this._y=(d+g)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(pn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,a=e._z,o=e._w,c=t._x,d=t._y,f=t._z,g=t._w;return this._x=n*g+o*c+i*f-a*d,this._y=i*g+o*d+a*c-n*f,this._z=a*g+o*f+n*d-i*c,this._w=o*g-n*c-i*d-a*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,a=this._z,o=this._w;let c=o*e._w+n*e._x+i*e._y+a*e._z;if(c<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,c=-c):this.copy(e),c>=1)return this._w=o,this._x=n,this._y=i,this._z=a,this;const d=1-c*c;if(d<=Number.EPSILON){const y=1-t;return this._w=y*o+t*this._w,this._x=y*n+t*this._x,this._y=y*i+t*this._y,this._z=y*a+t*this._z,this.normalize(),this}const f=Math.sqrt(d),g=Math.atan2(f,c),b=Math.sin((1-t)*g)/f,v=Math.sin(t*g)/f;return this._w=o*b+this._w*v,this._x=n*b+this._x*v,this._y=i*b+this._y*v,this._z=a*b+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),a=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ve{constructor(e=0,t=0,n=0){ve.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(XM.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(XM.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*i,this.y=a[1]*t+a[4]*n+a[7]*i,this.z=a[2]*t+a[5]*n+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,a=e.elements,o=1/(a[3]*t+a[7]*n+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*i+a[12])*o,this.y=(a[1]*t+a[5]*n+a[9]*i+a[13])*o,this.z=(a[2]*t+a[6]*n+a[10]*i+a[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,a=e.x,o=e.y,c=e.z,d=e.w,f=2*(o*i-c*n),g=2*(c*t-a*i),b=2*(a*n-o*t);return this.x=t+d*f+o*b-c*g,this.y=n+d*g+c*f-a*b,this.z=i+d*b+a*g-o*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i,this.y=a[1]*t+a[5]*n+a[9]*i,this.z=a[2]*t+a[6]*n+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=pn(this.x,e.x,t.x),this.y=pn(this.y,e.y,t.y),this.z=pn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=pn(this.x,e,t),this.y=pn(this.y,e,t),this.z=pn(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(pn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,a=e.z,o=t.x,c=t.y,d=t.z;return this.x=i*d-a*c,this.y=a*o-n*d,this.z=n*c-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return N2.copy(this).projectOnVector(e),this.sub(N2)}reflect(e){return this.sub(N2.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(pn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const N2=new ve,XM=new Va;class jn{constructor(e,t,n,i,a,o,c,d,f){jn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,i,a,o,c,d,f)}set(e,t,n,i,a,o,c,d,f){const g=this.elements;return g[0]=e,g[1]=i,g[2]=c,g[3]=t,g[4]=a,g[5]=d,g[6]=n,g[7]=o,g[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,a=this.elements,o=n[0],c=n[3],d=n[6],f=n[1],g=n[4],b=n[7],v=n[2],y=n[5],w=n[8],T=i[0],N=i[3],_=i[6],j=i[1],C=i[4],A=i[7],P=i[2],U=i[5],B=i[8];return a[0]=o*T+c*j+d*P,a[3]=o*N+c*C+d*U,a[6]=o*_+c*A+d*B,a[1]=f*T+g*j+b*P,a[4]=f*N+g*C+b*U,a[7]=f*_+g*A+b*B,a[2]=v*T+y*j+w*P,a[5]=v*N+y*C+w*U,a[8]=v*_+y*A+w*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],o=e[4],c=e[5],d=e[6],f=e[7],g=e[8];return t*o*g-t*c*f-n*a*g+n*c*d+i*a*f-i*o*d}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],o=e[4],c=e[5],d=e[6],f=e[7],g=e[8],b=g*o-c*f,v=c*d-g*a,y=f*a-o*d,w=t*b+n*v+i*y;if(w===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/w;return e[0]=b*T,e[1]=(i*f-g*n)*T,e[2]=(c*n-i*o)*T,e[3]=v*T,e[4]=(g*t-i*d)*T,e[5]=(i*a-c*t)*T,e[6]=y*T,e[7]=(n*d-f*t)*T,e[8]=(o*t-n*a)*T,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,a,o,c){const d=Math.cos(a),f=Math.sin(a);return this.set(n*d,n*f,-n*(d*o+f*c)+o+e,-i*f,i*d,-i*(-f*o+d*c)+c+t,0,0,1),this}scale(e,t){return this.premultiply(T2.makeScale(e,t)),this}rotate(e){return this.premultiply(T2.makeRotation(-e)),this}translate(e,t){return this.premultiply(T2.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const T2=new jn;function D7(r){for(let e=r.length-1;e>=0;--e)if(r[e]>=65535)return!0;return!1}const Mk={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Op(r,e){return new Mk[r](e)}function hb(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function P7(){const r=hb("canvas");return r.style.display="block",r}const YM={};function zp(r){r in YM||(YM[r]=!0,console.warn(r))}function jk(r,e,t){return new Promise(function(n,i){function a(){switch(r.clientWaitSync(e,r.SYNC_FLUSH_COMMANDS_BIT,0)){case r.WAIT_FAILED:i();break;case r.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:n()}}setTimeout(a,t)})}const ZM=new jn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),KM=new jn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Ak(){const r={enabled:!0,workingColorSpace:ph,spaces:{},convert:function(i,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===xr&&(i.r=Gu(i.r),i.g=Gu(i.g),i.b=Gu(i.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===xr&&(i.r=Up(i.r),i.g=Up(i.g),i.b=Up(i.b))),i},workingToColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},colorSpaceToWorking:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Hu?ub:this.spaces[i].transfer},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,o){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,a){return zp("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),r.workingToColorSpace(i,a)},toWorkingColorSpace:function(i,a){return zp("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),r.colorSpaceToWorking(i,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return r.define({[ph]:{primaries:e,whitePoint:n,transfer:ub,toXYZ:ZM,fromXYZ:KM,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Fs},outputColorSpaceConfig:{drawingBufferColorSpace:Fs}},[Fs]:{primaries:e,whitePoint:n,transfer:xr,toXYZ:ZM,fromXYZ:KM,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Fs}}}),r}const Qn=Ak();function Gu(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function Up(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}let Jm;class L7{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Jm===void 0&&(Jm=hb("canvas")),Jm.width=e.width,Jm.height=e.height;const i=Jm.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=Jm}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=hb("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),a=i.data;for(let o=0;o<a.length;o++)a[o]=Gu(a[o]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Gu(t[n]/255)*255):t[n]=Gu(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Ck=0;class uh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Ck++}),this.uuid=yo(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let o=0,c=i.length;o<c;o++)i[o].isDataTexture?a.push(M2(i[o].image)):a.push(M2(i[o]))}else a=M2(i);n.url=a}return t||(e.images[this.uuid]=n),n}}function M2(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?L7.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Rk=0;const j2=new ve;class gi extends Kc{constructor(e=gi.DEFAULT_IMAGE,t=gi.DEFAULT_MAPPING,n=nl,i=nl,a=Fi,o=Vc,c=Gs,d=il,f=gi.DEFAULT_ANISOTROPY,g=Hu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Rk++}),this.uuid=yo(),this.name="",this.source=new uh(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=f,this.format=c,this.internalFormat=null,this.type=d,this.offset=new dt(0,0),this.repeat=new dt(1,1),this.center=new dt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new jn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=g,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(j2).x}get height(){return this.source.getSize(j2).y}get depth(){return this.source.getSize(j2).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}i&&n&&i.isVector2&&n.isVector2||i&&n&&i.isVector3&&n.isVector3||i&&n&&i.isMatrix3&&n.isMatrix3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Ty)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ab:e.x=e.x-Math.floor(e.x);break;case nl:e.x=e.x<0?0:1;break;case ob:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ab:e.y=e.y-Math.floor(e.y);break;case nl:e.y=e.y<0?0:1;break;case ob:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}gi.DEFAULT_IMAGE=null;gi.DEFAULT_MAPPING=Ty;gi.DEFAULT_ANISOTROPY=1;class ar{constructor(e=0,t=0,n=0,i=1){ar.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*a,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*a,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*a,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,a;const d=e.elements,f=d[0],g=d[4],b=d[8],v=d[1],y=d[5],w=d[9],T=d[2],N=d[6],_=d[10];if(Math.abs(g-v)<.01&&Math.abs(b-T)<.01&&Math.abs(w-N)<.01){if(Math.abs(g+v)<.1&&Math.abs(b+T)<.1&&Math.abs(w+N)<.1&&Math.abs(f+y+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(f+1)/2,A=(y+1)/2,P=(_+1)/2,U=(g+v)/4,B=(b+T)/4,F=(w+N)/4;return C>A&&C>P?C<.01?(n=0,i=.707106781,a=.707106781):(n=Math.sqrt(C),i=U/n,a=B/n):A>P?A<.01?(n=.707106781,i=0,a=.707106781):(i=Math.sqrt(A),n=U/i,a=F/i):P<.01?(n=.707106781,i=.707106781,a=0):(a=Math.sqrt(P),n=B/a,i=F/a),this.set(n,i,a,t),this}let j=Math.sqrt((N-w)*(N-w)+(b-T)*(b-T)+(v-g)*(v-g));return Math.abs(j)<.001&&(j=1),this.x=(N-w)/j,this.y=(b-T)/j,this.z=(v-g)/j,this.w=Math.acos((f+y+_-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=pn(this.x,e.x,t.x),this.y=pn(this.y,e.y,t.y),this.z=pn(this.z,e.z,t.z),this.w=pn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=pn(this.x,e,t),this.y=pn(this.y,e,t),this.z=pn(this.z,e,t),this.w=pn(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(pn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class f3 extends Kc{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Fi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new ar(0,0,e,t),this.scissorTest=!1,this.viewport=new ar(0,0,e,t);const i={width:e,height:t,depth:n.depth},a=new gi(i);this.textures=[];const o=n.count;for(let c=0;c<o;c++)this.textures[c]=a.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:Fi,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new uh(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Zc extends f3{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class Py extends gi{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Ms,this.minFilter=Ms,this.wrapR=nl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Ok extends Zc{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Py(null,e,t,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Ly extends gi{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Ms,this.minFilter=Ms,this.wrapR=nl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Dk extends Zc{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Ly(null,e,t,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Ws{constructor(e=new ve(1/0,1/0,1/0),t=new ve(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(zl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(zl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=zl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const a=n.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,c=a.count;o<c;o++)e.isMesh===!0?e.getVertexPosition(o,zl):zl.fromBufferAttribute(a,o),zl.applyMatrix4(e.matrixWorld),this.expandByPoint(zl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),iv.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),iv.copy(n.boundingBox)),iv.applyMatrix4(e.matrixWorld),this.union(iv)}const i=e.children;for(let a=0,o=i.length;a<o;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,zl),zl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(cg),sv.subVectors(this.max,cg),Qm.subVectors(e.a,cg),$m.subVectors(e.b,cg),ep.subVectors(e.c,cg),Fd.subVectors($m,Qm),qd.subVectors(ep,$m),af.subVectors(Qm,ep);let t=[0,-Fd.z,Fd.y,0,-qd.z,qd.y,0,-af.z,af.y,Fd.z,0,-Fd.x,qd.z,0,-qd.x,af.z,0,-af.x,-Fd.y,Fd.x,0,-qd.y,qd.x,0,-af.y,af.x,0];return!A2(t,Qm,$m,ep,sv)||(t=[1,0,0,0,1,0,0,0,1],!A2(t,Qm,$m,ep,sv))?!1:(av.crossVectors(Fd,qd),t=[av.x,av.y,av.z],A2(t,Qm,$m,ep,sv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,zl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(zl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ou[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ou[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ou[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ou[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ou[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ou[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ou[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ou[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ou),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Ou=[new ve,new ve,new ve,new ve,new ve,new ve,new ve,new ve],zl=new ve,iv=new Ws,Qm=new ve,$m=new ve,ep=new ve,Fd=new ve,qd=new ve,af=new ve,cg=new ve,sv=new ve,av=new ve,of=new ve;function A2(r,e,t,n,i){for(let a=0,o=r.length-3;a<=o;a+=3){of.fromArray(r,a);const c=i.x*Math.abs(of.x)+i.y*Math.abs(of.y)+i.z*Math.abs(of.z),d=e.dot(of),f=t.dot(of),g=n.dot(of);if(Math.max(-Math.max(d,f,g),Math.min(d,f,g))>c)return!1}return!0}const Pk=new Ws,ug=new ve,C2=new ve;class js{constructor(e=new ve,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):Pk.setFromPoints(e).getCenter(n);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ug.subVectors(e,this.center);const t=ug.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(ug,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(C2.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ug.copy(e.center).add(C2)),this.expandByPoint(ug.copy(e.center).sub(C2))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Du=new ve,R2=new ve,ov=new ve,Gd=new ve,O2=new ve,lv=new ve,D2=new ve;class d0{constructor(e=new ve,t=new ve(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Du)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Du.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Du.copy(this.origin).addScaledVector(this.direction,t),Du.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){R2.copy(e).add(t).multiplyScalar(.5),ov.copy(t).sub(e).normalize(),Gd.copy(this.origin).sub(R2);const a=e.distanceTo(t)*.5,o=-this.direction.dot(ov),c=Gd.dot(this.direction),d=-Gd.dot(ov),f=Gd.lengthSq(),g=Math.abs(1-o*o);let b,v,y,w;if(g>0)if(b=o*d-c,v=o*c-d,w=a*g,b>=0)if(v>=-w)if(v<=w){const T=1/g;b*=T,v*=T,y=b*(b+o*v+2*c)+v*(o*b+v+2*d)+f}else v=a,b=Math.max(0,-(o*v+c)),y=-b*b+v*(v+2*d)+f;else v=-a,b=Math.max(0,-(o*v+c)),y=-b*b+v*(v+2*d)+f;else v<=-w?(b=Math.max(0,-(-o*a+c)),v=b>0?-a:Math.min(Math.max(-a,-d),a),y=-b*b+v*(v+2*d)+f):v<=w?(b=0,v=Math.min(Math.max(-a,-d),a),y=v*(v+2*d)+f):(b=Math.max(0,-(o*a+c)),v=b>0?a:Math.min(Math.max(-a,-d),a),y=-b*b+v*(v+2*d)+f);else v=o>0?-a:a,b=Math.max(0,-(o*v+c)),y=-b*b+v*(v+2*d)+f;return n&&n.copy(this.origin).addScaledVector(this.direction,b),i&&i.copy(R2).addScaledVector(ov,v),y}intersectSphere(e,t){Du.subVectors(e.center,this.origin);const n=Du.dot(this.direction),i=Du.dot(Du)-n*n,a=e.radius*e.radius;if(i>a)return null;const o=Math.sqrt(a-i),c=n-o,d=n+o;return d<0?null:c<0?this.at(d,t):this.at(c,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,a,o,c,d;const f=1/this.direction.x,g=1/this.direction.y,b=1/this.direction.z,v=this.origin;return f>=0?(n=(e.min.x-v.x)*f,i=(e.max.x-v.x)*f):(n=(e.max.x-v.x)*f,i=(e.min.x-v.x)*f),g>=0?(a=(e.min.y-v.y)*g,o=(e.max.y-v.y)*g):(a=(e.max.y-v.y)*g,o=(e.min.y-v.y)*g),n>o||a>i||((a>n||isNaN(n))&&(n=a),(o<i||isNaN(i))&&(i=o),b>=0?(c=(e.min.z-v.z)*b,d=(e.max.z-v.z)*b):(c=(e.max.z-v.z)*b,d=(e.min.z-v.z)*b),n>d||c>i)||((c>n||n!==n)&&(n=c),(d<i||i!==i)&&(i=d),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,Du)!==null}intersectTriangle(e,t,n,i,a){O2.subVectors(t,e),lv.subVectors(n,e),D2.crossVectors(O2,lv);let o=this.direction.dot(D2),c;if(o>0){if(i)return null;c=1}else if(o<0)c=-1,o=-o;else return null;Gd.subVectors(this.origin,e);const d=c*this.direction.dot(lv.crossVectors(Gd,lv));if(d<0)return null;const f=c*this.direction.dot(O2.cross(Gd));if(f<0||d+f>o)return null;const g=-c*Gd.dot(D2);return g<0?null:this.at(g/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class xn{constructor(e,t,n,i,a,o,c,d,f,g,b,v,y,w,T,N){xn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,i,a,o,c,d,f,g,b,v,y,w,T,N)}set(e,t,n,i,a,o,c,d,f,g,b,v,y,w,T,N){const _=this.elements;return _[0]=e,_[4]=t,_[8]=n,_[12]=i,_[1]=a,_[5]=o,_[9]=c,_[13]=d,_[2]=f,_[6]=g,_[10]=b,_[14]=v,_[3]=y,_[7]=w,_[11]=T,_[15]=N,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new xn().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/tp.setFromMatrixColumn(e,0).length(),a=1/tp.setFromMatrixColumn(e,1).length(),o=1/tp.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,a=e.z,o=Math.cos(n),c=Math.sin(n),d=Math.cos(i),f=Math.sin(i),g=Math.cos(a),b=Math.sin(a);if(e.order==="XYZ"){const v=o*g,y=o*b,w=c*g,T=c*b;t[0]=d*g,t[4]=-d*b,t[8]=f,t[1]=y+w*f,t[5]=v-T*f,t[9]=-c*d,t[2]=T-v*f,t[6]=w+y*f,t[10]=o*d}else if(e.order==="YXZ"){const v=d*g,y=d*b,w=f*g,T=f*b;t[0]=v+T*c,t[4]=w*c-y,t[8]=o*f,t[1]=o*b,t[5]=o*g,t[9]=-c,t[2]=y*c-w,t[6]=T+v*c,t[10]=o*d}else if(e.order==="ZXY"){const v=d*g,y=d*b,w=f*g,T=f*b;t[0]=v-T*c,t[4]=-o*b,t[8]=w+y*c,t[1]=y+w*c,t[5]=o*g,t[9]=T-v*c,t[2]=-o*f,t[6]=c,t[10]=o*d}else if(e.order==="ZYX"){const v=o*g,y=o*b,w=c*g,T=c*b;t[0]=d*g,t[4]=w*f-y,t[8]=v*f+T,t[1]=d*b,t[5]=T*f+v,t[9]=y*f-w,t[2]=-f,t[6]=c*d,t[10]=o*d}else if(e.order==="YZX"){const v=o*d,y=o*f,w=c*d,T=c*f;t[0]=d*g,t[4]=T-v*b,t[8]=w*b+y,t[1]=b,t[5]=o*g,t[9]=-c*g,t[2]=-f*g,t[6]=y*b+w,t[10]=v-T*b}else if(e.order==="XZY"){const v=o*d,y=o*f,w=c*d,T=c*f;t[0]=d*g,t[4]=-b,t[8]=f*g,t[1]=v*b+T,t[5]=o*g,t[9]=y*b-w,t[2]=w*b-y,t[6]=c*g,t[10]=T*b+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Lk,e,zk)}lookAt(e,t,n){const i=this.elements;return go.subVectors(e,t),go.lengthSq()===0&&(go.z=1),go.normalize(),Wd.crossVectors(n,go),Wd.lengthSq()===0&&(Math.abs(n.z)===1?go.x+=1e-4:go.z+=1e-4,go.normalize(),Wd.crossVectors(n,go)),Wd.normalize(),cv.crossVectors(go,Wd),i[0]=Wd.x,i[4]=cv.x,i[8]=go.x,i[1]=Wd.y,i[5]=cv.y,i[9]=go.y,i[2]=Wd.z,i[6]=cv.z,i[10]=go.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,a=this.elements,o=n[0],c=n[4],d=n[8],f=n[12],g=n[1],b=n[5],v=n[9],y=n[13],w=n[2],T=n[6],N=n[10],_=n[14],j=n[3],C=n[7],A=n[11],P=n[15],U=i[0],B=i[4],F=i[8],k=i[12],z=i[1],V=i[5],X=i[9],J=i[13],ee=i[2],te=i[6],W=i[10],K=i[14],$=i[3],oe=i[7],G=i[11],Y=i[15];return a[0]=o*U+c*z+d*ee+f*$,a[4]=o*B+c*V+d*te+f*oe,a[8]=o*F+c*X+d*W+f*G,a[12]=o*k+c*J+d*K+f*Y,a[1]=g*U+b*z+v*ee+y*$,a[5]=g*B+b*V+v*te+y*oe,a[9]=g*F+b*X+v*W+y*G,a[13]=g*k+b*J+v*K+y*Y,a[2]=w*U+T*z+N*ee+_*$,a[6]=w*B+T*V+N*te+_*oe,a[10]=w*F+T*X+N*W+_*G,a[14]=w*k+T*J+N*K+_*Y,a[3]=j*U+C*z+A*ee+P*$,a[7]=j*B+C*V+A*te+P*oe,a[11]=j*F+C*X+A*W+P*G,a[15]=j*k+C*J+A*K+P*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],a=e[12],o=e[1],c=e[5],d=e[9],f=e[13],g=e[2],b=e[6],v=e[10],y=e[14],w=e[3],T=e[7],N=e[11],_=e[15];return w*(+a*d*b-i*f*b-a*c*v+n*f*v+i*c*y-n*d*y)+T*(+t*d*y-t*f*v+a*o*v-i*o*y+i*f*g-a*d*g)+N*(+t*f*b-t*c*y-a*o*b+n*o*y+a*c*g-n*f*g)+_*(-i*c*g-t*d*b+t*c*v+i*o*b-n*o*v+n*d*g)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],o=e[4],c=e[5],d=e[6],f=e[7],g=e[8],b=e[9],v=e[10],y=e[11],w=e[12],T=e[13],N=e[14],_=e[15],j=b*N*f-T*v*f+T*d*y-c*N*y-b*d*_+c*v*_,C=w*v*f-g*N*f-w*d*y+o*N*y+g*d*_-o*v*_,A=g*T*f-w*b*f+w*c*y-o*T*y-g*c*_+o*b*_,P=w*b*d-g*T*d-w*c*v+o*T*v+g*c*N-o*b*N,U=t*j+n*C+i*A+a*P;if(U===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/U;return e[0]=j*B,e[1]=(T*v*a-b*N*a-T*i*y+n*N*y+b*i*_-n*v*_)*B,e[2]=(c*N*a-T*d*a+T*i*f-n*N*f-c*i*_+n*d*_)*B,e[3]=(b*d*a-c*v*a-b*i*f+n*v*f+c*i*y-n*d*y)*B,e[4]=C*B,e[5]=(g*N*a-w*v*a+w*i*y-t*N*y-g*i*_+t*v*_)*B,e[6]=(w*d*a-o*N*a-w*i*f+t*N*f+o*i*_-t*d*_)*B,e[7]=(o*v*a-g*d*a+g*i*f-t*v*f-o*i*y+t*d*y)*B,e[8]=A*B,e[9]=(w*b*a-g*T*a-w*n*y+t*T*y+g*n*_-t*b*_)*B,e[10]=(o*T*a-w*c*a+w*n*f-t*T*f-o*n*_+t*c*_)*B,e[11]=(g*c*a-o*b*a-g*n*f+t*b*f+o*n*y-t*c*y)*B,e[12]=P*B,e[13]=(g*T*i-w*b*i+w*n*v-t*T*v-g*n*N+t*b*N)*B,e[14]=(w*c*i-o*T*i-w*n*d+t*T*d+o*n*N-t*c*N)*B,e[15]=(o*b*i-g*c*i+g*n*d-t*b*d-o*n*v+t*c*v)*B,this}scale(e){const t=this.elements,n=e.x,i=e.y,a=e.z;return t[0]*=n,t[4]*=i,t[8]*=a,t[1]*=n,t[5]*=i,t[9]*=a,t[2]*=n,t[6]*=i,t[10]*=a,t[3]*=n,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),a=1-n,o=e.x,c=e.y,d=e.z,f=a*o,g=a*c;return this.set(f*o+n,f*c-i*d,f*d+i*c,0,f*c+i*d,g*c+n,g*d-i*o,0,f*d-i*c,g*d+i*o,a*d*d+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,a,o){return this.set(1,n,a,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,a=t._x,o=t._y,c=t._z,d=t._w,f=a+a,g=o+o,b=c+c,v=a*f,y=a*g,w=a*b,T=o*g,N=o*b,_=c*b,j=d*f,C=d*g,A=d*b,P=n.x,U=n.y,B=n.z;return i[0]=(1-(T+_))*P,i[1]=(y+A)*P,i[2]=(w-C)*P,i[3]=0,i[4]=(y-A)*U,i[5]=(1-(v+_))*U,i[6]=(N+j)*U,i[7]=0,i[8]=(w+C)*B,i[9]=(N-j)*B,i[10]=(1-(v+T))*B,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let a=tp.set(i[0],i[1],i[2]).length();const o=tp.set(i[4],i[5],i[6]).length(),c=tp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Ul.copy(this);const f=1/a,g=1/o,b=1/c;return Ul.elements[0]*=f,Ul.elements[1]*=f,Ul.elements[2]*=f,Ul.elements[4]*=g,Ul.elements[5]*=g,Ul.elements[6]*=g,Ul.elements[8]*=b,Ul.elements[9]*=b,Ul.elements[10]*=b,t.setFromRotationMatrix(Ul),n.x=a,n.y=o,n.z=c,this}makePerspective(e,t,n,i,a,o,c=vo,d=!1){const f=this.elements,g=2*a/(t-e),b=2*a/(n-i),v=(t+e)/(t-e),y=(n+i)/(n-i);let w,T;if(d)w=a/(o-a),T=o*a/(o-a);else if(c===vo)w=-(o+a)/(o-a),T=-2*o*a/(o-a);else if(c===Yp)w=-o/(o-a),T=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return f[0]=g,f[4]=0,f[8]=v,f[12]=0,f[1]=0,f[5]=b,f[9]=y,f[13]=0,f[2]=0,f[6]=0,f[10]=w,f[14]=T,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(e,t,n,i,a,o,c=vo,d=!1){const f=this.elements,g=2/(t-e),b=2/(n-i),v=-(t+e)/(t-e),y=-(n+i)/(n-i);let w,T;if(d)w=1/(o-a),T=o/(o-a);else if(c===vo)w=-2/(o-a),T=-(o+a)/(o-a);else if(c===Yp)w=-1/(o-a),T=-a/(o-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return f[0]=g,f[4]=0,f[8]=0,f[12]=v,f[1]=0,f[5]=b,f[9]=0,f[13]=y,f[2]=0,f[6]=0,f[10]=w,f[14]=T,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const tp=new ve,Ul=new xn,Lk=new ve(0,0,0),zk=new ve(1,1,1),Wd=new ve,cv=new ve,go=new ve,JM=new xn,QM=new Va;class _o{constructor(e=0,t=0,n=0,i=_o.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,a=i[0],o=i[4],c=i[8],d=i[1],f=i[5],g=i[9],b=i[2],v=i[6],y=i[10];switch(t){case"XYZ":this._y=Math.asin(pn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-g,y),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(v,f),this._z=0);break;case"YXZ":this._x=Math.asin(-pn(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(c,y),this._z=Math.atan2(d,f)):(this._y=Math.atan2(-b,a),this._z=0);break;case"ZXY":this._x=Math.asin(pn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-b,y),this._z=Math.atan2(-o,f)):(this._y=0,this._z=Math.atan2(d,a));break;case"ZYX":this._y=Math.asin(-pn(b,-1,1)),Math.abs(b)<.9999999?(this._x=Math.atan2(v,y),this._z=Math.atan2(d,a)):(this._x=0,this._z=Math.atan2(-o,f));break;case"YZX":this._z=Math.asin(pn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-g,f),this._y=Math.atan2(-b,a)):(this._x=0,this._y=Math.atan2(c,y));break;case"XZY":this._z=Math.asin(-pn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(v,f),this._y=Math.atan2(c,a)):(this._x=Math.atan2(-g,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return JM.makeRotationFromQuaternion(e),this.setFromRotationMatrix(JM,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return QM.setFromEuler(this),this.setFromQuaternion(QM,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}_o.DEFAULT_ORDER="XYZ";class Kp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Uk=0;const $M=new ve,np=new Va,Pu=new xn,uv=new ve,dg=new ve,Ik=new ve,Bk=new Va,ej=new ve(1,0,0),tj=new ve(0,1,0),nj=new ve(0,0,1),rj={type:"added"},kk={type:"removed"},rp={type:"childadded",child:null},P2={type:"childremoved",child:null};class nr extends Kc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Uk++}),this.uuid=yo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=nr.DEFAULT_UP.clone();const e=new ve,t=new _o,n=new Va,i=new ve(1,1,1);function a(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(a),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new xn},normalMatrix:{value:new jn}}),this.matrix=new xn,this.matrixWorld=new xn,this.matrixAutoUpdate=nr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=nr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Kp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return np.setFromAxisAngle(e,t),this.quaternion.multiply(np),this}rotateOnWorldAxis(e,t){return np.setFromAxisAngle(e,t),this.quaternion.premultiply(np),this}rotateX(e){return this.rotateOnAxis(ej,e)}rotateY(e){return this.rotateOnAxis(tj,e)}rotateZ(e){return this.rotateOnAxis(nj,e)}translateOnAxis(e,t){return $M.copy(e).applyQuaternion(this.quaternion),this.position.add($M.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(ej,e)}translateY(e){return this.translateOnAxis(tj,e)}translateZ(e){return this.translateOnAxis(nj,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Pu.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?uv.copy(e):uv.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),dg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Pu.lookAt(dg,uv,this.up):Pu.lookAt(uv,dg,this.up),this.quaternion.setFromRotationMatrix(Pu),i&&(Pu.extractRotation(i.matrixWorld),np.setFromRotationMatrix(Pu),this.quaternion.premultiply(np.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(rj),rp.child=e,this.dispatchEvent(rp),rp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(kk),P2.child=e,this.dispatchEvent(P2),P2.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Pu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Pu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Pu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(rj),rp.child=e,this.dispatchEvent(rp),rp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dg,e,Ik),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dg,Bk,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(c=>({...c,boundingBox:c.boundingBox?c.boundingBox.toJSON():void 0,boundingSphere:c.boundingSphere?c.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(c=>({...c})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function a(c,d){return c[d.uuid]===void 0&&(c[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const d=c.shapes;if(Array.isArray(d))for(let f=0,g=d.length;f<g;f++){const b=d[f];a(e.shapes,b)}else a(e.shapes,d)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let d=0,f=this.material.length;d<f;d++)c.push(a(e.materials,this.material[d]));i.material=c}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let c=0;c<this.children.length;c++)i.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let c=0;c<this.animations.length;c++){const d=this.animations[c];i.animations.push(a(e.animations,d))}}if(t){const c=o(e.geometries),d=o(e.materials),f=o(e.textures),g=o(e.images),b=o(e.shapes),v=o(e.skeletons),y=o(e.animations),w=o(e.nodes);c.length>0&&(n.geometries=c),d.length>0&&(n.materials=d),f.length>0&&(n.textures=f),g.length>0&&(n.images=g),b.length>0&&(n.shapes=b),v.length>0&&(n.skeletons=v),y.length>0&&(n.animations=y),w.length>0&&(n.nodes=w)}return n.object=i,n;function o(c){const d=[];for(const f in c){const g=c[f];delete g.metadata,d.push(g)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}nr.DEFAULT_UP=new ve(0,1,0);nr.DEFAULT_MATRIX_AUTO_UPDATE=!0;nr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Il=new ve,Lu=new ve,L2=new ve,zu=new ve,ip=new ve,sp=new ve,ij=new ve,z2=new ve,U2=new ve,I2=new ve,B2=new ar,k2=new ar,H2=new ar;class Ba{constructor(e=new ve,t=new ve,n=new ve){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Il.subVectors(e,t),i.cross(Il);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,n,i,a){Il.subVectors(i,t),Lu.subVectors(n,t),L2.subVectors(e,t);const o=Il.dot(Il),c=Il.dot(Lu),d=Il.dot(L2),f=Lu.dot(Lu),g=Lu.dot(L2),b=o*f-c*c;if(b===0)return a.set(0,0,0),null;const v=1/b,y=(f*d-c*g)*v,w=(o*g-c*d)*v;return a.set(1-y-w,w,y)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,zu)===null?!1:zu.x>=0&&zu.y>=0&&zu.x+zu.y<=1}static getInterpolation(e,t,n,i,a,o,c,d){return this.getBarycoord(e,t,n,i,zu)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(a,zu.x),d.addScaledVector(o,zu.y),d.addScaledVector(c,zu.z),d)}static getInterpolatedAttribute(e,t,n,i,a,o){return B2.setScalar(0),k2.setScalar(0),H2.setScalar(0),B2.fromBufferAttribute(e,t),k2.fromBufferAttribute(e,n),H2.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(B2,a.x),o.addScaledVector(k2,a.y),o.addScaledVector(H2,a.z),o}static isFrontFacing(e,t,n,i){return Il.subVectors(n,t),Lu.subVectors(e,t),Il.cross(Lu).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Il.subVectors(this.c,this.b),Lu.subVectors(this.a,this.b),Il.cross(Lu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ba.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ba.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,a){return Ba.getInterpolation(e,this.a,this.b,this.c,t,n,i,a)}containsPoint(e){return Ba.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ba.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,a=this.c;let o,c;ip.subVectors(i,n),sp.subVectors(a,n),z2.subVectors(e,n);const d=ip.dot(z2),f=sp.dot(z2);if(d<=0&&f<=0)return t.copy(n);U2.subVectors(e,i);const g=ip.dot(U2),b=sp.dot(U2);if(g>=0&&b<=g)return t.copy(i);const v=d*b-g*f;if(v<=0&&d>=0&&g<=0)return o=d/(d-g),t.copy(n).addScaledVector(ip,o);I2.subVectors(e,a);const y=ip.dot(I2),w=sp.dot(I2);if(w>=0&&y<=w)return t.copy(a);const T=y*f-d*w;if(T<=0&&f>=0&&w<=0)return c=f/(f-w),t.copy(n).addScaledVector(sp,c);const N=g*w-y*b;if(N<=0&&b-g>=0&&y-w>=0)return ij.subVectors(a,i),c=(b-g)/(b-g+(y-w)),t.copy(i).addScaledVector(ij,c);const _=1/(N+T+v);return o=T*_,c=v*_,t.copy(n).addScaledVector(ip,o).addScaledVector(sp,c)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const z7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Xd={h:0,s:0,l:0},dv={h:0,s:0,l:0};function V2(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}class Ot{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Fs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Qn.colorSpaceToWorking(this,t),this}setRGB(e,t,n,i=Qn.workingColorSpace){return this.r=e,this.g=t,this.b=n,Qn.colorSpaceToWorking(this,i),this}setHSL(e,t,n,i=Qn.workingColorSpace){if(e=h3(e,1),t=pn(t,0,1),n=pn(n,0,1),t===0)this.r=this.g=this.b=n;else{const a=n<=.5?n*(1+t):n+t-n*t,o=2*n-a;this.r=V2(o,a,e+1/3),this.g=V2(o,a,e),this.b=V2(o,a,e-1/3)}return Qn.colorSpaceToWorking(this,i),this}setStyle(e,t=Fs){function n(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=i[1],c=i[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Fs){const n=z7[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Gu(e.r),this.g=Gu(e.g),this.b=Gu(e.b),this}copyLinearToSRGB(e){return this.r=Up(e.r),this.g=Up(e.g),this.b=Up(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Fs){return Qn.workingToColorSpace(Hs.copy(this),e),Math.round(pn(Hs.r*255,0,255))*65536+Math.round(pn(Hs.g*255,0,255))*256+Math.round(pn(Hs.b*255,0,255))}getHexString(e=Fs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Qn.workingColorSpace){Qn.workingToColorSpace(Hs.copy(this),t);const n=Hs.r,i=Hs.g,a=Hs.b,o=Math.max(n,i,a),c=Math.min(n,i,a);let d,f;const g=(c+o)/2;if(c===o)d=0,f=0;else{const b=o-c;switch(f=g<=.5?b/(o+c):b/(2-o-c),o){case n:d=(i-a)/b+(i<a?6:0);break;case i:d=(a-n)/b+2;break;case a:d=(n-i)/b+4;break}d/=6}return e.h=d,e.s=f,e.l=g,e}getRGB(e,t=Qn.workingColorSpace){return Qn.workingToColorSpace(Hs.copy(this),t),e.r=Hs.r,e.g=Hs.g,e.b=Hs.b,e}getStyle(e=Fs){Qn.workingToColorSpace(Hs.copy(this),e);const t=Hs.r,n=Hs.g,i=Hs.b;return e!==Fs?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(i*255)})`}offsetHSL(e,t,n){return this.getHSL(Xd),this.setHSL(Xd.h+e,Xd.s+t,Xd.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Xd),e.getHSL(dv);const n=qg(Xd.h,dv.h,t),i=qg(Xd.s,dv.s,t),a=qg(Xd.l,dv.l,t);return this.setHSL(n,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*n+a[6]*i,this.g=a[1]*t+a[4]*n+a[7]*i,this.b=a[2]*t+a[5]*n+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Hs=new Ot;Ot.NAMES=z7;let Hk=0;class Xs extends Kc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Hk++}),this.uuid=yo(),this.name="",this.type="Material",this.blending=Lf,this.side=Ku,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=_1,this.blendDst=S1,this.blendEquation=lh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ot(0,0,0),this.blendAlpha=0,this.depthFunc=If,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Pw,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=wf,this.stencilZFail=wf,this.stencilZPass=wf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Lf&&(n.blending=this.blending),this.side!==Ku&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==_1&&(n.blendSrc=this.blendSrc),this.blendDst!==S1&&(n.blendDst=this.blendDst),this.blendEquation!==lh&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==If&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Pw&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==wf&&(n.stencilFail=this.stencilFail),this.stencilZFail!==wf&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==wf&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(a){const o=[];for(const c in a){const d=a[c];delete d.metadata,o.push(d)}return o}if(t){const a=i(e.textures),o=i(e.images);a.length>0&&(n.textures=a),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let a=0;a!==i;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class yh extends Xs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _o,this.combine=Rb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Vu=Vk();function Vk(){const r=new ArrayBuffer(4),e=new Float32Array(r),t=new Uint32Array(r),n=new Uint32Array(512),i=new Uint32Array(512);for(let d=0;d<256;++d){const f=d-127;f<-27?(n[d]=0,n[d|256]=32768,i[d]=24,i[d|256]=24):f<-14?(n[d]=1024>>-f-14,n[d|256]=1024>>-f-14|32768,i[d]=-f-1,i[d|256]=-f-1):f<=15?(n[d]=f+15<<10,n[d|256]=f+15<<10|32768,i[d]=13,i[d|256]=13):f<128?(n[d]=31744,n[d|256]=64512,i[d]=24,i[d|256]=24):(n[d]=31744,n[d|256]=64512,i[d]=13,i[d|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),c=new Uint32Array(64);for(let d=1;d<1024;++d){let f=d<<13,g=0;for(;(f&8388608)===0;)f<<=1,g-=8388608;f&=-8388609,g+=947912704,a[d]=f|g}for(let d=1024;d<2048;++d)a[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)o[d]=d<<23;o[31]=1199570944,o[32]=2147483648;for(let d=33;d<63;++d)o[d]=2147483648+(d-32<<23);o[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(c[d]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:c}}function Ua(r){Math.abs(r)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),r=pn(r,-65504,65504),Vu.floatView[0]=r;const e=Vu.uint32View[0],t=e>>23&511;return Vu.baseTable[t]+((e&8388607)>>Vu.shiftTable[t])}function Ng(r){const e=r>>10;return Vu.uint32View[0]=Vu.mantissaTable[Vu.offsetTable[e]+(r&1023)]+Vu.exponentTable[e],Vu.floatView[0]}class Fk{static toHalfFloat(e){return Ua(e)}static fromHalfFloat(e){return Ng(e)}}const Di=new ve,hv=new dt;let qk=0;class jr{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:qk++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=db,this.updateRanges=[],this.gpuType=Ha,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)hv.fromBufferAttribute(this,t),hv.applyMatrix3(e),this.setXY(t,hv.x,hv.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Di.fromBufferAttribute(this,t),Di.applyMatrix3(e),this.setXYZ(t,Di.x,Di.y,Di.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Di.fromBufferAttribute(this,t),Di.applyMatrix4(e),this.setXYZ(t,Di.x,Di.y,Di.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Di.fromBufferAttribute(this,t),Di.applyNormalMatrix(e),this.setXYZ(t,Di.x,Di.y,Di.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Di.fromBufferAttribute(this,t),Di.transformDirection(e),this.setXYZ(t,Di.x,Di.y,Di.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=ga(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Rn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ga(t,this.array)),t}setX(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ga(t,this.array)),t}setY(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ga(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ga(t,this.array)),t}setW(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array),i=Rn(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,a){return e*=this.itemSize,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array),i=Rn(i,this.array),a=Rn(a,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==db&&(e.usage=this.usage),e}}class Gk extends jr{constructor(e,t,n){super(new Int8Array(e),t,n)}}class Wk extends jr{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class Xk extends jr{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Yk extends jr{constructor(e,t,n){super(new Int16Array(e),t,n)}}class m3 extends jr{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Zk extends jr{constructor(e,t,n){super(new Int32Array(e),t,n)}}class p3 extends jr{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Kk extends jr{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Ng(this.array[e*this.itemSize]);return this.normalized&&(t=ga(t,this.array)),t}setX(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize]=Ua(t),this}getY(e){let t=Ng(this.array[e*this.itemSize+1]);return this.normalized&&(t=ga(t,this.array)),t}setY(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize+1]=Ua(t),this}getZ(e){let t=Ng(this.array[e*this.itemSize+2]);return this.normalized&&(t=ga(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize+2]=Ua(t),this}getW(e){let t=Ng(this.array[e*this.itemSize+3]);return this.normalized&&(t=ga(t,this.array)),t}setW(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize+3]=Ua(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array)),this.array[e+0]=Ua(t),this.array[e+1]=Ua(n),this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array),i=Rn(i,this.array)),this.array[e+0]=Ua(t),this.array[e+1]=Ua(n),this.array[e+2]=Ua(i),this}setXYZW(e,t,n,i,a){return e*=this.itemSize,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array),i=Rn(i,this.array),a=Rn(a,this.array)),this.array[e+0]=Ua(t),this.array[e+1]=Ua(n),this.array[e+2]=Ua(i),this.array[e+3]=Ua(a),this}}class Ft extends jr{constructor(e,t,n){super(new Float32Array(e),t,n)}}let Jk=0;const Jo=new xn,F2=new nr,ap=new ve,bo=new Ws,hg=new Ws,cs=new ve;class Dn extends Kc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Jk++}),this.uuid=yo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(D7(e)?p3:m3)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const a=new jn().getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Jo.makeRotationFromQuaternion(e),this.applyMatrix4(Jo),this}rotateX(e){return Jo.makeRotationX(e),this.applyMatrix4(Jo),this}rotateY(e){return Jo.makeRotationY(e),this.applyMatrix4(Jo),this}rotateZ(e){return Jo.makeRotationZ(e),this.applyMatrix4(Jo),this}translate(e,t,n){return Jo.makeTranslation(e,t,n),this.applyMatrix4(Jo),this}scale(e,t,n){return Jo.makeScale(e,t,n),this.applyMatrix4(Jo),this}lookAt(e){return F2.lookAt(e),F2.updateMatrix(),this.applyMatrix4(F2.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ap).negate(),this.translate(ap.x,ap.y,ap.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let i=0,a=e.length;i<a;i++){const o=e[i];n.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Ft(n,3))}else{const n=Math.min(e.length,t.count);for(let i=0;i<n;i++){const a=e[i];t.setXYZ(i,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ws);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ve(-1/0,-1/0,-1/0),new ve(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const a=t[n];bo.setFromBufferAttribute(a),this.morphTargetsRelative?(cs.addVectors(this.boundingBox.min,bo.min),this.boundingBox.expandByPoint(cs),cs.addVectors(this.boundingBox.max,bo.max),this.boundingBox.expandByPoint(cs)):(this.boundingBox.expandByPoint(bo.min),this.boundingBox.expandByPoint(bo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new js);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ve,1/0);return}if(e){const n=this.boundingSphere.center;if(bo.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){const c=t[a];hg.setFromBufferAttribute(c),this.morphTargetsRelative?(cs.addVectors(bo.min,hg.min),bo.expandByPoint(cs),cs.addVectors(bo.max,hg.max),bo.expandByPoint(cs)):(bo.expandByPoint(hg.min),bo.expandByPoint(hg.max))}bo.getCenter(n);let i=0;for(let a=0,o=e.count;a<o;a++)cs.fromBufferAttribute(e,a),i=Math.max(i,n.distanceToSquared(cs));if(t)for(let a=0,o=t.length;a<o;a++){const c=t[a],d=this.morphTargetsRelative;for(let f=0,g=c.count;f<g;f++)cs.fromBufferAttribute(c,f),d&&(ap.fromBufferAttribute(e,f),cs.add(ap)),i=Math.max(i,n.distanceToSquared(cs))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,i=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new jr(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),c=[],d=[];for(let F=0;F<n.count;F++)c[F]=new ve,d[F]=new ve;const f=new ve,g=new ve,b=new ve,v=new dt,y=new dt,w=new dt,T=new ve,N=new ve;function _(F,k,z){f.fromBufferAttribute(n,F),g.fromBufferAttribute(n,k),b.fromBufferAttribute(n,z),v.fromBufferAttribute(a,F),y.fromBufferAttribute(a,k),w.fromBufferAttribute(a,z),g.sub(f),b.sub(f),y.sub(v),w.sub(v);const V=1/(y.x*w.y-w.x*y.y);isFinite(V)&&(T.copy(g).multiplyScalar(w.y).addScaledVector(b,-y.y).multiplyScalar(V),N.copy(b).multiplyScalar(y.x).addScaledVector(g,-w.x).multiplyScalar(V),c[F].add(T),c[k].add(T),c[z].add(T),d[F].add(N),d[k].add(N),d[z].add(N))}let j=this.groups;j.length===0&&(j=[{start:0,count:e.count}]);for(let F=0,k=j.length;F<k;++F){const z=j[F],V=z.start,X=z.count;for(let J=V,ee=V+X;J<ee;J+=3)_(e.getX(J+0),e.getX(J+1),e.getX(J+2))}const C=new ve,A=new ve,P=new ve,U=new ve;function B(F){P.fromBufferAttribute(i,F),U.copy(P);const k=c[F];C.copy(k),C.sub(P.multiplyScalar(P.dot(k))).normalize(),A.crossVectors(U,k);const V=A.dot(d[F])<0?-1:1;o.setXYZW(F,C.x,C.y,C.z,V)}for(let F=0,k=j.length;F<k;++F){const z=j[F],V=z.start,X=z.count;for(let J=V,ee=V+X;J<ee;J+=3)B(e.getX(J+0)),B(e.getX(J+1)),B(e.getX(J+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new jr(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let v=0,y=n.count;v<y;v++)n.setXYZ(v,0,0,0);const i=new ve,a=new ve,o=new ve,c=new ve,d=new ve,f=new ve,g=new ve,b=new ve;if(e)for(let v=0,y=e.count;v<y;v+=3){const w=e.getX(v+0),T=e.getX(v+1),N=e.getX(v+2);i.fromBufferAttribute(t,w),a.fromBufferAttribute(t,T),o.fromBufferAttribute(t,N),g.subVectors(o,a),b.subVectors(i,a),g.cross(b),c.fromBufferAttribute(n,w),d.fromBufferAttribute(n,T),f.fromBufferAttribute(n,N),c.add(g),d.add(g),f.add(g),n.setXYZ(w,c.x,c.y,c.z),n.setXYZ(T,d.x,d.y,d.z),n.setXYZ(N,f.x,f.y,f.z)}else for(let v=0,y=t.count;v<y;v+=3)i.fromBufferAttribute(t,v+0),a.fromBufferAttribute(t,v+1),o.fromBufferAttribute(t,v+2),g.subVectors(o,a),b.subVectors(i,a),g.cross(b),n.setXYZ(v+0,g.x,g.y,g.z),n.setXYZ(v+1,g.x,g.y,g.z),n.setXYZ(v+2,g.x,g.y,g.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)cs.fromBufferAttribute(e,t),cs.normalize(),e.setXYZ(t,cs.x,cs.y,cs.z)}toNonIndexed(){function e(c,d){const f=c.array,g=c.itemSize,b=c.normalized,v=new f.constructor(d.length*g);let y=0,w=0;for(let T=0,N=d.length;T<N;T++){c.isInterleavedBufferAttribute?y=d[T]*c.data.stride+c.offset:y=d[T]*g;for(let _=0;_<g;_++)v[w++]=f[y++]}return new jr(v,g,b)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Dn,n=this.index.array,i=this.attributes;for(const c in i){const d=i[c],f=e(d,n);t.setAttribute(c,f)}const a=this.morphAttributes;for(const c in a){const d=[],f=a[c];for(let g=0,b=f.length;g<b;g++){const v=f[g],y=e(v,n);d.push(y)}t.morphAttributes[c]=d}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let c=0,d=o.length;c<d;c++){const f=o[c];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const f in d)d[f]!==void 0&&(e[f]=d[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const d in n){const f=n[d];e.data.attributes[d]=f.toJSON(e.data)}const i={};let a=!1;for(const d in this.morphAttributes){const f=this.morphAttributes[d],g=[];for(let b=0,v=f.length;b<v;b++){const y=f[b];g.push(y.toJSON(e.data))}g.length>0&&(i[d]=g,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere=c.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const i=e.attributes;for(const f in i){const g=i[f];this.setAttribute(f,g.clone(t))}const a=e.morphAttributes;for(const f in a){const g=[],b=a[f];for(let v=0,y=b.length;v<y;v++)g.push(b[v].clone(t));this.morphAttributes[f]=g}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let f=0,g=o.length;f<g;f++){const b=o[f];this.addGroup(b.start,b.count,b.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const sj=new xn,lf=new d0,fv=new js,aj=new ve,mv=new ve,pv=new ve,gv=new ve,q2=new ve,bv=new ve,oj=new ve,xv=new ve;class Li extends nr{constructor(e=new Dn,t=new yh){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const c=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,a=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const c=this.morphTargetInfluences;if(a&&c){bv.set(0,0,0);for(let d=0,f=a.length;d<f;d++){const g=c[d],b=a[d];g!==0&&(q2.fromBufferAttribute(b,e),o?bv.addScaledVector(q2,g):bv.addScaledVector(q2.sub(t),g))}t.add(bv)}return t}raycast(e,t){const n=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),fv.copy(n.boundingSphere),fv.applyMatrix4(a),lf.copy(e.ray).recast(e.near),!(fv.containsPoint(lf.origin)===!1&&(lf.intersectSphere(fv,aj)===null||lf.origin.distanceToSquared(aj)>(e.far-e.near)**2))&&(sj.copy(a).invert(),lf.copy(e.ray).applyMatrix4(sj),!(n.boundingBox!==null&&lf.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,lf)))}_computeIntersections(e,t,n){let i;const a=this.geometry,o=this.material,c=a.index,d=a.attributes.position,f=a.attributes.uv,g=a.attributes.uv1,b=a.attributes.normal,v=a.groups,y=a.drawRange;if(c!==null)if(Array.isArray(o))for(let w=0,T=v.length;w<T;w++){const N=v[w],_=o[N.materialIndex],j=Math.max(N.start,y.start),C=Math.min(c.count,Math.min(N.start+N.count,y.start+y.count));for(let A=j,P=C;A<P;A+=3){const U=c.getX(A),B=c.getX(A+1),F=c.getX(A+2);i=vv(this,_,e,n,f,g,b,U,B,F),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=N.materialIndex,t.push(i))}}else{const w=Math.max(0,y.start),T=Math.min(c.count,y.start+y.count);for(let N=w,_=T;N<_;N+=3){const j=c.getX(N),C=c.getX(N+1),A=c.getX(N+2);i=vv(this,o,e,n,f,g,b,j,C,A),i&&(i.faceIndex=Math.floor(N/3),t.push(i))}}else if(d!==void 0)if(Array.isArray(o))for(let w=0,T=v.length;w<T;w++){const N=v[w],_=o[N.materialIndex],j=Math.max(N.start,y.start),C=Math.min(d.count,Math.min(N.start+N.count,y.start+y.count));for(let A=j,P=C;A<P;A+=3){const U=A,B=A+1,F=A+2;i=vv(this,_,e,n,f,g,b,U,B,F),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=N.materialIndex,t.push(i))}}else{const w=Math.max(0,y.start),T=Math.min(d.count,y.start+y.count);for(let N=w,_=T;N<_;N+=3){const j=N,C=N+1,A=N+2;i=vv(this,o,e,n,f,g,b,j,C,A),i&&(i.faceIndex=Math.floor(N/3),t.push(i))}}}}function Qk(r,e,t,n,i,a,o,c){let d;if(e.side===xa?d=n.intersectTriangle(o,a,i,!0,c):d=n.intersectTriangle(i,a,o,e.side===Ku,c),d===null)return null;xv.copy(c),xv.applyMatrix4(r.matrixWorld);const f=t.ray.origin.distanceTo(xv);return f<t.near||f>t.far?null:{distance:f,point:xv.clone(),object:r}}function vv(r,e,t,n,i,a,o,c,d,f){r.getVertexPosition(c,mv),r.getVertexPosition(d,pv),r.getVertexPosition(f,gv);const g=Qk(r,e,t,n,mv,pv,gv,oj);if(g){const b=new ve;Ba.getBarycoord(oj,mv,pv,gv,b),i&&(g.uv=Ba.getInterpolatedAttribute(i,c,d,f,b,new dt)),a&&(g.uv1=Ba.getInterpolatedAttribute(a,c,d,f,b,new dt)),o&&(g.normal=Ba.getInterpolatedAttribute(o,c,d,f,b,new ve),g.normal.dot(n.direction)>0&&g.normal.multiplyScalar(-1));const v={a:c,b:d,c:f,normal:new ve,materialIndex:0};Ba.getNormal(mv,pv,gv,v.normal),g.face=v,g.barycoord=b}return g}class Wf extends Dn{constructor(e=1,t=1,n=1,i=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:a,depthSegments:o};const c=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);const d=[],f=[],g=[],b=[];let v=0,y=0;w("z","y","x",-1,-1,n,t,e,o,a,0),w("z","y","x",1,-1,n,t,-e,o,a,1),w("x","z","y",1,1,e,n,t,i,o,2),w("x","z","y",1,-1,e,n,-t,i,o,3),w("x","y","z",1,-1,e,t,n,i,a,4),w("x","y","z",-1,-1,e,t,-n,i,a,5),this.setIndex(d),this.setAttribute("position",new Ft(f,3)),this.setAttribute("normal",new Ft(g,3)),this.setAttribute("uv",new Ft(b,2));function w(T,N,_,j,C,A,P,U,B,F,k){const z=A/B,V=P/F,X=A/2,J=P/2,ee=U/2,te=B+1,W=F+1;let K=0,$=0;const oe=new ve;for(let G=0;G<W;G++){const Y=G*V-J;for(let ne=0;ne<te;ne++){const le=ne*z-X;oe[T]=le*j,oe[N]=Y*C,oe[_]=ee,f.push(oe.x,oe.y,oe.z),oe[T]=0,oe[N]=0,oe[_]=U>0?1:-1,g.push(oe.x,oe.y,oe.z),b.push(ne/B),b.push(1-G/F),K+=1}}for(let G=0;G<F;G++)for(let Y=0;Y<B;Y++){const ne=v+Y+te*G,le=v+Y+te*(G+1),be=v+(Y+1)+te*(G+1),ce=v+(Y+1)+te*G;d.push(ne,le,ce),d.push(le,be,ce),$+=6}c.addGroup(y,$,k),y+=$,v+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Jp(r){const e={};for(const t in r){e[t]={};for(const n in r[t]){const i=r[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function ma(r){const e={};for(let t=0;t<r.length;t++){const n=Jp(r[t]);for(const i in n)e[i]=n[i]}return e}function $k(r){const e=[];for(let t=0;t<r.length;t++)e.push(r[t].clone());return e}function U7(r){const e=r.getRenderTarget();return e===null?r.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Qn.workingColorSpace}const I7={clone:Jp,merge:ma};var eH=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,tH=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Xl extends Xs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=eH,this.fragmentShader=tH,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Jp(e.uniforms),this.uniformsGroups=$k(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class zy extends nr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new xn,this.projectionMatrix=new xn,this.projectionMatrixInverse=new xn,this.coordinateSystem=vo,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Yd=new ve,lj=new dt,cj=new dt;class us extends zy{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Zp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(zf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Zp*2*Math.atan(Math.tan(zf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Yd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Yd.x,Yd.y).multiplyScalar(-e/Yd.z),Yd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Yd.x,Yd.y).multiplyScalar(-e/Yd.z)}getViewSize(e,t){return this.getViewBounds(e,lj,cj),t.subVectors(cj,lj)}setViewOffset(e,t,n,i,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(zf*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const d=o.fullWidth,f=o.fullHeight;a+=o.offsetX*i/d,t-=o.offsetY*n/f,i*=o.width/d,n*=o.height/f}const c=this.filmOffset;c!==0&&(a+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const op=-90,lp=1;class B7 extends nr{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new us(op,lp,e,t);i.layers=this.layers,this.add(i);const a=new us(op,lp,e,t);a.layers=this.layers,this.add(a);const o=new us(op,lp,e,t);o.layers=this.layers,this.add(o);const c=new us(op,lp,e,t);c.layers=this.layers,this.add(c);const d=new us(op,lp,e,t);d.layers=this.layers,this.add(d);const f=new us(op,lp,e,t);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,a,o,c,d]=t;for(const f of t)this.remove(f);if(e===vo)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===Yp)n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of t)this.add(f),f.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,c,d,f,g]=this.children,b=e.getRenderTarget(),v=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),w=e.xr.enabled;e.xr.enabled=!1;const T=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,a),e.setRenderTarget(n,1,i),e.render(t,o),e.setRenderTarget(n,2,i),e.render(t,c),e.setRenderTarget(n,3,i),e.render(t,d),e.setRenderTarget(n,4,i),e.render(t,f),n.texture.generateMipmaps=T,e.setRenderTarget(n,5,i),e.render(t,g),e.setRenderTarget(b,v,y),e.xr.enabled=w,n.texture.needsPMREMUpdate=!0}}class Db extends gi{constructor(e=[],t=Ju,n,i,a,o,c,d,f,g){super(e,t,n,i,a,o,c,d,f,g),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class k7 extends Zc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new Db(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Wf(5,5,5),a=new Xl({name:"CubemapFromEquirect",uniforms:Jp(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:xa,blending:qu});a.uniforms.tEquirect.value=t;const o=new Li(i,a),c=t.minFilter;return t.minFilter===Vc&&(t.minFilter=Fi),new B7(1,10,this).update(e,o),t.minFilter=c,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,n=!0,i=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(a)}}class Dp extends nr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const nH={type:"move"};class a1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Dp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Dp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ve,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ve),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Dp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ve,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ve),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,a=null,o=null;const c=this._targetRay,d=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){o=!0;for(const T of e.hand.values()){const N=t.getJointPose(T,n),_=this._getHandJoint(f,T);N!==null&&(_.matrix.fromArray(N.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=N.radius),_.visible=N!==null}const g=f.joints["index-finger-tip"],b=f.joints["thumb-tip"],v=g.position.distanceTo(b.position),y=.02,w=.005;f.inputState.pinching&&v>y+w?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&v<=y-w&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),a!==null&&(d.matrix.fromArray(a.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,a.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(a.linearVelocity)):d.hasLinearVelocity=!1,a.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(a.angularVelocity)):d.hasAngularVelocity=!1));c!==null&&(i=t.getPose(e.targetRaySpace,n),i===null&&a!==null&&(i=a),i!==null&&(c.matrix.fromArray(i.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,i.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(i.linearVelocity)):c.hasLinearVelocity=!1,i.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(i.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(nH)))}return c!==null&&(c.visible=i!==null),d!==null&&(d.visible=a!==null),f!==null&&(f.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Dp;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Uy{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ot(e),this.density=t}clone(){return new Uy(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Iy{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Ot(e),this.near=t,this.far=n}clone(){return new Iy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class g3 extends nr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new _o,this.environmentIntensity=1,this.environmentRotation=new _o,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class By{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=db,this.updateRanges=[],this.version=0,this.uuid=yo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=yo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=yo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const fa=new ve;class Bf{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)fa.fromBufferAttribute(this,t),fa.applyMatrix4(e),this.setXYZ(t,fa.x,fa.y,fa.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)fa.fromBufferAttribute(this,t),fa.applyNormalMatrix(e),this.setXYZ(t,fa.x,fa.y,fa.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)fa.fromBufferAttribute(this,t),fa.transformDirection(e),this.setXYZ(t,fa.x,fa.y,fa.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=ga(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Rn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Rn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ga(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ga(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ga(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ga(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array),i=Rn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array),i=Rn(i,this.array),a=Rn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new jr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Bf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class b3 extends Xs{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ot(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let cp;const fg=new ve,up=new ve,dp=new ve,hp=new dt,mg=new dt,H7=new xn,yv=new ve,pg=new ve,_v=new ve,uj=new dt,G2=new dt,dj=new dt;class V7 extends nr{constructor(e=new b3){if(super(),this.isSprite=!0,this.type="Sprite",cp===void 0){cp=new Dn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new By(t,5);cp.setIndex([0,1,2,0,2,3]),cp.setAttribute("position",new Bf(n,3,0,!1)),cp.setAttribute("uv",new Bf(n,2,3,!1))}this.geometry=cp,this.material=e,this.center=new dt(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),up.setFromMatrixScale(this.matrixWorld),H7.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),dp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&up.multiplyScalar(-dp.z);const n=this.material.rotation;let i,a;n!==0&&(a=Math.cos(n),i=Math.sin(n));const o=this.center;Sv(yv.set(-.5,-.5,0),dp,o,up,i,a),Sv(pg.set(.5,-.5,0),dp,o,up,i,a),Sv(_v.set(.5,.5,0),dp,o,up,i,a),uj.set(0,0),G2.set(1,0),dj.set(1,1);let c=e.ray.intersectTriangle(yv,pg,_v,!1,fg);if(c===null&&(Sv(pg.set(-.5,.5,0),dp,o,up,i,a),G2.set(0,1),c=e.ray.intersectTriangle(yv,_v,pg,!1,fg),c===null))return;const d=e.ray.origin.distanceTo(fg);d<e.near||d>e.far||t.push({distance:d,point:fg.clone(),uv:Ba.getInterpolation(fg,yv,pg,_v,uj,G2,dj,new dt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Sv(r,e,t,n,i,a){hp.subVectors(r,t).addScalar(.5).multiply(n),i!==void 0?(mg.x=a*hp.x-i*hp.y,mg.y=i*hp.x+a*hp.y):mg.copy(hp),r.copy(e),r.x+=mg.x,r.y+=mg.y,r.applyMatrix4(H7)}const wv=new ve,hj=new ve;class F7 extends nr{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const a=t[n];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const i=this.levels;let a;for(a=0;a<i.length&&!(t<i[a].distance);a++);return i.splice(a,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const i=t.splice(n,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),e<a)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){wv.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(wv);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){wv.setFromMatrixPosition(e.matrixWorld),hj.setFromMatrixPosition(this.matrixWorld);const n=wv.distanceTo(hj)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),n>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,a=n.length;i<a;i++){const o=n[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const fj=new ve,mj=new ar,pj=new ar,rH=new ve,gj=new xn,Ev=new ve,W2=new js,bj=new xn,X2=new d0;class q7 extends Li{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Dw,this.bindMatrix=new xn,this.bindMatrixInverse=new xn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ws),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Ev),this.boundingBox.expandByPoint(Ev)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new js),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Ev),this.boundingSphere.expandByPoint(Ev)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),W2.copy(this.boundingSphere),W2.applyMatrix4(i),e.ray.intersectsSphere(W2)!==!1&&(bj.copy(i).invert(),X2.copy(e.ray).applyMatrix4(bj),!(this.boundingBox!==null&&X2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,X2)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ar,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Dw?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===v7?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;mj.fromBufferAttribute(i.attributes.skinIndex,e),pj.fromBufferAttribute(i.attributes.skinWeight,e),fj.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const o=pj.getComponent(a);if(o!==0){const c=mj.getComponent(a);gj.multiplyMatrices(n.bones[c].matrixWorld,n.boneInverses[c]),t.addScaledVector(rH.copy(fj).applyMatrix4(gj),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class x3 extends nr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Yc extends gi{constructor(e=null,t=1,n=1,i,a,o,c,d,f=Ms,g=Ms,b,v){super(null,o,c,d,f,g,i,a,b,v),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const xj=new xn,iH=new xn;class ky{constructor(e=[],t=[]){this.uuid=yo(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new xn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new xn;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const c=e[a]?e[a].matrixWorld:iH;xj.multiplyMatrices(c,t[a]),xj.toArray(n,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new ky(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Yc(t,e,e,Gs,Ha);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const a=e.bones[n];let o=t[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new x3),this.bones.push(o),this.boneInverses.push(new xn().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const o=t[i];e.bones.push(o.uuid);const c=n[i];e.boneInverses.push(c.toArray())}return e}}class Qp extends jr{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const fp=new xn,vj=new xn,Nv=[],yj=new Ws,sH=new xn,gg=new Li,bg=new js;class G7 extends Li{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Qp(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,sH)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ws),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,fp),yj.copy(e.boundingBox).applyMatrix4(fp),this.boundingBox.union(yj)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new js),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,fp),bg.copy(e.boundingSphere).applyMatrix4(fp),this.boundingSphere.union(bg)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,a=n.length+1,o=e*a+1;for(let c=0;c<n.length;c++)n[c]=i[o+c]}raycast(e,t){const n=this.matrixWorld,i=this.count;if(gg.geometry=this.geometry,gg.material=this.material,gg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),bg.copy(this.boundingSphere),bg.applyMatrix4(n),e.ray.intersectsSphere(bg)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,fp),vj.multiplyMatrices(n,fp),gg.matrixWorld=vj,gg.raycast(e,Nv);for(let o=0,c=Nv.length;o<c;o++){const d=Nv[o];d.instanceId=a,d.object=this,t.push(d)}Nv.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Qp(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,i=n.length+1;this.morphTexture===null&&(this.morphTexture=new Yc(new Float32Array(i*this.count),i,this.count,Cy,Ha));const a=this.morphTexture.source.data.data;let o=0;for(let f=0;f<n.length;f++)o+=n[f];const c=this.geometry.morphTargetsRelative?1:1-o,d=i*e;a[d]=c,a.set(n,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const Y2=new ve,aH=new ve,oH=new jn;class ah{constructor(e=new ve(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=Y2.subVectors(n,t).cross(aH.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(Y2),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(n,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||oH.getNormalMatrix(e),i=this.coplanarPoint(Y2).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const cf=new js,lH=new dt(.5,.5),Tv=new ve;class h0{constructor(e=new ah,t=new ah,n=new ah,i=new ah,a=new ah,o=new ah){this.planes=[e,t,n,i,a,o]}set(e,t,n,i,a,o){const c=this.planes;return c[0].copy(e),c[1].copy(t),c[2].copy(n),c[3].copy(i),c[4].copy(a),c[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=vo,n=!1){const i=this.planes,a=e.elements,o=a[0],c=a[1],d=a[2],f=a[3],g=a[4],b=a[5],v=a[6],y=a[7],w=a[8],T=a[9],N=a[10],_=a[11],j=a[12],C=a[13],A=a[14],P=a[15];if(i[0].setComponents(f-o,y-g,_-w,P-j).normalize(),i[1].setComponents(f+o,y+g,_+w,P+j).normalize(),i[2].setComponents(f+c,y+b,_+T,P+C).normalize(),i[3].setComponents(f-c,y-b,_-T,P-C).normalize(),n)i[4].setComponents(d,v,N,A).normalize(),i[5].setComponents(f-d,y-v,_-N,P-A).normalize();else if(i[4].setComponents(f-d,y-v,_-N,P-A).normalize(),t===vo)i[5].setComponents(f+d,y+v,_+N,P+A).normalize();else if(t===Yp)i[5].setComponents(d,v,N,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),cf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),cf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(cf)}intersectsSprite(e){cf.center.set(0,0,0);const t=lH.distanceTo(e.center);return cf.radius=.7071067811865476+t,cf.applyMatrix4(e.matrixWorld),this.intersectsSphere(cf)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(Tv.x=i.normal.x>0?e.max.x:e.min.x,Tv.y=i.normal.y>0?e.max.y:e.min.y,Tv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Tv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const zc=new xn,Uc=new h0;class Hy{constructor(){this.coordinateSystem=vo}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(zc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Uc.setFromProjectionMatrix(zc,i.coordinateSystem,i.reversedDepth),Uc.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(zc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Uc.setFromProjectionMatrix(zc,i.coordinateSystem,i.reversedDepth),Uc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(zc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Uc.setFromProjectionMatrix(zc,i.coordinateSystem,i.reversedDepth),Uc.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(zc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Uc.setFromProjectionMatrix(zc,i.coordinateSystem,i.reversedDepth),Uc.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(zc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Uc.setFromProjectionMatrix(zc,i.coordinateSystem,i.reversedDepth),Uc.containsPoint(e))return!0}return!1}clone(){return new Hy}}function Z2(r,e){return r-e}function cH(r,e){return r.z-e.z}function uH(r,e){return e.z-r.z}class dH{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,i){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const c=a[this.index];o.push(c),this.index++,c.start=e,c.count=t,c.z=n,c.index=i}reset(){this.list.length=0,this.index=0}}const za=new xn,hH=new Ot(1,1,1),_j=new h0,fH=new Hy,Mv=new Ws,uf=new js,xg=new ve,Sj=new ve,mH=new ve,K2=new dH,Vs=new Li,jv=[];function pH(r,e,t=0){const n=e.itemSize;if(r.isInterleavedBufferAttribute||r.array.constructor!==e.array.constructor){const i=r.count;for(let a=0;a<i;a++)for(let o=0;o<n;o++)e.setComponent(a+t,o,r.getComponent(a,o))}else e.array.set(r.array,t*n);e.needsUpdate=!0}function df(r,e){if(r.constructor!==e.constructor){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++)e[n]=r[n]}else{const t=Math.min(r.length,e.length);e.set(new r.constructor(r.buffer,0,t))}}class W7 extends Li{constructor(e,t,n=t*2,i){super(new Dn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Yc(t,e,e,Gs,Ha);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new Yc(t,e,e,Ob,Qu);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Yc(t,e,e,Gs,Ha);n.colorSpace=Qn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:c,itemSize:d,normalized:f}=o,g=new c.constructor(n*d),b=new jr(g,d,f);t.setAttribute(a,b)}if(e.getIndex()!==null){const a=n>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new jr(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const i=e.getAttribute(n),a=t.getAttribute(n);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ws);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,za),this.getBoundingBoxAt(a,Mv).applyMatrix4(za),e.union(Mv)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new js);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,za),this.getBoundingSphereAt(a,uf).applyMatrix4(za),e.union(uf)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Z2),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=n):(i=this._instanceInfo.length,this._instanceInfo.push(n));const a=this._matricesTexture;za.identity().toArray(a.image.data,i*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(hH.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=n===-1?o.count:n),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let d;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Z2),d=this._availableGeometryIds.shift(),a[d]=i):(d=this._geometryCount,this._geometryCount++,a.push(i)),this.setGeometryAt(d,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,d}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,i=n.getIndex()!==null,a=n.getIndex(),o=t.getIndex(),c=this._geometryInfo[e];if(i&&o.count>c.reservedIndexCount||t.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=c.vertexStart,f=c.reservedVertexCount;c.vertexCount=t.getAttribute("position").count;for(const g in n.attributes){const b=t.getAttribute(g),v=n.getAttribute(g);pH(b,v,d);const y=b.itemSize;for(let w=b.count,T=f;w<T;w++){const N=d+w;for(let _=0;_<y;_++)v.setComponent(N,_,0)}v.needsUpdate=!0,v.addUpdateRange(d*y,f*y)}if(i){const g=c.indexStart,b=c.reservedIndexCount;c.indexCount=t.getIndex().count;for(let v=0;v<o.count;v++)a.setX(g+v,d+o.getX(v));for(let v=o.count,y=b;v<y;v++)a.setX(g+v,d);a.needsUpdate=!0,a.addUpdateRange(g,c.reservedIndexCount)}return c.start=i?c.indexStart:c.vertexStart,c.count=i?c.indexCount:c.vertexCount,c.boundingBox=null,t.boundingBox!==null&&(c.boundingBox=t.boundingBox.clone()),c.boundingSphere=null,t.boundingSphere!==null&&(c.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let i=0,a=n.length;i<a;i++)n[i].active&&n[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,i=n.map((o,c)=>c).sort((o,c)=>n[o].vertexStart-n[c].vertexStart),a=this.geometry;for(let o=0,c=n.length;o<c;o++){const d=i[o],f=n[d];if(f.active!==!1){if(a.index!==null){if(f.indexStart!==t){const{indexStart:g,vertexStart:b,reservedIndexCount:v}=f,y=a.index,w=y.array,T=e-b;for(let N=g;N<g+v;N++)w[N]=w[N]+T;y.array.copyWithin(t,g,g+v),y.addUpdateRange(t,v),f.indexStart=t}t+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:g,reservedVertexCount:b}=f,v=a.attributes;for(const y in v){const w=v[y],{array:T,itemSize:N}=w;T.copyWithin(e*N,g*N,(g+b)*N),w.addUpdateRange(e*N,b*N)}f.vertexStart=e}e+=f.reservedVertexCount,f.start=a.index?f.indexStart:f.vertexStart,this._nextIndexStart=a.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const a=new Ws,o=n.index,c=n.attributes.position;for(let d=i.start,f=i.start+i.count;d<f;d++){let g=d;o&&(g=o.getX(g)),a.expandByPoint(xg.fromBufferAttribute(c,g))}i.boundingBox=a}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const a=new js;this.getBoundingBoxAt(e,Mv),Mv.getCenter(a.center);const o=n.index,c=n.attributes.position;let d=0;for(let f=i.start,g=i.start+i.count;f<g;f++){let b=f;o&&(b=o.getX(b)),xg.fromBufferAttribute(c,b),d=Math.max(d,a.center.distanceToSquared(xg))}a.radius=Math.sqrt(d),i.boundingSphere=a}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(Z2);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),a=new Int32Array(e);df(this._multiDrawCounts,i),df(this._multiDrawStarts,a),this._multiDrawCounts=i,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,c=this._matricesTexture,d=this._colorsTexture;o.dispose(),this._initIndirectTexture(),df(o.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),df(c.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),df(d.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(c=>c.active);if(Math.max(...n.map(c=>c.vertexStart+c.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(d=>d.indexStart+d.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Dn,this._initializeGeometry(a));const o=this.geometry;a.index&&df(a.index.array,o.index.array);for(const c in a.attributes)df(a.attributes[c].array,o.attributes[c].array)}raycast(e,t){const n=this._instanceInfo,i=this._geometryInfo,a=this.matrixWorld,o=this.geometry;Vs.material=this.material,Vs.geometry.index=o.index,Vs.geometry.attributes=o.attributes,Vs.geometry.boundingBox===null&&(Vs.geometry.boundingBox=new Ws),Vs.geometry.boundingSphere===null&&(Vs.geometry.boundingSphere=new js);for(let c=0,d=n.length;c<d;c++){if(!n[c].visible||!n[c].active)continue;const f=n[c].geometryIndex,g=i[f];Vs.geometry.setDrawRange(g.start,g.count),this.getMatrixAt(c,Vs.matrixWorld).premultiply(a),this.getBoundingBoxAt(f,Vs.geometry.boundingBox),this.getBoundingSphereAt(f,Vs.geometry.boundingSphere),Vs.raycast(e,jv);for(let b=0,v=jv.length;b<v;b++){const y=jv[b];y.object=this,y.batchId=c,t.push(y)}jv.length=0}Vs.material=null,Vs.geometry.index=null,Vs.geometry.attributes={},Vs.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),c=o===null?1:o.array.BYTES_PER_ELEMENT,d=this._instanceInfo,f=this._multiDrawStarts,g=this._multiDrawCounts,b=this._geometryInfo,v=this.perObjectFrustumCulled,y=this._indirectTexture,w=y.image.data,T=n.isArrayCamera?fH:_j;v&&!n.isArrayCamera&&(za.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),_j.setFromProjectionMatrix(za,n.coordinateSystem,n.reversedDepth));let N=0;if(this.sortObjects){za.copy(this.matrixWorld).invert(),xg.setFromMatrixPosition(n.matrixWorld).applyMatrix4(za),Sj.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(za);for(let C=0,A=d.length;C<A;C++)if(d[C].visible&&d[C].active){const P=d[C].geometryIndex;this.getMatrixAt(C,za),this.getBoundingSphereAt(P,uf).applyMatrix4(za);let U=!1;if(v&&(U=!T.intersectsSphere(uf,n)),!U){const B=b[P],F=mH.subVectors(uf.center,xg).dot(Sj);K2.push(B.start,B.count,F,C)}}const _=K2.list,j=this.customSort;j===null?_.sort(a.transparent?uH:cH):j.call(this,_,n);for(let C=0,A=_.length;C<A;C++){const P=_[C];f[N]=P.start*c,g[N]=P.count,w[N]=P.index,N++}K2.reset()}else for(let _=0,j=d.length;_<j;_++)if(d[_].visible&&d[_].active){const C=d[_].geometryIndex;let A=!1;if(v&&(this.getMatrixAt(_,za),this.getBoundingSphereAt(C,uf).applyMatrix4(za),A=!T.intersectsSphere(uf,n)),!A){const P=b[C];f[N]=P.start*c,g[N]=P.count,w[N]=_,N++}}y.needsUpdate=!0,this._multiDrawCount=N,this._visibilityChanged=!1}onBeforeShadow(e,t,n,i,a,o){this.onBeforeRender(e,null,i,a,o)}}class va extends Xs{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ot(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const ry=new ve,iy=new ve,wj=new xn,vg=new d0,Av=new js,J2=new ve,Ej=new ve;class gh extends nr{constructor(e=new Dn,t=new va){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,a=t.count;i<a;i++)ry.fromBufferAttribute(t,i-1),iy.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=ry.distanceTo(iy);e.setAttribute("lineDistance",new Ft(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Av.copy(n.boundingSphere),Av.applyMatrix4(i),Av.radius+=a,e.ray.intersectsSphere(Av)===!1)return;wj.copy(i).invert(),vg.copy(e.ray).applyMatrix4(wj);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,f=this.isLineSegments?2:1,g=n.index,v=n.attributes.position;if(g!==null){const y=Math.max(0,o.start),w=Math.min(g.count,o.start+o.count);for(let T=y,N=w-1;T<N;T+=f){const _=g.getX(T),j=g.getX(T+1),C=Cv(this,e,vg,d,_,j,T);C&&t.push(C)}if(this.isLineLoop){const T=g.getX(w-1),N=g.getX(y),_=Cv(this,e,vg,d,T,N,w-1);_&&t.push(_)}}else{const y=Math.max(0,o.start),w=Math.min(v.count,o.start+o.count);for(let T=y,N=w-1;T<N;T+=f){const _=Cv(this,e,vg,d,T,T+1,T);_&&t.push(_)}if(this.isLineLoop){const T=Cv(this,e,vg,d,w-1,y,w-1);T&&t.push(T)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const c=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}}function Cv(r,e,t,n,i,a,o){const c=r.geometry.attributes.position;if(ry.fromBufferAttribute(c,i),iy.fromBufferAttribute(c,a),t.distanceSqToSegment(ry,iy,J2,Ej)>n)return;J2.applyMatrix4(r.matrixWorld);const f=e.ray.origin.distanceTo(J2);if(!(f<e.near||f>e.far))return{distance:f,point:Ej.clone().applyMatrix4(r.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:r}}const Nj=new ve,Tj=new ve;class Jc extends gh{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,a=t.count;i<a;i+=2)Nj.fromBufferAttribute(t,i),Tj.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+Nj.distanceTo(Tj);e.setAttribute("lineDistance",new Ft(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class X7 extends gh{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class v3 extends Xs{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ot(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Mj=new xn,zw=new d0,Rv=new js,Ov=new ve;class Y7 extends nr{constructor(e=new Dn,t=new v3){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Rv.copy(n.boundingSphere),Rv.applyMatrix4(i),Rv.radius+=a,e.ray.intersectsSphere(Rv)===!1)return;Mj.copy(i).invert(),zw.copy(e.ray).applyMatrix4(Mj);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,f=n.index,b=n.attributes.position;if(f!==null){const v=Math.max(0,o.start),y=Math.min(f.count,o.start+o.count);for(let w=v,T=y;w<T;w++){const N=f.getX(w);Ov.fromBufferAttribute(b,N),jj(Ov,N,d,i,e,t,this)}}else{const v=Math.max(0,o.start),y=Math.min(b.count,o.start+o.count);for(let w=v,T=y;w<T;w++)Ov.fromBufferAttribute(b,w),jj(Ov,w,d,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const c=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}}function jj(r,e,t,n,i,a,o){const c=zw.distanceSqToPoint(r);if(c<t){const d=new ve;zw.closestPointToPoint(r,d),d.applyMatrix4(n);const f=i.ray.origin.distanceTo(d);if(f<i.near||f>i.far)return;a.push({distance:f,distanceToRay:Math.sqrt(c),point:d,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class Z7 extends gi{constructor(e,t,n,i,a=Fi,o=Fi,c,d,f){super(e,t,n,i,a,o,c,d,f),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const g=this;function b(){g.needsUpdate=!0,g._requestVideoFrameCallbackId=e.requestVideoFrameCallback(b)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(b))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class gH extends Z7{constructor(e,t,n,i,a,o,c,d){super({},e,t,n,i,a,o,c,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class bH extends gi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Ms,this.minFilter=Ms,this.generateMipmaps=!1,this.needsUpdate=!0}}class Vy extends gi{constructor(e,t,n,i,a,o,c,d,f,g,b,v){super(null,o,c,d,f,g,i,a,b,v),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class xH extends Vy{constructor(e,t,n,i,a,o){super(e,t,n,a,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=nl,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class vH extends Vy{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Ju),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class yH extends gi{constructor(e,t,n,i,a,o,c,d,f){super(e,t,n,i,a,o,c,d,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class y3 extends gi{constructor(e,t,n=Qu,i,a,o,c=Ms,d=Ms,f,g=Wp,b=1){if(g!==Wp&&g!==Xp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const v={width:e,height:t,depth:b};super(v,i,a,o,c,d,g,n,f),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new uh(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Fy extends Dn{constructor(e=1,t=1,n=4,i=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:i,heightSegments:a},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),i=Math.max(3,Math.floor(i)),a=Math.max(1,Math.floor(a));const o=[],c=[],d=[],f=[],g=t/2,b=Math.PI/2*e,v=t,y=2*b+v,w=n*2+a,T=i+1,N=new ve,_=new ve;for(let j=0;j<=w;j++){let C=0,A=0,P=0,U=0;if(j<=n){const k=j/n,z=k*Math.PI/2;A=-g-e*Math.cos(z),P=e*Math.sin(z),U=-e*Math.cos(z),C=k*b}else if(j<=n+a){const k=(j-n)/a;A=-g+k*t,P=e,U=0,C=b+k*v}else{const k=(j-n-a)/n,z=k*Math.PI/2;A=g+e*Math.sin(z),P=e*Math.cos(z),U=e*Math.sin(z),C=b+v+k*b}const B=Math.max(0,Math.min(1,C/y));let F=0;j===0?F=.5/i:j===w&&(F=-.5/i);for(let k=0;k<=i;k++){const z=k/i,V=z*Math.PI*2,X=Math.sin(V),J=Math.cos(V);_.x=-P*J,_.y=A,_.z=P*X,c.push(_.x,_.y,_.z),N.set(-P*J,U,P*X),N.normalize(),d.push(N.x,N.y,N.z),f.push(z+F,B)}if(j>0){const k=(j-1)*T;for(let z=0;z<i;z++){const V=k+z,X=k+z+1,J=j*T+z,ee=j*T+z+1;o.push(V,X,J),o.push(X,ee,J)}}}this.setIndex(o),this.setAttribute("position",new Ft(c,3)),this.setAttribute("normal",new Ft(d,3)),this.setAttribute("uv",new Ft(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fy(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class qy extends Dn{constructor(e=1,t=32,n=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const a=[],o=[],c=[],d=[],f=new ve,g=new dt;o.push(0,0,0),c.push(0,0,1),d.push(.5,.5);for(let b=0,v=3;b<=t;b++,v+=3){const y=n+b/t*i;f.x=e*Math.cos(y),f.y=e*Math.sin(y),o.push(f.x,f.y,f.z),c.push(0,0,1),g.x=(o[v]/e+1)/2,g.y=(o[v+1]/e+1)/2,d.push(g.x,g.y)}for(let b=1;b<=t;b++)a.push(b,b+1,0);this.setIndex(a),this.setAttribute("position",new Ft(o,3)),this.setAttribute("normal",new Ft(c,3)),this.setAttribute("uv",new Ft(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qy(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Pb extends Dn{constructor(e=1,t=1,n=1,i=32,a=1,o=!1,c=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:c,thetaLength:d};const f=this;i=Math.floor(i),a=Math.floor(a);const g=[],b=[],v=[],y=[];let w=0;const T=[],N=n/2;let _=0;j(),o===!1&&(e>0&&C(!0),t>0&&C(!1)),this.setIndex(g),this.setAttribute("position",new Ft(b,3)),this.setAttribute("normal",new Ft(v,3)),this.setAttribute("uv",new Ft(y,2));function j(){const A=new ve,P=new ve;let U=0;const B=(t-e)/n;for(let F=0;F<=a;F++){const k=[],z=F/a,V=z*(t-e)+e;for(let X=0;X<=i;X++){const J=X/i,ee=J*d+c,te=Math.sin(ee),W=Math.cos(ee);P.x=V*te,P.y=-z*n+N,P.z=V*W,b.push(P.x,P.y,P.z),A.set(te,B,W).normalize(),v.push(A.x,A.y,A.z),y.push(J,1-z),k.push(w++)}T.push(k)}for(let F=0;F<i;F++)for(let k=0;k<a;k++){const z=T[k][F],V=T[k+1][F],X=T[k+1][F+1],J=T[k][F+1];(e>0||k!==0)&&(g.push(z,V,J),U+=3),(t>0||k!==a-1)&&(g.push(V,X,J),U+=3)}f.addGroup(_,U,0),_+=U}function C(A){const P=w,U=new dt,B=new ve;let F=0;const k=A===!0?e:t,z=A===!0?1:-1;for(let X=1;X<=i;X++)b.push(0,N*z,0),v.push(0,z,0),y.push(.5,.5),w++;const V=w;for(let X=0;X<=i;X++){const ee=X/i*d+c,te=Math.cos(ee),W=Math.sin(ee);B.x=k*W,B.y=N*z,B.z=k*te,b.push(B.x,B.y,B.z),v.push(0,z,0),U.x=te*.5+.5,U.y=W*.5*z+.5,y.push(U.x,U.y),w++}for(let X=0;X<i;X++){const J=P+X,ee=V+X;A===!0?g.push(ee,ee+1,J):g.push(ee+1,ee,J),F+=3}f.addGroup(_,F,A===!0?1:2),_+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pb(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Lb extends Pb{constructor(e=1,t=1,n=32,i=1,a=!1,o=0,c=Math.PI*2){super(0,e,t,n,i,a,o,c),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:c}}static fromJSON(e){return new Lb(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class _h extends Dn{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const a=[],o=[];c(i),f(n),g(),this.setAttribute("position",new Ft(a,3)),this.setAttribute("normal",new Ft(a.slice(),3)),this.setAttribute("uv",new Ft(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function c(j){const C=new ve,A=new ve,P=new ve;for(let U=0;U<t.length;U+=3)y(t[U+0],C),y(t[U+1],A),y(t[U+2],P),d(C,A,P,j)}function d(j,C,A,P){const U=P+1,B=[];for(let F=0;F<=U;F++){B[F]=[];const k=j.clone().lerp(A,F/U),z=C.clone().lerp(A,F/U),V=U-F;for(let X=0;X<=V;X++)X===0&&F===U?B[F][X]=k:B[F][X]=k.clone().lerp(z,X/V)}for(let F=0;F<U;F++)for(let k=0;k<2*(U-F)-1;k++){const z=Math.floor(k/2);k%2===0?(v(B[F][z+1]),v(B[F+1][z]),v(B[F][z])):(v(B[F][z+1]),v(B[F+1][z+1]),v(B[F+1][z]))}}function f(j){const C=new ve;for(let A=0;A<a.length;A+=3)C.x=a[A+0],C.y=a[A+1],C.z=a[A+2],C.normalize().multiplyScalar(j),a[A+0]=C.x,a[A+1]=C.y,a[A+2]=C.z}function g(){const j=new ve;for(let C=0;C<a.length;C+=3){j.x=a[C+0],j.y=a[C+1],j.z=a[C+2];const A=N(j)/2/Math.PI+.5,P=_(j)/Math.PI+.5;o.push(A,1-P)}w(),b()}function b(){for(let j=0;j<o.length;j+=6){const C=o[j+0],A=o[j+2],P=o[j+4],U=Math.max(C,A,P),B=Math.min(C,A,P);U>.9&&B<.1&&(C<.2&&(o[j+0]+=1),A<.2&&(o[j+2]+=1),P<.2&&(o[j+4]+=1))}}function v(j){a.push(j.x,j.y,j.z)}function y(j,C){const A=j*3;C.x=e[A+0],C.y=e[A+1],C.z=e[A+2]}function w(){const j=new ve,C=new ve,A=new ve,P=new ve,U=new dt,B=new dt,F=new dt;for(let k=0,z=0;k<a.length;k+=9,z+=6){j.set(a[k+0],a[k+1],a[k+2]),C.set(a[k+3],a[k+4],a[k+5]),A.set(a[k+6],a[k+7],a[k+8]),U.set(o[z+0],o[z+1]),B.set(o[z+2],o[z+3]),F.set(o[z+4],o[z+5]),P.copy(j).add(C).add(A).divideScalar(3);const V=N(P);T(U,z+0,j,V),T(B,z+2,C,V),T(F,z+4,A,V)}}function T(j,C,A,P){P<0&&j.x===1&&(o[C]=j.x-1),A.x===0&&A.z===0&&(o[C]=P/2/Math.PI+.5)}function N(j){return Math.atan2(j.z,-j.x)}function _(j){return Math.atan2(-j.y,Math.sqrt(j.x*j.x+j.z*j.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _h(e.vertices,e.indices,e.radius,e.details)}}class Gy extends _h{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gy(e.radius,e.detail)}}const Dv=new ve,Pv=new ve,Q2=new ve,Lv=new Ba;class K7 extends Dn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(zf*t),o=e.getIndex(),c=e.getAttribute("position"),d=o?o.count:c.count,f=[0,0,0],g=["a","b","c"],b=new Array(3),v={},y=[];for(let w=0;w<d;w+=3){o?(f[0]=o.getX(w),f[1]=o.getX(w+1),f[2]=o.getX(w+2)):(f[0]=w,f[1]=w+1,f[2]=w+2);const{a:T,b:N,c:_}=Lv;if(T.fromBufferAttribute(c,f[0]),N.fromBufferAttribute(c,f[1]),_.fromBufferAttribute(c,f[2]),Lv.getNormal(Q2),b[0]=`${Math.round(T.x*i)},${Math.round(T.y*i)},${Math.round(T.z*i)}`,b[1]=`${Math.round(N.x*i)},${Math.round(N.y*i)},${Math.round(N.z*i)}`,b[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(b[0]===b[1]||b[1]===b[2]||b[2]===b[0]))for(let j=0;j<3;j++){const C=(j+1)%3,A=b[j],P=b[C],U=Lv[g[j]],B=Lv[g[C]],F=`${A}_${P}`,k=`${P}_${A}`;k in v&&v[k]?(Q2.dot(v[k].normal)<=a&&(y.push(U.x,U.y,U.z),y.push(B.x,B.y,B.z)),v[k]=null):F in v||(v[F]={index0:f[j],index1:f[C],normal:Q2.clone()})}}for(const w in v)if(v[w]){const{index0:T,index1:N}=v[w];Dv.fromBufferAttribute(c,T),Pv.fromBufferAttribute(c,N),y.push(Dv.x,Dv.y,Dv.z),y.push(Pv.x,Pv.y,Pv.z)}this.setAttribute("position",new Ft(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Kl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),a+=n.distanceTo(i),t.push(a),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let i=0;const a=n.length;let o;t?o=t:o=e*n[a-1];let c=0,d=a-1,f;for(;c<=d;)if(i=Math.floor(c+(d-c)/2),f=n[i]-o,f<0)c=i+1;else if(f>0)d=i-1;else{d=i;break}if(i=d,n[i]===o)return i/(a-1);const g=n[i],v=n[i+1]-g,y=(o-g)/v;return(i+y)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const o=this.getPoint(i),c=this.getPoint(a),d=t||(o.isVector2?new dt:new ve);return d.copy(c).sub(o).normalize(),d}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new ve,i=[],a=[],o=[],c=new ve,d=new xn;for(let y=0;y<=e;y++){const w=y/e;i[y]=this.getTangentAt(w,new ve)}a[0]=new ve,o[0]=new ve;let f=Number.MAX_VALUE;const g=Math.abs(i[0].x),b=Math.abs(i[0].y),v=Math.abs(i[0].z);g<=f&&(f=g,n.set(1,0,0)),b<=f&&(f=b,n.set(0,1,0)),v<=f&&n.set(0,0,1),c.crossVectors(i[0],n).normalize(),a[0].crossVectors(i[0],c),o[0].crossVectors(i[0],a[0]);for(let y=1;y<=e;y++){if(a[y]=a[y-1].clone(),o[y]=o[y-1].clone(),c.crossVectors(i[y-1],i[y]),c.length()>Number.EPSILON){c.normalize();const w=Math.acos(pn(i[y-1].dot(i[y]),-1,1));a[y].applyMatrix4(d.makeRotationAxis(c,w))}o[y].crossVectors(i[y],a[y])}if(t===!0){let y=Math.acos(pn(a[0].dot(a[e]),-1,1));y/=e,i[0].dot(c.crossVectors(a[0],a[e]))>0&&(y=-y);for(let w=1;w<=e;w++)a[w].applyMatrix4(d.makeRotationAxis(i[w],y*w)),o[w].crossVectors(i[w],a[w])}return{tangents:i,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Wy extends Kl{constructor(e=0,t=0,n=1,i=1,a=0,o=Math.PI*2,c=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=c,this.aRotation=d}getPoint(e,t=new dt){const n=t,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(o?a=0:a=i),this.aClockwise===!0&&!o&&(a===i?a=-i:a=a-i);const c=this.aStartAngle+e*a;let d=this.aX+this.xRadius*Math.cos(c),f=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const g=Math.cos(this.aRotation),b=Math.sin(this.aRotation),v=d-this.aX,y=f-this.aY;d=v*g-y*b+this.aX,f=v*b+y*g+this.aY}return n.set(d,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class J7 extends Wy{constructor(e,t,n,i,a,o){super(e,t,n,n,i,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function _3(){let r=0,e=0,t=0,n=0;function i(a,o,c,d){r=a,e=c,t=-3*a+3*o-2*c-d,n=2*a-2*o+c+d}return{initCatmullRom:function(a,o,c,d,f){i(o,c,f*(c-a),f*(d-o))},initNonuniformCatmullRom:function(a,o,c,d,f,g,b){let v=(o-a)/f-(c-a)/(f+g)+(c-o)/g,y=(c-o)/g-(d-o)/(g+b)+(d-c)/b;v*=g,y*=g,i(o,c,v,y)},calc:function(a){const o=a*a,c=o*a;return r+e*a+t*o+n*c}}}const zv=new ve,$2=new _3,eS=new _3,tS=new _3;class Q7 extends Kl{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new ve){const n=t,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e;let c=Math.floor(o),d=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/a)+1)*a:d===0&&c===a-1&&(c=a-2,d=1);let f,g;this.closed||c>0?f=i[(c-1)%a]:(zv.subVectors(i[0],i[1]).add(i[0]),f=zv);const b=i[c%a],v=i[(c+1)%a];if(this.closed||c+2<a?g=i[(c+2)%a]:(zv.subVectors(i[a-1],i[a-2]).add(i[a-1]),g=zv),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let w=Math.pow(f.distanceToSquared(b),y),T=Math.pow(b.distanceToSquared(v),y),N=Math.pow(v.distanceToSquared(g),y);T<1e-4&&(T=1),w<1e-4&&(w=T),N<1e-4&&(N=T),$2.initNonuniformCatmullRom(f.x,b.x,v.x,g.x,w,T,N),eS.initNonuniformCatmullRom(f.y,b.y,v.y,g.y,w,T,N),tS.initNonuniformCatmullRom(f.z,b.z,v.z,g.z,w,T,N)}else this.curveType==="catmullrom"&&($2.initCatmullRom(f.x,b.x,v.x,g.x,this.tension),eS.initCatmullRom(f.y,b.y,v.y,g.y,this.tension),tS.initCatmullRom(f.z,b.z,v.z,g.z,this.tension));return n.set($2.calc(d),eS.calc(d),tS.calc(d)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new ve().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Aj(r,e,t,n,i){const a=(n-e)*.5,o=(i-t)*.5,c=r*r,d=r*c;return(2*t-2*n+a+o)*d+(-3*t+3*n-2*a-o)*c+a*r+t}function _H(r,e){const t=1-r;return t*t*e}function SH(r,e){return 2*(1-r)*r*e}function wH(r,e){return r*r*e}function Gg(r,e,t,n){return _H(r,e)+SH(r,t)+wH(r,n)}function EH(r,e){const t=1-r;return t*t*t*e}function NH(r,e){const t=1-r;return 3*t*t*r*e}function TH(r,e){return 3*(1-r)*r*r*e}function MH(r,e){return r*r*r*e}function Wg(r,e,t,n,i){return EH(r,e)+NH(r,t)+TH(r,n)+MH(r,i)}class S3 extends Kl{constructor(e=new dt,t=new dt,n=new dt,i=new dt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new dt){const n=t,i=this.v0,a=this.v1,o=this.v2,c=this.v3;return n.set(Wg(e,i.x,a.x,o.x,c.x),Wg(e,i.y,a.y,o.y,c.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class $7 extends Kl{constructor(e=new ve,t=new ve,n=new ve,i=new ve){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new ve){const n=t,i=this.v0,a=this.v1,o=this.v2,c=this.v3;return n.set(Wg(e,i.x,a.x,o.x,c.x),Wg(e,i.y,a.y,o.y,c.y),Wg(e,i.z,a.z,o.z,c.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class w3 extends Kl{constructor(e=new dt,t=new dt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new dt){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new dt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class eR extends Kl{constructor(e=new ve,t=new ve){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ve){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ve){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class E3 extends Kl{constructor(e=new dt,t=new dt,n=new dt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new dt){const n=t,i=this.v0,a=this.v1,o=this.v2;return n.set(Gg(e,i.x,a.x,o.x),Gg(e,i.y,a.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class N3 extends Kl{constructor(e=new ve,t=new ve,n=new ve){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ve){const n=t,i=this.v0,a=this.v1,o=this.v2;return n.set(Gg(e,i.x,a.x,o.x),Gg(e,i.y,a.y,o.y),Gg(e,i.z,a.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class T3 extends Kl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new dt){const n=t,i=this.points,a=(i.length-1)*e,o=Math.floor(a),c=a-o,d=i[o===0?o:o-1],f=i[o],g=i[o>i.length-2?i.length-1:o+1],b=i[o>i.length-3?i.length-1:o+2];return n.set(Aj(c,d.x,f.x,g.x,b.x),Aj(c,d.y,f.y,g.y,b.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new dt().fromArray(i))}return this}}var sy=Object.freeze({__proto__:null,ArcCurve:J7,CatmullRomCurve3:Q7,CubicBezierCurve:S3,CubicBezierCurve3:$7,EllipseCurve:Wy,LineCurve:w3,LineCurve3:eR,QuadraticBezierCurve:E3,QuadraticBezierCurve3:N3,SplineCurve:T3});class tR extends Kl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new sy[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=n){const o=i[a]-n,c=this.curves[a],d=c.getLength(),f=d===0?0:1-o/d;return c.getPointAt(f,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,a=this.curves;i<a.length;i++){const o=a[i],c=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,d=o.getPoints(c);for(let f=0;f<d.length;f++){const g=d[f];n&&n.equals(g)||(t.push(g),n=g)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new sy[i.type]().fromJSON(i))}return this}}class ay extends tR{constructor(e){super(),this.type="Path",this.currentPoint=new dt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new w3(this.currentPoint.clone(),new dt(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const a=new E3(this.currentPoint.clone(),new dt(e,t),new dt(n,i));return this.curves.push(a),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,a,o){const c=new S3(this.currentPoint.clone(),new dt(e,t),new dt(n,i),new dt(a,o));return this.curves.push(c),this.currentPoint.set(a,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new T3(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,a,o){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+c,t+d,n,i,a,o),this}absarc(e,t,n,i,a,o){return this.absellipse(e,t,n,n,i,a,o),this}ellipse(e,t,n,i,a,o,c,d){const f=this.currentPoint.x,g=this.currentPoint.y;return this.absellipse(e+f,t+g,n,i,a,o,c,d),this}absellipse(e,t,n,i,a,o,c,d){const f=new Wy(e,t,n,i,a,o,c,d);if(this.curves.length>0){const b=f.getPoint(0);b.equals(this.currentPoint)||this.lineTo(b.x,b.y)}this.curves.push(f);const g=f.getPoint(1);return this.currentPoint.copy(g),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Uf extends ay{constructor(e){super(e),this.uuid=yo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new ay().fromJSON(i))}return this}}function jH(r,e,t=2){const n=e&&e.length,i=n?e[0]*t:r.length;let a=nR(r,0,i,t,!0);const o=[];if(!a||a.next===a.prev)return o;let c,d,f;if(n&&(a=DH(r,e,a,t)),r.length>80*t){c=1/0,d=1/0;let g=-1/0,b=-1/0;for(let v=t;v<i;v+=t){const y=r[v],w=r[v+1];y<c&&(c=y),w<d&&(d=w),y>g&&(g=y),w>b&&(b=w)}f=Math.max(g-c,b-d),f=f!==0?32767/f:0}return fb(a,o,t,c,d,f,0),o}function nR(r,e,t,n,i){let a;if(i===qH(r,e,t,n)>0)for(let o=e;o<t;o+=n)a=Cj(o/n|0,r[o],r[o+1],a);else for(let o=t-n;o>=e;o-=n)a=Cj(o/n|0,r[o],r[o+1],a);return a&&$p(a,a.next)&&(pb(a),a=a.next),a}function kf(r,e){if(!r)return r;e||(e=r);let t=r,n;do if(n=!1,!t.steiner&&($p(t,t.next)||oi(t.prev,t,t.next)===0)){if(pb(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function fb(r,e,t,n,i,a,o){if(!r)return;!o&&a&&IH(r,n,i,a);let c=r;for(;r.prev!==r.next;){const d=r.prev,f=r.next;if(a?CH(r,n,i,a):AH(r)){e.push(d.i,r.i,f.i),pb(r),r=f.next,c=f.next;continue}if(r=f,r===c){o?o===1?(r=RH(kf(r),e),fb(r,e,t,n,i,a,2)):o===2&&OH(r,e,t,n,i,a):fb(kf(r),e,t,n,i,a,1);break}}}function AH(r){const e=r.prev,t=r,n=r.next;if(oi(e,t,n)>=0)return!1;const i=e.x,a=t.x,o=n.x,c=e.y,d=t.y,f=n.y,g=Math.min(i,a,o),b=Math.min(c,d,f),v=Math.max(i,a,o),y=Math.max(c,d,f);let w=n.next;for(;w!==e;){if(w.x>=g&&w.x<=v&&w.y>=b&&w.y<=y&&Tg(i,c,a,d,o,f,w.x,w.y)&&oi(w.prev,w,w.next)>=0)return!1;w=w.next}return!0}function CH(r,e,t,n){const i=r.prev,a=r,o=r.next;if(oi(i,a,o)>=0)return!1;const c=i.x,d=a.x,f=o.x,g=i.y,b=a.y,v=o.y,y=Math.min(c,d,f),w=Math.min(g,b,v),T=Math.max(c,d,f),N=Math.max(g,b,v),_=Uw(y,w,e,t,n),j=Uw(T,N,e,t,n);let C=r.prevZ,A=r.nextZ;for(;C&&C.z>=_&&A&&A.z<=j;){if(C.x>=y&&C.x<=T&&C.y>=w&&C.y<=N&&C!==i&&C!==o&&Tg(c,g,d,b,f,v,C.x,C.y)&&oi(C.prev,C,C.next)>=0||(C=C.prevZ,A.x>=y&&A.x<=T&&A.y>=w&&A.y<=N&&A!==i&&A!==o&&Tg(c,g,d,b,f,v,A.x,A.y)&&oi(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;C&&C.z>=_;){if(C.x>=y&&C.x<=T&&C.y>=w&&C.y<=N&&C!==i&&C!==o&&Tg(c,g,d,b,f,v,C.x,C.y)&&oi(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;A&&A.z<=j;){if(A.x>=y&&A.x<=T&&A.y>=w&&A.y<=N&&A!==i&&A!==o&&Tg(c,g,d,b,f,v,A.x,A.y)&&oi(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function RH(r,e){let t=r;do{const n=t.prev,i=t.next.next;!$p(n,i)&&iR(n,t,t.next,i)&&mb(n,i)&&mb(i,n)&&(e.push(n.i,t.i,i.i),pb(t),pb(t.next),t=r=i),t=t.next}while(t!==r);return kf(t)}function OH(r,e,t,n,i,a){let o=r;do{let c=o.next.next;for(;c!==o.prev;){if(o.i!==c.i&&HH(o,c)){let d=sR(o,c);o=kf(o,o.next),d=kf(d,d.next),fb(o,e,t,n,i,a,0),fb(d,e,t,n,i,a,0);return}c=c.next}o=o.next}while(o!==r)}function DH(r,e,t,n){const i=[];for(let a=0,o=e.length;a<o;a++){const c=e[a]*n,d=a<o-1?e[a+1]*n:r.length,f=nR(r,c,d,n,!1);f===f.next&&(f.steiner=!0),i.push(kH(f))}i.sort(PH);for(let a=0;a<i.length;a++)t=LH(i[a],t);return t}function PH(r,e){let t=r.x-e.x;if(t===0&&(t=r.y-e.y,t===0)){const n=(r.next.y-r.y)/(r.next.x-r.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=n-i}return t}function LH(r,e){const t=zH(r,e);if(!t)return e;const n=sR(t,r);return kf(n,n.next),kf(t,t.next)}function zH(r,e){let t=e;const n=r.x,i=r.y;let a=-1/0,o;if($p(r,t))return t;do{if($p(r,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const b=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(b<=n&&b>a&&(a=b,o=t.x<t.next.x?t:t.next,b===n))return o}t=t.next}while(t!==e);if(!o)return null;const c=o,d=o.x,f=o.y;let g=1/0;t=o;do{if(n>=t.x&&t.x>=d&&n!==t.x&&rR(i<f?n:a,i,d,f,i<f?a:n,i,t.x,t.y)){const b=Math.abs(i-t.y)/(n-t.x);mb(t,r)&&(b<g||b===g&&(t.x>o.x||t.x===o.x&&UH(o,t)))&&(o=t,g=b)}t=t.next}while(t!==c);return o}function UH(r,e){return oi(r.prev,r,e.prev)<0&&oi(e.next,r,r.next)<0}function IH(r,e,t,n){let i=r;do i.z===0&&(i.z=Uw(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,BH(i)}function BH(r){let e,t=1;do{let n=r,i;r=null;let a=null;for(e=0;n;){e++;let o=n,c=0;for(let f=0;f<t&&(c++,o=o.nextZ,!!o);f++);let d=t;for(;c>0||d>0&&o;)c!==0&&(d===0||!o||n.z<=o.z)?(i=n,n=n.nextZ,c--):(i=o,o=o.nextZ,d--),a?a.nextZ=i:r=i,i.prevZ=a,a=i;n=o}a.nextZ=null,t*=2}while(e>1);return r}function Uw(r,e,t,n,i){return r=(r-t)*i|0,e=(e-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function kH(r){let e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function rR(r,e,t,n,i,a,o,c){return(i-o)*(e-c)>=(r-o)*(a-c)&&(r-o)*(n-c)>=(t-o)*(e-c)&&(t-o)*(a-c)>=(i-o)*(n-c)}function Tg(r,e,t,n,i,a,o,c){return!(r===o&&e===c)&&rR(r,e,t,n,i,a,o,c)}function HH(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!VH(r,e)&&(mb(r,e)&&mb(e,r)&&FH(r,e)&&(oi(r.prev,r,e.prev)||oi(r,e.prev,e))||$p(r,e)&&oi(r.prev,r,r.next)>0&&oi(e.prev,e,e.next)>0)}function oi(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function $p(r,e){return r.x===e.x&&r.y===e.y}function iR(r,e,t,n){const i=Iv(oi(r,e,t)),a=Iv(oi(r,e,n)),o=Iv(oi(t,n,r)),c=Iv(oi(t,n,e));return!!(i!==a&&o!==c||i===0&&Uv(r,t,e)||a===0&&Uv(r,n,e)||o===0&&Uv(t,r,n)||c===0&&Uv(t,e,n))}function Uv(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function Iv(r){return r>0?1:r<0?-1:0}function VH(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&iR(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function mb(r,e){return oi(r.prev,r,r.next)<0?oi(r,e,r.next)>=0&&oi(r,r.prev,e)>=0:oi(r,e,r.prev)<0||oi(r,r.next,e)<0}function FH(r,e){let t=r,n=!1;const i=(r.x+e.x)/2,a=(r.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function sR(r,e){const t=Iw(r.i,r.x,r.y),n=Iw(e.i,e.x,e.y),i=r.next,a=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,a.next=n,n.prev=a,n}function Cj(r,e,t,n){const i=Iw(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function pb(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function Iw(r,e,t){return{i:r,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function qH(r,e,t,n){let i=0;for(let a=e,o=t-n;a<t;a+=n)i+=(r[o]-r[a])*(r[a+1]+r[o+1]),o=a;return i}class GH{static triangulate(e,t,n=2){return jH(e,t,n)}}class Gl{static area(e){const t=e.length;let n=0;for(let i=t-1,a=0;a<t;i=a++)n+=e[i].x*e[a].y-e[a].x*e[i].y;return n*.5}static isClockWise(e){return Gl.area(e)<0}static triangulateShape(e,t){const n=[],i=[],a=[];Rj(e),Oj(n,e);let o=e.length;t.forEach(Rj);for(let d=0;d<t.length;d++)i.push(o),o+=t[d].length,Oj(n,t[d]);const c=GH.triangulate(n,i);for(let d=0;d<c.length;d+=3)a.push(c.slice(d,d+3));return a}}function Rj(r){const e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function Oj(r,e){for(let t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y)}class Xy extends Dn{constructor(e=new Uf([new dt(.5,.5),new dt(-.5,.5),new dt(-.5,-.5),new dt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],a=[];for(let c=0,d=e.length;c<d;c++){const f=e[c];o(f)}this.setAttribute("position",new Ft(i,3)),this.setAttribute("uv",new Ft(a,2)),this.computeVertexNormals();function o(c){const d=[],f=t.curveSegments!==void 0?t.curveSegments:12,g=t.steps!==void 0?t.steps:1,b=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:.2,w=t.bevelSize!==void 0?t.bevelSize:y-.1,T=t.bevelOffset!==void 0?t.bevelOffset:0,N=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,j=t.UVGenerator!==void 0?t.UVGenerator:WH;let C,A=!1,P,U,B,F;_&&(C=_.getSpacedPoints(g),A=!0,v=!1,P=_.computeFrenetFrames(g,!1),U=new ve,B=new ve,F=new ve),v||(N=0,y=0,w=0,T=0);const k=c.extractPoints(f);let z=k.shape;const V=k.holes;if(!Gl.isClockWise(z)){z=z.reverse();for(let ke=0,Ve=V.length;ke<Ve;ke++){const nt=V[ke];Gl.isClockWise(nt)&&(V[ke]=nt.reverse())}}function J(ke){const nt=10000000000000001e-36;let Xe=ke[0];for(let je=1;je<=ke.length;je++){const de=je%ke.length,ye=ke[de],Be=ye.x-Xe.x,Oe=ye.y-Xe.y,he=Be*Be+Oe*Oe,se=Math.max(Math.abs(ye.x),Math.abs(ye.y),Math.abs(Xe.x),Math.abs(Xe.y)),Me=nt*se*se;if(he<=Me){ke.splice(de,1),je--;continue}Xe=ye}}J(z),V.forEach(J);const ee=V.length,te=z;for(let ke=0;ke<ee;ke++){const Ve=V[ke];z=z.concat(Ve)}function W(ke,Ve,nt){return Ve||console.error("THREE.ExtrudeGeometry: vec does not exist"),ke.clone().addScaledVector(Ve,nt)}const K=z.length;function $(ke,Ve,nt){let Xe,je,de;const ye=ke.x-Ve.x,Be=ke.y-Ve.y,Oe=nt.x-ke.x,he=nt.y-ke.y,se=ye*ye+Be*Be,Me=ye*he-Be*Oe;if(Math.abs(Me)>Number.EPSILON){const qe=Math.sqrt(se),Ge=Math.sqrt(Oe*Oe+he*he),ze=Ve.x-Be/qe,St=Ve.y+ye/qe,ot=nt.x-he/Ge,wt=nt.y+Oe/Ge,Dt=((ot-ze)*he-(wt-St)*Oe)/(ye*he-Be*Oe);Xe=ze+ye*Dt-ke.x,je=St+Be*Dt-ke.y;const ut=Xe*Xe+je*je;if(ut<=2)return new dt(Xe,je);de=Math.sqrt(ut/2)}else{let qe=!1;ye>Number.EPSILON?Oe>Number.EPSILON&&(qe=!0):ye<-Number.EPSILON?Oe<-Number.EPSILON&&(qe=!0):Math.sign(Be)===Math.sign(he)&&(qe=!0),qe?(Xe=-Be,je=ye,de=Math.sqrt(se)):(Xe=ye,je=Be,de=Math.sqrt(se/2))}return new dt(Xe/de,je/de)}const oe=[];for(let ke=0,Ve=te.length,nt=Ve-1,Xe=ke+1;ke<Ve;ke++,nt++,Xe++)nt===Ve&&(nt=0),Xe===Ve&&(Xe=0),oe[ke]=$(te[ke],te[nt],te[Xe]);const G=[];let Y,ne=oe.concat();for(let ke=0,Ve=ee;ke<Ve;ke++){const nt=V[ke];Y=[];for(let Xe=0,je=nt.length,de=je-1,ye=Xe+1;Xe<je;Xe++,de++,ye++)de===je&&(de=0),ye===je&&(ye=0),Y[Xe]=$(nt[Xe],nt[de],nt[ye]);G.push(Y),ne=ne.concat(Y)}let le;if(N===0)le=Gl.triangulateShape(te,V);else{const ke=[],Ve=[];for(let nt=0;nt<N;nt++){const Xe=nt/N,je=y*Math.cos(Xe*Math.PI/2),de=w*Math.sin(Xe*Math.PI/2)+T;for(let ye=0,Be=te.length;ye<Be;ye++){const Oe=W(te[ye],oe[ye],de);Te(Oe.x,Oe.y,-je),Xe===0&&ke.push(Oe)}for(let ye=0,Be=ee;ye<Be;ye++){const Oe=V[ye];Y=G[ye];const he=[];for(let se=0,Me=Oe.length;se<Me;se++){const qe=W(Oe[se],Y[se],de);Te(qe.x,qe.y,-je),Xe===0&&he.push(qe)}Xe===0&&Ve.push(he)}}le=Gl.triangulateShape(ke,Ve)}const be=le.length,ce=w+T;for(let ke=0;ke<K;ke++){const Ve=v?W(z[ke],ne[ke],ce):z[ke];A?(B.copy(P.normals[0]).multiplyScalar(Ve.x),U.copy(P.binormals[0]).multiplyScalar(Ve.y),F.copy(C[0]).add(B).add(U),Te(F.x,F.y,F.z)):Te(Ve.x,Ve.y,0)}for(let ke=1;ke<=g;ke++)for(let Ve=0;Ve<K;Ve++){const nt=v?W(z[Ve],ne[Ve],ce):z[Ve];A?(B.copy(P.normals[ke]).multiplyScalar(nt.x),U.copy(P.binormals[ke]).multiplyScalar(nt.y),F.copy(C[ke]).add(B).add(U),Te(F.x,F.y,F.z)):Te(nt.x,nt.y,b/g*ke)}for(let ke=N-1;ke>=0;ke--){const Ve=ke/N,nt=y*Math.cos(Ve*Math.PI/2),Xe=w*Math.sin(Ve*Math.PI/2)+T;for(let je=0,de=te.length;je<de;je++){const ye=W(te[je],oe[je],Xe);Te(ye.x,ye.y,b+nt)}for(let je=0,de=V.length;je<de;je++){const ye=V[je];Y=G[je];for(let Be=0,Oe=ye.length;Be<Oe;Be++){const he=W(ye[Be],Y[Be],Xe);A?Te(he.x,he.y+C[g-1].y,C[g-1].x+nt):Te(he.x,he.y,b+nt)}}}ie(),ge();function ie(){const ke=i.length/3;if(v){let Ve=0,nt=K*Ve;for(let Xe=0;Xe<be;Xe++){const je=le[Xe];Ee(je[2]+nt,je[1]+nt,je[0]+nt)}Ve=g+N*2,nt=K*Ve;for(let Xe=0;Xe<be;Xe++){const je=le[Xe];Ee(je[0]+nt,je[1]+nt,je[2]+nt)}}else{for(let Ve=0;Ve<be;Ve++){const nt=le[Ve];Ee(nt[2],nt[1],nt[0])}for(let Ve=0;Ve<be;Ve++){const nt=le[Ve];Ee(nt[0]+K*g,nt[1]+K*g,nt[2]+K*g)}}n.addGroup(ke,i.length/3-ke,0)}function ge(){const ke=i.length/3;let Ve=0;_e(te,Ve),Ve+=te.length;for(let nt=0,Xe=V.length;nt<Xe;nt++){const je=V[nt];_e(je,Ve),Ve+=je.length}n.addGroup(ke,i.length/3-ke,1)}function _e(ke,Ve){let nt=ke.length;for(;--nt>=0;){const Xe=nt;let je=nt-1;je<0&&(je=ke.length-1);for(let de=0,ye=g+N*2;de<ye;de++){const Be=K*de,Oe=K*(de+1),he=Ve+Xe+Be,se=Ve+je+Be,Me=Ve+je+Oe,qe=Ve+Xe+Oe;$e(he,se,Me,qe)}}}function Te(ke,Ve,nt){d.push(ke),d.push(Ve),d.push(nt)}function Ee(ke,Ve,nt){tt(ke),tt(Ve),tt(nt);const Xe=i.length/3,je=j.generateTopUV(n,i,Xe-3,Xe-2,Xe-1);xe(je[0]),xe(je[1]),xe(je[2])}function $e(ke,Ve,nt,Xe){tt(ke),tt(Ve),tt(Xe),tt(Ve),tt(nt),tt(Xe);const je=i.length/3,de=j.generateSideWallUV(n,i,je-6,je-3,je-2,je-1);xe(de[0]),xe(de[1]),xe(de[3]),xe(de[1]),xe(de[2]),xe(de[3])}function tt(ke){i.push(d[ke*3+0]),i.push(d[ke*3+1]),i.push(d[ke*3+2])}function xe(ke){a.push(ke.x),a.push(ke.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return XH(t,n,e)}static fromJSON(e,t){const n=[];for(let a=0,o=e.shapes.length;a<o;a++){const c=t[e.shapes[a]];n.push(c)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new sy[i.type]().fromJSON(i)),new Xy(n,e.options)}}const WH={generateTopUV:function(r,e,t,n,i){const a=e[t*3],o=e[t*3+1],c=e[n*3],d=e[n*3+1],f=e[i*3],g=e[i*3+1];return[new dt(a,o),new dt(c,d),new dt(f,g)]},generateSideWallUV:function(r,e,t,n,i,a){const o=e[t*3],c=e[t*3+1],d=e[t*3+2],f=e[n*3],g=e[n*3+1],b=e[n*3+2],v=e[i*3],y=e[i*3+1],w=e[i*3+2],T=e[a*3],N=e[a*3+1],_=e[a*3+2];return Math.abs(c-g)<Math.abs(o-f)?[new dt(o,1-d),new dt(f,1-b),new dt(v,1-w),new dt(T,1-_)]:[new dt(c,1-d),new dt(g,1-b),new dt(y,1-w),new dt(N,1-_)]}};function XH(r,e,t){if(t.shapes=[],Array.isArray(r))for(let n=0,i=r.length;n<i;n++){const a=r[n];t.shapes.push(a.uuid)}else t.shapes.push(r.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Yy extends _h{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Yy(e.radius,e.detail)}}class Zy extends Dn{constructor(e=[new dt(0,-.5),new dt(.5,0),new dt(0,.5)],t=12,n=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=pn(i,0,Math.PI*2);const a=[],o=[],c=[],d=[],f=[],g=1/t,b=new ve,v=new dt,y=new ve,w=new ve,T=new ve;let N=0,_=0;for(let j=0;j<=e.length-1;j++)switch(j){case 0:N=e[j+1].x-e[j].x,_=e[j+1].y-e[j].y,y.x=_*1,y.y=-N,y.z=_*0,T.copy(y),y.normalize(),d.push(y.x,y.y,y.z);break;case e.length-1:d.push(T.x,T.y,T.z);break;default:N=e[j+1].x-e[j].x,_=e[j+1].y-e[j].y,y.x=_*1,y.y=-N,y.z=_*0,w.copy(y),y.x+=T.x,y.y+=T.y,y.z+=T.z,y.normalize(),d.push(y.x,y.y,y.z),T.copy(w)}for(let j=0;j<=t;j++){const C=n+j*g*i,A=Math.sin(C),P=Math.cos(C);for(let U=0;U<=e.length-1;U++){b.x=e[U].x*A,b.y=e[U].y,b.z=e[U].x*P,o.push(b.x,b.y,b.z),v.x=j/t,v.y=U/(e.length-1),c.push(v.x,v.y);const B=d[3*U+0]*A,F=d[3*U+1],k=d[3*U+0]*P;f.push(B,F,k)}}for(let j=0;j<t;j++)for(let C=0;C<e.length-1;C++){const A=C+j*e.length,P=A,U=A+e.length,B=A+e.length+1,F=A+1;a.push(P,U,F),a.push(B,F,U)}this.setIndex(a),this.setAttribute("position",new Ft(o,3)),this.setAttribute("uv",new Ft(c,2)),this.setAttribute("normal",new Ft(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zy(e.points,e.segments,e.phiStart,e.phiLength)}}class zb extends _h{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new zb(e.radius,e.detail)}}class f0 extends Dn{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const a=e/2,o=t/2,c=Math.floor(n),d=Math.floor(i),f=c+1,g=d+1,b=e/c,v=t/d,y=[],w=[],T=[],N=[];for(let _=0;_<g;_++){const j=_*v-o;for(let C=0;C<f;C++){const A=C*b-a;w.push(A,-j,0),T.push(0,0,1),N.push(C/c),N.push(1-_/d)}}for(let _=0;_<d;_++)for(let j=0;j<c;j++){const C=j+f*_,A=j+f*(_+1),P=j+1+f*(_+1),U=j+1+f*_;y.push(C,A,U),y.push(A,P,U)}this.setIndex(y),this.setAttribute("position",new Ft(w,3)),this.setAttribute("normal",new Ft(T,3)),this.setAttribute("uv",new Ft(N,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new f0(e.width,e.height,e.widthSegments,e.heightSegments)}}class Ky extends Dn{constructor(e=.5,t=1,n=32,i=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:a,thetaLength:o},n=Math.max(3,n),i=Math.max(1,i);const c=[],d=[],f=[],g=[];let b=e;const v=(t-e)/i,y=new ve,w=new dt;for(let T=0;T<=i;T++){for(let N=0;N<=n;N++){const _=a+N/n*o;y.x=b*Math.cos(_),y.y=b*Math.sin(_),d.push(y.x,y.y,y.z),f.push(0,0,1),w.x=(y.x/t+1)/2,w.y=(y.y/t+1)/2,g.push(w.x,w.y)}b+=v}for(let T=0;T<i;T++){const N=T*(n+1);for(let _=0;_<n;_++){const j=_+N,C=j,A=j+n+1,P=j+n+2,U=j+1;c.push(C,A,U),c.push(A,P,U)}}this.setIndex(c),this.setAttribute("position",new Ft(d,3)),this.setAttribute("normal",new Ft(f,3)),this.setAttribute("uv",new Ft(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ky(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Jy extends Dn{constructor(e=new Uf([new dt(0,.5),new dt(-.5,-.5),new dt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],a=[],o=[];let c=0,d=0;if(Array.isArray(e)===!1)f(e);else for(let g=0;g<e.length;g++)f(e[g]),this.addGroup(c,d,g),c+=d,d=0;this.setIndex(n),this.setAttribute("position",new Ft(i,3)),this.setAttribute("normal",new Ft(a,3)),this.setAttribute("uv",new Ft(o,2));function f(g){const b=i.length/3,v=g.extractPoints(t);let y=v.shape;const w=v.holes;Gl.isClockWise(y)===!1&&(y=y.reverse());for(let N=0,_=w.length;N<_;N++){const j=w[N];Gl.isClockWise(j)===!0&&(w[N]=j.reverse())}const T=Gl.triangulateShape(y,w);for(let N=0,_=w.length;N<_;N++){const j=w[N];y=y.concat(j)}for(let N=0,_=y.length;N<_;N++){const j=y[N];i.push(j.x,j.y,0),a.push(0,0,1),o.push(j.x,j.y)}for(let N=0,_=T.length;N<_;N++){const j=T[N],C=j[0]+b,A=j[1]+b,P=j[2]+b;n.push(C,A,P),d+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return YH(t,e)}static fromJSON(e,t){const n=[];for(let i=0,a=e.shapes.length;i<a;i++){const o=t[e.shapes[i]];n.push(o)}return new Jy(n,e.curveSegments)}}function YH(r,e){if(e.shapes=[],Array.isArray(r))for(let t=0,n=r.length;t<n;t++){const i=r[t];e.shapes.push(i.uuid)}else e.shapes.push(r.uuid);return e}class Ub extends Dn{constructor(e=1,t=32,n=16,i=0,a=Math.PI*2,o=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:a,thetaStart:o,thetaLength:c},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const d=Math.min(o+c,Math.PI);let f=0;const g=[],b=new ve,v=new ve,y=[],w=[],T=[],N=[];for(let _=0;_<=n;_++){const j=[],C=_/n;let A=0;_===0&&o===0?A=.5/t:_===n&&d===Math.PI&&(A=-.5/t);for(let P=0;P<=t;P++){const U=P/t;b.x=-e*Math.cos(i+U*a)*Math.sin(o+C*c),b.y=e*Math.cos(o+C*c),b.z=e*Math.sin(i+U*a)*Math.sin(o+C*c),w.push(b.x,b.y,b.z),v.copy(b).normalize(),T.push(v.x,v.y,v.z),N.push(U+A,1-C),j.push(f++)}g.push(j)}for(let _=0;_<n;_++)for(let j=0;j<t;j++){const C=g[_][j+1],A=g[_][j],P=g[_+1][j],U=g[_+1][j+1];(_!==0||o>0)&&y.push(C,A,U),(_!==n-1||d<Math.PI)&&y.push(A,P,U)}this.setIndex(y),this.setAttribute("position",new Ft(w,3)),this.setAttribute("normal",new Ft(T,3)),this.setAttribute("uv",new Ft(N,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ub(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Qy extends _h{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Qy(e.radius,e.detail)}}class $y extends Dn{constructor(e=1,t=.4,n=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:a},n=Math.floor(n),i=Math.floor(i);const o=[],c=[],d=[],f=[],g=new ve,b=new ve,v=new ve;for(let y=0;y<=n;y++)for(let w=0;w<=i;w++){const T=w/i*a,N=y/n*Math.PI*2;b.x=(e+t*Math.cos(N))*Math.cos(T),b.y=(e+t*Math.cos(N))*Math.sin(T),b.z=t*Math.sin(N),c.push(b.x,b.y,b.z),g.x=e*Math.cos(T),g.y=e*Math.sin(T),v.subVectors(b,g).normalize(),d.push(v.x,v.y,v.z),f.push(w/i),f.push(y/n)}for(let y=1;y<=n;y++)for(let w=1;w<=i;w++){const T=(i+1)*y+w-1,N=(i+1)*(y-1)+w-1,_=(i+1)*(y-1)+w,j=(i+1)*y+w;o.push(T,N,j),o.push(N,_,j)}this.setIndex(o),this.setAttribute("position",new Ft(c,3)),this.setAttribute("normal",new Ft(d,3)),this.setAttribute("uv",new Ft(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $y(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class e_ extends Dn{constructor(e=1,t=.4,n=64,i=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:a,q:o},n=Math.floor(n),i=Math.floor(i);const c=[],d=[],f=[],g=[],b=new ve,v=new ve,y=new ve,w=new ve,T=new ve,N=new ve,_=new ve;for(let C=0;C<=n;++C){const A=C/n*a*Math.PI*2;j(A,a,o,e,y),j(A+.01,a,o,e,w),N.subVectors(w,y),_.addVectors(w,y),T.crossVectors(N,_),_.crossVectors(T,N),T.normalize(),_.normalize();for(let P=0;P<=i;++P){const U=P/i*Math.PI*2,B=-t*Math.cos(U),F=t*Math.sin(U);b.x=y.x+(B*_.x+F*T.x),b.y=y.y+(B*_.y+F*T.y),b.z=y.z+(B*_.z+F*T.z),d.push(b.x,b.y,b.z),v.subVectors(b,y).normalize(),f.push(v.x,v.y,v.z),g.push(C/n),g.push(P/i)}}for(let C=1;C<=n;C++)for(let A=1;A<=i;A++){const P=(i+1)*(C-1)+(A-1),U=(i+1)*C+(A-1),B=(i+1)*C+A,F=(i+1)*(C-1)+A;c.push(P,U,F),c.push(U,B,F)}this.setIndex(c),this.setAttribute("position",new Ft(d,3)),this.setAttribute("normal",new Ft(f,3)),this.setAttribute("uv",new Ft(g,2));function j(C,A,P,U,B){const F=Math.cos(C),k=Math.sin(C),z=P/A*C,V=Math.cos(z);B.x=U*(2+V)*.5*F,B.y=U*(2+V)*k*.5,B.z=U*Math.sin(z)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new e_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class t_ extends Dn{constructor(e=new N3(new ve(-1,-1,0),new ve(-1,1,0),new ve(1,1,0)),t=64,n=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:a};const o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const c=new ve,d=new ve,f=new dt;let g=new ve;const b=[],v=[],y=[],w=[];T(),this.setIndex(w),this.setAttribute("position",new Ft(b,3)),this.setAttribute("normal",new Ft(v,3)),this.setAttribute("uv",new Ft(y,2));function T(){for(let C=0;C<t;C++)N(C);N(a===!1?t:0),j(),_()}function N(C){g=e.getPointAt(C/t,g);const A=o.normals[C],P=o.binormals[C];for(let U=0;U<=i;U++){const B=U/i*Math.PI*2,F=Math.sin(B),k=-Math.cos(B);d.x=k*A.x+F*P.x,d.y=k*A.y+F*P.y,d.z=k*A.z+F*P.z,d.normalize(),v.push(d.x,d.y,d.z),c.x=g.x+n*d.x,c.y=g.y+n*d.y,c.z=g.z+n*d.z,b.push(c.x,c.y,c.z)}}function _(){for(let C=1;C<=t;C++)for(let A=1;A<=i;A++){const P=(i+1)*(C-1)+(A-1),U=(i+1)*C+(A-1),B=(i+1)*C+A,F=(i+1)*(C-1)+A;w.push(P,U,F),w.push(U,B,F)}}function j(){for(let C=0;C<=t;C++)for(let A=0;A<=i;A++)f.x=C/t,f.y=A/i,y.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new t_(new sy[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class aR extends Dn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,i=new ve,a=new ve;if(e.index!==null){const o=e.attributes.position,c=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:c.count,materialIndex:0}]);for(let f=0,g=d.length;f<g;++f){const b=d[f],v=b.start,y=b.count;for(let w=v,T=v+y;w<T;w+=3)for(let N=0;N<3;N++){const _=c.getX(w+N),j=c.getX(w+(N+1)%3);i.fromBufferAttribute(o,_),a.fromBufferAttribute(o,j),Dj(i,a,n)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let c=0,d=o.count/3;c<d;c++)for(let f=0;f<3;f++){const g=3*c+f,b=3*c+(f+1)%3;i.fromBufferAttribute(o,g),a.fromBufferAttribute(o,b),Dj(i,a,n)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Ft(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Dj(r,e,t){const n=`${r.x},${r.y},${r.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${r.x},${r.y},${r.z}`;return t.has(n)===!0||t.has(i)===!0?!1:(t.add(n),t.add(i),!0)}var Pj=Object.freeze({__proto__:null,BoxGeometry:Wf,CapsuleGeometry:Fy,CircleGeometry:qy,ConeGeometry:Lb,CylinderGeometry:Pb,DodecahedronGeometry:Gy,EdgesGeometry:K7,ExtrudeGeometry:Xy,IcosahedronGeometry:Yy,LatheGeometry:Zy,OctahedronGeometry:zb,PlaneGeometry:f0,PolyhedronGeometry:_h,RingGeometry:Ky,ShapeGeometry:Jy,SphereGeometry:Ub,TetrahedronGeometry:Qy,TorusGeometry:$y,TorusKnotGeometry:e_,TubeGeometry:t_,WireframeGeometry:aR});class oR extends Xs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ot(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class lR extends Xl{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class M3 extends Xs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ot(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vh,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _o,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cR extends M3{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new dt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return pn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ot(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ot(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ot(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class uR extends Xs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ot(16777215),this.specular=new Ot(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vh,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _o,this.combine=Rb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dR extends Xs{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ot(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vh,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class hR extends Xs{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vh,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class fR extends Xs{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vh,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _o,this.combine=Rb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class j3 extends Xs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=w7,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class A3 extends Xs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class mR extends Xs{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ot(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vh,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pR extends va{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Of(r,e){return!r||r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)}function gR(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function bR(r){function e(i,a){return r[i]-r[a]}const t=r.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n}function Bw(r,e,t){const n=r.length,i=new r.constructor(n);for(let a=0,o=0;o!==n;++a){const c=t[a]*e;for(let d=0;d!==e;++d)i[o++]=r[c+d]}return i}function C3(r,e,t,n){let i=1,a=r[0];for(;a!==void 0&&a[n]===void 0;)a=r[i++];if(a===void 0)return;let o=a[n];if(o!==void 0)if(Array.isArray(o))do o=a[n],o!==void 0&&(e.push(a.time),t.push(...o)),a=r[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[n],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=r[i++];while(a!==void 0);else do o=a[n],o!==void 0&&(e.push(a.time),t.push(o)),a=r[i++];while(a!==void 0)}function ZH(r,e,t,n,i=30){const a=r.clone();a.name=e;const o=[];for(let d=0;d<a.tracks.length;++d){const f=a.tracks[d],g=f.getValueSize(),b=[],v=[];for(let y=0;y<f.times.length;++y){const w=f.times[y]*i;if(!(w<t||w>=n)){b.push(f.times[y]);for(let T=0;T<g;++T)v.push(f.values[y*g+T])}}b.length!==0&&(f.times=Of(b,f.times.constructor),f.values=Of(v,f.values.constructor),o.push(f))}a.tracks=o;let c=1/0;for(let d=0;d<a.tracks.length;++d)c>a.tracks[d].times[0]&&(c=a.tracks[d].times[0]);for(let d=0;d<a.tracks.length;++d)a.tracks[d].shift(-1*c);return a.resetDuration(),a}function KH(r,e=0,t=r,n=30){n<=0&&(n=30);const i=t.tracks.length,a=e/n;for(let o=0;o<i;++o){const c=t.tracks[o],d=c.ValueTypeName;if(d==="bool"||d==="string")continue;const f=r.tracks.find(function(_){return _.name===c.name&&_.ValueTypeName===d});if(f===void 0)continue;let g=0;const b=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=b/3);let v=0;const y=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=y/3);const w=c.times.length-1;let T;if(a<=c.times[0]){const _=g,j=b-g;T=c.values.slice(_,j)}else if(a>=c.times[w]){const _=w*b+g,j=_+b-g;T=c.values.slice(_,j)}else{const _=c.createInterpolant(),j=g,C=b-g;_.evaluate(a),T=_.resultBuffer.slice(j,C)}d==="quaternion"&&new Va().fromArray(T).normalize().conjugate().toArray(T);const N=f.times.length;for(let _=0;_<N;++_){const j=_*y+v;if(d==="quaternion")Va.multiplyQuaternionsFlat(f.values,j,T,0,f.values,j);else{const C=y-v*2;for(let A=0;A<C;++A)f.values[j+A]-=T[A]}}}return r.blendMode=u3,r}class JH{static convertArray(e,t){return Of(e,t)}static isTypedArray(e){return gR(e)}static getKeyframeOrder(e){return bR(e)}static sortedArray(e,t,n){return Bw(e,t,n)}static flattenJSON(e,t,n,i){C3(e,t,n,i)}static subclip(e,t,n,i,a=30){return ZH(e,t,n,i,a)}static makeClipAdditive(e,t=0,n=e,i=30){return KH(e,t,n,i)}}class Ib{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],a=t[n-1];e:{t:{let o;n:{r:if(!(e<i)){for(let c=n+2;;){if(i===void 0){if(e<a)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===c)break;if(a=i,i=t[++n],e<i)break t}o=t.length;break n}if(!(e>=a)){const c=t[1];e<c&&(n=2,a=c);for(let d=n-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===d)break;if(i=a,a=t[--n-1],e>=a)break t}o=n,n=0;break n}break e}for(;n<o;){const c=n+o>>>1;e<t[c]?o=c:n=c+1}if(i=t[n],a=t[n-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,i)}return this.interpolate_(n,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)t[o]=n[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class xR extends Ib{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Cf,endingEnd:Cf}}intervalChanged_(e,t,n){const i=this.parameterPositions;let a=e-2,o=e+1,c=i[a],d=i[o];if(c===void 0)switch(this.getSettings_().endingStart){case Rf:a=e,c=2*t-n;break;case cb:a=i.length-2,c=t+i[a]-i[a+1];break;default:a=e,c=n}if(d===void 0)switch(this.getSettings_().endingEnd){case Rf:o=e,d=2*n-t;break;case cb:o=1,d=n+i[1]-i[0];break;default:o=e-1,d=t}const f=(n-t)*.5,g=this.valueSize;this._weightPrev=f/(t-c),this._weightNext=f/(d-n),this._offsetPrev=a*g,this._offsetNext=o*g}interpolate_(e,t,n,i){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,d=e*c,f=d-c,g=this._offsetPrev,b=this._offsetNext,v=this._weightPrev,y=this._weightNext,w=(n-t)/(i-t),T=w*w,N=T*w,_=-v*N+2*v*T-v*w,j=(1+v)*N+(-1.5-2*v)*T+(-.5+v)*w+1,C=(-1-y)*N+(1.5+y)*T+.5*w,A=y*N-y*T;for(let P=0;P!==c;++P)a[P]=_*o[g+P]+j*o[f+P]+C*o[d+P]+A*o[b+P];return a}}class R3 extends Ib{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,d=e*c,f=d-c,g=(n-t)/(i-t),b=1-g;for(let v=0;v!==c;++v)a[v]=o[f+v]*b+o[d+v]*g;return a}}class vR extends Ib{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class al{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Of(t,this.TimeBufferType),this.values=Of(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Of(e.times,Array),values:Of(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new vR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new R3(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new xR(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case lb:t=this.InterpolantFactoryMethodDiscrete;break;case ny:t=this.InterpolantFactoryMethodLinear;break;case s1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return lb;case this.InterpolantFactoryMethodLinear:return ny;case this.InterpolantFactoryMethodSmooth:return s1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let a=0,o=i-1;for(;a!==i&&n[a]<e;)++a;for(;o!==-1&&n[o]>t;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);const c=this.getValueSize();this.times=n.slice(a,o),this.values=this.values.slice(a*c,o*c)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,a=n.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let c=0;c!==a;c++){const d=n[c];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,d),e=!1;break}if(o!==null&&o>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,d,o),e=!1;break}o=d}if(i!==void 0&&gR(i))for(let c=0,d=i.length;c!==d;++c){const f=i[c];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===s1,a=e.length-1;let o=1;for(let c=1;c<a;++c){let d=!1;const f=e[c],g=e[c+1];if(f!==g&&(c!==1||f!==e[0]))if(i)d=!0;else{const b=c*n,v=b-n,y=b+n;for(let w=0;w!==n;++w){const T=t[b+w];if(T!==t[v+w]||T!==t[y+w]){d=!0;break}}}if(d){if(c!==o){e[o]=e[c];const b=c*n,v=o*n;for(let y=0;y!==n;++y)t[v+y]=t[b+y]}++o}}if(a>0){e[o]=e[a];for(let c=a*n,d=o*n,f=0;f!==n;++f)t[d+f]=t[c+f];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}al.prototype.ValueTypeName="";al.prototype.TimeBufferType=Float32Array;al.prototype.ValueBufferType=Float32Array;al.prototype.DefaultInterpolation=ny;class Xf extends al{constructor(e,t,n){super(e,t,n)}}Xf.prototype.ValueTypeName="bool";Xf.prototype.ValueBufferType=Array;Xf.prototype.DefaultInterpolation=lb;Xf.prototype.InterpolantFactoryMethodLinear=void 0;Xf.prototype.InterpolantFactoryMethodSmooth=void 0;class O3 extends al{constructor(e,t,n,i){super(e,t,n,i)}}O3.prototype.ValueTypeName="color";class gb extends al{constructor(e,t,n,i){super(e,t,n,i)}}gb.prototype.ValueTypeName="number";class yR extends Ib{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,d=(n-t)/(i-t);let f=e*c;for(let g=f+c;f!==g;f+=4)Va.slerpFlat(a,0,o,f-c,o,f,d);return a}}class Bb extends al{constructor(e,t,n,i){super(e,t,n,i)}InterpolantFactoryMethodLinear(e){return new yR(this.times,this.values,this.getValueSize(),e)}}Bb.prototype.ValueTypeName="quaternion";Bb.prototype.InterpolantFactoryMethodSmooth=void 0;class Yf extends al{constructor(e,t,n){super(e,t,n)}}Yf.prototype.ValueTypeName="string";Yf.prototype.ValueBufferType=Array;Yf.prototype.DefaultInterpolation=lb;Yf.prototype.InterpolantFactoryMethodLinear=void 0;Yf.prototype.InterpolantFactoryMethodSmooth=void 0;class bb extends al{constructor(e,t,n,i){super(e,t,n,i)}}bb.prototype.ValueTypeName="vector";class xb{constructor(e="",t=-1,n=[],i=Dy){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=yo(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,c=n.length;o!==c;++o)t.push($H(n[o]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=n.length;a!==o;++a)t.push(al.toJSON(n[a]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const a=t.length,o=[];for(let c=0;c<a;c++){let d=[],f=[];d.push((c+a-1)%a,c,(c+1)%a),f.push(0,1,0);const g=bR(d);d=Bw(d,1,g),f=Bw(f,1,g),!i&&d[0]===0&&(d.push(a),f.push(f[0])),o.push(new gb(".morphTargetInfluences["+t[c].name+"]",d,f).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},a=/^([\w-]*?)([\d]+)$/;for(let c=0,d=e.length;c<d;c++){const f=e[c],g=f.name.match(a);if(g&&g.length>1){const b=g[1];let v=i[b];v||(i[b]=v=[]),v.push(f)}}const o=[];for(const c in i)o.push(this.CreateFromMorphTargetSequence(c,i[c],t,n));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(b,v,y,w,T){if(y.length!==0){const N=[],_=[];C3(y,N,_,w),N.length!==0&&T.push(new b(v,N,_))}},i=[],a=e.name||"default",o=e.fps||30,c=e.blendMode;let d=e.length||-1;const f=e.hierarchy||[];for(let b=0;b<f.length;b++){const v=f[b].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const y={};let w;for(w=0;w<v.length;w++)if(v[w].morphTargets)for(let T=0;T<v[w].morphTargets.length;T++)y[v[w].morphTargets[T]]=-1;for(const T in y){const N=[],_=[];for(let j=0;j!==v[w].morphTargets.length;++j){const C=v[w];N.push(C.time),_.push(C.morphTarget===T?1:0)}i.push(new gb(".morphTargetInfluence["+T+"]",N,_))}d=y.length*o}else{const y=".bones["+t[b].name+"]";n(bb,y+".position",v,"pos",i),n(Bb,y+".quaternion",v,"rot",i),n(bb,y+".scale",v,"scl",i)}}return i.length===0?null:new this(a,d,i,c)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function QH(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return gb;case"vector":case"vector2":case"vector3":case"vector4":return bb;case"color":return O3;case"quaternion":return Bb;case"bool":case"boolean":return Xf;case"string":return Yf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function $H(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=QH(r.type);if(r.times===void 0){const t=[],n=[];C3(r.keys,t,n,"value"),r.times=t,r.values=n}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const Fc={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class D3{constructor(e,t,n){const i=this;let a=!1,o=0,c=0,d;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.abortController=new AbortController,this.itemStart=function(g){c++,a===!1&&i.onStart!==void 0&&i.onStart(g,o,c),a=!0},this.itemEnd=function(g){o++,i.onProgress!==void 0&&i.onProgress(g,o,c),o===c&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(g){i.onError!==void 0&&i.onError(g)},this.resolveURL=function(g){return d?d(g):g},this.setURLModifier=function(g){return d=g,this},this.addHandler=function(g,b){return f.push(g,b),this},this.removeHandler=function(g){const b=f.indexOf(g);return b!==-1&&f.splice(b,2),this},this.getHandler=function(g){for(let b=0,v=f.length;b<v;b+=2){const y=f[b],w=f[b+1];if(y.global&&(y.lastIndex=0),y.test(g))return w}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const _R=new D3;class Fa{constructor(e){this.manager=e!==void 0?e:_R,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,a){n.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Fa.DEFAULT_MATERIAL_NAME="__DEFAULT";const Uu={};class eV extends Error{constructor(e,t){super(e),this.response=t}}class $u extends Fa{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Fc.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Uu[e]!==void 0){Uu[e].push({onLoad:t,onProgress:n,onError:i});return}Uu[e]=[],Uu[e].push({onLoad:t,onProgress:n,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),c=this.mimeType,d=this.responseType;fetch(o).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const g=Uu[e],b=f.body.getReader(),v=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),y=v?parseInt(v):0,w=y!==0;let T=0;const N=new ReadableStream({start(_){j();function j(){b.read().then(({done:C,value:A})=>{if(C)_.close();else{T+=A.byteLength;const P=new ProgressEvent("progress",{lengthComputable:w,loaded:T,total:y});for(let U=0,B=g.length;U<B;U++){const F=g[U];F.onProgress&&F.onProgress(P)}_.enqueue(A),j()}},C=>{_.error(C)})}}});return new Response(N)}else throw new eV(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(d){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(g=>new DOMParser().parseFromString(g,c));case"json":return f.json();default:if(c==="")return f.text();{const b=/charset="?([^;"\s]*)"?/i.exec(c),v=b&&b[1]?b[1].toLowerCase():void 0,y=new TextDecoder(v);return f.arrayBuffer().then(w=>y.decode(w))}}}).then(f=>{Fc.add(`file:${e}`,f);const g=Uu[e];delete Uu[e];for(let b=0,v=g.length;b<v;b++){const y=g[b];y.onLoad&&y.onLoad(f)}}).catch(f=>{const g=Uu[e];if(g===void 0)throw this.manager.itemError(e),f;delete Uu[e];for(let b=0,v=g.length;b<v;b++){const y=g[b];y.onError&&y.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class tV extends Fa{constructor(e){super(e)}load(e,t,n,i){const a=this,o=new $u(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(d){i?i(d):console.error(d),a.manager.itemError(e)}},n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=xb.parse(e[n]);t.push(i)}return t}}class nV extends Fa{constructor(e){super(e)}load(e,t,n,i){const a=this,o=[],c=new Vy,d=new $u(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(a.withCredentials);let f=0;function g(b){d.load(e[b],function(v){const y=a.parse(v,!0);o[b]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},f+=1,f===6&&(y.mipmapCount===1&&(c.minFilter=Fi),c.image=o,c.format=y.format,c.needsUpdate=!0,t&&t(c))},n,i)}if(Array.isArray(e))for(let b=0,v=e.length;b<v;++b)g(b);else d.load(e,function(b){const v=a.parse(b,!0);if(v.isCubemap){const y=v.mipmaps.length/v.mipmapCount;for(let w=0;w<y;w++){o[w]={mipmaps:[]};for(let T=0;T<v.mipmapCount;T++)o[w].mipmaps.push(v.mipmaps[w*v.mipmapCount+T]),o[w].format=v.format,o[w].width=v.width,o[w].height=v.height}c.image=o}else c.image.width=v.width,c.image.height=v.height,c.mipmaps=v.mipmaps;v.mipmapCount===1&&(c.minFilter=Fi),c.format=v.format,c.needsUpdate=!0,t&&t(c)},n,i);return c}}const mp=new WeakMap;class vb extends Fa{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Fc.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0);else{let b=mp.get(o);b===void 0&&(b=[],mp.set(o,b)),b.push({onLoad:t,onError:i})}return o}const c=hb("img");function d(){g(),t&&t(this);const b=mp.get(this)||[];for(let v=0;v<b.length;v++){const y=b[v];y.onLoad&&y.onLoad(this)}mp.delete(this),a.manager.itemEnd(e)}function f(b){g(),i&&i(b),Fc.remove(`image:${e}`);const v=mp.get(this)||[];for(let y=0;y<v.length;y++){const w=v[y];w.onError&&w.onError(b)}mp.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function g(){c.removeEventListener("load",d,!1),c.removeEventListener("error",f,!1)}return c.addEventListener("load",d,!1),c.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),Fc.add(`image:${e}`,c),a.manager.itemStart(e),c.src=e,c}}class rV extends Fa{constructor(e){super(e)}load(e,t,n,i){const a=new Db;a.colorSpace=Fs;const o=new vb(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let c=0;function d(f){o.load(e[f],function(g){a.images[f]=g,c++,c===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let f=0;f<e.length;++f)d(f);return a}}class iV extends Fa{constructor(e){super(e)}load(e,t,n,i){const a=this,o=new Yc,c=new $u(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(a.withCredentials),c.load(e,function(d){let f;try{f=a.parse(d)}catch(g){if(i!==void 0)i(g);else{console.error(g);return}}f.image!==void 0?o.image=f.image:f.data!==void 0&&(o.image.width=f.width,o.image.height=f.height,o.image.data=f.data),o.wrapS=f.wrapS!==void 0?f.wrapS:nl,o.wrapT=f.wrapT!==void 0?f.wrapT:nl,o.magFilter=f.magFilter!==void 0?f.magFilter:Fi,o.minFilter=f.minFilter!==void 0?f.minFilter:Fi,o.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(o.colorSpace=f.colorSpace),f.flipY!==void 0&&(o.flipY=f.flipY),f.format!==void 0&&(o.format=f.format),f.type!==void 0&&(o.type=f.type),f.mipmaps!==void 0&&(o.mipmaps=f.mipmaps,o.minFilter=Vc),f.mipmapCount===1&&(o.minFilter=Fi),f.generateMipmaps!==void 0&&(o.generateMipmaps=f.generateMipmaps),o.needsUpdate=!0,t&&t(o,f)},n,i),o}}class sV extends Fa{constructor(e){super(e)}load(e,t,n,i){const a=new gi,o=new vb(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(c){a.image=c,a.needsUpdate=!0,t!==void 0&&t(a)},n,i),a}}class Sh extends nr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ot(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class SR extends Sh{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(nr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ot(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const nS=new xn,Lj=new ve,zj=new ve;class P3{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new dt(512,512),this.mapType=il,this.map=null,this.mapPass=null,this.matrix=new xn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new h0,this._frameExtents=new dt(1,1),this._viewportCount=1,this._viewports=[new ar(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Lj.setFromMatrixPosition(e.matrixWorld),t.position.copy(Lj),zj.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(zj),t.updateMatrixWorld(),nS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nS,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(nS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class aV extends P3{constructor(){super(new us(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=Zp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(n!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class wR extends Sh{constructor(e,t,n=0,i=Math.PI/3,a=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(nr.DEFAULT_UP),this.updateMatrix(),this.target=new nr,this.distance=n,this.angle=i,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new aV}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Uj=new xn,yg=new ve,rS=new ve;class oV extends P3{constructor(){super(new us(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new dt(4,2),this._viewportCount=6,this._viewports=[new ar(2,1,1,1),new ar(0,1,1,1),new ar(3,1,1,1),new ar(1,1,1,1),new ar(3,0,1,1),new ar(1,0,1,1)],this._cubeDirections=[new ve(1,0,0),new ve(-1,0,0),new ve(0,0,1),new ve(0,0,-1),new ve(0,1,0),new ve(0,-1,0)],this._cubeUps=[new ve(0,1,0),new ve(0,1,0),new ve(0,1,0),new ve(0,1,0),new ve(0,0,1),new ve(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),yg.setFromMatrixPosition(e.matrixWorld),n.position.copy(yg),rS.copy(n.position),rS.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(rS),n.updateMatrixWorld(),i.makeTranslation(-yg.x,-yg.y,-yg.z),Uj.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Uj,n.coordinateSystem,n.reversedDepth)}}class ER extends Sh{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new oV}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class kb extends zy{constructor(e=-1,t=1,n=1,i=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=n-e,o=n+e,c=i+t,d=i-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=f*this.view.offsetX,o=a+f*this.view.width,c-=g*this.view.offsetY,d=c-g*this.view.height}this.projectionMatrix.makeOrthographic(a,o,c,d,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class lV extends P3{constructor(){super(new kb(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class NR extends Sh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(nr.DEFAULT_UP),this.updateMatrix(),this.target=new nr,this.shadow=new lV}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class TR extends Sh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class MR extends Sh{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class jR{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ve)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],1.092548*(n*i)),t.addScaledVector(o[5],1.092548*(i*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(n*a)),t.addScaledVector(o[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*n),t.addScaledVector(o[4],2*.429043*n*i),t.addScaledVector(o[5],2*.429043*i*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*n*a),t.addScaledVector(o[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const n=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-i*i)}}class AR extends Sh{constructor(e=new jR,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class n_ extends Fa{constructor(e){super(e),this.textures={}}load(e,t,n,i){const a=this,o=new $u(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(d){i?i(d):console.error(d),a.manager.itemError(e)}},n,i)}parse(e){const t=this.textures;function n(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ot().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=n(o.value);break;case"c":i.uniforms[a].value=new Ot().setHex(o.value);break;case"v2":i.uniforms[a].value=new dt().fromArray(o.value);break;case"v3":i.uniforms[a].value=new ve().fromArray(o.value);break;case"v4":i.uniforms[a].value=new ar().fromArray(o.value);break;case"m3":i.uniforms[a].value=new jn().fromArray(o.value);break;case"m4":i.uniforms[a].value=new xn().fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new dt().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new dt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return n_.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:oR,SpriteMaterial:b3,RawShaderMaterial:lR,ShaderMaterial:Xl,PointsMaterial:v3,MeshPhysicalMaterial:cR,MeshStandardMaterial:M3,MeshPhongMaterial:uR,MeshToonMaterial:dR,MeshNormalMaterial:hR,MeshLambertMaterial:fR,MeshDepthMaterial:j3,MeshDistanceMaterial:A3,MeshBasicMaterial:yh,MeshMatcapMaterial:mR,LineDashedMaterial:pR,LineBasicMaterial:va,Material:Xs};return new t[e]}}class kw{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class CR extends Dn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class RR extends Fa{constructor(e){super(e)}load(e,t,n,i){const a=this,o=new $u(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(d){i?i(d):console.error(d),a.manager.itemError(e)}},n,i)}parse(e){const t={},n={};function i(y,w){if(t[w]!==void 0)return t[w];const N=y.interleavedBuffers[w],_=a(y,N.buffer),j=Op(N.type,_),C=new By(j,N.stride);return C.uuid=N.uuid,t[w]=C,C}function a(y,w){if(n[w]!==void 0)return n[w];const N=y.arrayBuffers[w],_=new Uint32Array(N).buffer;return n[w]=_,_}const o=e.isInstancedBufferGeometry?new CR:new Dn,c=e.data.index;if(c!==void 0){const y=Op(c.type,c.array);o.setIndex(new jr(y,1))}const d=e.data.attributes;for(const y in d){const w=d[y];let T;if(w.isInterleavedBufferAttribute){const N=i(e.data,w.data);T=new Bf(N,w.itemSize,w.offset,w.normalized)}else{const N=Op(w.type,w.array),_=w.isInstancedBufferAttribute?Qp:jr;T=new _(N,w.itemSize,w.normalized)}w.name!==void 0&&(T.name=w.name),w.usage!==void 0&&T.setUsage(w.usage),o.setAttribute(y,T)}const f=e.data.morphAttributes;if(f)for(const y in f){const w=f[y],T=[];for(let N=0,_=w.length;N<_;N++){const j=w[N];let C;if(j.isInterleavedBufferAttribute){const A=i(e.data,j.data);C=new Bf(A,j.itemSize,j.offset,j.normalized)}else{const A=Op(j.type,j.array);C=new jr(A,j.itemSize,j.normalized)}j.name!==void 0&&(C.name=j.name),T.push(C)}o.morphAttributes[y]=T}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const b=e.data.groups||e.data.drawcalls||e.data.offsets;if(b!==void 0)for(let y=0,w=b.length;y!==w;++y){const T=b[y];o.addGroup(T.start,T.count,T.materialIndex)}const v=e.data.boundingSphere;return v!==void 0&&(o.boundingSphere=new js().fromJSON(v)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class cV extends Fa{constructor(e){super(e)}load(e,t,n,i){const a=this,o=this.path===""?kw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const c=new $u(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(d){let f=null;try{f=JSON.parse(d)}catch(b){i!==void 0&&i(b),console.error("THREE:ObjectLoader: Can't parse "+e+".",b.message);return}const g=f.metadata;if(g===void 0||g.type===void 0||g.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(f,t)},n,i)}async loadAsync(e,t){const n=this,i=this.path===""?kw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new $u(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,t),c=JSON.parse(o),d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(c)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(f)}),c=this.parseTextures(e.textures,o),d=this.parseMaterials(e.materials,c),f=this.parseObject(e.object,a,d,c,n),g=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,g),this.bindLightTargets(f),t!==void 0){let b=!1;for(const v in o)if(o[v].data instanceof HTMLImageElement){b=!0;break}b===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),c=this.parseMaterials(e.materials,o),d=this.parseObject(e.object,i,c,o,t),f=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,f),this.bindLightTargets(d),d}parseShapes(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const a=new Uf().fromJSON(e[n]);t[a.uuid]=a}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const c=new ky().fromJSON(e[a],i);n[c.uuid]=c}return n}parseGeometries(e,t){const n={};if(e!==void 0){const i=new RR;for(let a=0,o=e.length;a<o;a++){let c;const d=e[a];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":c=i.parse(d);break;default:d.type in Pj?c=Pj[d.type].fromJSON(d,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${d.type}"`)}c.uuid=d.uuid,d.name!==void 0&&(c.name=d.name),d.userData!==void 0&&(c.userData=d.userData),n[d.uuid]=c}}return n}parseMaterials(e,t){const n={},i={};if(e!==void 0){const a=new n_;a.setTextures(t);for(let o=0,c=e.length;o<c;o++){const d=e[o];n[d.uuid]===void 0&&(n[d.uuid]=a.parse(d)),i[d.uuid]=n[d.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const i=e[n],a=xb.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const n=this,i={};let a;function o(d){return n.manager.itemStart(d),a.load(d,function(){n.manager.itemEnd(d)},void 0,function(){n.manager.itemError(d),n.manager.itemEnd(d)})}function c(d){if(typeof d=="string"){const f=d,g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:n.resourcePath+f;return o(g)}else return d.data?{data:Op(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new D3(t);a=new vb(d),a.setCrossOrigin(this.crossOrigin);for(let f=0,g=e.length;f<g;f++){const b=e[f],v=b.url;if(Array.isArray(v)){const y=[];for(let w=0,T=v.length;w<T;w++){const N=v[w],_=c(N);_!==null&&(_ instanceof HTMLImageElement?y.push(_):y.push(new Yc(_.data,_.width,_.height)))}i[b.uuid]=new uh(y)}else{const y=c(b.url);i[b.uuid]=new uh(y)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function a(o){if(typeof o=="string"){const c=o,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:t.resourcePath+c;return await i.loadAsync(d)}else return o.data?{data:Op(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new vb(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,c=e.length;o<c;o++){const d=e[o],f=d.url;if(Array.isArray(f)){const g=[];for(let b=0,v=f.length;b<v;b++){const y=f[b],w=await a(y);w!==null&&(w instanceof HTMLImageElement?g.push(w):g.push(new Yc(w.data,w.width,w.height)))}n[d.uuid]=new uh(g)}else{const g=await a(d.url);n[d.uuid]=new uh(g)}}}return n}parseTextures(e,t){function n(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const i={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const c=e[a];c.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),t[c.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",c.image);const d=t[c.image],f=d.data;let g;Array.isArray(f)?(g=new Db,f.length===6&&(g.needsUpdate=!0)):(f&&f.data?g=new Yc:g=new gi,f&&(g.needsUpdate=!0)),g.source=d,g.uuid=c.uuid,c.name!==void 0&&(g.name=c.name),c.mapping!==void 0&&(g.mapping=n(c.mapping,uV)),c.channel!==void 0&&(g.channel=c.channel),c.offset!==void 0&&g.offset.fromArray(c.offset),c.repeat!==void 0&&g.repeat.fromArray(c.repeat),c.center!==void 0&&g.center.fromArray(c.center),c.rotation!==void 0&&(g.rotation=c.rotation),c.wrap!==void 0&&(g.wrapS=n(c.wrap[0],Ij),g.wrapT=n(c.wrap[1],Ij)),c.format!==void 0&&(g.format=c.format),c.internalFormat!==void 0&&(g.internalFormat=c.internalFormat),c.type!==void 0&&(g.type=c.type),c.colorSpace!==void 0&&(g.colorSpace=c.colorSpace),c.minFilter!==void 0&&(g.minFilter=n(c.minFilter,Bj)),c.magFilter!==void 0&&(g.magFilter=n(c.magFilter,Bj)),c.anisotropy!==void 0&&(g.anisotropy=c.anisotropy),c.flipY!==void 0&&(g.flipY=c.flipY),c.generateMipmaps!==void 0&&(g.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(g.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(g.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(g.compareFunction=c.compareFunction),c.userData!==void 0&&(g.userData=c.userData),i[c.uuid]=g}return i}parseObject(e,t,n,i,a){let o;function c(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function d(v){if(v!==void 0){if(Array.isArray(v)){const y=[];for(let w=0,T=v.length;w<T;w++){const N=v[w];n[N]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",N),y.push(n[N])}return y}return n[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),n[v]}}function f(v){return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),i[v]}let g,b;switch(e.type){case"Scene":o=new g3,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ot(e.background):o.background=f(e.background)),e.environment!==void 0&&(o.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Iy(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Uy(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new us(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new kb(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new TR(e.color,e.intensity);break;case"DirectionalLight":o=new NR(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new ER(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new MR(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new wR(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new SR(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new AR().fromJSON(e);break;case"SkinnedMesh":g=c(e.geometry),b=d(e.material),o=new q7(g,b),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":g=c(e.geometry),b=d(e.material),o=new Li(g,b);break;case"InstancedMesh":g=c(e.geometry),b=d(e.material);const v=e.count,y=e.instanceMatrix,w=e.instanceColor;o=new G7(g,b,v),o.instanceMatrix=new Qp(new Float32Array(y.array),16),w!==void 0&&(o.instanceColor=new Qp(new Float32Array(w.array),w.itemSize));break;case"BatchedMesh":g=c(e.geometry),b=d(e.material),o=new W7(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,b),o.geometry=g,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(T=>{let N=null,_=null;return T.boundingBox!==void 0&&(N=new Ws().fromJSON(T.boundingBox)),T.boundingSphere!==void 0&&(_=new js().fromJSON(T.boundingSphere)),{...T,boundingBox:N,boundingSphere:_}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=f(e.matricesTexture.uuid),o._indirectTexture=f(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=f(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new js().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Ws().fromJSON(e.boundingBox));break;case"LOD":o=new F7;break;case"Line":o=new gh(c(e.geometry),d(e.material));break;case"LineLoop":o=new X7(c(e.geometry),d(e.material));break;case"LineSegments":o=new Jc(c(e.geometry),d(e.material));break;case"PointCloud":case"Points":o=new Y7(c(e.geometry),d(e.material));break;case"Sprite":o=new V7(d(e.material));break;case"Group":o=new Dp;break;case"Bone":o=new x3;break;default:o=new nr}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let y=0;y<v.length;y++)o.add(this.parseObject(v[y],t,n,i,a))}if(e.animations!==void 0){const v=e.animations;for(let y=0;y<v.length;y++){const w=v[y];o.animations.push(a[w])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const v=e.levels;for(let y=0;y<v.length;y++){const w=v[y],T=o.getObjectByProperty("uuid",w.object);T!==void 0&&o.addLevel(T,w.distance,w.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const i=t[n.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(i,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,i=e.getObjectByProperty("uuid",n);i!==void 0?t.target=i:t.target=new nr}})}}const uV={UVMapping:Ty,CubeReflectionMapping:Ju,CubeRefractionMapping:mh,EquirectangularReflectionMapping:ib,EquirectangularRefractionMapping:sb,CubeUVReflectionMapping:c0},Ij={RepeatWrapping:ab,ClampToEdgeWrapping:nl,MirroredRepeatWrapping:ob},Bj={NearestFilter:Ms,NearestMipmapNearestFilter:n3,NearestMipmapLinearFilter:Rp,LinearFilter:Fi,LinearMipmapNearestFilter:Ig,LinearMipmapLinearFilter:Vc},iS=new WeakMap;class dV extends Fa{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Fc.get(`image-bitmap:${e}`);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(f=>{if(iS.has(o)===!0)i&&i(iS.get(o)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(f),a.manager.itemEnd(e),f});return}return setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader,c.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const d=fetch(e,c).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(f){return Fc.add(`image-bitmap:${e}`,f),t&&t(f),a.manager.itemEnd(e),f}).catch(function(f){i&&i(f),iS.set(d,f),Fc.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});Fc.add(`image-bitmap:${e}`,d),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Bv;class L3{static getContext(){return Bv===void 0&&(Bv=new(window.AudioContext||window.webkitAudioContext)),Bv}static setContext(e){Bv=e}}class hV extends Fa{constructor(e){super(e)}load(e,t,n,i){const a=this,o=new $u(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(d){try{const f=d.slice(0);L3.getContext().decodeAudioData(f,function(b){t(b)}).catch(c)}catch(f){c(f)}},n,i);function c(d){i?i(d):console.error(d),a.manager.itemError(e)}}}const kj=new xn,Hj=new xn,hf=new xn;class fV{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new us,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new us,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,hf.copy(e.projectionMatrix);const i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(zf*t.fov*.5)/t.zoom;let c,d;Hj.elements[12]=-i,kj.elements[12]=i,c=-o*t.aspect+a,d=o*t.aspect+a,hf.elements[0]=2*t.near/(d-c),hf.elements[8]=(d+c)/(d-c),this.cameraL.projectionMatrix.copy(hf),c=-o*t.aspect-a,d=o*t.aspect-a,hf.elements[0]=2*t.near/(d-c),hf.elements[8]=(d+c)/(d-c),this.cameraR.projectionMatrix.copy(hf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Hj),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(kj)}}class OR extends us{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class z3{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const ff=new ve,sS=new Va,mV=new ve,mf=new ve,pf=new ve;class pV extends nr{constructor(){super(),this.type="AudioListener",this.context=L3.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new z3}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ff,sS,mV),mf.set(0,0,-1).applyQuaternion(sS),pf.set(0,1,0).applyQuaternion(sS),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ff.x,n),t.positionY.linearRampToValueAtTime(ff.y,n),t.positionZ.linearRampToValueAtTime(ff.z,n),t.forwardX.linearRampToValueAtTime(mf.x,n),t.forwardY.linearRampToValueAtTime(mf.y,n),t.forwardZ.linearRampToValueAtTime(mf.z,n),t.upX.linearRampToValueAtTime(pf.x,n),t.upY.linearRampToValueAtTime(pf.y,n),t.upZ.linearRampToValueAtTime(pf.z,n)}else t.setPosition(ff.x,ff.y,ff.z),t.setOrientation(mf.x,mf.y,mf.z,pf.x,pf.y,pf.z)}}class DR extends nr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const gf=new ve,Vj=new Va,gV=new ve,bf=new ve;class bV extends DR{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(gf,Vj,gV),bf.set(0,0,1).applyQuaternion(Vj);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(gf.x,n),t.positionY.linearRampToValueAtTime(gf.y,n),t.positionZ.linearRampToValueAtTime(gf.z,n),t.orientationX.linearRampToValueAtTime(bf.x,n),t.orientationY.linearRampToValueAtTime(bf.y,n),t.orientationZ.linearRampToValueAtTime(bf.z,n)}else t.setPosition(gf.x,gf.y,gf.z),t.setOrientation(bf.x,bf.y,bf.z)}}class xV{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class PR{constructor(e,t,n){this.binding=e,this.valueSize=n;let i,a,o;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,a=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let c=0;c!==i;++c)n[a+c]=n[c];o=t}else{o+=t;const c=t/o;this._mixBufferRegion(n,a,0,c,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const d=t*this._origIndex;this._mixBufferRegion(n,i,d,1-a,t)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let d=t,f=t+t;d!==f;++d)if(n[d]!==n[d+t]){c.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let a=n,o=i;a!==o;++a)t[a]=t[i+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,a){if(i>=.5)for(let o=0;o!==a;++o)e[t+o]=e[n+o]}_slerp(e,t,n,i){Va.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,a){const o=this._workIndex*a;Va.multiplyQuaternionsFlat(e,o,e,t,e,n),Va.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,n,i,a){const o=1-i;for(let c=0;c!==a;++c){const d=t+c;e[d]=e[d]*o+e[n+c]*i}}_lerpAdditive(e,t,n,i,a){for(let o=0;o!==a;++o){const c=t+o;e[c]=e[c]+e[n+o]*i}}}const U3="\\[\\]\\.:\\/",vV=new RegExp("["+U3+"]","g"),I3="[^"+U3+"]",yV="[^"+U3.replace("\\.","")+"]",_V=/((?:WC+[\/:])*)/.source.replace("WC",I3),SV=/(WCOD+)?/.source.replace("WCOD",yV),wV=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",I3),EV=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",I3),NV=new RegExp("^"+_V+SV+wV+EV+"$"),TV=["material","materials","bones","map"];class MV{constructor(e,t,n){const i=n||sr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=n.length;i!==a;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class sr{constructor(e,t,n){this.path=t,this.parsedPath=n||sr.parseTrackName(t),this.node=sr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new sr.Composite(e,t,n):new sr(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(vV,"")}static parseTrackName(e){const t=NV.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=n.nodeName.substring(i+1);TV.indexOf(a)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=a)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(a){for(let o=0;o<a.length;o++){const c=a[o];if(c.name===t||c.uuid===t)return c;const d=n(c.children);if(d)return d}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=sr.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let f=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let g=0;g<e.length;g++)if(e[g].name===f){f=g;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const o=e[i];if(o===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+i+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?c=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}d=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(d=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}sr.Composite=MV;sr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};sr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};sr.prototype.GetterByBindingType=[sr.prototype._getValue_direct,sr.prototype._getValue_array,sr.prototype._getValue_arrayElement,sr.prototype._getValue_toArray];sr.prototype.SetterByBindingTypeAndVersioning=[[sr.prototype._setValue_direct,sr.prototype._setValue_direct_setNeedsUpdate,sr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[sr.prototype._setValue_array,sr.prototype._setValue_array_setNeedsUpdate,sr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[sr.prototype._setValue_arrayElement,sr.prototype._setValue_arrayElement_setNeedsUpdate,sr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[sr.prototype._setValue_fromArray,sr.prototype._setValue_fromArray_setNeedsUpdate,sr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class jV{constructor(){this.isAnimationObjectGroup=!0,this.uuid=yo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length;let c,d=e.length,f=this.nCachedObjects_;for(let g=0,b=arguments.length;g!==b;++g){const v=arguments[g],y=v.uuid;let w=t[y];if(w===void 0){w=d++,t[y]=w,e.push(v);for(let T=0,N=o;T!==N;++T)a[T].push(new sr(v,n[T],i[T]))}else if(w<f){c=e[w];const T=--f,N=e[T];t[N.uuid]=w,e[w]=N,t[y]=T,e[T]=v;for(let _=0,j=o;_!==j;++_){const C=a[_],A=C[T];let P=C[w];C[w]=A,P===void 0&&(P=new sr(v,n[_],i[_])),C[T]=P}}else e[w]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let a=this.nCachedObjects_;for(let o=0,c=arguments.length;o!==c;++o){const d=arguments[o],f=d.uuid,g=t[f];if(g!==void 0&&g>=a){const b=a++,v=e[b];t[v.uuid]=g,e[g]=v,t[f]=b,e[b]=d;for(let y=0,w=i;y!==w;++y){const T=n[y],N=T[b],_=T[g];T[g]=N,T[b]=_}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let a=this.nCachedObjects_,o=e.length;for(let c=0,d=arguments.length;c!==d;++c){const f=arguments[c],g=f.uuid,b=t[g];if(b!==void 0)if(delete t[g],b<a){const v=--a,y=e[v],w=--o,T=e[w];t[y.uuid]=b,e[b]=y,t[T.uuid]=v,e[v]=T,e.pop();for(let N=0,_=i;N!==_;++N){const j=n[N],C=j[v],A=j[w];j[b]=C,j[v]=A,j.pop()}}else{const v=--o,y=e[v];v>0&&(t[y.uuid]=b),e[b]=y,e.pop();for(let w=0,T=i;w!==T;++w){const N=n[w];N[b]=N[v],N.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const a=this._bindings;if(i!==void 0)return a[i];const o=this._paths,c=this._parsedPaths,d=this._objects,f=d.length,g=this.nCachedObjects_,b=new Array(f);i=a.length,n[e]=i,o.push(e),c.push(t),a.push(b);for(let v=g,y=d.length;v!==y;++v){const w=d[v];b[v]=new sr(w,e,t)}return b}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,a=this._parsedPaths,o=this._bindings,c=o.length-1,d=o[c],f=e[c];t[f]=n,o[n]=d,o.pop(),a[n]=a[c],a.pop(),i[n]=i[c],i.pop()}}}class LR{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const a=t.tracks,o=a.length,c=new Array(o),d={endingStart:Cf,endingEnd:Cf};for(let f=0;f!==o;++f){const g=a[f].createInterpolant(null);c[f]=g,g.settings=d}this._interpolantSettings=d,this._interpolants=c,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=_7,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const i=this._clip.duration,a=e._clip.duration,o=a/i,c=i/a;e.warp(1,o,t),this.warp(c,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,a=i.time,o=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=i._lendControlInterpolant(),this._timeScaleInterpolant=c);const d=c.parameterPositions,f=c.sampleValues;return d[0]=a,d[1]=a+n,f[0]=e/o,f[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const d=(e-a)*n;d<0||n===0?t=0:(this._startTime=null,t=n*d)}t*=this._updateTimeScale(e);const o=this._updateTime(t),c=this._updateWeight(e);if(c>0){const d=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case u3:for(let g=0,b=d.length;g!==b;++g)d[g].evaluate(o),f[g].accumulateAdditive(c);break;case Dy:default:for(let g=0,b=d.length;g!==b;++g)d[g].evaluate(o),f[g].accumulate(i,c)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,a=this._loopCount;const o=n===S7;if(e===0)return a===-1?i:o&&(a&1)===1?t-i:i;if(n===y7){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const c=Math.floor(i/t);i-=t*c,a+=Math.abs(c);const d=this.repetitions-a;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const f=e<0;this._setEndings(f,!f,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=i;if(o&&(a&1)===1)return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=Rf,i.endingEnd=Rf):(e?i.endingStart=this.zeroSlopeAtStart?Rf:Cf:i.endingStart=cb,t?i.endingEnd=this.zeroSlopeAtEnd?Rf:Cf:i.endingEnd=cb)}_scheduleFading(e,t,n){const i=this._mixer,a=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const c=o.parameterPositions,d=o.sampleValues;return c[0]=a,d[0]=t,c[1]=a+e,d[1]=n,this}}const AV=new Float32Array(1);class CV extends Kc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,a=i.length,o=e._propertyBindings,c=e._interpolants,d=n.uuid,f=this._bindingsByRootAndName;let g=f[d];g===void 0&&(g={},f[d]=g);for(let b=0;b!==a;++b){const v=i[b],y=v.name;let w=g[y];if(w!==void 0)++w.referenceCount,o[b]=w;else{if(w=o[b],w!==void 0){w._cacheIndex===null&&(++w.referenceCount,this._addInactiveBinding(w,d,y));continue}const T=t&&t._propertyBindings[b].binding.parsedPath;w=new PR(sr.create(n,y,T),v.ValueTypeName,v.getValueSize()),++w.referenceCount,this._addInactiveBinding(w,d,y),o[b]=w}c[b].resultBuffer=w.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,a=this._actionsByClip;let o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{const c=o.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,c=o[a],d=c.knownActions,f=d[d.length-1],g=e._byClipCacheIndex;f._byClipCacheIndex=g,d[g]=f,d.pop(),e._byClipCacheIndex=null;const b=c.actionByRoot,v=(e._localRoot||this._root).uuid;delete b[v],d.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,a=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[n]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,a=n.path,o=this._bindingsByRootAndName,c=o[i],d=t[t.length-1],f=e._cacheIndex;d._cacheIndex=f,t[f]=d,t.pop(),delete c[a],Object.keys(c).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new R3(new Float32Array(2),new Float32Array(2),1,AV),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=n,t[n]=a}clipAction(e,t,n){const i=t||this._root,a=i.uuid;let o=typeof e=="string"?xb.findByName(i,e):e;const c=o!==null?o.uuid:e,d=this._actionsByClip[c];let f=null;if(n===void 0&&(o!==null?n=o.blendMode:n=Dy),d!==void 0){const b=d.actionByRoot[a];if(b!==void 0&&b.blendMode===n)return b;f=d.knownActions[0],o===null&&(o=f._clip)}if(o===null)return null;const g=new LR(this,o,t,n);return this._bindAction(g,f),this._addInactiveAction(g,c,a),g}existingAction(e,t){const n=t||this._root,i=n.uuid,a=typeof e=="string"?xb.findByName(n,e):e,o=a?a.uuid:e,c=this._actionsByClip[o];return c!==void 0&&c.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let f=0;f!==n;++f)t[f]._update(i,e,a,o);const c=this._bindings,d=this._nActiveBindings;for(let f=0;f!==d;++f)c[f].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,a=i[n];if(a!==void 0){const o=a.knownActions;for(let c=0,d=o.length;c!==d;++c){const f=o[c];this._deactivateAction(f);const g=f._cacheIndex,b=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,b._cacheIndex=g,t[g]=b,t.pop(),this._removeInactiveBindingsForAction(f)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const c=n[o].actionByRoot,d=c[t];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const o in a){const c=a[o];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class RV extends f3{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=n,this.texture=new Ly(null,e,t,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class B3{constructor(e){this.value=e}clone(){return new B3(this.value.clone===void 0?this.value:this.value.clone())}}let OV=0;class DV extends Kc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:OV++}),this.name="",this.usage=db,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,i=t.length;n<i;n++){const a=Array.isArray(t[n])?t[n]:[t[n]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class PV extends By{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class LV{constructor(e,t,n,i,a,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=a,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Fj=new xn;class zR{constructor(e,t,n=0,i=1/0){this.ray=new d0(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new Kp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Fj.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Fj),this}intersectObject(e,t=!0,n=[]){return Hw(e,this,n,t),n.sort(qj),n}intersectObjects(e,t=!0,n=[]){for(let i=0,a=e.length;i<a;i++)Hw(e[i],this,n,t);return n.sort(qj),n}}function qj(r,e){return r.distance-e.distance}function Hw(r,e,t,n){let i=!0;if(r.layers.test(e.layers)&&r.raycast(e,t)===!1&&(i=!1),i===!0&&n===!0){const a=r.children;for(let o=0,c=a.length;o<c;o++)Hw(a[o],e,t,!0)}}class zV{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=UV.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function UV(){this._document.hidden===!1&&this.reset()}class IV{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=pn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(pn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class BV{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class k3{constructor(e,t,n,i){k3.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,i){const a=this.elements;return a[0]=e,a[2]=t,a[1]=n,a[3]=i,this}}const Gj=new dt;class kV{constructor(e=new dt(1/0,1/0),t=new dt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Gj.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Gj).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Wj=new ve,kv=new ve,pp=new ve,gp=new ve,aS=new ve,HV=new ve,VV=new ve;class FV{constructor(e=new ve,t=new ve){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Wj.subVectors(e,this.start),kv.subVectors(this.end,this.start);const n=kv.dot(kv);let a=kv.dot(Wj)/n;return t&&(a=pn(a,0,1)),a}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,t=HV,n=VV){const i=10000000000000001e-32;let a,o;const c=this.start,d=e.start,f=this.end,g=e.end;pp.subVectors(f,c),gp.subVectors(g,d),aS.subVectors(c,d);const b=pp.dot(pp),v=gp.dot(gp),y=gp.dot(aS);if(b<=i&&v<=i)return t.copy(c),n.copy(d),t.sub(n),t.dot(t);if(b<=i)a=0,o=y/v,o=pn(o,0,1);else{const w=pp.dot(aS);if(v<=i)o=0,a=pn(-w/b,0,1);else{const T=pp.dot(gp),N=b*v-T*T;N!==0?a=pn((T*y-w*v)/N,0,1):a=0,o=(T*a+y)/v,o<0?(o=0,a=pn(-w/b,0,1)):o>1&&(o=1,a=pn((T-w)/b,0,1))}}return t.copy(c).add(pp.multiplyScalar(a)),n.copy(d).add(gp.multiplyScalar(o)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Xj=new ve;class qV extends nr{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Dn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,c=1,d=32;o<d;o++,c++){const f=o/d*Math.PI*2,g=c/d*Math.PI*2;i.push(Math.cos(f),Math.sin(f),1,Math.cos(g),Math.sin(g),1)}n.setAttribute("position",new Ft(i,3));const a=new va({fog:!1,toneMapped:!1});this.cone=new Jc(n,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Xj.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Xj),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Zd=new ve,Hv=new xn,oS=new xn;class GV extends Jc{constructor(e){const t=UR(e),n=new Dn,i=[],a=[];for(let f=0;f<t.length;f++){const g=t[f];g.parent&&g.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}n.setAttribute("position",new Ft(i,3)),n.setAttribute("color",new Ft(a,3));const o=new va({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const c=new Ot(255),d=new Ot(65280);this.setColors(c,d)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");oS.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){const c=t[a];c.parent&&c.parent.isBone&&(Hv.multiplyMatrices(oS,c.matrixWorld),Zd.setFromMatrixPosition(Hv),i.setXYZ(o,Zd.x,Zd.y,Zd.z),Hv.multiplyMatrices(oS,c.parent.matrixWorld),Zd.setFromMatrixPosition(Hv),i.setXYZ(o+1,Zd.x,Zd.y,Zd.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const i=this.geometry.getAttribute("color");for(let a=0;a<i.count;a+=2)i.setXYZ(a,e.r,e.g,e.b),i.setXYZ(a+1,t.r,t.g,t.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function UR(r){const e=[];r.isBone===!0&&e.push(r);for(let t=0;t<r.children.length;t++)e.push(...UR(r.children[t]));return e}class WV extends Li{constructor(e,t,n){const i=new Ub(t,4,2),a=new yh({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const XV=new ve,Yj=new Ot,Zj=new Ot;class YV extends nr{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new zb(t);i.rotateY(Math.PI*.5),this.material=new yh({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),o=new Float32Array(a.count*3);i.setAttribute("color",new jr(o,3)),this.add(new Li(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Yj.copy(this.light.color),Zj.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const a=n<i/2?Yj:Zj;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(XV.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ZV extends Jc{constructor(e=10,t=10,n=4473924,i=8947848){n=new Ot(n),i=new Ot(i);const a=t/2,o=e/t,c=e/2,d=[],f=[];for(let v=0,y=0,w=-c;v<=t;v++,w+=o){d.push(-c,0,w,c,0,w),d.push(w,0,-c,w,0,c);const T=v===a?n:i;T.toArray(f,y),y+=3,T.toArray(f,y),y+=3,T.toArray(f,y),y+=3,T.toArray(f,y),y+=3}const g=new Dn;g.setAttribute("position",new Ft(d,3)),g.setAttribute("color",new Ft(f,3));const b=new va({vertexColors:!0,toneMapped:!1});super(g,b),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class KV extends Jc{constructor(e=10,t=16,n=8,i=64,a=4473924,o=8947848){a=new Ot(a),o=new Ot(o);const c=[],d=[];if(t>1)for(let b=0;b<t;b++){const v=b/t*(Math.PI*2),y=Math.sin(v)*e,w=Math.cos(v)*e;c.push(0,0,0),c.push(y,0,w);const T=b&1?a:o;d.push(T.r,T.g,T.b),d.push(T.r,T.g,T.b)}for(let b=0;b<n;b++){const v=b&1?a:o,y=e-e/n*b;for(let w=0;w<i;w++){let T=w/i*(Math.PI*2),N=Math.sin(T)*y,_=Math.cos(T)*y;c.push(N,0,_),d.push(v.r,v.g,v.b),T=(w+1)/i*(Math.PI*2),N=Math.sin(T)*y,_=Math.cos(T)*y,c.push(N,0,_),d.push(v.r,v.g,v.b)}}const f=new Dn;f.setAttribute("position",new Ft(c,3)),f.setAttribute("color",new Ft(d,3));const g=new va({vertexColors:!0,toneMapped:!1});super(f,g),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Kj=new ve,Vv=new ve,Jj=new ve;class JV extends nr{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Dn;i.setAttribute("position",new Ft([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new va({fog:!1,toneMapped:!1});this.lightPlane=new gh(i,a),this.add(this.lightPlane),i=new Dn,i.setAttribute("position",new Ft([0,0,0,0,0,1],3)),this.targetLine=new gh(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Kj.setFromMatrixPosition(this.light.matrixWorld),Vv.setFromMatrixPosition(this.light.target.matrixWorld),Jj.subVectors(Vv,Kj),this.lightPlane.lookAt(Vv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Vv),this.targetLine.scale.z=Jj.length()}}const Fv=new ve,mi=new zy;class QV extends Jc{constructor(e){const t=new Dn,n=new va({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],o={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(w,T){d(w),d(T)}function d(w){i.push(0,0,0),a.push(0,0,0),o[w]===void 0&&(o[w]=[]),o[w].push(i.length/3-1)}t.setAttribute("position",new Ft(i,3)),t.setAttribute("color",new Ft(a,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const f=new Ot(16755200),g=new Ot(16711680),b=new Ot(43775),v=new Ot(16777215),y=new Ot(3355443);this.setColors(f,g,b,v,y)}setColors(e,t,n,i,a){const c=this.geometry.getAttribute("color");return c.setXYZ(0,e.r,e.g,e.b),c.setXYZ(1,e.r,e.g,e.b),c.setXYZ(2,e.r,e.g,e.b),c.setXYZ(3,e.r,e.g,e.b),c.setXYZ(4,e.r,e.g,e.b),c.setXYZ(5,e.r,e.g,e.b),c.setXYZ(6,e.r,e.g,e.b),c.setXYZ(7,e.r,e.g,e.b),c.setXYZ(8,e.r,e.g,e.b),c.setXYZ(9,e.r,e.g,e.b),c.setXYZ(10,e.r,e.g,e.b),c.setXYZ(11,e.r,e.g,e.b),c.setXYZ(12,e.r,e.g,e.b),c.setXYZ(13,e.r,e.g,e.b),c.setXYZ(14,e.r,e.g,e.b),c.setXYZ(15,e.r,e.g,e.b),c.setXYZ(16,e.r,e.g,e.b),c.setXYZ(17,e.r,e.g,e.b),c.setXYZ(18,e.r,e.g,e.b),c.setXYZ(19,e.r,e.g,e.b),c.setXYZ(20,e.r,e.g,e.b),c.setXYZ(21,e.r,e.g,e.b),c.setXYZ(22,e.r,e.g,e.b),c.setXYZ(23,e.r,e.g,e.b),c.setXYZ(24,t.r,t.g,t.b),c.setXYZ(25,t.r,t.g,t.b),c.setXYZ(26,t.r,t.g,t.b),c.setXYZ(27,t.r,t.g,t.b),c.setXYZ(28,t.r,t.g,t.b),c.setXYZ(29,t.r,t.g,t.b),c.setXYZ(30,t.r,t.g,t.b),c.setXYZ(31,t.r,t.g,t.b),c.setXYZ(32,n.r,n.g,n.b),c.setXYZ(33,n.r,n.g,n.b),c.setXYZ(34,n.r,n.g,n.b),c.setXYZ(35,n.r,n.g,n.b),c.setXYZ(36,n.r,n.g,n.b),c.setXYZ(37,n.r,n.g,n.b),c.setXYZ(38,i.r,i.g,i.b),c.setXYZ(39,i.r,i.g,i.b),c.setXYZ(40,a.r,a.g,a.b),c.setXYZ(41,a.r,a.g,a.b),c.setXYZ(42,a.r,a.g,a.b),c.setXYZ(43,a.r,a.g,a.b),c.setXYZ(44,a.r,a.g,a.b),c.setXYZ(45,a.r,a.g,a.b),c.setXYZ(46,a.r,a.g,a.b),c.setXYZ(47,a.r,a.g,a.b),c.setXYZ(48,a.r,a.g,a.b),c.setXYZ(49,a.r,a.g,a.b),c.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,n=1,i=1;let a,o;if(mi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,o=0;else if(this.camera.coordinateSystem===vo)a=-1,o=1;else if(this.camera.coordinateSystem===Yp)a=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Ni("c",t,e,mi,0,0,a),Ni("t",t,e,mi,0,0,o),Ni("n1",t,e,mi,-n,-i,a),Ni("n2",t,e,mi,n,-i,a),Ni("n3",t,e,mi,-n,i,a),Ni("n4",t,e,mi,n,i,a),Ni("f1",t,e,mi,-n,-i,o),Ni("f2",t,e,mi,n,-i,o),Ni("f3",t,e,mi,-n,i,o),Ni("f4",t,e,mi,n,i,o),Ni("u1",t,e,mi,n*.7,i*1.1,a),Ni("u2",t,e,mi,-n*.7,i*1.1,a),Ni("u3",t,e,mi,0,i*2,a),Ni("cf1",t,e,mi,-n,0,o),Ni("cf2",t,e,mi,n,0,o),Ni("cf3",t,e,mi,0,-i,o),Ni("cf4",t,e,mi,0,i,o),Ni("cn1",t,e,mi,-n,0,a),Ni("cn2",t,e,mi,n,0,a),Ni("cn3",t,e,mi,0,-i,a),Ni("cn4",t,e,mi,0,i,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ni(r,e,t,n,i,a,o){Fv.set(i,a,o).unproject(n);const c=e[r];if(c!==void 0){const d=t.getAttribute("position");for(let f=0,g=c.length;f<g;f++)d.setXYZ(c[f],Fv.x,Fv.y,Fv.z)}}const qv=new Ws;class $V extends Jc{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),a=new Dn;a.setIndex(new jr(n,1)),a.setAttribute("position",new jr(i,3)),super(a,new va({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&qv.setFromObject(this.object),qv.isEmpty())return;const e=qv.min,t=qv.max,n=this.geometry.attributes.position,i=n.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class eF extends Jc{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Dn;a.setIndex(new jr(n,1)),a.setAttribute("position",new Ft(i,3)),super(a,new va({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class tF extends gh{constructor(e,t=1,n=16776960){const i=n,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Dn;o.setAttribute("position",new Ft(a,3)),o.computeBoundingSphere(),super(o,new va({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new Dn;d.setAttribute("position",new Ft(c,3)),d.computeBoundingSphere(),this.add(new Li(d,new yh({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Qj=new ve;let Gv,lS;class nF extends nr{constructor(e=new ve(0,0,1),t=new ve(0,0,0),n=1,i=16776960,a=n*.2,o=a*.2){super(),this.type="ArrowHelper",Gv===void 0&&(Gv=new Dn,Gv.setAttribute("position",new Ft([0,0,0,0,1,0],3)),lS=new Lb(.5,1,5,1),lS.translate(0,-.5,0)),this.position.copy(t),this.line=new gh(Gv,new va({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Li(lS,new yh({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Qj.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Qj,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class rF extends Jc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Dn;i.setAttribute("position",new Ft(t,3)),i.setAttribute("color",new Ft(n,3));const a=new va({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,n){const i=new Ot,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(n),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class iF{constructor(){this.type="ShapePath",this.color=new Ot,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ay,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,a,o){return this.currentPath.bezierCurveTo(e,t,n,i,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const j=[];for(let C=0,A=_.length;C<A;C++){const P=_[C],U=new Uf;U.curves=P.curves,j.push(U)}return j}function n(_,j){const C=j.length;let A=!1;for(let P=C-1,U=0;U<C;P=U++){let B=j[P],F=j[U],k=F.x-B.x,z=F.y-B.y;if(Math.abs(z)>Number.EPSILON){if(z<0&&(B=j[U],k=-k,F=j[P],z=-z),_.y<B.y||_.y>F.y)continue;if(_.y===B.y){if(_.x===B.x)return!0}else{const V=z*(_.x-B.x)-k*(_.y-B.y);if(V===0)return!0;if(V<0)continue;A=!A}}else{if(_.y!==B.y)continue;if(F.x<=_.x&&_.x<=B.x||B.x<=_.x&&_.x<=F.x)return!0}}return A}const i=Gl.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,c,d;const f=[];if(a.length===1)return c=a[0],d=new Uf,d.curves=c.curves,f.push(d),f;let g=!i(a[0].getPoints());g=e?!g:g;const b=[],v=[];let y=[],w=0,T;v[w]=void 0,y[w]=[];for(let _=0,j=a.length;_<j;_++)c=a[_],T=c.getPoints(),o=i(T),o=e?!o:o,o?(!g&&v[w]&&w++,v[w]={s:new Uf,p:T},v[w].s.curves=c.curves,g&&w++,y[w]=[]):y[w].push({h:c,p:T[0]});if(!v[0])return t(a);if(v.length>1){let _=!1,j=0;for(let C=0,A=v.length;C<A;C++)b[C]=[];for(let C=0,A=v.length;C<A;C++){const P=y[C];for(let U=0;U<P.length;U++){const B=P[U];let F=!0;for(let k=0;k<v.length;k++)n(B.p,v[k].p)&&(C!==k&&j++,F?(F=!1,b[k].push(B)):_=!0);F&&b[C].push(B)}}j>0&&_===!1&&(y=b)}let N;for(let _=0,j=v.length;_<j;_++){d=v[_].s,f.push(d),N=y[_];for(let C=0,A=N.length;C<A;C++)d.holes.push(N[C].h)}return f}}class sF extends Kc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function aF(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2):(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0),r}function oF(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0):(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2),r}function lF(r){return r.repeat.x=1,r.repeat.y=1,r.offset.x=0,r.offset.y=0,r}function Vw(r,e,t,n){const i=cF(n);switch(t){case a3:return r*e;case Cy:return r*e/i.components*i.byteLength;case Ob:return r*e/i.components*i.byteLength;case l3:return r*e*2/i.components*i.byteLength;case Ry:return r*e*2/i.components*i.byteLength;case o3:return r*e*3/i.components*i.byteLength;case Gs:return r*e*4/i.components*i.byteLength;case Oy:return r*e*4/i.components*i.byteLength;case Bg:case kg:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case Hg:case Vg:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case R1:case D1:return Math.max(r,16)*Math.max(e,8)/4;case C1:case O1:return Math.max(r,8)*Math.max(e,8)/2;case P1:case L1:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case z1:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case U1:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case I1:return Math.floor((r+4)/5)*Math.floor((e+3)/4)*16;case B1:return Math.floor((r+4)/5)*Math.floor((e+4)/5)*16;case k1:return Math.floor((r+5)/6)*Math.floor((e+4)/5)*16;case H1:return Math.floor((r+5)/6)*Math.floor((e+5)/6)*16;case V1:return Math.floor((r+7)/8)*Math.floor((e+4)/5)*16;case F1:return Math.floor((r+7)/8)*Math.floor((e+5)/6)*16;case q1:return Math.floor((r+7)/8)*Math.floor((e+7)/8)*16;case G1:return Math.floor((r+9)/10)*Math.floor((e+4)/5)*16;case W1:return Math.floor((r+9)/10)*Math.floor((e+5)/6)*16;case X1:return Math.floor((r+9)/10)*Math.floor((e+7)/8)*16;case Y1:return Math.floor((r+9)/10)*Math.floor((e+9)/10)*16;case Z1:return Math.floor((r+11)/12)*Math.floor((e+9)/10)*16;case K1:return Math.floor((r+11)/12)*Math.floor((e+11)/12)*16;case Fg:case J1:case Q1:return Math.ceil(r/4)*Math.ceil(e/4)*16;case c3:case $1:return Math.ceil(r/4)*Math.ceil(e/4)*8;case ey:case ty:return Math.ceil(r/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function cF(r){switch(r){case il:case r3:return{byteLength:1,components:1};case qp:case i3:case u0:return{byteLength:2,components:1};case jy:case Ay:return{byteLength:2,components:4};case Qu:case My:case Ha:return{byteLength:4,components:1};case s3:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${r}.`)}class uF{static contain(e,t){return aF(e,t)}static cover(e,t){return oF(e,t)}static fill(e){return lF(e)}static getByteLength(e,t,n,i){return Vw(e,t,n,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ey}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ey);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function IR(){let r=null,e=!1,t=null,n=null;function i(a,o){t(a,o),n=r.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=r.requestAnimationFrame(i),e=!0)},stop:function(){r.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){r=a}}}function dF(r){const e=new WeakMap;function t(c,d){const f=c.array,g=c.usage,b=f.byteLength,v=r.createBuffer();r.bindBuffer(d,v),r.bufferData(d,f,g),c.onUploadCallback();let y;if(f instanceof Float32Array)y=r.FLOAT;else if(typeof Float16Array<"u"&&f instanceof Float16Array)y=r.HALF_FLOAT;else if(f instanceof Uint16Array)c.isFloat16BufferAttribute?y=r.HALF_FLOAT:y=r.UNSIGNED_SHORT;else if(f instanceof Int16Array)y=r.SHORT;else if(f instanceof Uint32Array)y=r.UNSIGNED_INT;else if(f instanceof Int32Array)y=r.INT;else if(f instanceof Int8Array)y=r.BYTE;else if(f instanceof Uint8Array)y=r.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)y=r.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:v,type:y,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version,size:b}}function n(c,d,f){const g=d.array,b=d.updateRanges;if(r.bindBuffer(f,c),b.length===0)r.bufferSubData(f,0,g);else{b.sort((y,w)=>y.start-w.start);let v=0;for(let y=1;y<b.length;y++){const w=b[v],T=b[y];T.start<=w.start+w.count+1?w.count=Math.max(w.count,T.start+T.count-w.start):(++v,b[v]=T)}b.length=v+1;for(let y=0,w=b.length;y<w;y++){const T=b[y];r.bufferSubData(f,T.start*g.BYTES_PER_ELEMENT,g,T.start,T.count)}d.clearUpdateRanges()}d.onUploadCallback()}function i(c){return c.isInterleavedBufferAttribute&&(c=c.data),e.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=e.get(c);d&&(r.deleteBuffer(d.buffer),e.delete(c))}function o(c,d){if(c.isInterleavedBufferAttribute&&(c=c.data),c.isGLBufferAttribute){const g=e.get(c);(!g||g.version<c.version)&&e.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}const f=e.get(c);if(f===void 0)e.set(c,t(c,d));else if(f.version<c.version){if(f.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(f.buffer,c,d),f.version=c.version}}return{get:i,remove:a,update:o}}var hF=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,fF=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,mF=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,pF=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,gF=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,bF=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,xF=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,vF=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,yF=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,_F=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,SF=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,wF=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,EF=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,NF=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,TF=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,MF=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,jF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,AF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,CF=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,RF=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,OF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,DF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,PF=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,LF=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,zF=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,UF=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,IF=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,BF=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,kF=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,HF=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,VF="gl_FragColor = linearToOutputTexel( gl_FragColor );",FF=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,qF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,GF=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,WF=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,XF=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,YF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ZF=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,KF=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,JF=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,QF=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,$F=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,eq=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,tq=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,nq=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,rq=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,iq=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,sq=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,aq=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,oq=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lq=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,cq=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,uq=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,dq=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,hq=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,fq=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,mq=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,pq=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,gq=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,bq=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,xq=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,vq=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,yq=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,_q=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Sq=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,wq=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Eq=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Nq=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Tq=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Mq=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,jq=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Aq=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Cq=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Rq=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Oq=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Dq=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Pq=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Lq=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,zq=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Uq=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Iq=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Bq=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,kq=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Hq=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Vq=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Fq=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,qq=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Gq=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Wq=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Xq=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSEDEPTHBUF
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSEDEPTHBUF
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare , distribution.x );
		#endif
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Yq=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Zq=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Kq=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Jq=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Qq=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,$q=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,eG=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,tG=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,nG=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,rG=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,iG=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,sG=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,aG=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,oG=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,lG=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cG=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,uG=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const dG=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,hG=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fG=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,mG=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,pG=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gG=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bG=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,xG=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSEDEPTHBUF
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vG=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,yG=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,_G=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,SG=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wG=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,EG=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,NG=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,TG=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MG=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jG=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AG=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,CG=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RG=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,OG=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,DG=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PG=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LG=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,zG=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UG=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,IG=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BG=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,kG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,HG=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VG=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,FG=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,qG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,zn={alphahash_fragment:hF,alphahash_pars_fragment:fF,alphamap_fragment:mF,alphamap_pars_fragment:pF,alphatest_fragment:gF,alphatest_pars_fragment:bF,aomap_fragment:xF,aomap_pars_fragment:vF,batching_pars_vertex:yF,batching_vertex:_F,begin_vertex:SF,beginnormal_vertex:wF,bsdfs:EF,iridescence_fragment:NF,bumpmap_pars_fragment:TF,clipping_planes_fragment:MF,clipping_planes_pars_fragment:jF,clipping_planes_pars_vertex:AF,clipping_planes_vertex:CF,color_fragment:RF,color_pars_fragment:OF,color_pars_vertex:DF,color_vertex:PF,common:LF,cube_uv_reflection_fragment:zF,defaultnormal_vertex:UF,displacementmap_pars_vertex:IF,displacementmap_vertex:BF,emissivemap_fragment:kF,emissivemap_pars_fragment:HF,colorspace_fragment:VF,colorspace_pars_fragment:FF,envmap_fragment:qF,envmap_common_pars_fragment:GF,envmap_pars_fragment:WF,envmap_pars_vertex:XF,envmap_physical_pars_fragment:iq,envmap_vertex:YF,fog_vertex:ZF,fog_pars_vertex:KF,fog_fragment:JF,fog_pars_fragment:QF,gradientmap_pars_fragment:$F,lightmap_pars_fragment:eq,lights_lambert_fragment:tq,lights_lambert_pars_fragment:nq,lights_pars_begin:rq,lights_toon_fragment:sq,lights_toon_pars_fragment:aq,lights_phong_fragment:oq,lights_phong_pars_fragment:lq,lights_physical_fragment:cq,lights_physical_pars_fragment:uq,lights_fragment_begin:dq,lights_fragment_maps:hq,lights_fragment_end:fq,logdepthbuf_fragment:mq,logdepthbuf_pars_fragment:pq,logdepthbuf_pars_vertex:gq,logdepthbuf_vertex:bq,map_fragment:xq,map_pars_fragment:vq,map_particle_fragment:yq,map_particle_pars_fragment:_q,metalnessmap_fragment:Sq,metalnessmap_pars_fragment:wq,morphinstance_vertex:Eq,morphcolor_vertex:Nq,morphnormal_vertex:Tq,morphtarget_pars_vertex:Mq,morphtarget_vertex:jq,normal_fragment_begin:Aq,normal_fragment_maps:Cq,normal_pars_fragment:Rq,normal_pars_vertex:Oq,normal_vertex:Dq,normalmap_pars_fragment:Pq,clearcoat_normal_fragment_begin:Lq,clearcoat_normal_fragment_maps:zq,clearcoat_pars_fragment:Uq,iridescence_pars_fragment:Iq,opaque_fragment:Bq,packing:kq,premultiplied_alpha_fragment:Hq,project_vertex:Vq,dithering_fragment:Fq,dithering_pars_fragment:qq,roughnessmap_fragment:Gq,roughnessmap_pars_fragment:Wq,shadowmap_pars_fragment:Xq,shadowmap_pars_vertex:Yq,shadowmap_vertex:Zq,shadowmask_pars_fragment:Kq,skinbase_vertex:Jq,skinning_pars_vertex:Qq,skinning_vertex:$q,skinnormal_vertex:eG,specularmap_fragment:tG,specularmap_pars_fragment:nG,tonemapping_fragment:rG,tonemapping_pars_fragment:iG,transmission_fragment:sG,transmission_pars_fragment:aG,uv_pars_fragment:oG,uv_pars_vertex:lG,uv_vertex:cG,worldpos_vertex:uG,background_vert:dG,background_frag:hG,backgroundCube_vert:fG,backgroundCube_frag:mG,cube_vert:pG,cube_frag:gG,depth_vert:bG,depth_frag:xG,distanceRGBA_vert:vG,distanceRGBA_frag:yG,equirect_vert:_G,equirect_frag:SG,linedashed_vert:wG,linedashed_frag:EG,meshbasic_vert:NG,meshbasic_frag:TG,meshlambert_vert:MG,meshlambert_frag:jG,meshmatcap_vert:AG,meshmatcap_frag:CG,meshnormal_vert:RG,meshnormal_frag:OG,meshphong_vert:DG,meshphong_frag:PG,meshphysical_vert:LG,meshphysical_frag:zG,meshtoon_vert:UG,meshtoon_frag:IG,points_vert:BG,points_frag:kG,shadow_vert:HG,shadow_frag:VG,sprite_vert:FG,sprite_frag:qG},Mt={common:{diffuse:{value:new Ot(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new jn},alphaMap:{value:null},alphaMapTransform:{value:new jn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new jn}},envmap:{envMap:{value:null},envMapRotation:{value:new jn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new jn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new jn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new jn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new jn},normalScale:{value:new dt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new jn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new jn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new jn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new jn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ot(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ot(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new jn},alphaTest:{value:0},uvTransform:{value:new jn}},sprite:{diffuse:{value:new Ot(16777215)},opacity:{value:1},center:{value:new dt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new jn},alphaMap:{value:null},alphaMapTransform:{value:new jn},alphaTest:{value:0}}},Fl={basic:{uniforms:ma([Mt.common,Mt.specularmap,Mt.envmap,Mt.aomap,Mt.lightmap,Mt.fog]),vertexShader:zn.meshbasic_vert,fragmentShader:zn.meshbasic_frag},lambert:{uniforms:ma([Mt.common,Mt.specularmap,Mt.envmap,Mt.aomap,Mt.lightmap,Mt.emissivemap,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,Mt.fog,Mt.lights,{emissive:{value:new Ot(0)}}]),vertexShader:zn.meshlambert_vert,fragmentShader:zn.meshlambert_frag},phong:{uniforms:ma([Mt.common,Mt.specularmap,Mt.envmap,Mt.aomap,Mt.lightmap,Mt.emissivemap,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,Mt.fog,Mt.lights,{emissive:{value:new Ot(0)},specular:{value:new Ot(1118481)},shininess:{value:30}}]),vertexShader:zn.meshphong_vert,fragmentShader:zn.meshphong_frag},standard:{uniforms:ma([Mt.common,Mt.envmap,Mt.aomap,Mt.lightmap,Mt.emissivemap,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,Mt.roughnessmap,Mt.metalnessmap,Mt.fog,Mt.lights,{emissive:{value:new Ot(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:zn.meshphysical_vert,fragmentShader:zn.meshphysical_frag},toon:{uniforms:ma([Mt.common,Mt.aomap,Mt.lightmap,Mt.emissivemap,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,Mt.gradientmap,Mt.fog,Mt.lights,{emissive:{value:new Ot(0)}}]),vertexShader:zn.meshtoon_vert,fragmentShader:zn.meshtoon_frag},matcap:{uniforms:ma([Mt.common,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,Mt.fog,{matcap:{value:null}}]),vertexShader:zn.meshmatcap_vert,fragmentShader:zn.meshmatcap_frag},points:{uniforms:ma([Mt.points,Mt.fog]),vertexShader:zn.points_vert,fragmentShader:zn.points_frag},dashed:{uniforms:ma([Mt.common,Mt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:zn.linedashed_vert,fragmentShader:zn.linedashed_frag},depth:{uniforms:ma([Mt.common,Mt.displacementmap]),vertexShader:zn.depth_vert,fragmentShader:zn.depth_frag},normal:{uniforms:ma([Mt.common,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,{opacity:{value:1}}]),vertexShader:zn.meshnormal_vert,fragmentShader:zn.meshnormal_frag},sprite:{uniforms:ma([Mt.sprite,Mt.fog]),vertexShader:zn.sprite_vert,fragmentShader:zn.sprite_frag},background:{uniforms:{uvTransform:{value:new jn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:zn.background_vert,fragmentShader:zn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new jn}},vertexShader:zn.backgroundCube_vert,fragmentShader:zn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:zn.cube_vert,fragmentShader:zn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:zn.equirect_vert,fragmentShader:zn.equirect_frag},distanceRGBA:{uniforms:ma([Mt.common,Mt.displacementmap,{referencePosition:{value:new ve},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:zn.distanceRGBA_vert,fragmentShader:zn.distanceRGBA_frag},shadow:{uniforms:ma([Mt.lights,Mt.fog,{color:{value:new Ot(0)},opacity:{value:1}}]),vertexShader:zn.shadow_vert,fragmentShader:zn.shadow_frag}};Fl.physical={uniforms:ma([Fl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new jn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new jn},clearcoatNormalScale:{value:new dt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new jn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new jn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new jn},sheen:{value:0},sheenColor:{value:new Ot(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new jn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new jn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new jn},transmissionSamplerSize:{value:new dt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new jn},attenuationDistance:{value:0},attenuationColor:{value:new Ot(0)},specularColor:{value:new Ot(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new jn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new jn},anisotropyVector:{value:new dt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new jn}}]),vertexShader:zn.meshphysical_vert,fragmentShader:zn.meshphysical_frag};const Wv={r:0,b:0,g:0},xf=new _o,GG=new xn;function WG(r,e,t,n,i,a,o){const c=new Ot(0);let d=a===!0?0:1,f,g,b=null,v=0,y=null;function w(C){let A=C.isScene===!0?C.background:null;return A&&A.isTexture&&(A=(C.backgroundBlurriness>0?t:e).get(A)),A}function T(C){let A=!1;const P=w(C);P===null?_(c,d):P&&P.isColor&&(_(P,1),A=!0);const U=r.xr.getEnvironmentBlendMode();U==="additive"?n.buffers.color.setClear(0,0,0,1,o):U==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,o),(r.autoClear||A)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil))}function N(C,A){const P=w(A);P&&(P.isCubeTexture||P.mapping===c0)?(g===void 0&&(g=new Li(new Wf(1,1,1),new Xl({name:"BackgroundCubeMaterial",uniforms:Jp(Fl.backgroundCube.uniforms),vertexShader:Fl.backgroundCube.vertexShader,fragmentShader:Fl.backgroundCube.fragmentShader,side:xa,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),g.geometry.deleteAttribute("normal"),g.geometry.deleteAttribute("uv"),g.onBeforeRender=function(U,B,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(g.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(g)),xf.copy(A.backgroundRotation),xf.x*=-1,xf.y*=-1,xf.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(xf.y*=-1,xf.z*=-1),g.material.uniforms.envMap.value=P,g.material.uniforms.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,g.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,g.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,g.material.uniforms.backgroundRotation.value.setFromMatrix4(GG.makeRotationFromEuler(xf)),g.material.toneMapped=Qn.getTransfer(P.colorSpace)!==xr,(b!==P||v!==P.version||y!==r.toneMapping)&&(g.material.needsUpdate=!0,b=P,v=P.version,y=r.toneMapping),g.layers.enableAll(),C.unshift(g,g.geometry,g.material,0,0,null)):P&&P.isTexture&&(f===void 0&&(f=new Li(new f0(2,2),new Xl({name:"BackgroundMaterial",uniforms:Jp(Fl.background.uniforms),vertexShader:Fl.background.vertexShader,fragmentShader:Fl.background.fragmentShader,side:Ku,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(f)),f.material.uniforms.t2D.value=P,f.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,f.material.toneMapped=Qn.getTransfer(P.colorSpace)!==xr,P.matrixAutoUpdate===!0&&P.updateMatrix(),f.material.uniforms.uvTransform.value.copy(P.matrix),(b!==P||v!==P.version||y!==r.toneMapping)&&(f.material.needsUpdate=!0,b=P,v=P.version,y=r.toneMapping),f.layers.enableAll(),C.unshift(f,f.geometry,f.material,0,0,null))}function _(C,A){C.getRGB(Wv,U7(r)),n.buffers.color.setClear(Wv.r,Wv.g,Wv.b,A,o)}function j(){g!==void 0&&(g.geometry.dispose(),g.material.dispose(),g=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return c},setClearColor:function(C,A=1){c.set(C),d=A,_(c,d)},getClearAlpha:function(){return d},setClearAlpha:function(C){d=C,_(c,d)},render:T,addToRenderList:N,dispose:j}}function XG(r,e){const t=r.getParameter(r.MAX_VERTEX_ATTRIBS),n={},i=v(null);let a=i,o=!1;function c(z,V,X,J,ee){let te=!1;const W=b(J,X,V);a!==W&&(a=W,f(a.object)),te=y(z,J,X,ee),te&&w(z,J,X,ee),ee!==null&&e.update(ee,r.ELEMENT_ARRAY_BUFFER),(te||o)&&(o=!1,A(z,V,X,J),ee!==null&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.get(ee).buffer))}function d(){return r.createVertexArray()}function f(z){return r.bindVertexArray(z)}function g(z){return r.deleteVertexArray(z)}function b(z,V,X){const J=X.wireframe===!0;let ee=n[z.id];ee===void 0&&(ee={},n[z.id]=ee);let te=ee[V.id];te===void 0&&(te={},ee[V.id]=te);let W=te[J];return W===void 0&&(W=v(d()),te[J]=W),W}function v(z){const V=[],X=[],J=[];for(let ee=0;ee<t;ee++)V[ee]=0,X[ee]=0,J[ee]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:V,enabledAttributes:X,attributeDivisors:J,object:z,attributes:{},index:null}}function y(z,V,X,J){const ee=a.attributes,te=V.attributes;let W=0;const K=X.getAttributes();for(const $ in K)if(K[$].location>=0){const G=ee[$];let Y=te[$];if(Y===void 0&&($==="instanceMatrix"&&z.instanceMatrix&&(Y=z.instanceMatrix),$==="instanceColor"&&z.instanceColor&&(Y=z.instanceColor)),G===void 0||G.attribute!==Y||Y&&G.data!==Y.data)return!0;W++}return a.attributesNum!==W||a.index!==J}function w(z,V,X,J){const ee={},te=V.attributes;let W=0;const K=X.getAttributes();for(const $ in K)if(K[$].location>=0){let G=te[$];G===void 0&&($==="instanceMatrix"&&z.instanceMatrix&&(G=z.instanceMatrix),$==="instanceColor"&&z.instanceColor&&(G=z.instanceColor));const Y={};Y.attribute=G,G&&G.data&&(Y.data=G.data),ee[$]=Y,W++}a.attributes=ee,a.attributesNum=W,a.index=J}function T(){const z=a.newAttributes;for(let V=0,X=z.length;V<X;V++)z[V]=0}function N(z){_(z,0)}function _(z,V){const X=a.newAttributes,J=a.enabledAttributes,ee=a.attributeDivisors;X[z]=1,J[z]===0&&(r.enableVertexAttribArray(z),J[z]=1),ee[z]!==V&&(r.vertexAttribDivisor(z,V),ee[z]=V)}function j(){const z=a.newAttributes,V=a.enabledAttributes;for(let X=0,J=V.length;X<J;X++)V[X]!==z[X]&&(r.disableVertexAttribArray(X),V[X]=0)}function C(z,V,X,J,ee,te,W){W===!0?r.vertexAttribIPointer(z,V,X,ee,te):r.vertexAttribPointer(z,V,X,J,ee,te)}function A(z,V,X,J){T();const ee=J.attributes,te=X.getAttributes(),W=V.defaultAttributeValues;for(const K in te){const $=te[K];if($.location>=0){let oe=ee[K];if(oe===void 0&&(K==="instanceMatrix"&&z.instanceMatrix&&(oe=z.instanceMatrix),K==="instanceColor"&&z.instanceColor&&(oe=z.instanceColor)),oe!==void 0){const G=oe.normalized,Y=oe.itemSize,ne=e.get(oe);if(ne===void 0)continue;const le=ne.buffer,be=ne.type,ce=ne.bytesPerElement,ie=be===r.INT||be===r.UNSIGNED_INT||oe.gpuType===My;if(oe.isInterleavedBufferAttribute){const ge=oe.data,_e=ge.stride,Te=oe.offset;if(ge.isInstancedInterleavedBuffer){for(let Ee=0;Ee<$.locationSize;Ee++)_($.location+Ee,ge.meshPerAttribute);z.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let Ee=0;Ee<$.locationSize;Ee++)N($.location+Ee);r.bindBuffer(r.ARRAY_BUFFER,le);for(let Ee=0;Ee<$.locationSize;Ee++)C($.location+Ee,Y/$.locationSize,be,G,_e*ce,(Te+Y/$.locationSize*Ee)*ce,ie)}else{if(oe.isInstancedBufferAttribute){for(let ge=0;ge<$.locationSize;ge++)_($.location+ge,oe.meshPerAttribute);z.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let ge=0;ge<$.locationSize;ge++)N($.location+ge);r.bindBuffer(r.ARRAY_BUFFER,le);for(let ge=0;ge<$.locationSize;ge++)C($.location+ge,Y/$.locationSize,be,G,Y*ce,Y/$.locationSize*ge*ce,ie)}}else if(W!==void 0){const G=W[K];if(G!==void 0)switch(G.length){case 2:r.vertexAttrib2fv($.location,G);break;case 3:r.vertexAttrib3fv($.location,G);break;case 4:r.vertexAttrib4fv($.location,G);break;default:r.vertexAttrib1fv($.location,G)}}}}j()}function P(){F();for(const z in n){const V=n[z];for(const X in V){const J=V[X];for(const ee in J)g(J[ee].object),delete J[ee];delete V[X]}delete n[z]}}function U(z){if(n[z.id]===void 0)return;const V=n[z.id];for(const X in V){const J=V[X];for(const ee in J)g(J[ee].object),delete J[ee];delete V[X]}delete n[z.id]}function B(z){for(const V in n){const X=n[V];if(X[z.id]===void 0)continue;const J=X[z.id];for(const ee in J)g(J[ee].object),delete J[ee];delete X[z.id]}}function F(){k(),o=!0,a!==i&&(a=i,f(a.object))}function k(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:c,reset:F,resetDefaultState:k,dispose:P,releaseStatesOfGeometry:U,releaseStatesOfProgram:B,initAttributes:T,enableAttribute:N,disableUnusedAttributes:j}}function YG(r,e,t){let n;function i(f){n=f}function a(f,g){r.drawArrays(n,f,g),t.update(g,n,1)}function o(f,g,b){b!==0&&(r.drawArraysInstanced(n,f,g,b),t.update(g,n,b))}function c(f,g,b){if(b===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,f,0,g,0,b);let y=0;for(let w=0;w<b;w++)y+=g[w];t.update(y,n,1)}function d(f,g,b,v){if(b===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let w=0;w<f.length;w++)o(f[w],g[w],v[w]);else{y.multiDrawArraysInstancedWEBGL(n,f,0,g,0,v,0,b);let w=0;for(let T=0;T<b;T++)w+=g[T]*v[T];t.update(w,n,1)}}this.setMode=i,this.render=a,this.renderInstances=o,this.renderMultiDraw=c,this.renderMultiDrawInstances=d}function ZG(r,e,t,n){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");i=r.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(B){return!(B!==Gs&&n.convert(B)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_FORMAT))}function c(B){const F=B===u0&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(B!==il&&n.convert(B)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_TYPE)&&B!==Ha&&!F)}function d(B){if(B==="highp"){if(r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=t.precision!==void 0?t.precision:"highp";const g=d(f);g!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",g,"instead."),f=g);const b=t.logarithmicDepthBuffer===!0,v=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),y=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),w=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=r.getParameter(r.MAX_TEXTURE_SIZE),N=r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),_=r.getParameter(r.MAX_VERTEX_ATTRIBS),j=r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),C=r.getParameter(r.MAX_VARYING_VECTORS),A=r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),P=w>0,U=r.getParameter(r.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:d,textureFormatReadable:o,textureTypeReadable:c,precision:f,logarithmicDepthBuffer:b,reversedDepthBuffer:v,maxTextures:y,maxVertexTextures:w,maxTextureSize:T,maxCubemapSize:N,maxAttributes:_,maxVertexUniforms:j,maxVaryings:C,maxFragmentUniforms:A,vertexTextures:P,maxSamples:U}}function KG(r){const e=this;let t=null,n=0,i=!1,a=!1;const o=new ah,c=new jn,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(b,v){const y=b.length!==0||v||n!==0||i;return i=v,n=b.length,y},this.beginShadows=function(){a=!0,g(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(b,v){t=g(b,v,0)},this.setState=function(b,v,y){const w=b.clippingPlanes,T=b.clipIntersection,N=b.clipShadows,_=r.get(b);if(!i||w===null||w.length===0||a&&!N)a?g(null):f();else{const j=a?0:n,C=j*4;let A=_.clippingState||null;d.value=A,A=g(w,v,C,y);for(let P=0;P!==C;++P)A[P]=t[P];_.clippingState=A,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=j}};function f(){d.value!==t&&(d.value=t,d.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function g(b,v,y,w){const T=b!==null?b.length:0;let N=null;if(T!==0){if(N=d.value,w!==!0||N===null){const _=y+T*4,j=v.matrixWorldInverse;c.getNormalMatrix(j),(N===null||N.length<_)&&(N=new Float32Array(_));for(let C=0,A=y;C!==T;++C,A+=4)o.copy(b[C]).applyMatrix4(j,c),o.normal.toArray(N,A),N[A+3]=o.constant}d.value=N,d.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,N}}function JG(r){let e=new WeakMap;function t(o,c){return c===ib?o.mapping=Ju:c===sb&&(o.mapping=mh),o}function n(o){if(o&&o.isTexture){const c=o.mapping;if(c===ib||c===sb)if(e.has(o)){const d=e.get(o).texture;return t(d,o.mapping)}else{const d=o.image;if(d&&d.height>0){const f=new k7(d.height);return f.fromEquirectangularTexture(r,o),e.set(o,f),o.addEventListener("dispose",i),t(f.texture,o.mapping)}else return null}}return o}function i(o){const c=o.target;c.removeEventListener("dispose",i);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function a(){e=new WeakMap}return{get:n,dispose:a}}const Pp=4,$j=[.125,.215,.35,.446,.526,.582],Mf=20,cS=new kb,eA=new Ot;let uS=null,dS=0,hS=0,fS=!1;const Ef=(1+Math.sqrt(5))/2,bp=1/Ef,tA=[new ve(-Ef,bp,0),new ve(Ef,bp,0),new ve(-bp,0,Ef),new ve(bp,0,Ef),new ve(0,Ef,-bp),new ve(0,Ef,bp),new ve(-1,1,-1),new ve(1,1,-1),new ve(-1,1,1),new ve(1,1,1)],QG=new ve;class Fw{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100,a={}){const{size:o=256,position:c=QG}=a;uS=this._renderer.getRenderTarget(),dS=this._renderer.getActiveCubeFace(),hS=this._renderer.getActiveMipmapLevel(),fS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const d=this._allocateTargets();return d.depthBuffer=!0,this._sceneToCubeUV(e,n,i,d,c),t>0&&this._blur(d,0,0,t),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=iA(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=rA(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(uS,dS,hS),this._renderer.xr.enabled=fS,e.scissorTest=!1,Xv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ju||e.mapping===mh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),uS=this._renderer.getRenderTarget(),dS=this._renderer.getActiveCubeFace(),hS=this._renderer.getActiveMipmapLevel(),fS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Fi,minFilter:Fi,generateMipmaps:!1,type:u0,format:Gs,colorSpace:ph,depthBuffer:!1},i=nA(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=nA(e,t,n);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=$G(a)),this._blurMaterial=eW(a,e,t)}return i}_compileMaterial(e){const t=new Li(this._lodPlanes[0],e);this._renderer.compile(t,cS)}_sceneToCubeUV(e,t,n,i,a){const d=new us(90,1,t,n),f=[1,-1,1,1,1,1],g=[1,1,1,-1,-1,-1],b=this._renderer,v=b.autoClear,y=b.toneMapping;b.getClearColor(eA),b.toneMapping=Xc,b.autoClear=!1,b.state.buffers.depth.getReversed()&&(b.setRenderTarget(i),b.clearDepth(),b.setRenderTarget(null));const T=new yh({name:"PMREM.Background",side:xa,depthWrite:!1,depthTest:!1}),N=new Li(new Wf,T);let _=!1;const j=e.background;j?j.isColor&&(T.color.copy(j),e.background=null,_=!0):(T.color.copy(eA),_=!0);for(let C=0;C<6;C++){const A=C%3;A===0?(d.up.set(0,f[C],0),d.position.set(a.x,a.y,a.z),d.lookAt(a.x+g[C],a.y,a.z)):A===1?(d.up.set(0,0,f[C]),d.position.set(a.x,a.y,a.z),d.lookAt(a.x,a.y+g[C],a.z)):(d.up.set(0,f[C],0),d.position.set(a.x,a.y,a.z),d.lookAt(a.x,a.y,a.z+g[C]));const P=this._cubeSize;Xv(i,A*P,C>2?P:0,P,P),b.setRenderTarget(i),_&&b.render(N,d),b.render(e,d)}N.geometry.dispose(),N.material.dispose(),b.toneMapping=y,b.autoClear=v,e.background=j}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===Ju||e.mapping===mh;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=iA()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=rA());const a=i?this._cubemapMaterial:this._equirectMaterial,o=new Li(this._lodPlanes[0],a),c=a.uniforms;c.envMap.value=e;const d=this._cubeSize;Xv(t,0,0,3*d,2*d),n.setRenderTarget(t),n.render(o,cS)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let a=1;a<i;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),c=tA[(i-a-1)%tA.length];this._blur(e,a-1,a,o,c)}t.autoClear=n}_blur(e,t,n,i,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",a),this._halfBlur(o,e,n,n,i,"longitudinal",a)}_halfBlur(e,t,n,i,a,o,c){const d=this._renderer,f=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const g=3,b=new Li(this._lodPlanes[i],f),v=f.uniforms,y=this._sizeLods[n]-1,w=isFinite(a)?Math.PI/(2*y):2*Math.PI/(2*Mf-1),T=a/w,N=isFinite(a)?1+Math.floor(g*T):Mf;N>Mf&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${N} samples when the maximum is set to ${Mf}`);const _=[];let j=0;for(let B=0;B<Mf;++B){const F=B/T,k=Math.exp(-F*F/2);_.push(k),B===0?j+=k:B<N&&(j+=2*k)}for(let B=0;B<_.length;B++)_[B]=_[B]/j;v.envMap.value=e.texture,v.samples.value=N,v.weights.value=_,v.latitudinal.value=o==="latitudinal",c&&(v.poleAxis.value=c);const{_lodMax:C}=this;v.dTheta.value=w,v.mipInt.value=C-n;const A=this._sizeLods[i],P=3*A*(i>C-Pp?i-C+Pp:0),U=4*(this._cubeSize-A);Xv(t,P,U,3*A,2*A),d.setRenderTarget(t),d.render(b,cS)}}function $G(r){const e=[],t=[],n=[];let i=r;const a=r-Pp+1+$j.length;for(let o=0;o<a;o++){const c=Math.pow(2,i);t.push(c);let d=1/c;o>r-Pp?d=$j[o-r+Pp-1]:o===0&&(d=0),n.push(d);const f=1/(c-2),g=-f,b=1+f,v=[g,g,b,g,b,b,g,g,b,b,g,b],y=6,w=6,T=3,N=2,_=1,j=new Float32Array(T*w*y),C=new Float32Array(N*w*y),A=new Float32Array(_*w*y);for(let U=0;U<y;U++){const B=U%3*2/3-1,F=U>2?0:-1,k=[B,F,0,B+2/3,F,0,B+2/3,F+1,0,B,F,0,B+2/3,F+1,0,B,F+1,0];j.set(k,T*w*U),C.set(v,N*w*U);const z=[U,U,U,U,U,U];A.set(z,_*w*U)}const P=new Dn;P.setAttribute("position",new jr(j,T)),P.setAttribute("uv",new jr(C,N)),P.setAttribute("faceIndex",new jr(A,_)),e.push(P),i>Pp&&i--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function nA(r,e,t){const n=new Zc(r,e,t);return n.texture.mapping=c0,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Xv(r,e,t,n,i){r.viewport.set(e,t,n,i),r.scissor.set(e,t,n,i)}function eW(r,e,t){const n=new Float32Array(Mf),i=new ve(0,1,0);return new Xl({name:"SphericalGaussianBlur",defines:{n:Mf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:H3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:qu,depthTest:!1,depthWrite:!1})}function rA(){return new Xl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:H3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:qu,depthTest:!1,depthWrite:!1})}function iA(){return new Xl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:H3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:qu,depthTest:!1,depthWrite:!1})}function H3(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function tW(r){let e=new WeakMap,t=null;function n(c){if(c&&c.isTexture){const d=c.mapping,f=d===ib||d===sb,g=d===Ju||d===mh;if(f||g){let b=e.get(c);const v=b!==void 0?b.texture.pmremVersion:0;if(c.isRenderTargetTexture&&c.pmremVersion!==v)return t===null&&(t=new Fw(r)),b=f?t.fromEquirectangular(c,b):t.fromCubemap(c,b),b.texture.pmremVersion=c.pmremVersion,e.set(c,b),b.texture;if(b!==void 0)return b.texture;{const y=c.image;return f&&y&&y.height>0||g&&y&&i(y)?(t===null&&(t=new Fw(r)),b=f?t.fromEquirectangular(c):t.fromCubemap(c),b.texture.pmremVersion=c.pmremVersion,e.set(c,b),c.addEventListener("dispose",a),b.texture):null}}}return c}function i(c){let d=0;const f=6;for(let g=0;g<f;g++)c[g]!==void 0&&d++;return d===f}function a(c){const d=c.target;d.removeEventListener("dispose",a);const f=e.get(d);f!==void 0&&(e.delete(d),f.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function nW(r){const e={};function t(n){if(e[n]!==void 0)return e[n];let i;switch(n){case"WEBGL_depth_texture":i=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=r.getExtension(n)}return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const i=t(n);return i===null&&zp("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function rW(r,e,t,n){const i={},a=new WeakMap;function o(b){const v=b.target;v.index!==null&&e.remove(v.index);for(const w in v.attributes)e.remove(v.attributes[w]);v.removeEventListener("dispose",o),delete i[v.id];const y=a.get(v);y&&(e.remove(y),a.delete(v)),n.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function c(b,v){return i[v.id]===!0||(v.addEventListener("dispose",o),i[v.id]=!0,t.memory.geometries++),v}function d(b){const v=b.attributes;for(const y in v)e.update(v[y],r.ARRAY_BUFFER)}function f(b){const v=[],y=b.index,w=b.attributes.position;let T=0;if(y!==null){const j=y.array;T=y.version;for(let C=0,A=j.length;C<A;C+=3){const P=j[C+0],U=j[C+1],B=j[C+2];v.push(P,U,U,B,B,P)}}else if(w!==void 0){const j=w.array;T=w.version;for(let C=0,A=j.length/3-1;C<A;C+=3){const P=C+0,U=C+1,B=C+2;v.push(P,U,U,B,B,P)}}else return;const N=new(D7(v)?p3:m3)(v,1);N.version=T;const _=a.get(b);_&&e.remove(_),a.set(b,N)}function g(b){const v=a.get(b);if(v){const y=b.index;y!==null&&v.version<y.version&&f(b)}else f(b);return a.get(b)}return{get:c,update:d,getWireframeAttribute:g}}function iW(r,e,t){let n;function i(v){n=v}let a,o;function c(v){a=v.type,o=v.bytesPerElement}function d(v,y){r.drawElements(n,y,a,v*o),t.update(y,n,1)}function f(v,y,w){w!==0&&(r.drawElementsInstanced(n,y,a,v*o,w),t.update(y,n,w))}function g(v,y,w){if(w===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,y,0,a,v,0,w);let N=0;for(let _=0;_<w;_++)N+=y[_];t.update(N,n,1)}function b(v,y,w,T){if(w===0)return;const N=e.get("WEBGL_multi_draw");if(N===null)for(let _=0;_<v.length;_++)f(v[_]/o,y[_],T[_]);else{N.multiDrawElementsInstancedWEBGL(n,y,0,a,v,0,T,0,w);let _=0;for(let j=0;j<w;j++)_+=y[j]*T[j];t.update(_,n,1)}}this.setMode=i,this.setIndex=c,this.render=d,this.renderInstances=f,this.renderMultiDraw=g,this.renderMultiDrawInstances=b}function sW(r){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,o,c){switch(t.calls++,o){case r.TRIANGLES:t.triangles+=c*(a/3);break;case r.LINES:t.lines+=c*(a/2);break;case r.LINE_STRIP:t.lines+=c*(a-1);break;case r.LINE_LOOP:t.lines+=c*a;break;case r.POINTS:t.points+=c*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function aW(r,e,t){const n=new WeakMap,i=new ar;function a(o,c,d){const f=o.morphTargetInfluences,g=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,b=g!==void 0?g.length:0;let v=n.get(c);if(v===void 0||v.count!==b){let z=function(){F.dispose(),n.delete(c),c.removeEventListener("dispose",z)};var y=z;v!==void 0&&v.texture.dispose();const w=c.morphAttributes.position!==void 0,T=c.morphAttributes.normal!==void 0,N=c.morphAttributes.color!==void 0,_=c.morphAttributes.position||[],j=c.morphAttributes.normal||[],C=c.morphAttributes.color||[];let A=0;w===!0&&(A=1),T===!0&&(A=2),N===!0&&(A=3);let P=c.attributes.position.count*A,U=1;P>e.maxTextureSize&&(U=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const B=new Float32Array(P*U*4*b),F=new Py(B,P,U,b);F.type=Ha,F.needsUpdate=!0;const k=A*4;for(let V=0;V<b;V++){const X=_[V],J=j[V],ee=C[V],te=P*U*4*V;for(let W=0;W<X.count;W++){const K=W*k;w===!0&&(i.fromBufferAttribute(X,W),B[te+K+0]=i.x,B[te+K+1]=i.y,B[te+K+2]=i.z,B[te+K+3]=0),T===!0&&(i.fromBufferAttribute(J,W),B[te+K+4]=i.x,B[te+K+5]=i.y,B[te+K+6]=i.z,B[te+K+7]=0),N===!0&&(i.fromBufferAttribute(ee,W),B[te+K+8]=i.x,B[te+K+9]=i.y,B[te+K+10]=i.z,B[te+K+11]=ee.itemSize===4?i.w:1)}}v={count:b,texture:F,size:new dt(P,U)},n.set(c,v),c.addEventListener("dispose",z)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)d.getUniforms().setValue(r,"morphTexture",o.morphTexture,t);else{let w=0;for(let N=0;N<f.length;N++)w+=f[N];const T=c.morphTargetsRelative?1:1-w;d.getUniforms().setValue(r,"morphTargetBaseInfluence",T),d.getUniforms().setValue(r,"morphTargetInfluences",f)}d.getUniforms().setValue(r,"morphTargetsTexture",v.texture,t),d.getUniforms().setValue(r,"morphTargetsTextureSize",v.size)}return{update:a}}function oW(r,e,t,n){let i=new WeakMap;function a(d){const f=n.render.frame,g=d.geometry,b=e.get(d,g);if(i.get(b)!==f&&(e.update(b),i.set(b,f)),d.isInstancedMesh&&(d.hasEventListener("dispose",c)===!1&&d.addEventListener("dispose",c),i.get(d)!==f&&(t.update(d.instanceMatrix,r.ARRAY_BUFFER),d.instanceColor!==null&&t.update(d.instanceColor,r.ARRAY_BUFFER),i.set(d,f))),d.isSkinnedMesh){const v=d.skeleton;i.get(v)!==f&&(v.update(),i.set(v,f))}return b}function o(){i=new WeakMap}function c(d){const f=d.target;f.removeEventListener("dispose",c),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:a,dispose:o}}const BR=new gi,sA=new y3(1,1),kR=new Py,HR=new Ly,VR=new Db,aA=[],oA=[],lA=new Float32Array(16),cA=new Float32Array(9),uA=new Float32Array(4);function m0(r,e,t){const n=r[0];if(n<=0||n>0)return r;const i=e*t;let a=aA[i];if(a===void 0&&(a=new Float32Array(i),aA[i]=a),e!==0){n.toArray(a,0);for(let o=1,c=0;o!==e;++o)c+=t,r[o].toArray(a,c)}return a}function qi(r,e){if(r.length!==e.length)return!1;for(let t=0,n=r.length;t<n;t++)if(r[t]!==e[t])return!1;return!0}function Gi(r,e){for(let t=0,n=e.length;t<n;t++)r[t]=e[t]}function r_(r,e){let t=oA[e];t===void 0&&(t=new Int32Array(e),oA[e]=t);for(let n=0;n!==e;++n)t[n]=r.allocateTextureUnit();return t}function lW(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function cW(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qi(t,e))return;r.uniform2fv(this.addr,e),Gi(t,e)}}function uW(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(qi(t,e))return;r.uniform3fv(this.addr,e),Gi(t,e)}}function dW(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qi(t,e))return;r.uniform4fv(this.addr,e),Gi(t,e)}}function hW(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(qi(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),Gi(t,e)}else{if(qi(t,n))return;uA.set(n),r.uniformMatrix2fv(this.addr,!1,uA),Gi(t,n)}}function fW(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(qi(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),Gi(t,e)}else{if(qi(t,n))return;cA.set(n),r.uniformMatrix3fv(this.addr,!1,cA),Gi(t,n)}}function mW(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(qi(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),Gi(t,e)}else{if(qi(t,n))return;lA.set(n),r.uniformMatrix4fv(this.addr,!1,lA),Gi(t,n)}}function pW(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function gW(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qi(t,e))return;r.uniform2iv(this.addr,e),Gi(t,e)}}function bW(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(qi(t,e))return;r.uniform3iv(this.addr,e),Gi(t,e)}}function xW(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qi(t,e))return;r.uniform4iv(this.addr,e),Gi(t,e)}}function vW(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function yW(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qi(t,e))return;r.uniform2uiv(this.addr,e),Gi(t,e)}}function _W(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(qi(t,e))return;r.uniform3uiv(this.addr,e),Gi(t,e)}}function SW(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qi(t,e))return;r.uniform4uiv(this.addr,e),Gi(t,e)}}function wW(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i);let a;this.type===r.SAMPLER_2D_SHADOW?(sA.compareFunction=d3,a=sA):a=BR,t.setTexture2D(e||a,i)}function EW(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||HR,i)}function NW(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||VR,i)}function TW(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||kR,i)}function MW(r){switch(r){case 5126:return lW;case 35664:return cW;case 35665:return uW;case 35666:return dW;case 35674:return hW;case 35675:return fW;case 35676:return mW;case 5124:case 35670:return pW;case 35667:case 35671:return gW;case 35668:case 35672:return bW;case 35669:case 35673:return xW;case 5125:return vW;case 36294:return yW;case 36295:return _W;case 36296:return SW;case 35678:case 36198:case 36298:case 36306:case 35682:return wW;case 35679:case 36299:case 36307:return EW;case 35680:case 36300:case 36308:case 36293:return NW;case 36289:case 36303:case 36311:case 36292:return TW}}function jW(r,e){r.uniform1fv(this.addr,e)}function AW(r,e){const t=m0(e,this.size,2);r.uniform2fv(this.addr,t)}function CW(r,e){const t=m0(e,this.size,3);r.uniform3fv(this.addr,t)}function RW(r,e){const t=m0(e,this.size,4);r.uniform4fv(this.addr,t)}function OW(r,e){const t=m0(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function DW(r,e){const t=m0(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function PW(r,e){const t=m0(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function LW(r,e){r.uniform1iv(this.addr,e)}function zW(r,e){r.uniform2iv(this.addr,e)}function UW(r,e){r.uniform3iv(this.addr,e)}function IW(r,e){r.uniform4iv(this.addr,e)}function BW(r,e){r.uniform1uiv(this.addr,e)}function kW(r,e){r.uniform2uiv(this.addr,e)}function HW(r,e){r.uniform3uiv(this.addr,e)}function VW(r,e){r.uniform4uiv(this.addr,e)}function FW(r,e,t){const n=this.cache,i=e.length,a=r_(t,i);qi(n,a)||(r.uniform1iv(this.addr,a),Gi(n,a));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||BR,a[o])}function qW(r,e,t){const n=this.cache,i=e.length,a=r_(t,i);qi(n,a)||(r.uniform1iv(this.addr,a),Gi(n,a));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||HR,a[o])}function GW(r,e,t){const n=this.cache,i=e.length,a=r_(t,i);qi(n,a)||(r.uniform1iv(this.addr,a),Gi(n,a));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||VR,a[o])}function WW(r,e,t){const n=this.cache,i=e.length,a=r_(t,i);qi(n,a)||(r.uniform1iv(this.addr,a),Gi(n,a));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||kR,a[o])}function XW(r){switch(r){case 5126:return jW;case 35664:return AW;case 35665:return CW;case 35666:return RW;case 35674:return OW;case 35675:return DW;case 35676:return PW;case 5124:case 35670:return LW;case 35667:case 35671:return zW;case 35668:case 35672:return UW;case 35669:case 35673:return IW;case 5125:return BW;case 36294:return kW;case 36295:return HW;case 36296:return VW;case 35678:case 36198:case 36298:case 36306:case 35682:return FW;case 35679:case 36299:case 36307:return qW;case 35680:case 36300:case 36308:case 36293:return GW;case 36289:case 36303:case 36311:case 36292:return WW}}class YW{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=MW(t.type)}}class ZW{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=XW(t.type)}}class KW{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const c=i[a];c.setValue(e,t[c.id],n)}}}const mS=/(\w+)(\])?(\[|\.)?/g;function dA(r,e){r.seq.push(e),r.map[e.id]=e}function JW(r,e,t){const n=r.name,i=n.length;for(mS.lastIndex=0;;){const a=mS.exec(n),o=mS.lastIndex;let c=a[1];const d=a[2]==="]",f=a[3];if(d&&(c=c|0),f===void 0||f==="["&&o+2===i){dA(t,f===void 0?new YW(c,r,e):new ZW(c,r,e));break}else{let b=t.map[c];b===void 0&&(b=new KW(c),dA(t,b)),t=b}}}class o1{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const a=e.getActiveUniform(t,i),o=e.getUniformLocation(t,a.name);JW(a,o,this)}}setValue(e,t,n,i){const a=this.map[t];a!==void 0&&a.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let a=0,o=t.length;a!==o;++a){const c=t[a],d=n[c.id];d.needsUpdate!==!1&&c.setValue(e,d.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.id in t&&n.push(o)}return n}}function hA(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}const QW=37297;let $W=0;function eX(r,e){const t=r.split(`
`),n=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let o=i;o<a;o++){const c=o+1;n.push(`${c===e?">":" "} ${c}: ${t[o]}`)}return n.join(`
`)}const fA=new jn;function tX(r){Qn._getMatrix(fA,Qn.workingColorSpace,r);const e=`mat3( ${fA.elements.map(t=>t.toFixed(4))} )`;switch(Qn.getTransfer(r)){case ub:return[e,"LinearTransferOETF"];case xr:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",r),[e,"LinearTransferOETF"]}}function mA(r,e,t){const n=r.getShaderParameter(e,r.COMPILE_STATUS),a=(r.getShaderInfoLog(e)||"").trim();if(n&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const c=parseInt(o[1]);return t.toUpperCase()+`

`+a+`

`+eX(r.getShaderSource(e),c)}else return a}function nX(r,e){const t=tX(e);return[`vec4 ${r}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function rX(r,e){let t;switch(e){case f7:t="Linear";break;case m7:t="Reinhard";break;case p7:t="Cineon";break;case t3:t="ACESFilmic";break;case b7:t="AgX";break;case x7:t="Neutral";break;case g7:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Yv=new ve;function iX(){Qn.getLuminanceCoefficients(Yv);const r=Yv.x.toFixed(4),e=Yv.y.toFixed(4),t=Yv.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${r}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function sX(r){return[r.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",r.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Mg).join(`
`)}function aX(r){const e=[];for(const t in r){const n=r[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function oX(r,e){const t={},n=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const a=r.getActiveAttrib(e,i),o=a.name;let c=1;a.type===r.FLOAT_MAT2&&(c=2),a.type===r.FLOAT_MAT3&&(c=3),a.type===r.FLOAT_MAT4&&(c=4),t[o]={type:a.type,location:r.getAttribLocation(e,o),locationSize:c}}return t}function Mg(r){return r!==""}function pA(r,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function gA(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const lX=/^[ \t]*#include +<([\w\d./]+)>/gm;function qw(r){return r.replace(lX,uX)}const cX=new Map;function uX(r,e){let t=zn[e];if(t===void 0){const n=cX.get(e);if(n!==void 0)t=zn[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return qw(t)}const dX=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function bA(r){return r.replace(dX,hX)}function hX(r,e,t,n){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function xA(r){let e=`precision ${r.precision} float;
	precision ${r.precision} int;
	precision ${r.precision} sampler2D;
	precision ${r.precision} samplerCube;
	precision ${r.precision} sampler3D;
	precision ${r.precision} sampler2DArray;
	precision ${r.precision} sampler2DShadow;
	precision ${r.precision} samplerCubeShadow;
	precision ${r.precision} sampler2DArrayShadow;
	precision ${r.precision} isampler2D;
	precision ${r.precision} isampler3D;
	precision ${r.precision} isamplerCube;
	precision ${r.precision} isampler2DArray;
	precision ${r.precision} usampler2D;
	precision ${r.precision} usampler3D;
	precision ${r.precision} usamplerCube;
	precision ${r.precision} usampler2DArray;
	`;return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function fX(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===Ny?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===Ug?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===Hl&&(e="SHADOWMAP_TYPE_VSM"),e}function mX(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case Ju:case mh:e="ENVMAP_TYPE_CUBE";break;case c0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function pX(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case mh:e="ENVMAP_MODE_REFRACTION";break}return e}function gX(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case Rb:e="ENVMAP_BLENDING_MULTIPLY";break;case d7:e="ENVMAP_BLENDING_MIX";break;case h7:e="ENVMAP_BLENDING_ADD";break}return e}function bX(r){const e=r.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function xX(r,e,t,n){const i=r.getContext(),a=t.defines;let o=t.vertexShader,c=t.fragmentShader;const d=fX(t),f=mX(t),g=pX(t),b=gX(t),v=bX(t),y=sX(t),w=aX(a),T=i.createProgram();let N,_,j=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(N=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,w].filter(Mg).join(`
`),N.length>0&&(N+=`
`),_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,w].filter(Mg).join(`
`),_.length>0&&(_+=`
`)):(N=[xA(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,w,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+g:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Mg).join(`
`),_=[xA(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,w,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+g:"",t.envMap?"#define "+b:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Xc?"#define TONE_MAPPING":"",t.toneMapping!==Xc?zn.tonemapping_pars_fragment:"",t.toneMapping!==Xc?rX("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",zn.colorspace_pars_fragment,nX("linearToOutputTexel",t.outputColorSpace),iX(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Mg).join(`
`)),o=qw(o),o=pA(o,t),o=gA(o,t),c=qw(c),c=pA(c,t),c=gA(c,t),o=bA(o),c=bA(c),t.isRawShaderMaterial!==!0&&(j=`#version 300 es
`,N=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+N,_=["#define varying in",t.glslVersion===Lw?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Lw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const C=j+N+o,A=j+_+c,P=hA(i,i.VERTEX_SHADER,C),U=hA(i,i.FRAGMENT_SHADER,A);i.attachShader(T,P),i.attachShader(T,U),t.index0AttributeName!==void 0?i.bindAttribLocation(T,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(T,0,"position"),i.linkProgram(T);function B(V){if(r.debug.checkShaderErrors){const X=i.getProgramInfoLog(T)||"",J=i.getShaderInfoLog(P)||"",ee=i.getShaderInfoLog(U)||"",te=X.trim(),W=J.trim(),K=ee.trim();let $=!0,oe=!0;if(i.getProgramParameter(T,i.LINK_STATUS)===!1)if($=!1,typeof r.debug.onShaderError=="function")r.debug.onShaderError(i,T,P,U);else{const G=mA(i,P,"vertex"),Y=mA(i,U,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(T,i.VALIDATE_STATUS)+`

Material Name: `+V.name+`
Material Type: `+V.type+`

Program Info Log: `+te+`
`+G+`
`+Y)}else te!==""?console.warn("THREE.WebGLProgram: Program Info Log:",te):(W===""||K==="")&&(oe=!1);oe&&(V.diagnostics={runnable:$,programLog:te,vertexShader:{log:W,prefix:N},fragmentShader:{log:K,prefix:_}})}i.deleteShader(P),i.deleteShader(U),F=new o1(i,T),k=oX(i,T)}let F;this.getUniforms=function(){return F===void 0&&B(this),F};let k;this.getAttributes=function(){return k===void 0&&B(this),k};let z=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return z===!1&&(z=i.getProgramParameter(T,QW)),z},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(T),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=$W++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=P,this.fragmentShader=U,this}let vX=0;class yX{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new _X(e),t.set(e,n)),n}}class _X{constructor(e){this.id=vX++,this.code=e,this.usedTimes=0}}function SX(r,e,t,n,i,a,o){const c=new Kp,d=new yX,f=new Set,g=[],b=i.logarithmicDepthBuffer,v=i.vertexTextures;let y=i.precision;const w={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(k){return f.add(k),k===0?"uv":`uv${k}`}function N(k,z,V,X,J){const ee=X.fog,te=J.geometry,W=k.isMeshStandardMaterial?X.environment:null,K=(k.isMeshStandardMaterial?t:e).get(k.envMap||W),$=K&&K.mapping===c0?K.image.height:null,oe=w[k.type];k.precision!==null&&(y=i.getMaxPrecision(k.precision),y!==k.precision&&console.warn("THREE.WebGLProgram.getParameters:",k.precision,"not supported, using",y,"instead."));const G=te.morphAttributes.position||te.morphAttributes.normal||te.morphAttributes.color,Y=G!==void 0?G.length:0;let ne=0;te.morphAttributes.position!==void 0&&(ne=1),te.morphAttributes.normal!==void 0&&(ne=2),te.morphAttributes.color!==void 0&&(ne=3);let le,be,ce,ie;if(oe){const Un=Fl[oe];le=Un.vertexShader,be=Un.fragmentShader}else le=k.vertexShader,be=k.fragmentShader,d.update(k),ce=d.getVertexShaderID(k),ie=d.getFragmentShaderID(k);const ge=r.getRenderTarget(),_e=r.state.buffers.depth.getReversed(),Te=J.isInstancedMesh===!0,Ee=J.isBatchedMesh===!0,$e=!!k.map,tt=!!k.matcap,xe=!!K,ke=!!k.aoMap,Ve=!!k.lightMap,nt=!!k.bumpMap,Xe=!!k.normalMap,je=!!k.displacementMap,de=!!k.emissiveMap,ye=!!k.metalnessMap,Be=!!k.roughnessMap,Oe=k.anisotropy>0,he=k.clearcoat>0,se=k.dispersion>0,Me=k.iridescence>0,qe=k.sheen>0,Ge=k.transmission>0,ze=Oe&&!!k.anisotropyMap,St=he&&!!k.clearcoatMap,ot=he&&!!k.clearcoatNormalMap,wt=he&&!!k.clearcoatRoughnessMap,Dt=Me&&!!k.iridescenceMap,ut=Me&&!!k.iridescenceThicknessMap,vt=qe&&!!k.sheenColorMap,It=qe&&!!k.sheenRoughnessMap,Pt=!!k.specularMap,gt=!!k.specularColorMap,an=!!k.specularIntensityMap,De=Ge&&!!k.transmissionMap,mt=Ge&&!!k.thicknessMap,bt=!!k.gradientMap,jt=!!k.alphaMap,ht=k.alphaTest>0,at=!!k.alphaHash,Lt=!!k.extensions;let tn=Xc;k.toneMapped&&(ge===null||ge.isXRRenderTarget===!0)&&(tn=r.toneMapping);const Hn={shaderID:oe,shaderType:k.type,shaderName:k.name,vertexShader:le,fragmentShader:be,defines:k.defines,customVertexShaderID:ce,customFragmentShaderID:ie,isRawShaderMaterial:k.isRawShaderMaterial===!0,glslVersion:k.glslVersion,precision:y,batching:Ee,batchingColor:Ee&&J._colorsTexture!==null,instancing:Te,instancingColor:Te&&J.instanceColor!==null,instancingMorph:Te&&J.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:ge===null?r.outputColorSpace:ge.isXRRenderTarget===!0?ge.texture.colorSpace:ph,alphaToCoverage:!!k.alphaToCoverage,map:$e,matcap:tt,envMap:xe,envMapMode:xe&&K.mapping,envMapCubeUVHeight:$,aoMap:ke,lightMap:Ve,bumpMap:nt,normalMap:Xe,displacementMap:v&&je,emissiveMap:de,normalMapObjectSpace:Xe&&k.normalMapType===N7,normalMapTangentSpace:Xe&&k.normalMapType===vh,metalnessMap:ye,roughnessMap:Be,anisotropy:Oe,anisotropyMap:ze,clearcoat:he,clearcoatMap:St,clearcoatNormalMap:ot,clearcoatRoughnessMap:wt,dispersion:se,iridescence:Me,iridescenceMap:Dt,iridescenceThicknessMap:ut,sheen:qe,sheenColorMap:vt,sheenRoughnessMap:It,specularMap:Pt,specularColorMap:gt,specularIntensityMap:an,transmission:Ge,transmissionMap:De,thicknessMap:mt,gradientMap:bt,opaque:k.transparent===!1&&k.blending===Lf&&k.alphaToCoverage===!1,alphaMap:jt,alphaTest:ht,alphaHash:at,combine:k.combine,mapUv:$e&&T(k.map.channel),aoMapUv:ke&&T(k.aoMap.channel),lightMapUv:Ve&&T(k.lightMap.channel),bumpMapUv:nt&&T(k.bumpMap.channel),normalMapUv:Xe&&T(k.normalMap.channel),displacementMapUv:je&&T(k.displacementMap.channel),emissiveMapUv:de&&T(k.emissiveMap.channel),metalnessMapUv:ye&&T(k.metalnessMap.channel),roughnessMapUv:Be&&T(k.roughnessMap.channel),anisotropyMapUv:ze&&T(k.anisotropyMap.channel),clearcoatMapUv:St&&T(k.clearcoatMap.channel),clearcoatNormalMapUv:ot&&T(k.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:wt&&T(k.clearcoatRoughnessMap.channel),iridescenceMapUv:Dt&&T(k.iridescenceMap.channel),iridescenceThicknessMapUv:ut&&T(k.iridescenceThicknessMap.channel),sheenColorMapUv:vt&&T(k.sheenColorMap.channel),sheenRoughnessMapUv:It&&T(k.sheenRoughnessMap.channel),specularMapUv:Pt&&T(k.specularMap.channel),specularColorMapUv:gt&&T(k.specularColorMap.channel),specularIntensityMapUv:an&&T(k.specularIntensityMap.channel),transmissionMapUv:De&&T(k.transmissionMap.channel),thicknessMapUv:mt&&T(k.thicknessMap.channel),alphaMapUv:jt&&T(k.alphaMap.channel),vertexTangents:!!te.attributes.tangent&&(Xe||Oe),vertexColors:k.vertexColors,vertexAlphas:k.vertexColors===!0&&!!te.attributes.color&&te.attributes.color.itemSize===4,pointsUvs:J.isPoints===!0&&!!te.attributes.uv&&($e||jt),fog:!!ee,useFog:k.fog===!0,fogExp2:!!ee&&ee.isFogExp2,flatShading:k.flatShading===!0&&k.wireframe===!1,sizeAttenuation:k.sizeAttenuation===!0,logarithmicDepthBuffer:b,reversedDepthBuffer:_e,skinning:J.isSkinnedMesh===!0,morphTargets:te.morphAttributes.position!==void 0,morphNormals:te.morphAttributes.normal!==void 0,morphColors:te.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:ne,numDirLights:z.directional.length,numPointLights:z.point.length,numSpotLights:z.spot.length,numSpotLightMaps:z.spotLightMap.length,numRectAreaLights:z.rectArea.length,numHemiLights:z.hemi.length,numDirLightShadows:z.directionalShadowMap.length,numPointLightShadows:z.pointShadowMap.length,numSpotLightShadows:z.spotShadowMap.length,numSpotLightShadowsWithMaps:z.numSpotLightShadowsWithMaps,numLightProbes:z.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:k.dithering,shadowMapEnabled:r.shadowMap.enabled&&V.length>0,shadowMapType:r.shadowMap.type,toneMapping:tn,decodeVideoTexture:$e&&k.map.isVideoTexture===!0&&Qn.getTransfer(k.map.colorSpace)===xr,decodeVideoTextureEmissive:de&&k.emissiveMap.isVideoTexture===!0&&Qn.getTransfer(k.emissiveMap.colorSpace)===xr,premultipliedAlpha:k.premultipliedAlpha,doubleSided:k.side===ql,flipSided:k.side===xa,useDepthPacking:k.depthPacking>=0,depthPacking:k.depthPacking||0,index0AttributeName:k.index0AttributeName,extensionClipCullDistance:Lt&&k.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Lt&&k.extensions.multiDraw===!0||Ee)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:k.customProgramCacheKey()};return Hn.vertexUv1s=f.has(1),Hn.vertexUv2s=f.has(2),Hn.vertexUv3s=f.has(3),f.clear(),Hn}function _(k){const z=[];if(k.shaderID?z.push(k.shaderID):(z.push(k.customVertexShaderID),z.push(k.customFragmentShaderID)),k.defines!==void 0)for(const V in k.defines)z.push(V),z.push(k.defines[V]);return k.isRawShaderMaterial===!1&&(j(z,k),C(z,k),z.push(r.outputColorSpace)),z.push(k.customProgramCacheKey),z.join()}function j(k,z){k.push(z.precision),k.push(z.outputColorSpace),k.push(z.envMapMode),k.push(z.envMapCubeUVHeight),k.push(z.mapUv),k.push(z.alphaMapUv),k.push(z.lightMapUv),k.push(z.aoMapUv),k.push(z.bumpMapUv),k.push(z.normalMapUv),k.push(z.displacementMapUv),k.push(z.emissiveMapUv),k.push(z.metalnessMapUv),k.push(z.roughnessMapUv),k.push(z.anisotropyMapUv),k.push(z.clearcoatMapUv),k.push(z.clearcoatNormalMapUv),k.push(z.clearcoatRoughnessMapUv),k.push(z.iridescenceMapUv),k.push(z.iridescenceThicknessMapUv),k.push(z.sheenColorMapUv),k.push(z.sheenRoughnessMapUv),k.push(z.specularMapUv),k.push(z.specularColorMapUv),k.push(z.specularIntensityMapUv),k.push(z.transmissionMapUv),k.push(z.thicknessMapUv),k.push(z.combine),k.push(z.fogExp2),k.push(z.sizeAttenuation),k.push(z.morphTargetsCount),k.push(z.morphAttributeCount),k.push(z.numDirLights),k.push(z.numPointLights),k.push(z.numSpotLights),k.push(z.numSpotLightMaps),k.push(z.numHemiLights),k.push(z.numRectAreaLights),k.push(z.numDirLightShadows),k.push(z.numPointLightShadows),k.push(z.numSpotLightShadows),k.push(z.numSpotLightShadowsWithMaps),k.push(z.numLightProbes),k.push(z.shadowMapType),k.push(z.toneMapping),k.push(z.numClippingPlanes),k.push(z.numClipIntersection),k.push(z.depthPacking)}function C(k,z){c.disableAll(),z.supportsVertexTextures&&c.enable(0),z.instancing&&c.enable(1),z.instancingColor&&c.enable(2),z.instancingMorph&&c.enable(3),z.matcap&&c.enable(4),z.envMap&&c.enable(5),z.normalMapObjectSpace&&c.enable(6),z.normalMapTangentSpace&&c.enable(7),z.clearcoat&&c.enable(8),z.iridescence&&c.enable(9),z.alphaTest&&c.enable(10),z.vertexColors&&c.enable(11),z.vertexAlphas&&c.enable(12),z.vertexUv1s&&c.enable(13),z.vertexUv2s&&c.enable(14),z.vertexUv3s&&c.enable(15),z.vertexTangents&&c.enable(16),z.anisotropy&&c.enable(17),z.alphaHash&&c.enable(18),z.batching&&c.enable(19),z.dispersion&&c.enable(20),z.batchingColor&&c.enable(21),z.gradientMap&&c.enable(22),k.push(c.mask),c.disableAll(),z.fog&&c.enable(0),z.useFog&&c.enable(1),z.flatShading&&c.enable(2),z.logarithmicDepthBuffer&&c.enable(3),z.reversedDepthBuffer&&c.enable(4),z.skinning&&c.enable(5),z.morphTargets&&c.enable(6),z.morphNormals&&c.enable(7),z.morphColors&&c.enable(8),z.premultipliedAlpha&&c.enable(9),z.shadowMapEnabled&&c.enable(10),z.doubleSided&&c.enable(11),z.flipSided&&c.enable(12),z.useDepthPacking&&c.enable(13),z.dithering&&c.enable(14),z.transmission&&c.enable(15),z.sheen&&c.enable(16),z.opaque&&c.enable(17),z.pointsUvs&&c.enable(18),z.decodeVideoTexture&&c.enable(19),z.decodeVideoTextureEmissive&&c.enable(20),z.alphaToCoverage&&c.enable(21),k.push(c.mask)}function A(k){const z=w[k.type];let V;if(z){const X=Fl[z];V=I7.clone(X.uniforms)}else V=k.uniforms;return V}function P(k,z){let V;for(let X=0,J=g.length;X<J;X++){const ee=g[X];if(ee.cacheKey===z){V=ee,++V.usedTimes;break}}return V===void 0&&(V=new xX(r,z,k,a),g.push(V)),V}function U(k){if(--k.usedTimes===0){const z=g.indexOf(k);g[z]=g[g.length-1],g.pop(),k.destroy()}}function B(k){d.remove(k)}function F(){d.dispose()}return{getParameters:N,getProgramCacheKey:_,getUniforms:A,acquireProgram:P,releaseProgram:U,releaseShaderCache:B,programs:g,dispose:F}}function wX(){let r=new WeakMap;function e(o){return r.has(o)}function t(o){let c=r.get(o);return c===void 0&&(c={},r.set(o,c)),c}function n(o){r.delete(o)}function i(o,c,d){r.get(o)[c]=d}function a(){r=new WeakMap}return{has:e,get:t,remove:n,update:i,dispose:a}}function EX(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function vA(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function yA(){const r=[];let e=0;const t=[],n=[],i=[];function a(){e=0,t.length=0,n.length=0,i.length=0}function o(b,v,y,w,T,N){let _=r[e];return _===void 0?(_={id:b.id,object:b,geometry:v,material:y,groupOrder:w,renderOrder:b.renderOrder,z:T,group:N},r[e]=_):(_.id=b.id,_.object=b,_.geometry=v,_.material=y,_.groupOrder=w,_.renderOrder=b.renderOrder,_.z=T,_.group=N),e++,_}function c(b,v,y,w,T,N){const _=o(b,v,y,w,T,N);y.transmission>0?n.push(_):y.transparent===!0?i.push(_):t.push(_)}function d(b,v,y,w,T,N){const _=o(b,v,y,w,T,N);y.transmission>0?n.unshift(_):y.transparent===!0?i.unshift(_):t.unshift(_)}function f(b,v){t.length>1&&t.sort(b||EX),n.length>1&&n.sort(v||vA),i.length>1&&i.sort(v||vA)}function g(){for(let b=e,v=r.length;b<v;b++){const y=r[b];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:t,transmissive:n,transparent:i,init:a,push:c,unshift:d,finish:g,sort:f}}function NX(){let r=new WeakMap;function e(n,i){const a=r.get(n);let o;return a===void 0?(o=new yA,r.set(n,[o])):i>=a.length?(o=new yA,a.push(o)):o=a[i],o}function t(){r=new WeakMap}return{get:e,dispose:t}}function TX(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ve,color:new Ot};break;case"SpotLight":t={position:new ve,direction:new ve,color:new Ot,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ve,color:new Ot,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ve,skyColor:new Ot,groundColor:new Ot};break;case"RectAreaLight":t={color:new Ot,position:new ve,halfWidth:new ve,halfHeight:new ve};break}return r[e.id]=t,t}}}function MX(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dt,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}let jX=0;function AX(r,e){return(e.castShadow?2:0)-(r.castShadow?2:0)+(e.map?1:0)-(r.map?1:0)}function CX(r){const e=new TX,t=MX(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)n.probe.push(new ve);const i=new ve,a=new xn,o=new xn;function c(f){let g=0,b=0,v=0;for(let k=0;k<9;k++)n.probe[k].set(0,0,0);let y=0,w=0,T=0,N=0,_=0,j=0,C=0,A=0,P=0,U=0,B=0;f.sort(AX);for(let k=0,z=f.length;k<z;k++){const V=f[k],X=V.color,J=V.intensity,ee=V.distance,te=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)g+=X.r*J,b+=X.g*J,v+=X.b*J;else if(V.isLightProbe){for(let W=0;W<9;W++)n.probe[W].addScaledVector(V.sh.coefficients[W],J);B++}else if(V.isDirectionalLight){const W=e.get(V);if(W.color.copy(V.color).multiplyScalar(V.intensity),V.castShadow){const K=V.shadow,$=t.get(V);$.shadowIntensity=K.intensity,$.shadowBias=K.bias,$.shadowNormalBias=K.normalBias,$.shadowRadius=K.radius,$.shadowMapSize=K.mapSize,n.directionalShadow[y]=$,n.directionalShadowMap[y]=te,n.directionalShadowMatrix[y]=V.shadow.matrix,j++}n.directional[y]=W,y++}else if(V.isSpotLight){const W=e.get(V);W.position.setFromMatrixPosition(V.matrixWorld),W.color.copy(X).multiplyScalar(J),W.distance=ee,W.coneCos=Math.cos(V.angle),W.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),W.decay=V.decay,n.spot[T]=W;const K=V.shadow;if(V.map&&(n.spotLightMap[P]=V.map,P++,K.updateMatrices(V),V.castShadow&&U++),n.spotLightMatrix[T]=K.matrix,V.castShadow){const $=t.get(V);$.shadowIntensity=K.intensity,$.shadowBias=K.bias,$.shadowNormalBias=K.normalBias,$.shadowRadius=K.radius,$.shadowMapSize=K.mapSize,n.spotShadow[T]=$,n.spotShadowMap[T]=te,A++}T++}else if(V.isRectAreaLight){const W=e.get(V);W.color.copy(X).multiplyScalar(J),W.halfWidth.set(V.width*.5,0,0),W.halfHeight.set(0,V.height*.5,0),n.rectArea[N]=W,N++}else if(V.isPointLight){const W=e.get(V);if(W.color.copy(V.color).multiplyScalar(V.intensity),W.distance=V.distance,W.decay=V.decay,V.castShadow){const K=V.shadow,$=t.get(V);$.shadowIntensity=K.intensity,$.shadowBias=K.bias,$.shadowNormalBias=K.normalBias,$.shadowRadius=K.radius,$.shadowMapSize=K.mapSize,$.shadowCameraNear=K.camera.near,$.shadowCameraFar=K.camera.far,n.pointShadow[w]=$,n.pointShadowMap[w]=te,n.pointShadowMatrix[w]=V.shadow.matrix,C++}n.point[w]=W,w++}else if(V.isHemisphereLight){const W=e.get(V);W.skyColor.copy(V.color).multiplyScalar(J),W.groundColor.copy(V.groundColor).multiplyScalar(J),n.hemi[_]=W,_++}}N>0&&(r.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Mt.LTC_FLOAT_1,n.rectAreaLTC2=Mt.LTC_FLOAT_2):(n.rectAreaLTC1=Mt.LTC_HALF_1,n.rectAreaLTC2=Mt.LTC_HALF_2)),n.ambient[0]=g,n.ambient[1]=b,n.ambient[2]=v;const F=n.hash;(F.directionalLength!==y||F.pointLength!==w||F.spotLength!==T||F.rectAreaLength!==N||F.hemiLength!==_||F.numDirectionalShadows!==j||F.numPointShadows!==C||F.numSpotShadows!==A||F.numSpotMaps!==P||F.numLightProbes!==B)&&(n.directional.length=y,n.spot.length=T,n.rectArea.length=N,n.point.length=w,n.hemi.length=_,n.directionalShadow.length=j,n.directionalShadowMap.length=j,n.pointShadow.length=C,n.pointShadowMap.length=C,n.spotShadow.length=A,n.spotShadowMap.length=A,n.directionalShadowMatrix.length=j,n.pointShadowMatrix.length=C,n.spotLightMatrix.length=A+P-U,n.spotLightMap.length=P,n.numSpotLightShadowsWithMaps=U,n.numLightProbes=B,F.directionalLength=y,F.pointLength=w,F.spotLength=T,F.rectAreaLength=N,F.hemiLength=_,F.numDirectionalShadows=j,F.numPointShadows=C,F.numSpotShadows=A,F.numSpotMaps=P,F.numLightProbes=B,n.version=jX++)}function d(f,g){let b=0,v=0,y=0,w=0,T=0;const N=g.matrixWorldInverse;for(let _=0,j=f.length;_<j;_++){const C=f[_];if(C.isDirectionalLight){const A=n.directional[b];A.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(N),b++}else if(C.isSpotLight){const A=n.spot[y];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(N),A.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(N),y++}else if(C.isRectAreaLight){const A=n.rectArea[w];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(N),o.identity(),a.copy(C.matrixWorld),a.premultiply(N),o.extractRotation(a),A.halfWidth.set(C.width*.5,0,0),A.halfHeight.set(0,C.height*.5,0),A.halfWidth.applyMatrix4(o),A.halfHeight.applyMatrix4(o),w++}else if(C.isPointLight){const A=n.point[v];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(N),v++}else if(C.isHemisphereLight){const A=n.hemi[T];A.direction.setFromMatrixPosition(C.matrixWorld),A.direction.transformDirection(N),T++}}}return{setup:c,setupView:d,state:n}}function _A(r){const e=new CX(r),t=[],n=[];function i(g){f.camera=g,t.length=0,n.length=0}function a(g){t.push(g)}function o(g){n.push(g)}function c(){e.setup(t)}function d(g){e.setupView(t,g)}const f={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:f,setupLights:c,setupLightsView:d,pushLight:a,pushShadow:o}}function RX(r){let e=new WeakMap;function t(i,a=0){const o=e.get(i);let c;return o===void 0?(c=new _A(r),e.set(i,[c])):a>=o.length?(c=new _A(r),o.push(c)):c=o[a],c}function n(){e=new WeakMap}return{get:t,dispose:n}}const OX=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,DX=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function PX(r,e,t){let n=new h0;const i=new dt,a=new dt,o=new ar,c=new j3({depthPacking:E7}),d=new A3,f={},g=t.maxTextureSize,b={[Ku]:xa,[xa]:Ku,[ql]:ql},v=new Xl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new dt},radius:{value:4}},vertexShader:OX,fragmentShader:DX}),y=v.clone();y.defines.HORIZONTAL_PASS=1;const w=new Dn;w.setAttribute("position",new jr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new Li(w,v),N=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ny;let _=this.type;this.render=function(U,B,F){if(N.enabled===!1||N.autoUpdate===!1&&N.needsUpdate===!1||U.length===0)return;const k=r.getRenderTarget(),z=r.getActiveCubeFace(),V=r.getActiveMipmapLevel(),X=r.state;X.setBlending(qu),X.buffers.depth.getReversed()?X.buffers.color.setClear(0,0,0,0):X.buffers.color.setClear(1,1,1,1),X.buffers.depth.setTest(!0),X.setScissorTest(!1);const J=_!==Hl&&this.type===Hl,ee=_===Hl&&this.type!==Hl;for(let te=0,W=U.length;te<W;te++){const K=U[te],$=K.shadow;if($===void 0){console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");continue}if($.autoUpdate===!1&&$.needsUpdate===!1)continue;i.copy($.mapSize);const oe=$.getFrameExtents();if(i.multiply(oe),a.copy($.mapSize),(i.x>g||i.y>g)&&(i.x>g&&(a.x=Math.floor(g/oe.x),i.x=a.x*oe.x,$.mapSize.x=a.x),i.y>g&&(a.y=Math.floor(g/oe.y),i.y=a.y*oe.y,$.mapSize.y=a.y)),$.map===null||J===!0||ee===!0){const Y=this.type!==Hl?{minFilter:Ms,magFilter:Ms}:{};$.map!==null&&$.map.dispose(),$.map=new Zc(i.x,i.y,Y),$.map.texture.name=K.name+".shadowMap",$.camera.updateProjectionMatrix()}r.setRenderTarget($.map),r.clear();const G=$.getViewportCount();for(let Y=0;Y<G;Y++){const ne=$.getViewport(Y);o.set(a.x*ne.x,a.y*ne.y,a.x*ne.z,a.y*ne.w),X.viewport(o),$.updateMatrices(K,Y),n=$.getFrustum(),A(B,F,$.camera,K,this.type)}$.isPointLightShadow!==!0&&this.type===Hl&&j($,F),$.needsUpdate=!1}_=this.type,N.needsUpdate=!1,r.setRenderTarget(k,z,V)};function j(U,B){const F=e.update(T);v.defines.VSM_SAMPLES!==U.blurSamples&&(v.defines.VSM_SAMPLES=U.blurSamples,y.defines.VSM_SAMPLES=U.blurSamples,v.needsUpdate=!0,y.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new Zc(i.x,i.y)),v.uniforms.shadow_pass.value=U.map.texture,v.uniforms.resolution.value=U.mapSize,v.uniforms.radius.value=U.radius,r.setRenderTarget(U.mapPass),r.clear(),r.renderBufferDirect(B,null,F,v,T,null),y.uniforms.shadow_pass.value=U.mapPass.texture,y.uniforms.resolution.value=U.mapSize,y.uniforms.radius.value=U.radius,r.setRenderTarget(U.map),r.clear(),r.renderBufferDirect(B,null,F,y,T,null)}function C(U,B,F,k){let z=null;const V=F.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(V!==void 0)z=V;else if(z=F.isPointLight===!0?d:c,r.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0||B.alphaToCoverage===!0){const X=z.uuid,J=B.uuid;let ee=f[X];ee===void 0&&(ee={},f[X]=ee);let te=ee[J];te===void 0&&(te=z.clone(),ee[J]=te,B.addEventListener("dispose",P)),z=te}if(z.visible=B.visible,z.wireframe=B.wireframe,k===Hl?z.side=B.shadowSide!==null?B.shadowSide:B.side:z.side=B.shadowSide!==null?B.shadowSide:b[B.side],z.alphaMap=B.alphaMap,z.alphaTest=B.alphaToCoverage===!0?.5:B.alphaTest,z.map=B.map,z.clipShadows=B.clipShadows,z.clippingPlanes=B.clippingPlanes,z.clipIntersection=B.clipIntersection,z.displacementMap=B.displacementMap,z.displacementScale=B.displacementScale,z.displacementBias=B.displacementBias,z.wireframeLinewidth=B.wireframeLinewidth,z.linewidth=B.linewidth,F.isPointLight===!0&&z.isMeshDistanceMaterial===!0){const X=r.properties.get(z);X.light=F}return z}function A(U,B,F,k,z){if(U.visible===!1)return;if(U.layers.test(B.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&z===Hl)&&(!U.frustumCulled||n.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,U.matrixWorld);const J=e.update(U),ee=U.material;if(Array.isArray(ee)){const te=J.groups;for(let W=0,K=te.length;W<K;W++){const $=te[W],oe=ee[$.materialIndex];if(oe&&oe.visible){const G=C(U,oe,k,z);U.onBeforeShadow(r,U,B,F,J,G,$),r.renderBufferDirect(F,null,J,G,U,$),U.onAfterShadow(r,U,B,F,J,G,$)}}}else if(ee.visible){const te=C(U,ee,k,z);U.onBeforeShadow(r,U,B,F,J,te,null),r.renderBufferDirect(F,null,J,te,U,null),U.onAfterShadow(r,U,B,F,J,te,null)}}const X=U.children;for(let J=0,ee=X.length;J<ee;J++)A(X[J],B,F,k,z)}function P(U){U.target.removeEventListener("dispose",P);for(const F in f){const k=f[F],z=U.target.uuid;z in k&&(k[z].dispose(),delete k[z])}}}const LX={[w1]:E1,[N1]:j1,[T1]:A1,[If]:M1,[E1]:w1,[j1]:N1,[A1]:T1,[M1]:If};function zX(r,e){function t(){let De=!1;const mt=new ar;let bt=null;const jt=new ar(0,0,0,0);return{setMask:function(ht){bt!==ht&&!De&&(r.colorMask(ht,ht,ht,ht),bt=ht)},setLocked:function(ht){De=ht},setClear:function(ht,at,Lt,tn,Hn){Hn===!0&&(ht*=tn,at*=tn,Lt*=tn),mt.set(ht,at,Lt,tn),jt.equals(mt)===!1&&(r.clearColor(ht,at,Lt,tn),jt.copy(mt))},reset:function(){De=!1,bt=null,jt.set(-1,0,0,0)}}}function n(){let De=!1,mt=!1,bt=null,jt=null,ht=null;return{setReversed:function(at){if(mt!==at){const Lt=e.get("EXT_clip_control");at?Lt.clipControlEXT(Lt.LOWER_LEFT_EXT,Lt.ZERO_TO_ONE_EXT):Lt.clipControlEXT(Lt.LOWER_LEFT_EXT,Lt.NEGATIVE_ONE_TO_ONE_EXT),mt=at;const tn=ht;ht=null,this.setClear(tn)}},getReversed:function(){return mt},setTest:function(at){at?ge(r.DEPTH_TEST):_e(r.DEPTH_TEST)},setMask:function(at){bt!==at&&!De&&(r.depthMask(at),bt=at)},setFunc:function(at){if(mt&&(at=LX[at]),jt!==at){switch(at){case w1:r.depthFunc(r.NEVER);break;case E1:r.depthFunc(r.ALWAYS);break;case N1:r.depthFunc(r.LESS);break;case If:r.depthFunc(r.LEQUAL);break;case T1:r.depthFunc(r.EQUAL);break;case M1:r.depthFunc(r.GEQUAL);break;case j1:r.depthFunc(r.GREATER);break;case A1:r.depthFunc(r.NOTEQUAL);break;default:r.depthFunc(r.LEQUAL)}jt=at}},setLocked:function(at){De=at},setClear:function(at){ht!==at&&(mt&&(at=1-at),r.clearDepth(at),ht=at)},reset:function(){De=!1,bt=null,jt=null,ht=null,mt=!1}}}function i(){let De=!1,mt=null,bt=null,jt=null,ht=null,at=null,Lt=null,tn=null,Hn=null;return{setTest:function(Un){De||(Un?ge(r.STENCIL_TEST):_e(r.STENCIL_TEST))},setMask:function(Un){mt!==Un&&!De&&(r.stencilMask(Un),mt=Un)},setFunc:function(Un,Wi,Br){(bt!==Un||jt!==Wi||ht!==Br)&&(r.stencilFunc(Un,Wi,Br),bt=Un,jt=Wi,ht=Br)},setOp:function(Un,Wi,Br){(at!==Un||Lt!==Wi||tn!==Br)&&(r.stencilOp(Un,Wi,Br),at=Un,Lt=Wi,tn=Br)},setLocked:function(Un){De=Un},setClear:function(Un){Hn!==Un&&(r.clearStencil(Un),Hn=Un)},reset:function(){De=!1,mt=null,bt=null,jt=null,ht=null,at=null,Lt=null,tn=null,Hn=null}}}const a=new t,o=new n,c=new i,d=new WeakMap,f=new WeakMap;let g={},b={},v=new WeakMap,y=[],w=null,T=!1,N=null,_=null,j=null,C=null,A=null,P=null,U=null,B=new Ot(0,0,0),F=0,k=!1,z=null,V=null,X=null,J=null,ee=null;const te=r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let W=!1,K=0;const $=r.getParameter(r.VERSION);$.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec($)[1]),W=K>=1):$.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),W=K>=2);let oe=null,G={};const Y=r.getParameter(r.SCISSOR_BOX),ne=r.getParameter(r.VIEWPORT),le=new ar().fromArray(Y),be=new ar().fromArray(ne);function ce(De,mt,bt,jt){const ht=new Uint8Array(4),at=r.createTexture();r.bindTexture(De,at),r.texParameteri(De,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(De,r.TEXTURE_MAG_FILTER,r.NEAREST);for(let Lt=0;Lt<bt;Lt++)De===r.TEXTURE_3D||De===r.TEXTURE_2D_ARRAY?r.texImage3D(mt,0,r.RGBA,1,1,jt,0,r.RGBA,r.UNSIGNED_BYTE,ht):r.texImage2D(mt+Lt,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,ht);return at}const ie={};ie[r.TEXTURE_2D]=ce(r.TEXTURE_2D,r.TEXTURE_2D,1),ie[r.TEXTURE_CUBE_MAP]=ce(r.TEXTURE_CUBE_MAP,r.TEXTURE_CUBE_MAP_POSITIVE_X,6),ie[r.TEXTURE_2D_ARRAY]=ce(r.TEXTURE_2D_ARRAY,r.TEXTURE_2D_ARRAY,1,1),ie[r.TEXTURE_3D]=ce(r.TEXTURE_3D,r.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),c.setClear(0),ge(r.DEPTH_TEST),o.setFunc(If),nt(!1),Xe(Aw),ge(r.CULL_FACE),ke(qu);function ge(De){g[De]!==!0&&(r.enable(De),g[De]=!0)}function _e(De){g[De]!==!1&&(r.disable(De),g[De]=!1)}function Te(De,mt){return b[De]!==mt?(r.bindFramebuffer(De,mt),b[De]=mt,De===r.DRAW_FRAMEBUFFER&&(b[r.FRAMEBUFFER]=mt),De===r.FRAMEBUFFER&&(b[r.DRAW_FRAMEBUFFER]=mt),!0):!1}function Ee(De,mt){let bt=y,jt=!1;if(De){bt=v.get(mt),bt===void 0&&(bt=[],v.set(mt,bt));const ht=De.textures;if(bt.length!==ht.length||bt[0]!==r.COLOR_ATTACHMENT0){for(let at=0,Lt=ht.length;at<Lt;at++)bt[at]=r.COLOR_ATTACHMENT0+at;bt.length=ht.length,jt=!0}}else bt[0]!==r.BACK&&(bt[0]=r.BACK,jt=!0);jt&&r.drawBuffers(bt)}function $e(De){return w!==De?(r.useProgram(De),w=De,!0):!1}const tt={[lh]:r.FUNC_ADD,[Y5]:r.FUNC_SUBTRACT,[Z5]:r.FUNC_REVERSE_SUBTRACT};tt[K5]=r.MIN,tt[J5]=r.MAX;const xe={[Q5]:r.ZERO,[$5]:r.ONE,[e7]:r.SRC_COLOR,[_1]:r.SRC_ALPHA,[a7]:r.SRC_ALPHA_SATURATE,[i7]:r.DST_COLOR,[n7]:r.DST_ALPHA,[t7]:r.ONE_MINUS_SRC_COLOR,[S1]:r.ONE_MINUS_SRC_ALPHA,[s7]:r.ONE_MINUS_DST_COLOR,[r7]:r.ONE_MINUS_DST_ALPHA,[o7]:r.CONSTANT_COLOR,[l7]:r.ONE_MINUS_CONSTANT_COLOR,[c7]:r.CONSTANT_ALPHA,[u7]:r.ONE_MINUS_CONSTANT_ALPHA};function ke(De,mt,bt,jt,ht,at,Lt,tn,Hn,Un){if(De===qu){T===!0&&(_e(r.BLEND),T=!1);return}if(T===!1&&(ge(r.BLEND),T=!0),De!==X5){if(De!==N||Un!==k){if((_!==lh||A!==lh)&&(r.blendEquation(r.FUNC_ADD),_=lh,A=lh),Un)switch(De){case Lf:r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case Cw:r.blendFunc(r.ONE,r.ONE);break;case Rw:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case Ow:r.blendFuncSeparate(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ZERO,r.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",De);break}else switch(De){case Lf:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case Cw:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE,r.ONE,r.ONE);break;case Rw:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case Ow:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",De);break}j=null,C=null,P=null,U=null,B.set(0,0,0),F=0,N=De,k=Un}return}ht=ht||mt,at=at||bt,Lt=Lt||jt,(mt!==_||ht!==A)&&(r.blendEquationSeparate(tt[mt],tt[ht]),_=mt,A=ht),(bt!==j||jt!==C||at!==P||Lt!==U)&&(r.blendFuncSeparate(xe[bt],xe[jt],xe[at],xe[Lt]),j=bt,C=jt,P=at,U=Lt),(tn.equals(B)===!1||Hn!==F)&&(r.blendColor(tn.r,tn.g,tn.b,Hn),B.copy(tn),F=Hn),N=De,k=!1}function Ve(De,mt){De.side===ql?_e(r.CULL_FACE):ge(r.CULL_FACE);let bt=De.side===xa;mt&&(bt=!bt),nt(bt),De.blending===Lf&&De.transparent===!1?ke(qu):ke(De.blending,De.blendEquation,De.blendSrc,De.blendDst,De.blendEquationAlpha,De.blendSrcAlpha,De.blendDstAlpha,De.blendColor,De.blendAlpha,De.premultipliedAlpha),o.setFunc(De.depthFunc),o.setTest(De.depthTest),o.setMask(De.depthWrite),a.setMask(De.colorWrite);const jt=De.stencilWrite;c.setTest(jt),jt&&(c.setMask(De.stencilWriteMask),c.setFunc(De.stencilFunc,De.stencilRef,De.stencilFuncMask),c.setOp(De.stencilFail,De.stencilZFail,De.stencilZPass)),de(De.polygonOffset,De.polygonOffsetFactor,De.polygonOffsetUnits),De.alphaToCoverage===!0?ge(r.SAMPLE_ALPHA_TO_COVERAGE):_e(r.SAMPLE_ALPHA_TO_COVERAGE)}function nt(De){z!==De&&(De?r.frontFace(r.CW):r.frontFace(r.CCW),z=De)}function Xe(De){De!==q5?(ge(r.CULL_FACE),De!==V&&(De===Aw?r.cullFace(r.BACK):De===G5?r.cullFace(r.FRONT):r.cullFace(r.FRONT_AND_BACK))):_e(r.CULL_FACE),V=De}function je(De){De!==X&&(W&&r.lineWidth(De),X=De)}function de(De,mt,bt){De?(ge(r.POLYGON_OFFSET_FILL),(J!==mt||ee!==bt)&&(r.polygonOffset(mt,bt),J=mt,ee=bt)):_e(r.POLYGON_OFFSET_FILL)}function ye(De){De?ge(r.SCISSOR_TEST):_e(r.SCISSOR_TEST)}function Be(De){De===void 0&&(De=r.TEXTURE0+te-1),oe!==De&&(r.activeTexture(De),oe=De)}function Oe(De,mt,bt){bt===void 0&&(oe===null?bt=r.TEXTURE0+te-1:bt=oe);let jt=G[bt];jt===void 0&&(jt={type:void 0,texture:void 0},G[bt]=jt),(jt.type!==De||jt.texture!==mt)&&(oe!==bt&&(r.activeTexture(bt),oe=bt),r.bindTexture(De,mt||ie[De]),jt.type=De,jt.texture=mt)}function he(){const De=G[oe];De!==void 0&&De.type!==void 0&&(r.bindTexture(De.type,null),De.type=void 0,De.texture=void 0)}function se(){try{r.compressedTexImage2D(...arguments)}catch(De){console.error("THREE.WebGLState:",De)}}function Me(){try{r.compressedTexImage3D(...arguments)}catch(De){console.error("THREE.WebGLState:",De)}}function qe(){try{r.texSubImage2D(...arguments)}catch(De){console.error("THREE.WebGLState:",De)}}function Ge(){try{r.texSubImage3D(...arguments)}catch(De){console.error("THREE.WebGLState:",De)}}function ze(){try{r.compressedTexSubImage2D(...arguments)}catch(De){console.error("THREE.WebGLState:",De)}}function St(){try{r.compressedTexSubImage3D(...arguments)}catch(De){console.error("THREE.WebGLState:",De)}}function ot(){try{r.texStorage2D(...arguments)}catch(De){console.error("THREE.WebGLState:",De)}}function wt(){try{r.texStorage3D(...arguments)}catch(De){console.error("THREE.WebGLState:",De)}}function Dt(){try{r.texImage2D(...arguments)}catch(De){console.error("THREE.WebGLState:",De)}}function ut(){try{r.texImage3D(...arguments)}catch(De){console.error("THREE.WebGLState:",De)}}function vt(De){le.equals(De)===!1&&(r.scissor(De.x,De.y,De.z,De.w),le.copy(De))}function It(De){be.equals(De)===!1&&(r.viewport(De.x,De.y,De.z,De.w),be.copy(De))}function Pt(De,mt){let bt=f.get(mt);bt===void 0&&(bt=new WeakMap,f.set(mt,bt));let jt=bt.get(De);jt===void 0&&(jt=r.getUniformBlockIndex(mt,De.name),bt.set(De,jt))}function gt(De,mt){const jt=f.get(mt).get(De);d.get(mt)!==jt&&(r.uniformBlockBinding(mt,jt,De.__bindingPointIndex),d.set(mt,jt))}function an(){r.disable(r.BLEND),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SCISSOR_TEST),r.disable(r.STENCIL_TEST),r.disable(r.SAMPLE_ALPHA_TO_COVERAGE),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO),r.blendFuncSeparate(r.ONE,r.ZERO,r.ONE,r.ZERO),r.blendColor(0,0,0,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(r.LESS),o.setReversed(!1),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(r.ALWAYS,0,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.clearStencil(0),r.cullFace(r.BACK),r.frontFace(r.CCW),r.polygonOffset(0,0),r.activeTexture(r.TEXTURE0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),g={},oe=null,G={},b={},v=new WeakMap,y=[],w=null,T=!1,N=null,_=null,j=null,C=null,A=null,P=null,U=null,B=new Ot(0,0,0),F=0,k=!1,z=null,V=null,X=null,J=null,ee=null,le.set(0,0,r.canvas.width,r.canvas.height),be.set(0,0,r.canvas.width,r.canvas.height),a.reset(),o.reset(),c.reset()}return{buffers:{color:a,depth:o,stencil:c},enable:ge,disable:_e,bindFramebuffer:Te,drawBuffers:Ee,useProgram:$e,setBlending:ke,setMaterial:Ve,setFlipSided:nt,setCullFace:Xe,setLineWidth:je,setPolygonOffset:de,setScissorTest:ye,activeTexture:Be,bindTexture:Oe,unbindTexture:he,compressedTexImage2D:se,compressedTexImage3D:Me,texImage2D:Dt,texImage3D:ut,updateUBOMapping:Pt,uniformBlockBinding:gt,texStorage2D:ot,texStorage3D:wt,texSubImage2D:qe,texSubImage3D:Ge,compressedTexSubImage2D:ze,compressedTexSubImage3D:St,scissor:vt,viewport:It,reset:an}}function UX(r,e,t,n,i,a,o){const c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new dt,g=new WeakMap;let b;const v=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(he,se){return y?new OffscreenCanvas(he,se):hb("canvas")}function T(he,se,Me){let qe=1;const Ge=Oe(he);if((Ge.width>Me||Ge.height>Me)&&(qe=Me/Math.max(Ge.width,Ge.height)),qe<1)if(typeof HTMLImageElement<"u"&&he instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&he instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&he instanceof ImageBitmap||typeof VideoFrame<"u"&&he instanceof VideoFrame){const ze=Math.floor(qe*Ge.width),St=Math.floor(qe*Ge.height);b===void 0&&(b=w(ze,St));const ot=se?w(ze,St):b;return ot.width=ze,ot.height=St,ot.getContext("2d").drawImage(he,0,0,ze,St),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ge.width+"x"+Ge.height+") to ("+ze+"x"+St+")."),ot}else return"data"in he&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ge.width+"x"+Ge.height+")."),he;return he}function N(he){return he.generateMipmaps}function _(he){r.generateMipmap(he)}function j(he){return he.isWebGLCubeRenderTarget?r.TEXTURE_CUBE_MAP:he.isWebGL3DRenderTarget?r.TEXTURE_3D:he.isWebGLArrayRenderTarget||he.isCompressedArrayTexture?r.TEXTURE_2D_ARRAY:r.TEXTURE_2D}function C(he,se,Me,qe,Ge=!1){if(he!==null){if(r[he]!==void 0)return r[he];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+he+"'")}let ze=se;if(se===r.RED&&(Me===r.FLOAT&&(ze=r.R32F),Me===r.HALF_FLOAT&&(ze=r.R16F),Me===r.UNSIGNED_BYTE&&(ze=r.R8)),se===r.RED_INTEGER&&(Me===r.UNSIGNED_BYTE&&(ze=r.R8UI),Me===r.UNSIGNED_SHORT&&(ze=r.R16UI),Me===r.UNSIGNED_INT&&(ze=r.R32UI),Me===r.BYTE&&(ze=r.R8I),Me===r.SHORT&&(ze=r.R16I),Me===r.INT&&(ze=r.R32I)),se===r.RG&&(Me===r.FLOAT&&(ze=r.RG32F),Me===r.HALF_FLOAT&&(ze=r.RG16F),Me===r.UNSIGNED_BYTE&&(ze=r.RG8)),se===r.RG_INTEGER&&(Me===r.UNSIGNED_BYTE&&(ze=r.RG8UI),Me===r.UNSIGNED_SHORT&&(ze=r.RG16UI),Me===r.UNSIGNED_INT&&(ze=r.RG32UI),Me===r.BYTE&&(ze=r.RG8I),Me===r.SHORT&&(ze=r.RG16I),Me===r.INT&&(ze=r.RG32I)),se===r.RGB_INTEGER&&(Me===r.UNSIGNED_BYTE&&(ze=r.RGB8UI),Me===r.UNSIGNED_SHORT&&(ze=r.RGB16UI),Me===r.UNSIGNED_INT&&(ze=r.RGB32UI),Me===r.BYTE&&(ze=r.RGB8I),Me===r.SHORT&&(ze=r.RGB16I),Me===r.INT&&(ze=r.RGB32I)),se===r.RGBA_INTEGER&&(Me===r.UNSIGNED_BYTE&&(ze=r.RGBA8UI),Me===r.UNSIGNED_SHORT&&(ze=r.RGBA16UI),Me===r.UNSIGNED_INT&&(ze=r.RGBA32UI),Me===r.BYTE&&(ze=r.RGBA8I),Me===r.SHORT&&(ze=r.RGBA16I),Me===r.INT&&(ze=r.RGBA32I)),se===r.RGB&&Me===r.UNSIGNED_INT_5_9_9_9_REV&&(ze=r.RGB9_E5),se===r.RGBA){const St=Ge?ub:Qn.getTransfer(qe);Me===r.FLOAT&&(ze=r.RGBA32F),Me===r.HALF_FLOAT&&(ze=r.RGBA16F),Me===r.UNSIGNED_BYTE&&(ze=St===xr?r.SRGB8_ALPHA8:r.RGBA8),Me===r.UNSIGNED_SHORT_4_4_4_4&&(ze=r.RGBA4),Me===r.UNSIGNED_SHORT_5_5_5_1&&(ze=r.RGB5_A1)}return(ze===r.R16F||ze===r.R32F||ze===r.RG16F||ze===r.RG32F||ze===r.RGBA16F||ze===r.RGBA32F)&&e.get("EXT_color_buffer_float"),ze}function A(he,se){let Me;return he?se===null||se===Qu||se===Gp?Me=r.DEPTH24_STENCIL8:se===Ha?Me=r.DEPTH32F_STENCIL8:se===qp&&(Me=r.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):se===null||se===Qu||se===Gp?Me=r.DEPTH_COMPONENT24:se===Ha?Me=r.DEPTH_COMPONENT32F:se===qp&&(Me=r.DEPTH_COMPONENT16),Me}function P(he,se){return N(he)===!0||he.isFramebufferTexture&&he.minFilter!==Ms&&he.minFilter!==Fi?Math.log2(Math.max(se.width,se.height))+1:he.mipmaps!==void 0&&he.mipmaps.length>0?he.mipmaps.length:he.isCompressedTexture&&Array.isArray(he.image)?se.mipmaps.length:1}function U(he){const se=he.target;se.removeEventListener("dispose",U),F(se),se.isVideoTexture&&g.delete(se)}function B(he){const se=he.target;se.removeEventListener("dispose",B),z(se)}function F(he){const se=n.get(he);if(se.__webglInit===void 0)return;const Me=he.source,qe=v.get(Me);if(qe){const Ge=qe[se.__cacheKey];Ge.usedTimes--,Ge.usedTimes===0&&k(he),Object.keys(qe).length===0&&v.delete(Me)}n.remove(he)}function k(he){const se=n.get(he);r.deleteTexture(se.__webglTexture);const Me=he.source,qe=v.get(Me);delete qe[se.__cacheKey],o.memory.textures--}function z(he){const se=n.get(he);if(he.depthTexture&&(he.depthTexture.dispose(),n.remove(he.depthTexture)),he.isWebGLCubeRenderTarget)for(let qe=0;qe<6;qe++){if(Array.isArray(se.__webglFramebuffer[qe]))for(let Ge=0;Ge<se.__webglFramebuffer[qe].length;Ge++)r.deleteFramebuffer(se.__webglFramebuffer[qe][Ge]);else r.deleteFramebuffer(se.__webglFramebuffer[qe]);se.__webglDepthbuffer&&r.deleteRenderbuffer(se.__webglDepthbuffer[qe])}else{if(Array.isArray(se.__webglFramebuffer))for(let qe=0;qe<se.__webglFramebuffer.length;qe++)r.deleteFramebuffer(se.__webglFramebuffer[qe]);else r.deleteFramebuffer(se.__webglFramebuffer);if(se.__webglDepthbuffer&&r.deleteRenderbuffer(se.__webglDepthbuffer),se.__webglMultisampledFramebuffer&&r.deleteFramebuffer(se.__webglMultisampledFramebuffer),se.__webglColorRenderbuffer)for(let qe=0;qe<se.__webglColorRenderbuffer.length;qe++)se.__webglColorRenderbuffer[qe]&&r.deleteRenderbuffer(se.__webglColorRenderbuffer[qe]);se.__webglDepthRenderbuffer&&r.deleteRenderbuffer(se.__webglDepthRenderbuffer)}const Me=he.textures;for(let qe=0,Ge=Me.length;qe<Ge;qe++){const ze=n.get(Me[qe]);ze.__webglTexture&&(r.deleteTexture(ze.__webglTexture),o.memory.textures--),n.remove(Me[qe])}n.remove(he)}let V=0;function X(){V=0}function J(){const he=V;return he>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+he+" texture units while this GPU supports only "+i.maxTextures),V+=1,he}function ee(he){const se=[];return se.push(he.wrapS),se.push(he.wrapT),se.push(he.wrapR||0),se.push(he.magFilter),se.push(he.minFilter),se.push(he.anisotropy),se.push(he.internalFormat),se.push(he.format),se.push(he.type),se.push(he.generateMipmaps),se.push(he.premultiplyAlpha),se.push(he.flipY),se.push(he.unpackAlignment),se.push(he.colorSpace),se.join()}function te(he,se){const Me=n.get(he);if(he.isVideoTexture&&ye(he),he.isRenderTargetTexture===!1&&he.isExternalTexture!==!0&&he.version>0&&Me.__version!==he.version){const qe=he.image;if(qe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(qe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ie(Me,he,se);return}}else he.isExternalTexture&&(Me.__webglTexture=he.sourceTexture?he.sourceTexture:null);t.bindTexture(r.TEXTURE_2D,Me.__webglTexture,r.TEXTURE0+se)}function W(he,se){const Me=n.get(he);if(he.isRenderTargetTexture===!1&&he.version>0&&Me.__version!==he.version){ie(Me,he,se);return}t.bindTexture(r.TEXTURE_2D_ARRAY,Me.__webglTexture,r.TEXTURE0+se)}function K(he,se){const Me=n.get(he);if(he.isRenderTargetTexture===!1&&he.version>0&&Me.__version!==he.version){ie(Me,he,se);return}t.bindTexture(r.TEXTURE_3D,Me.__webglTexture,r.TEXTURE0+se)}function $(he,se){const Me=n.get(he);if(he.version>0&&Me.__version!==he.version){ge(Me,he,se);return}t.bindTexture(r.TEXTURE_CUBE_MAP,Me.__webglTexture,r.TEXTURE0+se)}const oe={[ab]:r.REPEAT,[nl]:r.CLAMP_TO_EDGE,[ob]:r.MIRRORED_REPEAT},G={[Ms]:r.NEAREST,[n3]:r.NEAREST_MIPMAP_NEAREST,[Rp]:r.NEAREST_MIPMAP_LINEAR,[Fi]:r.LINEAR,[Ig]:r.LINEAR_MIPMAP_NEAREST,[Vc]:r.LINEAR_MIPMAP_LINEAR},Y={[T7]:r.NEVER,[O7]:r.ALWAYS,[M7]:r.LESS,[d3]:r.LEQUAL,[j7]:r.EQUAL,[R7]:r.GEQUAL,[A7]:r.GREATER,[C7]:r.NOTEQUAL};function ne(he,se){if(se.type===Ha&&e.has("OES_texture_float_linear")===!1&&(se.magFilter===Fi||se.magFilter===Ig||se.magFilter===Rp||se.magFilter===Vc||se.minFilter===Fi||se.minFilter===Ig||se.minFilter===Rp||se.minFilter===Vc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),r.texParameteri(he,r.TEXTURE_WRAP_S,oe[se.wrapS]),r.texParameteri(he,r.TEXTURE_WRAP_T,oe[se.wrapT]),(he===r.TEXTURE_3D||he===r.TEXTURE_2D_ARRAY)&&r.texParameteri(he,r.TEXTURE_WRAP_R,oe[se.wrapR]),r.texParameteri(he,r.TEXTURE_MAG_FILTER,G[se.magFilter]),r.texParameteri(he,r.TEXTURE_MIN_FILTER,G[se.minFilter]),se.compareFunction&&(r.texParameteri(he,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(he,r.TEXTURE_COMPARE_FUNC,Y[se.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(se.magFilter===Ms||se.minFilter!==Rp&&se.minFilter!==Vc||se.type===Ha&&e.has("OES_texture_float_linear")===!1)return;if(se.anisotropy>1||n.get(se).__currentAnisotropy){const Me=e.get("EXT_texture_filter_anisotropic");r.texParameterf(he,Me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(se.anisotropy,i.getMaxAnisotropy())),n.get(se).__currentAnisotropy=se.anisotropy}}}function le(he,se){let Me=!1;he.__webglInit===void 0&&(he.__webglInit=!0,se.addEventListener("dispose",U));const qe=se.source;let Ge=v.get(qe);Ge===void 0&&(Ge={},v.set(qe,Ge));const ze=ee(se);if(ze!==he.__cacheKey){Ge[ze]===void 0&&(Ge[ze]={texture:r.createTexture(),usedTimes:0},o.memory.textures++,Me=!0),Ge[ze].usedTimes++;const St=Ge[he.__cacheKey];St!==void 0&&(Ge[he.__cacheKey].usedTimes--,St.usedTimes===0&&k(se)),he.__cacheKey=ze,he.__webglTexture=Ge[ze].texture}return Me}function be(he,se,Me){return Math.floor(Math.floor(he/Me)/se)}function ce(he,se,Me,qe){const ze=he.updateRanges;if(ze.length===0)t.texSubImage2D(r.TEXTURE_2D,0,0,0,se.width,se.height,Me,qe,se.data);else{ze.sort((ut,vt)=>ut.start-vt.start);let St=0;for(let ut=1;ut<ze.length;ut++){const vt=ze[St],It=ze[ut],Pt=vt.start+vt.count,gt=be(It.start,se.width,4),an=be(vt.start,se.width,4);It.start<=Pt+1&&gt===an&&be(It.start+It.count-1,se.width,4)===gt?vt.count=Math.max(vt.count,It.start+It.count-vt.start):(++St,ze[St]=It)}ze.length=St+1;const ot=r.getParameter(r.UNPACK_ROW_LENGTH),wt=r.getParameter(r.UNPACK_SKIP_PIXELS),Dt=r.getParameter(r.UNPACK_SKIP_ROWS);r.pixelStorei(r.UNPACK_ROW_LENGTH,se.width);for(let ut=0,vt=ze.length;ut<vt;ut++){const It=ze[ut],Pt=Math.floor(It.start/4),gt=Math.ceil(It.count/4),an=Pt%se.width,De=Math.floor(Pt/se.width),mt=gt,bt=1;r.pixelStorei(r.UNPACK_SKIP_PIXELS,an),r.pixelStorei(r.UNPACK_SKIP_ROWS,De),t.texSubImage2D(r.TEXTURE_2D,0,an,De,mt,bt,Me,qe,se.data)}he.clearUpdateRanges(),r.pixelStorei(r.UNPACK_ROW_LENGTH,ot),r.pixelStorei(r.UNPACK_SKIP_PIXELS,wt),r.pixelStorei(r.UNPACK_SKIP_ROWS,Dt)}}function ie(he,se,Me){let qe=r.TEXTURE_2D;(se.isDataArrayTexture||se.isCompressedArrayTexture)&&(qe=r.TEXTURE_2D_ARRAY),se.isData3DTexture&&(qe=r.TEXTURE_3D);const Ge=le(he,se),ze=se.source;t.bindTexture(qe,he.__webglTexture,r.TEXTURE0+Me);const St=n.get(ze);if(ze.version!==St.__version||Ge===!0){t.activeTexture(r.TEXTURE0+Me);const ot=Qn.getPrimaries(Qn.workingColorSpace),wt=se.colorSpace===Hu?null:Qn.getPrimaries(se.colorSpace),Dt=se.colorSpace===Hu||ot===wt?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,se.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,se.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,Dt);let ut=T(se.image,!1,i.maxTextureSize);ut=Be(se,ut);const vt=a.convert(se.format,se.colorSpace),It=a.convert(se.type);let Pt=C(se.internalFormat,vt,It,se.colorSpace,se.isVideoTexture);ne(qe,se);let gt;const an=se.mipmaps,De=se.isVideoTexture!==!0,mt=St.__version===void 0||Ge===!0,bt=ze.dataReady,jt=P(se,ut);if(se.isDepthTexture)Pt=A(se.format===Xp,se.type),mt&&(De?t.texStorage2D(r.TEXTURE_2D,1,Pt,ut.width,ut.height):t.texImage2D(r.TEXTURE_2D,0,Pt,ut.width,ut.height,0,vt,It,null));else if(se.isDataTexture)if(an.length>0){De&&mt&&t.texStorage2D(r.TEXTURE_2D,jt,Pt,an[0].width,an[0].height);for(let ht=0,at=an.length;ht<at;ht++)gt=an[ht],De?bt&&t.texSubImage2D(r.TEXTURE_2D,ht,0,0,gt.width,gt.height,vt,It,gt.data):t.texImage2D(r.TEXTURE_2D,ht,Pt,gt.width,gt.height,0,vt,It,gt.data);se.generateMipmaps=!1}else De?(mt&&t.texStorage2D(r.TEXTURE_2D,jt,Pt,ut.width,ut.height),bt&&ce(se,ut,vt,It)):t.texImage2D(r.TEXTURE_2D,0,Pt,ut.width,ut.height,0,vt,It,ut.data);else if(se.isCompressedTexture)if(se.isCompressedArrayTexture){De&&mt&&t.texStorage3D(r.TEXTURE_2D_ARRAY,jt,Pt,an[0].width,an[0].height,ut.depth);for(let ht=0,at=an.length;ht<at;ht++)if(gt=an[ht],se.format!==Gs)if(vt!==null)if(De){if(bt)if(se.layerUpdates.size>0){const Lt=Vw(gt.width,gt.height,se.format,se.type);for(const tn of se.layerUpdates){const Hn=gt.data.subarray(tn*Lt/gt.data.BYTES_PER_ELEMENT,(tn+1)*Lt/gt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,ht,0,0,tn,gt.width,gt.height,1,vt,Hn)}se.clearLayerUpdates()}else t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,ht,0,0,0,gt.width,gt.height,ut.depth,vt,gt.data)}else t.compressedTexImage3D(r.TEXTURE_2D_ARRAY,ht,Pt,gt.width,gt.height,ut.depth,0,gt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else De?bt&&t.texSubImage3D(r.TEXTURE_2D_ARRAY,ht,0,0,0,gt.width,gt.height,ut.depth,vt,It,gt.data):t.texImage3D(r.TEXTURE_2D_ARRAY,ht,Pt,gt.width,gt.height,ut.depth,0,vt,It,gt.data)}else{De&&mt&&t.texStorage2D(r.TEXTURE_2D,jt,Pt,an[0].width,an[0].height);for(let ht=0,at=an.length;ht<at;ht++)gt=an[ht],se.format!==Gs?vt!==null?De?bt&&t.compressedTexSubImage2D(r.TEXTURE_2D,ht,0,0,gt.width,gt.height,vt,gt.data):t.compressedTexImage2D(r.TEXTURE_2D,ht,Pt,gt.width,gt.height,0,gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):De?bt&&t.texSubImage2D(r.TEXTURE_2D,ht,0,0,gt.width,gt.height,vt,It,gt.data):t.texImage2D(r.TEXTURE_2D,ht,Pt,gt.width,gt.height,0,vt,It,gt.data)}else if(se.isDataArrayTexture)if(De){if(mt&&t.texStorage3D(r.TEXTURE_2D_ARRAY,jt,Pt,ut.width,ut.height,ut.depth),bt)if(se.layerUpdates.size>0){const ht=Vw(ut.width,ut.height,se.format,se.type);for(const at of se.layerUpdates){const Lt=ut.data.subarray(at*ht/ut.data.BYTES_PER_ELEMENT,(at+1)*ht/ut.data.BYTES_PER_ELEMENT);t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,at,ut.width,ut.height,1,vt,It,Lt)}se.clearLayerUpdates()}else t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,ut.width,ut.height,ut.depth,vt,It,ut.data)}else t.texImage3D(r.TEXTURE_2D_ARRAY,0,Pt,ut.width,ut.height,ut.depth,0,vt,It,ut.data);else if(se.isData3DTexture)De?(mt&&t.texStorage3D(r.TEXTURE_3D,jt,Pt,ut.width,ut.height,ut.depth),bt&&t.texSubImage3D(r.TEXTURE_3D,0,0,0,0,ut.width,ut.height,ut.depth,vt,It,ut.data)):t.texImage3D(r.TEXTURE_3D,0,Pt,ut.width,ut.height,ut.depth,0,vt,It,ut.data);else if(se.isFramebufferTexture){if(mt)if(De)t.texStorage2D(r.TEXTURE_2D,jt,Pt,ut.width,ut.height);else{let ht=ut.width,at=ut.height;for(let Lt=0;Lt<jt;Lt++)t.texImage2D(r.TEXTURE_2D,Lt,Pt,ht,at,0,vt,It,null),ht>>=1,at>>=1}}else if(an.length>0){if(De&&mt){const ht=Oe(an[0]);t.texStorage2D(r.TEXTURE_2D,jt,Pt,ht.width,ht.height)}for(let ht=0,at=an.length;ht<at;ht++)gt=an[ht],De?bt&&t.texSubImage2D(r.TEXTURE_2D,ht,0,0,vt,It,gt):t.texImage2D(r.TEXTURE_2D,ht,Pt,vt,It,gt);se.generateMipmaps=!1}else if(De){if(mt){const ht=Oe(ut);t.texStorage2D(r.TEXTURE_2D,jt,Pt,ht.width,ht.height)}bt&&t.texSubImage2D(r.TEXTURE_2D,0,0,0,vt,It,ut)}else t.texImage2D(r.TEXTURE_2D,0,Pt,vt,It,ut);N(se)&&_(qe),St.__version=ze.version,se.onUpdate&&se.onUpdate(se)}he.__version=se.version}function ge(he,se,Me){if(se.image.length!==6)return;const qe=le(he,se),Ge=se.source;t.bindTexture(r.TEXTURE_CUBE_MAP,he.__webglTexture,r.TEXTURE0+Me);const ze=n.get(Ge);if(Ge.version!==ze.__version||qe===!0){t.activeTexture(r.TEXTURE0+Me);const St=Qn.getPrimaries(Qn.workingColorSpace),ot=se.colorSpace===Hu?null:Qn.getPrimaries(se.colorSpace),wt=se.colorSpace===Hu||St===ot?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,se.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,se.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,wt);const Dt=se.isCompressedTexture||se.image[0].isCompressedTexture,ut=se.image[0]&&se.image[0].isDataTexture,vt=[];for(let at=0;at<6;at++)!Dt&&!ut?vt[at]=T(se.image[at],!0,i.maxCubemapSize):vt[at]=ut?se.image[at].image:se.image[at],vt[at]=Be(se,vt[at]);const It=vt[0],Pt=a.convert(se.format,se.colorSpace),gt=a.convert(se.type),an=C(se.internalFormat,Pt,gt,se.colorSpace),De=se.isVideoTexture!==!0,mt=ze.__version===void 0||qe===!0,bt=Ge.dataReady;let jt=P(se,It);ne(r.TEXTURE_CUBE_MAP,se);let ht;if(Dt){De&&mt&&t.texStorage2D(r.TEXTURE_CUBE_MAP,jt,an,It.width,It.height);for(let at=0;at<6;at++){ht=vt[at].mipmaps;for(let Lt=0;Lt<ht.length;Lt++){const tn=ht[Lt];se.format!==Gs?Pt!==null?De?bt&&t.compressedTexSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+at,Lt,0,0,tn.width,tn.height,Pt,tn.data):t.compressedTexImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+at,Lt,an,tn.width,tn.height,0,tn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):De?bt&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+at,Lt,0,0,tn.width,tn.height,Pt,gt,tn.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+at,Lt,an,tn.width,tn.height,0,Pt,gt,tn.data)}}}else{if(ht=se.mipmaps,De&&mt){ht.length>0&&jt++;const at=Oe(vt[0]);t.texStorage2D(r.TEXTURE_CUBE_MAP,jt,an,at.width,at.height)}for(let at=0;at<6;at++)if(ut){De?bt&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+at,0,0,0,vt[at].width,vt[at].height,Pt,gt,vt[at].data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+at,0,an,vt[at].width,vt[at].height,0,Pt,gt,vt[at].data);for(let Lt=0;Lt<ht.length;Lt++){const Hn=ht[Lt].image[at].image;De?bt&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+at,Lt+1,0,0,Hn.width,Hn.height,Pt,gt,Hn.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+at,Lt+1,an,Hn.width,Hn.height,0,Pt,gt,Hn.data)}}else{De?bt&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+at,0,0,0,Pt,gt,vt[at]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+at,0,an,Pt,gt,vt[at]);for(let Lt=0;Lt<ht.length;Lt++){const tn=ht[Lt];De?bt&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+at,Lt+1,0,0,Pt,gt,tn.image[at]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+at,Lt+1,an,Pt,gt,tn.image[at])}}}N(se)&&_(r.TEXTURE_CUBE_MAP),ze.__version=Ge.version,se.onUpdate&&se.onUpdate(se)}he.__version=se.version}function _e(he,se,Me,qe,Ge,ze){const St=a.convert(Me.format,Me.colorSpace),ot=a.convert(Me.type),wt=C(Me.internalFormat,St,ot,Me.colorSpace),Dt=n.get(se),ut=n.get(Me);if(ut.__renderTarget=se,!Dt.__hasExternalTextures){const vt=Math.max(1,se.width>>ze),It=Math.max(1,se.height>>ze);Ge===r.TEXTURE_3D||Ge===r.TEXTURE_2D_ARRAY?t.texImage3D(Ge,ze,wt,vt,It,se.depth,0,St,ot,null):t.texImage2D(Ge,ze,wt,vt,It,0,St,ot,null)}t.bindFramebuffer(r.FRAMEBUFFER,he),de(se)?c.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,qe,Ge,ut.__webglTexture,0,je(se)):(Ge===r.TEXTURE_2D||Ge>=r.TEXTURE_CUBE_MAP_POSITIVE_X&&Ge<=r.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&r.framebufferTexture2D(r.FRAMEBUFFER,qe,Ge,ut.__webglTexture,ze),t.bindFramebuffer(r.FRAMEBUFFER,null)}function Te(he,se,Me){if(r.bindRenderbuffer(r.RENDERBUFFER,he),se.depthBuffer){const qe=se.depthTexture,Ge=qe&&qe.isDepthTexture?qe.type:null,ze=A(se.stencilBuffer,Ge),St=se.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,ot=je(se);de(se)?c.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,ot,ze,se.width,se.height):Me?r.renderbufferStorageMultisample(r.RENDERBUFFER,ot,ze,se.width,se.height):r.renderbufferStorage(r.RENDERBUFFER,ze,se.width,se.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,St,r.RENDERBUFFER,he)}else{const qe=se.textures;for(let Ge=0;Ge<qe.length;Ge++){const ze=qe[Ge],St=a.convert(ze.format,ze.colorSpace),ot=a.convert(ze.type),wt=C(ze.internalFormat,St,ot,ze.colorSpace),Dt=je(se);Me&&de(se)===!1?r.renderbufferStorageMultisample(r.RENDERBUFFER,Dt,wt,se.width,se.height):de(se)?c.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,Dt,wt,se.width,se.height):r.renderbufferStorage(r.RENDERBUFFER,wt,se.width,se.height)}}r.bindRenderbuffer(r.RENDERBUFFER,null)}function Ee(he,se){if(se&&se.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(r.FRAMEBUFFER,he),!(se.depthTexture&&se.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const qe=n.get(se.depthTexture);qe.__renderTarget=se,(!qe.__webglTexture||se.depthTexture.image.width!==se.width||se.depthTexture.image.height!==se.height)&&(se.depthTexture.image.width=se.width,se.depthTexture.image.height=se.height,se.depthTexture.needsUpdate=!0),te(se.depthTexture,0);const Ge=qe.__webglTexture,ze=je(se);if(se.depthTexture.format===Wp)de(se)?c.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Ge,0,ze):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Ge,0);else if(se.depthTexture.format===Xp)de(se)?c.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Ge,0,ze):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Ge,0);else throw new Error("Unknown depthTexture format")}function $e(he){const se=n.get(he),Me=he.isWebGLCubeRenderTarget===!0;if(se.__boundDepthTexture!==he.depthTexture){const qe=he.depthTexture;if(se.__depthDisposeCallback&&se.__depthDisposeCallback(),qe){const Ge=()=>{delete se.__boundDepthTexture,delete se.__depthDisposeCallback,qe.removeEventListener("dispose",Ge)};qe.addEventListener("dispose",Ge),se.__depthDisposeCallback=Ge}se.__boundDepthTexture=qe}if(he.depthTexture&&!se.__autoAllocateDepthBuffer){if(Me)throw new Error("target.depthTexture not supported in Cube render targets");const qe=he.texture.mipmaps;qe&&qe.length>0?Ee(se.__webglFramebuffer[0],he):Ee(se.__webglFramebuffer,he)}else if(Me){se.__webglDepthbuffer=[];for(let qe=0;qe<6;qe++)if(t.bindFramebuffer(r.FRAMEBUFFER,se.__webglFramebuffer[qe]),se.__webglDepthbuffer[qe]===void 0)se.__webglDepthbuffer[qe]=r.createRenderbuffer(),Te(se.__webglDepthbuffer[qe],he,!1);else{const Ge=he.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,ze=se.__webglDepthbuffer[qe];r.bindRenderbuffer(r.RENDERBUFFER,ze),r.framebufferRenderbuffer(r.FRAMEBUFFER,Ge,r.RENDERBUFFER,ze)}}else{const qe=he.texture.mipmaps;if(qe&&qe.length>0?t.bindFramebuffer(r.FRAMEBUFFER,se.__webglFramebuffer[0]):t.bindFramebuffer(r.FRAMEBUFFER,se.__webglFramebuffer),se.__webglDepthbuffer===void 0)se.__webglDepthbuffer=r.createRenderbuffer(),Te(se.__webglDepthbuffer,he,!1);else{const Ge=he.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,ze=se.__webglDepthbuffer;r.bindRenderbuffer(r.RENDERBUFFER,ze),r.framebufferRenderbuffer(r.FRAMEBUFFER,Ge,r.RENDERBUFFER,ze)}}t.bindFramebuffer(r.FRAMEBUFFER,null)}function tt(he,se,Me){const qe=n.get(he);se!==void 0&&_e(qe.__webglFramebuffer,he,he.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,0),Me!==void 0&&$e(he)}function xe(he){const se=he.texture,Me=n.get(he),qe=n.get(se);he.addEventListener("dispose",B);const Ge=he.textures,ze=he.isWebGLCubeRenderTarget===!0,St=Ge.length>1;if(St||(qe.__webglTexture===void 0&&(qe.__webglTexture=r.createTexture()),qe.__version=se.version,o.memory.textures++),ze){Me.__webglFramebuffer=[];for(let ot=0;ot<6;ot++)if(se.mipmaps&&se.mipmaps.length>0){Me.__webglFramebuffer[ot]=[];for(let wt=0;wt<se.mipmaps.length;wt++)Me.__webglFramebuffer[ot][wt]=r.createFramebuffer()}else Me.__webglFramebuffer[ot]=r.createFramebuffer()}else{if(se.mipmaps&&se.mipmaps.length>0){Me.__webglFramebuffer=[];for(let ot=0;ot<se.mipmaps.length;ot++)Me.__webglFramebuffer[ot]=r.createFramebuffer()}else Me.__webglFramebuffer=r.createFramebuffer();if(St)for(let ot=0,wt=Ge.length;ot<wt;ot++){const Dt=n.get(Ge[ot]);Dt.__webglTexture===void 0&&(Dt.__webglTexture=r.createTexture(),o.memory.textures++)}if(he.samples>0&&de(he)===!1){Me.__webglMultisampledFramebuffer=r.createFramebuffer(),Me.__webglColorRenderbuffer=[],t.bindFramebuffer(r.FRAMEBUFFER,Me.__webglMultisampledFramebuffer);for(let ot=0;ot<Ge.length;ot++){const wt=Ge[ot];Me.__webglColorRenderbuffer[ot]=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,Me.__webglColorRenderbuffer[ot]);const Dt=a.convert(wt.format,wt.colorSpace),ut=a.convert(wt.type),vt=C(wt.internalFormat,Dt,ut,wt.colorSpace,he.isXRRenderTarget===!0),It=je(he);r.renderbufferStorageMultisample(r.RENDERBUFFER,It,vt,he.width,he.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+ot,r.RENDERBUFFER,Me.__webglColorRenderbuffer[ot])}r.bindRenderbuffer(r.RENDERBUFFER,null),he.depthBuffer&&(Me.__webglDepthRenderbuffer=r.createRenderbuffer(),Te(Me.__webglDepthRenderbuffer,he,!0)),t.bindFramebuffer(r.FRAMEBUFFER,null)}}if(ze){t.bindTexture(r.TEXTURE_CUBE_MAP,qe.__webglTexture),ne(r.TEXTURE_CUBE_MAP,se);for(let ot=0;ot<6;ot++)if(se.mipmaps&&se.mipmaps.length>0)for(let wt=0;wt<se.mipmaps.length;wt++)_e(Me.__webglFramebuffer[ot][wt],he,se,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+ot,wt);else _e(Me.__webglFramebuffer[ot],he,se,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+ot,0);N(se)&&_(r.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(St){for(let ot=0,wt=Ge.length;ot<wt;ot++){const Dt=Ge[ot],ut=n.get(Dt);let vt=r.TEXTURE_2D;(he.isWebGL3DRenderTarget||he.isWebGLArrayRenderTarget)&&(vt=he.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),t.bindTexture(vt,ut.__webglTexture),ne(vt,Dt),_e(Me.__webglFramebuffer,he,Dt,r.COLOR_ATTACHMENT0+ot,vt,0),N(Dt)&&_(vt)}t.unbindTexture()}else{let ot=r.TEXTURE_2D;if((he.isWebGL3DRenderTarget||he.isWebGLArrayRenderTarget)&&(ot=he.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),t.bindTexture(ot,qe.__webglTexture),ne(ot,se),se.mipmaps&&se.mipmaps.length>0)for(let wt=0;wt<se.mipmaps.length;wt++)_e(Me.__webglFramebuffer[wt],he,se,r.COLOR_ATTACHMENT0,ot,wt);else _e(Me.__webglFramebuffer,he,se,r.COLOR_ATTACHMENT0,ot,0);N(se)&&_(ot),t.unbindTexture()}he.depthBuffer&&$e(he)}function ke(he){const se=he.textures;for(let Me=0,qe=se.length;Me<qe;Me++){const Ge=se[Me];if(N(Ge)){const ze=j(he),St=n.get(Ge).__webglTexture;t.bindTexture(ze,St),_(ze),t.unbindTexture()}}}const Ve=[],nt=[];function Xe(he){if(he.samples>0){if(de(he)===!1){const se=he.textures,Me=he.width,qe=he.height;let Ge=r.COLOR_BUFFER_BIT;const ze=he.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,St=n.get(he),ot=se.length>1;if(ot)for(let Dt=0;Dt<se.length;Dt++)t.bindFramebuffer(r.FRAMEBUFFER,St.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+Dt,r.RENDERBUFFER,null),t.bindFramebuffer(r.FRAMEBUFFER,St.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+Dt,r.TEXTURE_2D,null,0);t.bindFramebuffer(r.READ_FRAMEBUFFER,St.__webglMultisampledFramebuffer);const wt=he.texture.mipmaps;wt&&wt.length>0?t.bindFramebuffer(r.DRAW_FRAMEBUFFER,St.__webglFramebuffer[0]):t.bindFramebuffer(r.DRAW_FRAMEBUFFER,St.__webglFramebuffer);for(let Dt=0;Dt<se.length;Dt++){if(he.resolveDepthBuffer&&(he.depthBuffer&&(Ge|=r.DEPTH_BUFFER_BIT),he.stencilBuffer&&he.resolveStencilBuffer&&(Ge|=r.STENCIL_BUFFER_BIT)),ot){r.framebufferRenderbuffer(r.READ_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,St.__webglColorRenderbuffer[Dt]);const ut=n.get(se[Dt]).__webglTexture;r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,ut,0)}r.blitFramebuffer(0,0,Me,qe,0,0,Me,qe,Ge,r.NEAREST),d===!0&&(Ve.length=0,nt.length=0,Ve.push(r.COLOR_ATTACHMENT0+Dt),he.depthBuffer&&he.resolveDepthBuffer===!1&&(Ve.push(ze),nt.push(ze),r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,nt)),r.invalidateFramebuffer(r.READ_FRAMEBUFFER,Ve))}if(t.bindFramebuffer(r.READ_FRAMEBUFFER,null),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),ot)for(let Dt=0;Dt<se.length;Dt++){t.bindFramebuffer(r.FRAMEBUFFER,St.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+Dt,r.RENDERBUFFER,St.__webglColorRenderbuffer[Dt]);const ut=n.get(se[Dt]).__webglTexture;t.bindFramebuffer(r.FRAMEBUFFER,St.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+Dt,r.TEXTURE_2D,ut,0)}t.bindFramebuffer(r.DRAW_FRAMEBUFFER,St.__webglMultisampledFramebuffer)}else if(he.depthBuffer&&he.resolveDepthBuffer===!1&&d){const se=he.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT;r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,[se])}}}function je(he){return Math.min(i.maxSamples,he.samples)}function de(he){const se=n.get(he);return he.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&se.__useRenderToTexture!==!1}function ye(he){const se=o.render.frame;g.get(he)!==se&&(g.set(he,se),he.update())}function Be(he,se){const Me=he.colorSpace,qe=he.format,Ge=he.type;return he.isCompressedTexture===!0||he.isVideoTexture===!0||Me!==ph&&Me!==Hu&&(Qn.getTransfer(Me)===xr?(qe!==Gs||Ge!==il)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Me)),se}function Oe(he){return typeof HTMLImageElement<"u"&&he instanceof HTMLImageElement?(f.width=he.naturalWidth||he.width,f.height=he.naturalHeight||he.height):typeof VideoFrame<"u"&&he instanceof VideoFrame?(f.width=he.displayWidth,f.height=he.displayHeight):(f.width=he.width,f.height=he.height),f}this.allocateTextureUnit=J,this.resetTextureUnits=X,this.setTexture2D=te,this.setTexture2DArray=W,this.setTexture3D=K,this.setTextureCube=$,this.rebindTextures=tt,this.setupRenderTarget=xe,this.updateRenderTargetMipmap=ke,this.updateMultisampleRenderTarget=Xe,this.setupDepthRenderbuffer=$e,this.setupFrameBufferTexture=_e,this.useMultisampledRTT=de}function FR(r,e){function t(n,i=Hu){let a;const o=Qn.getTransfer(i);if(n===il)return r.UNSIGNED_BYTE;if(n===jy)return r.UNSIGNED_SHORT_4_4_4_4;if(n===Ay)return r.UNSIGNED_SHORT_5_5_5_1;if(n===s3)return r.UNSIGNED_INT_5_9_9_9_REV;if(n===r3)return r.BYTE;if(n===i3)return r.SHORT;if(n===qp)return r.UNSIGNED_SHORT;if(n===My)return r.INT;if(n===Qu)return r.UNSIGNED_INT;if(n===Ha)return r.FLOAT;if(n===u0)return r.HALF_FLOAT;if(n===a3)return r.ALPHA;if(n===o3)return r.RGB;if(n===Gs)return r.RGBA;if(n===Wp)return r.DEPTH_COMPONENT;if(n===Xp)return r.DEPTH_STENCIL;if(n===Cy)return r.RED;if(n===Ob)return r.RED_INTEGER;if(n===l3)return r.RG;if(n===Ry)return r.RG_INTEGER;if(n===Oy)return r.RGBA_INTEGER;if(n===Bg||n===kg||n===Hg||n===Vg)if(o===xr)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(n===Bg)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===kg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Hg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Vg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(n===Bg)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===kg)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Hg)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Vg)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===C1||n===R1||n===O1||n===D1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(n===C1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===R1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===O1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===D1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===P1||n===L1||n===z1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(n===P1||n===L1)return o===xr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===z1)return o===xr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===U1||n===I1||n===B1||n===k1||n===H1||n===V1||n===F1||n===q1||n===G1||n===W1||n===X1||n===Y1||n===Z1||n===K1)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(n===U1)return o===xr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===I1)return o===xr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===B1)return o===xr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===k1)return o===xr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===H1)return o===xr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===V1)return o===xr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===F1)return o===xr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===q1)return o===xr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===G1)return o===xr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===W1)return o===xr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===X1)return o===xr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Y1)return o===xr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Z1)return o===xr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===K1)return o===xr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===Fg||n===J1||n===Q1)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(n===Fg)return o===xr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===J1)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Q1)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===c3||n===$1||n===ey||n===ty)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(n===Fg)return a.COMPRESSED_RED_RGTC1_EXT;if(n===$1)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===ey)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===ty)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Gp?r.UNSIGNED_INT_24_8:r[n]!==void 0?r[n]:null}return{convert:t}}class qR extends gi{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}}const IX=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,BX=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class kX{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new qR(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new Xl({vertexShader:IX,fragmentShader:BX,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Li(new f0(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class HX extends Kc{constructor(e,t){super();const n=this;let i=null,a=1,o=null,c="local-floor",d=1,f=null,g=null,b=null,v=null,y=null,w=null;const T=new kX,N={},_=t.getContextAttributes();let j=null,C=null;const A=[],P=[],U=new dt;let B=null;const F=new us;F.viewport=new ar;const k=new us;k.viewport=new ar;const z=[F,k],V=new OR;let X=null,J=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ce){let ie=A[ce];return ie===void 0&&(ie=new a1,A[ce]=ie),ie.getTargetRaySpace()},this.getControllerGrip=function(ce){let ie=A[ce];return ie===void 0&&(ie=new a1,A[ce]=ie),ie.getGripSpace()},this.getHand=function(ce){let ie=A[ce];return ie===void 0&&(ie=new a1,A[ce]=ie),ie.getHandSpace()};function ee(ce){const ie=P.indexOf(ce.inputSource);if(ie===-1)return;const ge=A[ie];ge!==void 0&&(ge.update(ce.inputSource,ce.frame,f||o),ge.dispatchEvent({type:ce.type,data:ce.inputSource}))}function te(){i.removeEventListener("select",ee),i.removeEventListener("selectstart",ee),i.removeEventListener("selectend",ee),i.removeEventListener("squeeze",ee),i.removeEventListener("squeezestart",ee),i.removeEventListener("squeezeend",ee),i.removeEventListener("end",te),i.removeEventListener("inputsourceschange",W);for(let ce=0;ce<A.length;ce++){const ie=P[ce];ie!==null&&(P[ce]=null,A[ce].disconnect(ie))}X=null,J=null,T.reset();for(const ce in N)delete N[ce];e.setRenderTarget(j),y=null,v=null,b=null,i=null,C=null,be.stop(),n.isPresenting=!1,e.setPixelRatio(B),e.setSize(U.width,U.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ce){a=ce,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ce){c=ce,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||o},this.setReferenceSpace=function(ce){f=ce},this.getBaseLayer=function(){return v!==null?v:y},this.getBinding=function(){return b},this.getFrame=function(){return w},this.getSession=function(){return i},this.setSession=async function(ce){if(i=ce,i!==null){if(j=e.getRenderTarget(),i.addEventListener("select",ee),i.addEventListener("selectstart",ee),i.addEventListener("selectend",ee),i.addEventListener("squeeze",ee),i.addEventListener("squeezestart",ee),i.addEventListener("squeezeend",ee),i.addEventListener("end",te),i.addEventListener("inputsourceschange",W),_.xrCompatible!==!0&&await t.makeXRCompatible(),B=e.getPixelRatio(),e.getSize(U),typeof XRWebGLBinding<"u"&&(b=new XRWebGLBinding(i,t)),b!==null&&"createProjectionLayer"in XRWebGLBinding.prototype){let ge=null,_e=null,Te=null;_.depth&&(Te=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ge=_.stencil?Xp:Wp,_e=_.stencil?Gp:Qu);const Ee={colorFormat:t.RGBA8,depthFormat:Te,scaleFactor:a};v=b.createProjectionLayer(Ee),i.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),C=new Zc(v.textureWidth,v.textureHeight,{format:Gs,type:il,depthTexture:new y3(v.textureWidth,v.textureHeight,_e,void 0,void 0,void 0,void 0,void 0,void 0,ge),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const ge={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:a};y=new XRWebGLLayer(i,t,ge),i.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),C=new Zc(y.framebufferWidth,y.framebufferHeight,{format:Gs,type:il,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}C.isXRRenderTarget=!0,this.setFoveation(d),f=null,o=await i.requestReferenceSpace(c),be.setContext(i),be.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function W(ce){for(let ie=0;ie<ce.removed.length;ie++){const ge=ce.removed[ie],_e=P.indexOf(ge);_e>=0&&(P[_e]=null,A[_e].disconnect(ge))}for(let ie=0;ie<ce.added.length;ie++){const ge=ce.added[ie];let _e=P.indexOf(ge);if(_e===-1){for(let Ee=0;Ee<A.length;Ee++)if(Ee>=P.length){P.push(ge),_e=Ee;break}else if(P[Ee]===null){P[Ee]=ge,_e=Ee;break}if(_e===-1)break}const Te=A[_e];Te&&Te.connect(ge)}}const K=new ve,$=new ve;function oe(ce,ie,ge){K.setFromMatrixPosition(ie.matrixWorld),$.setFromMatrixPosition(ge.matrixWorld);const _e=K.distanceTo($),Te=ie.projectionMatrix.elements,Ee=ge.projectionMatrix.elements,$e=Te[14]/(Te[10]-1),tt=Te[14]/(Te[10]+1),xe=(Te[9]+1)/Te[5],ke=(Te[9]-1)/Te[5],Ve=(Te[8]-1)/Te[0],nt=(Ee[8]+1)/Ee[0],Xe=$e*Ve,je=$e*nt,de=_e/(-Ve+nt),ye=de*-Ve;if(ie.matrixWorld.decompose(ce.position,ce.quaternion,ce.scale),ce.translateX(ye),ce.translateZ(de),ce.matrixWorld.compose(ce.position,ce.quaternion,ce.scale),ce.matrixWorldInverse.copy(ce.matrixWorld).invert(),Te[10]===-1)ce.projectionMatrix.copy(ie.projectionMatrix),ce.projectionMatrixInverse.copy(ie.projectionMatrixInverse);else{const Be=$e+de,Oe=tt+de,he=Xe-ye,se=je+(_e-ye),Me=xe*tt/Oe*Be,qe=ke*tt/Oe*Be;ce.projectionMatrix.makePerspective(he,se,Me,qe,Be,Oe),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert()}}function G(ce,ie){ie===null?ce.matrixWorld.copy(ce.matrix):ce.matrixWorld.multiplyMatrices(ie.matrixWorld,ce.matrix),ce.matrixWorldInverse.copy(ce.matrixWorld).invert()}this.updateCamera=function(ce){if(i===null)return;let ie=ce.near,ge=ce.far;T.texture!==null&&(T.depthNear>0&&(ie=T.depthNear),T.depthFar>0&&(ge=T.depthFar)),V.near=k.near=F.near=ie,V.far=k.far=F.far=ge,(X!==V.near||J!==V.far)&&(i.updateRenderState({depthNear:V.near,depthFar:V.far}),X=V.near,J=V.far),V.layers.mask=ce.layers.mask|6,F.layers.mask=V.layers.mask&3,k.layers.mask=V.layers.mask&5;const _e=ce.parent,Te=V.cameras;G(V,_e);for(let Ee=0;Ee<Te.length;Ee++)G(Te[Ee],_e);Te.length===2?oe(V,F,k):V.projectionMatrix.copy(F.projectionMatrix),Y(ce,V,_e)};function Y(ce,ie,ge){ge===null?ce.matrix.copy(ie.matrixWorld):(ce.matrix.copy(ge.matrixWorld),ce.matrix.invert(),ce.matrix.multiply(ie.matrixWorld)),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.updateMatrixWorld(!0),ce.projectionMatrix.copy(ie.projectionMatrix),ce.projectionMatrixInverse.copy(ie.projectionMatrixInverse),ce.isPerspectiveCamera&&(ce.fov=Zp*2*Math.atan(1/ce.projectionMatrix.elements[5]),ce.zoom=1)}this.getCamera=function(){return V},this.getFoveation=function(){if(!(v===null&&y===null))return d},this.setFoveation=function(ce){d=ce,v!==null&&(v.fixedFoveation=ce),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=ce)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(V)},this.getCameraTexture=function(ce){return N[ce]};let ne=null;function le(ce,ie){if(g=ie.getViewerPose(f||o),w=ie,g!==null){const ge=g.views;y!==null&&(e.setRenderTargetFramebuffer(C,y.framebuffer),e.setRenderTarget(C));let _e=!1;ge.length!==V.cameras.length&&(V.cameras.length=0,_e=!0);for(let tt=0;tt<ge.length;tt++){const xe=ge[tt];let ke=null;if(y!==null)ke=y.getViewport(xe);else{const nt=b.getViewSubImage(v,xe);ke=nt.viewport,tt===0&&(e.setRenderTargetTextures(C,nt.colorTexture,nt.depthStencilTexture),e.setRenderTarget(C))}let Ve=z[tt];Ve===void 0&&(Ve=new us,Ve.layers.enable(tt),Ve.viewport=new ar,z[tt]=Ve),Ve.matrix.fromArray(xe.transform.matrix),Ve.matrix.decompose(Ve.position,Ve.quaternion,Ve.scale),Ve.projectionMatrix.fromArray(xe.projectionMatrix),Ve.projectionMatrixInverse.copy(Ve.projectionMatrix).invert(),Ve.viewport.set(ke.x,ke.y,ke.width,ke.height),tt===0&&(V.matrix.copy(Ve.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale)),_e===!0&&V.cameras.push(Ve)}const Te=i.enabledFeatures;if(Te&&Te.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&b){const tt=b.getDepthInformation(ge[0]);tt&&tt.isValid&&tt.texture&&T.init(tt,i.renderState)}if(Te&&Te.includes("camera-access")&&(e.state.unbindTexture(),b))for(let tt=0;tt<ge.length;tt++){const xe=ge[tt].camera;if(xe){let ke=N[xe];ke||(ke=new qR,N[xe]=ke);const Ve=b.getCameraImage(xe);ke.sourceTexture=Ve}}}for(let ge=0;ge<A.length;ge++){const _e=P[ge],Te=A[ge];_e!==null&&Te!==void 0&&Te.update(_e,ie,f||o)}ne&&ne(ce,ie),ie.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:ie}),w=null}const be=new IR;be.setAnimationLoop(le),this.setAnimationLoop=function(ce){ne=ce},this.dispose=function(){}}}const vf=new _o,VX=new xn;function FX(r,e){function t(N,_){N.matrixAutoUpdate===!0&&N.updateMatrix(),_.value.copy(N.matrix)}function n(N,_){_.color.getRGB(N.fogColor.value,U7(r)),_.isFog?(N.fogNear.value=_.near,N.fogFar.value=_.far):_.isFogExp2&&(N.fogDensity.value=_.density)}function i(N,_,j,C,A){_.isMeshBasicMaterial||_.isMeshLambertMaterial?a(N,_):_.isMeshToonMaterial?(a(N,_),b(N,_)):_.isMeshPhongMaterial?(a(N,_),g(N,_)):_.isMeshStandardMaterial?(a(N,_),v(N,_),_.isMeshPhysicalMaterial&&y(N,_,A)):_.isMeshMatcapMaterial?(a(N,_),w(N,_)):_.isMeshDepthMaterial?a(N,_):_.isMeshDistanceMaterial?(a(N,_),T(N,_)):_.isMeshNormalMaterial?a(N,_):_.isLineBasicMaterial?(o(N,_),_.isLineDashedMaterial&&c(N,_)):_.isPointsMaterial?d(N,_,j,C):_.isSpriteMaterial?f(N,_):_.isShadowMaterial?(N.color.value.copy(_.color),N.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function a(N,_){N.opacity.value=_.opacity,_.color&&N.diffuse.value.copy(_.color),_.emissive&&N.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(N.map.value=_.map,t(_.map,N.mapTransform)),_.alphaMap&&(N.alphaMap.value=_.alphaMap,t(_.alphaMap,N.alphaMapTransform)),_.bumpMap&&(N.bumpMap.value=_.bumpMap,t(_.bumpMap,N.bumpMapTransform),N.bumpScale.value=_.bumpScale,_.side===xa&&(N.bumpScale.value*=-1)),_.normalMap&&(N.normalMap.value=_.normalMap,t(_.normalMap,N.normalMapTransform),N.normalScale.value.copy(_.normalScale),_.side===xa&&N.normalScale.value.negate()),_.displacementMap&&(N.displacementMap.value=_.displacementMap,t(_.displacementMap,N.displacementMapTransform),N.displacementScale.value=_.displacementScale,N.displacementBias.value=_.displacementBias),_.emissiveMap&&(N.emissiveMap.value=_.emissiveMap,t(_.emissiveMap,N.emissiveMapTransform)),_.specularMap&&(N.specularMap.value=_.specularMap,t(_.specularMap,N.specularMapTransform)),_.alphaTest>0&&(N.alphaTest.value=_.alphaTest);const j=e.get(_),C=j.envMap,A=j.envMapRotation;C&&(N.envMap.value=C,vf.copy(A),vf.x*=-1,vf.y*=-1,vf.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(vf.y*=-1,vf.z*=-1),N.envMapRotation.value.setFromMatrix4(VX.makeRotationFromEuler(vf)),N.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,N.reflectivity.value=_.reflectivity,N.ior.value=_.ior,N.refractionRatio.value=_.refractionRatio),_.lightMap&&(N.lightMap.value=_.lightMap,N.lightMapIntensity.value=_.lightMapIntensity,t(_.lightMap,N.lightMapTransform)),_.aoMap&&(N.aoMap.value=_.aoMap,N.aoMapIntensity.value=_.aoMapIntensity,t(_.aoMap,N.aoMapTransform))}function o(N,_){N.diffuse.value.copy(_.color),N.opacity.value=_.opacity,_.map&&(N.map.value=_.map,t(_.map,N.mapTransform))}function c(N,_){N.dashSize.value=_.dashSize,N.totalSize.value=_.dashSize+_.gapSize,N.scale.value=_.scale}function d(N,_,j,C){N.diffuse.value.copy(_.color),N.opacity.value=_.opacity,N.size.value=_.size*j,N.scale.value=C*.5,_.map&&(N.map.value=_.map,t(_.map,N.uvTransform)),_.alphaMap&&(N.alphaMap.value=_.alphaMap,t(_.alphaMap,N.alphaMapTransform)),_.alphaTest>0&&(N.alphaTest.value=_.alphaTest)}function f(N,_){N.diffuse.value.copy(_.color),N.opacity.value=_.opacity,N.rotation.value=_.rotation,_.map&&(N.map.value=_.map,t(_.map,N.mapTransform)),_.alphaMap&&(N.alphaMap.value=_.alphaMap,t(_.alphaMap,N.alphaMapTransform)),_.alphaTest>0&&(N.alphaTest.value=_.alphaTest)}function g(N,_){N.specular.value.copy(_.specular),N.shininess.value=Math.max(_.shininess,1e-4)}function b(N,_){_.gradientMap&&(N.gradientMap.value=_.gradientMap)}function v(N,_){N.metalness.value=_.metalness,_.metalnessMap&&(N.metalnessMap.value=_.metalnessMap,t(_.metalnessMap,N.metalnessMapTransform)),N.roughness.value=_.roughness,_.roughnessMap&&(N.roughnessMap.value=_.roughnessMap,t(_.roughnessMap,N.roughnessMapTransform)),_.envMap&&(N.envMapIntensity.value=_.envMapIntensity)}function y(N,_,j){N.ior.value=_.ior,_.sheen>0&&(N.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),N.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(N.sheenColorMap.value=_.sheenColorMap,t(_.sheenColorMap,N.sheenColorMapTransform)),_.sheenRoughnessMap&&(N.sheenRoughnessMap.value=_.sheenRoughnessMap,t(_.sheenRoughnessMap,N.sheenRoughnessMapTransform))),_.clearcoat>0&&(N.clearcoat.value=_.clearcoat,N.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(N.clearcoatMap.value=_.clearcoatMap,t(_.clearcoatMap,N.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(N.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,t(_.clearcoatRoughnessMap,N.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(N.clearcoatNormalMap.value=_.clearcoatNormalMap,t(_.clearcoatNormalMap,N.clearcoatNormalMapTransform),N.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===xa&&N.clearcoatNormalScale.value.negate())),_.dispersion>0&&(N.dispersion.value=_.dispersion),_.iridescence>0&&(N.iridescence.value=_.iridescence,N.iridescenceIOR.value=_.iridescenceIOR,N.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],N.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(N.iridescenceMap.value=_.iridescenceMap,t(_.iridescenceMap,N.iridescenceMapTransform)),_.iridescenceThicknessMap&&(N.iridescenceThicknessMap.value=_.iridescenceThicknessMap,t(_.iridescenceThicknessMap,N.iridescenceThicknessMapTransform))),_.transmission>0&&(N.transmission.value=_.transmission,N.transmissionSamplerMap.value=j.texture,N.transmissionSamplerSize.value.set(j.width,j.height),_.transmissionMap&&(N.transmissionMap.value=_.transmissionMap,t(_.transmissionMap,N.transmissionMapTransform)),N.thickness.value=_.thickness,_.thicknessMap&&(N.thicknessMap.value=_.thicknessMap,t(_.thicknessMap,N.thicknessMapTransform)),N.attenuationDistance.value=_.attenuationDistance,N.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(N.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(N.anisotropyMap.value=_.anisotropyMap,t(_.anisotropyMap,N.anisotropyMapTransform))),N.specularIntensity.value=_.specularIntensity,N.specularColor.value.copy(_.specularColor),_.specularColorMap&&(N.specularColorMap.value=_.specularColorMap,t(_.specularColorMap,N.specularColorMapTransform)),_.specularIntensityMap&&(N.specularIntensityMap.value=_.specularIntensityMap,t(_.specularIntensityMap,N.specularIntensityMapTransform))}function w(N,_){_.matcap&&(N.matcap.value=_.matcap)}function T(N,_){const j=e.get(_).light;N.referencePosition.value.setFromMatrixPosition(j.matrixWorld),N.nearDistance.value=j.shadow.camera.near,N.farDistance.value=j.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function qX(r,e,t,n){let i={},a={},o=[];const c=r.getParameter(r.MAX_UNIFORM_BUFFER_BINDINGS);function d(j,C){const A=C.program;n.uniformBlockBinding(j,A)}function f(j,C){let A=i[j.id];A===void 0&&(w(j),A=g(j),i[j.id]=A,j.addEventListener("dispose",N));const P=C.program;n.updateUBOMapping(j,P);const U=e.render.frame;a[j.id]!==U&&(v(j),a[j.id]=U)}function g(j){const C=b();j.__bindingPointIndex=C;const A=r.createBuffer(),P=j.__size,U=j.usage;return r.bindBuffer(r.UNIFORM_BUFFER,A),r.bufferData(r.UNIFORM_BUFFER,P,U),r.bindBuffer(r.UNIFORM_BUFFER,null),r.bindBufferBase(r.UNIFORM_BUFFER,C,A),A}function b(){for(let j=0;j<c;j++)if(o.indexOf(j)===-1)return o.push(j),j;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(j){const C=i[j.id],A=j.uniforms,P=j.__cache;r.bindBuffer(r.UNIFORM_BUFFER,C);for(let U=0,B=A.length;U<B;U++){const F=Array.isArray(A[U])?A[U]:[A[U]];for(let k=0,z=F.length;k<z;k++){const V=F[k];if(y(V,U,k,P)===!0){const X=V.__offset,J=Array.isArray(V.value)?V.value:[V.value];let ee=0;for(let te=0;te<J.length;te++){const W=J[te],K=T(W);typeof W=="number"||typeof W=="boolean"?(V.__data[0]=W,r.bufferSubData(r.UNIFORM_BUFFER,X+ee,V.__data)):W.isMatrix3?(V.__data[0]=W.elements[0],V.__data[1]=W.elements[1],V.__data[2]=W.elements[2],V.__data[3]=0,V.__data[4]=W.elements[3],V.__data[5]=W.elements[4],V.__data[6]=W.elements[5],V.__data[7]=0,V.__data[8]=W.elements[6],V.__data[9]=W.elements[7],V.__data[10]=W.elements[8],V.__data[11]=0):(W.toArray(V.__data,ee),ee+=K.storage/Float32Array.BYTES_PER_ELEMENT)}r.bufferSubData(r.UNIFORM_BUFFER,X,V.__data)}}}r.bindBuffer(r.UNIFORM_BUFFER,null)}function y(j,C,A,P){const U=j.value,B=C+"_"+A;if(P[B]===void 0)return typeof U=="number"||typeof U=="boolean"?P[B]=U:P[B]=U.clone(),!0;{const F=P[B];if(typeof U=="number"||typeof U=="boolean"){if(F!==U)return P[B]=U,!0}else if(F.equals(U)===!1)return F.copy(U),!0}return!1}function w(j){const C=j.uniforms;let A=0;const P=16;for(let B=0,F=C.length;B<F;B++){const k=Array.isArray(C[B])?C[B]:[C[B]];for(let z=0,V=k.length;z<V;z++){const X=k[z],J=Array.isArray(X.value)?X.value:[X.value];for(let ee=0,te=J.length;ee<te;ee++){const W=J[ee],K=T(W),$=A%P,oe=$%K.boundary,G=$+oe;A+=oe,G!==0&&P-G<K.storage&&(A+=P-G),X.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),X.__offset=A,A+=K.storage}}}const U=A%P;return U>0&&(A+=P-U),j.__size=A,j.__cache={},this}function T(j){const C={boundary:0,storage:0};return typeof j=="number"||typeof j=="boolean"?(C.boundary=4,C.storage=4):j.isVector2?(C.boundary=8,C.storage=8):j.isVector3||j.isColor?(C.boundary=16,C.storage=12):j.isVector4?(C.boundary=16,C.storage=16):j.isMatrix3?(C.boundary=48,C.storage=48):j.isMatrix4?(C.boundary=64,C.storage=64):j.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",j),C}function N(j){const C=j.target;C.removeEventListener("dispose",N);const A=o.indexOf(C.__bindingPointIndex);o.splice(A,1),r.deleteBuffer(i[C.id]),delete i[C.id],delete a[C.id]}function _(){for(const j in i)r.deleteBuffer(i[j]);o=[],i={},a={}}return{bind:d,update:f,dispose:_}}class GR{constructor(e={}){const{canvas:t=P7(),context:n=null,depth:i=!0,stencil:a=!1,alpha:o=!1,antialias:c=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:f=!1,powerPreference:g="default",failIfMajorPerformanceCaveat:b=!1,reversedDepthBuffer:v=!1}=e;this.isWebGLRenderer=!0;let y;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");y=n.getContextAttributes().alpha}else y=o;const w=new Uint32Array(4),T=new Int32Array(4);let N=null,_=null;const j=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Xc,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const A=this;let P=!1;this._outputColorSpace=Fs;let U=0,B=0,F=null,k=-1,z=null;const V=new ar,X=new ar;let J=null;const ee=new Ot(0);let te=0,W=t.width,K=t.height,$=1,oe=null,G=null;const Y=new ar(0,0,W,K),ne=new ar(0,0,W,K);let le=!1;const be=new h0;let ce=!1,ie=!1;const ge=new xn,_e=new ve,Te=new ar,Ee={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let $e=!1;function tt(){return F===null?$:1}let xe=n;function ke(me,Ce){return t.getContext(me,Ce)}try{const me={alpha:!0,depth:i,stencil:a,antialias:c,premultipliedAlpha:d,preserveDrawingBuffer:f,powerPreference:g,failIfMajorPerformanceCaveat:b};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Ey}`),t.addEventListener("webglcontextlost",bt,!1),t.addEventListener("webglcontextrestored",jt,!1),t.addEventListener("webglcontextcreationerror",ht,!1),xe===null){const Ce="webgl2";if(xe=ke(Ce,me),xe===null)throw ke(Ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(me){throw console.error("THREE.WebGLRenderer: "+me.message),me}let Ve,nt,Xe,je,de,ye,Be,Oe,he,se,Me,qe,Ge,ze,St,ot,wt,Dt,ut,vt,It,Pt,gt,an;function De(){Ve=new nW(xe),Ve.init(),Pt=new FR(xe,Ve),nt=new ZG(xe,Ve,e,Pt),Xe=new zX(xe,Ve),nt.reversedDepthBuffer&&v&&Xe.buffers.depth.setReversed(!0),je=new sW(xe),de=new wX,ye=new UX(xe,Ve,Xe,de,nt,Pt,je),Be=new JG(A),Oe=new tW(A),he=new dF(xe),gt=new XG(xe,he),se=new rW(xe,he,je,gt),Me=new oW(xe,se,he,je),ut=new aW(xe,nt,ye),ot=new KG(de),qe=new SX(A,Be,Oe,Ve,nt,gt,ot),Ge=new FX(A,de),ze=new NX,St=new RX(Ve),Dt=new WG(A,Be,Oe,Xe,Me,y,d),wt=new PX(A,Me,nt),an=new qX(xe,je,nt,Xe),vt=new YG(xe,Ve,je),It=new iW(xe,Ve,je),je.programs=qe.programs,A.capabilities=nt,A.extensions=Ve,A.properties=de,A.renderLists=ze,A.shadowMap=wt,A.state=Xe,A.info=je}De();const mt=new HX(A,xe);this.xr=mt,this.getContext=function(){return xe},this.getContextAttributes=function(){return xe.getContextAttributes()},this.forceContextLoss=function(){const me=Ve.get("WEBGL_lose_context");me&&me.loseContext()},this.forceContextRestore=function(){const me=Ve.get("WEBGL_lose_context");me&&me.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(me){me!==void 0&&($=me,this.setSize(W,K,!1))},this.getSize=function(me){return me.set(W,K)},this.setSize=function(me,Ce,He=!0){if(mt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}W=me,K=Ce,t.width=Math.floor(me*$),t.height=Math.floor(Ce*$),He===!0&&(t.style.width=me+"px",t.style.height=Ce+"px"),this.setViewport(0,0,me,Ce)},this.getDrawingBufferSize=function(me){return me.set(W*$,K*$).floor()},this.setDrawingBufferSize=function(me,Ce,He){W=me,K=Ce,$=He,t.width=Math.floor(me*He),t.height=Math.floor(Ce*He),this.setViewport(0,0,me,Ce)},this.getCurrentViewport=function(me){return me.copy(V)},this.getViewport=function(me){return me.copy(Y)},this.setViewport=function(me,Ce,He,Ze){me.isVector4?Y.set(me.x,me.y,me.z,me.w):Y.set(me,Ce,He,Ze),Xe.viewport(V.copy(Y).multiplyScalar($).round())},this.getScissor=function(me){return me.copy(ne)},this.setScissor=function(me,Ce,He,Ze){me.isVector4?ne.set(me.x,me.y,me.z,me.w):ne.set(me,Ce,He,Ze),Xe.scissor(X.copy(ne).multiplyScalar($).round())},this.getScissorTest=function(){return le},this.setScissorTest=function(me){Xe.setScissorTest(le=me)},this.setOpaqueSort=function(me){oe=me},this.setTransparentSort=function(me){G=me},this.getClearColor=function(me){return me.copy(Dt.getClearColor())},this.setClearColor=function(){Dt.setClearColor(...arguments)},this.getClearAlpha=function(){return Dt.getClearAlpha()},this.setClearAlpha=function(){Dt.setClearAlpha(...arguments)},this.clear=function(me=!0,Ce=!0,He=!0){let Ze=0;if(me){let Pe=!1;if(F!==null){const ft=F.texture.format;Pe=ft===Oy||ft===Ry||ft===Ob}if(Pe){const ft=F.texture.type,yt=ft===il||ft===Qu||ft===qp||ft===Gp||ft===jy||ft===Ay,Ct=Dt.getClearColor(),_t=Dt.getClearAlpha(),qt=Ct.r,Xt=Ct.g,Ut=Ct.b;yt?(w[0]=qt,w[1]=Xt,w[2]=Ut,w[3]=_t,xe.clearBufferuiv(xe.COLOR,0,w)):(T[0]=qt,T[1]=Xt,T[2]=Ut,T[3]=_t,xe.clearBufferiv(xe.COLOR,0,T))}else Ze|=xe.COLOR_BUFFER_BIT}Ce&&(Ze|=xe.DEPTH_BUFFER_BIT),He&&(Ze|=xe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),xe.clear(Ze)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",bt,!1),t.removeEventListener("webglcontextrestored",jt,!1),t.removeEventListener("webglcontextcreationerror",ht,!1),Dt.dispose(),ze.dispose(),St.dispose(),de.dispose(),Be.dispose(),Oe.dispose(),Me.dispose(),gt.dispose(),an.dispose(),qe.dispose(),mt.dispose(),mt.removeEventListener("sessionstart",Br),mt.removeEventListener("sessionend",kr),yr.stop()};function bt(me){me.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function jt(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1;const me=je.autoReset,Ce=wt.enabled,He=wt.autoUpdate,Ze=wt.needsUpdate,Pe=wt.type;De(),je.autoReset=me,wt.enabled=Ce,wt.autoUpdate=He,wt.needsUpdate=Ze,wt.type=Pe}function ht(me){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",me.statusMessage)}function at(me){const Ce=me.target;Ce.removeEventListener("dispose",at),Lt(Ce)}function Lt(me){tn(me),de.remove(me)}function tn(me){const Ce=de.get(me).programs;Ce!==void 0&&(Ce.forEach(function(He){qe.releaseProgram(He)}),me.isShaderMaterial&&qe.releaseShaderCache(me))}this.renderBufferDirect=function(me,Ce,He,Ze,Pe,ft){Ce===null&&(Ce=Ee);const yt=Pe.isMesh&&Pe.matrixWorld.determinant()<0,Ct=Ys(me,Ce,He,Ze,Pe);Xe.setMaterial(Ze,yt);let _t=He.index,qt=1;if(Ze.wireframe===!0){if(_t=se.getWireframeAttribute(He),_t===void 0)return;qt=2}const Xt=He.drawRange,Ut=He.attributes.position;let vn=Xt.start*qt,Pn=(Xt.start+Xt.count)*qt;ft!==null&&(vn=Math.max(vn,ft.start*qt),Pn=Math.min(Pn,(ft.start+ft.count)*qt)),_t!==null?(vn=Math.max(vn,0),Pn=Math.min(Pn,_t.count)):Ut!=null&&(vn=Math.max(vn,0),Pn=Math.min(Pn,Ut.count));const Gt=Pn-vn;if(Gt<0||Gt===1/0)return;gt.setup(Pe,Ze,Ct,He,_t);let Qt,hn=vt;if(_t!==null&&(Qt=he.get(_t),hn=It,hn.setIndex(Qt)),Pe.isMesh)Ze.wireframe===!0?(Xe.setLineWidth(Ze.wireframeLinewidth*tt()),hn.setMode(xe.LINES)):hn.setMode(xe.TRIANGLES);else if(Pe.isLine){let kt=Ze.linewidth;kt===void 0&&(kt=1),Xe.setLineWidth(kt*tt()),Pe.isLineSegments?hn.setMode(xe.LINES):Pe.isLineLoop?hn.setMode(xe.LINE_LOOP):hn.setMode(xe.LINE_STRIP)}else Pe.isPoints?hn.setMode(xe.POINTS):Pe.isSprite&&hn.setMode(xe.TRIANGLES);if(Pe.isBatchedMesh)if(Pe._multiDrawInstances!==null)zp("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),hn.renderMultiDrawInstances(Pe._multiDrawStarts,Pe._multiDrawCounts,Pe._multiDrawCount,Pe._multiDrawInstances);else if(Ve.get("WEBGL_multi_draw"))hn.renderMultiDraw(Pe._multiDrawStarts,Pe._multiDrawCounts,Pe._multiDrawCount);else{const kt=Pe._multiDrawStarts,$n=Pe._multiDrawCounts,Sn=Pe._multiDrawCount,Wt=_t?he.get(_t).bytesPerElement:1,Xn=de.get(Ze).currentProgram.getUniforms();for(let Kr=0;Kr<Sn;Kr++)Xn.setValue(xe,"_gl_DrawID",Kr),hn.render(kt[Kr]/Wt,$n[Kr])}else if(Pe.isInstancedMesh)hn.renderInstances(vn,Gt,Pe.count);else if(He.isInstancedBufferGeometry){const kt=He._maxInstanceCount!==void 0?He._maxInstanceCount:1/0,$n=Math.min(He.instanceCount,kt);hn.renderInstances(vn,Gt,$n)}else hn.render(vn,Gt)};function Hn(me,Ce,He){me.transparent===!0&&me.side===ql&&me.forceSinglePass===!1?(me.side=xa,me.needsUpdate=!0,Zi(me,Ce,He),me.side=Ku,me.needsUpdate=!0,Zi(me,Ce,He),me.side=ql):Zi(me,Ce,He)}this.compile=function(me,Ce,He=null){He===null&&(He=me),_=St.get(He),_.init(Ce),C.push(_),He.traverseVisible(function(Pe){Pe.isLight&&Pe.layers.test(Ce.layers)&&(_.pushLight(Pe),Pe.castShadow&&_.pushShadow(Pe))}),me!==He&&me.traverseVisible(function(Pe){Pe.isLight&&Pe.layers.test(Ce.layers)&&(_.pushLight(Pe),Pe.castShadow&&_.pushShadow(Pe))}),_.setupLights();const Ze=new Set;return me.traverse(function(Pe){if(!(Pe.isMesh||Pe.isPoints||Pe.isLine||Pe.isSprite))return;const ft=Pe.material;if(ft)if(Array.isArray(ft))for(let yt=0;yt<ft.length;yt++){const Ct=ft[yt];Hn(Ct,He,Pe),Ze.add(Ct)}else Hn(ft,He,Pe),Ze.add(ft)}),_=C.pop(),Ze},this.compileAsync=function(me,Ce,He=null){const Ze=this.compile(me,Ce,He);return new Promise(Pe=>{function ft(){if(Ze.forEach(function(yt){de.get(yt).currentProgram.isReady()&&Ze.delete(yt)}),Ze.size===0){Pe(me);return}setTimeout(ft,10)}Ve.get("KHR_parallel_shader_compile")!==null?ft():setTimeout(ft,10)})};let Un=null;function Wi(me){Un&&Un(me)}function Br(){yr.stop()}function kr(){yr.start()}const yr=new IR;yr.setAnimationLoop(Wi),typeof self<"u"&&yr.setContext(self),this.setAnimationLoop=function(me){Un=me,mt.setAnimationLoop(me),me===null?yr.stop():yr.start()},mt.addEventListener("sessionstart",Br),mt.addEventListener("sessionend",kr),this.render=function(me,Ce){if(Ce!==void 0&&Ce.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;if(me.matrixWorldAutoUpdate===!0&&me.updateMatrixWorld(),Ce.parent===null&&Ce.matrixWorldAutoUpdate===!0&&Ce.updateMatrixWorld(),mt.enabled===!0&&mt.isPresenting===!0&&(mt.cameraAutoUpdate===!0&&mt.updateCamera(Ce),Ce=mt.getCamera()),me.isScene===!0&&me.onBeforeRender(A,me,Ce,F),_=St.get(me,C.length),_.init(Ce),C.push(_),ge.multiplyMatrices(Ce.projectionMatrix,Ce.matrixWorldInverse),be.setFromProjectionMatrix(ge,vo,Ce.reversedDepth),ie=this.localClippingEnabled,ce=ot.init(this.clippingPlanes,ie),N=ze.get(me,j.length),N.init(),j.push(N),mt.enabled===!0&&mt.isPresenting===!0){const ft=A.xr.getDepthSensingMesh();ft!==null&&As(ft,Ce,-1/0,A.sortObjects)}As(me,Ce,0,A.sortObjects),N.finish(),A.sortObjects===!0&&N.sort(oe,G),$e=mt.enabled===!1||mt.isPresenting===!1||mt.hasDepthSensing()===!1,$e&&Dt.addToRenderList(N,me),this.info.render.frame++,ce===!0&&ot.beginShadows();const He=_.state.shadowsArray;wt.render(He,me,Ce),ce===!0&&ot.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ze=N.opaque,Pe=N.transmissive;if(_.setupLights(),Ce.isArrayCamera){const ft=Ce.cameras;if(Pe.length>0)for(let yt=0,Ct=ft.length;yt<Ct;yt++){const _t=ft[yt];Bt(Ze,Pe,me,_t)}$e&&Dt.render(me);for(let yt=0,Ct=ft.length;yt<Ct;yt++){const _t=ft[yt];Dr(N,me,_t,_t.viewport)}}else Pe.length>0&&Bt(Ze,Pe,me,Ce),$e&&Dt.render(me),Dr(N,me,Ce);F!==null&&B===0&&(ye.updateMultisampleRenderTarget(F),ye.updateRenderTargetMipmap(F)),me.isScene===!0&&me.onAfterRender(A,me,Ce),gt.resetDefaultState(),k=-1,z=null,C.pop(),C.length>0?(_=C[C.length-1],ce===!0&&ot.setGlobalState(A.clippingPlanes,_.state.camera)):_=null,j.pop(),j.length>0?N=j[j.length-1]:N=null};function As(me,Ce,He,Ze){if(me.visible===!1)return;if(me.layers.test(Ce.layers)){if(me.isGroup)He=me.renderOrder;else if(me.isLOD)me.autoUpdate===!0&&me.update(Ce);else if(me.isLight)_.pushLight(me),me.castShadow&&_.pushShadow(me);else if(me.isSprite){if(!me.frustumCulled||be.intersectsSprite(me)){Ze&&Te.setFromMatrixPosition(me.matrixWorld).applyMatrix4(ge);const yt=Me.update(me),Ct=me.material;Ct.visible&&N.push(me,yt,Ct,He,Te.z,null)}}else if((me.isMesh||me.isLine||me.isPoints)&&(!me.frustumCulled||be.intersectsObject(me))){const yt=Me.update(me),Ct=me.material;if(Ze&&(me.boundingSphere!==void 0?(me.boundingSphere===null&&me.computeBoundingSphere(),Te.copy(me.boundingSphere.center)):(yt.boundingSphere===null&&yt.computeBoundingSphere(),Te.copy(yt.boundingSphere.center)),Te.applyMatrix4(me.matrixWorld).applyMatrix4(ge)),Array.isArray(Ct)){const _t=yt.groups;for(let qt=0,Xt=_t.length;qt<Xt;qt++){const Ut=_t[qt],vn=Ct[Ut.materialIndex];vn&&vn.visible&&N.push(me,yt,vn,He,Te.z,Ut)}}else Ct.visible&&N.push(me,yt,Ct,He,Te.z,null)}}const ft=me.children;for(let yt=0,Ct=ft.length;yt<Ct;yt++)As(ft[yt],Ce,He,Ze)}function Dr(me,Ce,He,Ze){const Pe=me.opaque,ft=me.transmissive,yt=me.transparent;_.setupLightsView(He),ce===!0&&ot.setGlobalState(A.clippingPlanes,He),Ze&&Xe.viewport(V.copy(Ze)),Pe.length>0&&Xi(Pe,Ce,He),ft.length>0&&Xi(ft,Ce,He),yt.length>0&&Xi(yt,Ce,He),Xe.buffers.depth.setTest(!0),Xe.buffers.depth.setMask(!0),Xe.buffers.color.setMask(!0),Xe.setPolygonOffset(!1)}function Bt(me,Ce,He,Ze){if((He.isScene===!0?He.overrideMaterial:null)!==null)return;_.state.transmissionRenderTarget[Ze.id]===void 0&&(_.state.transmissionRenderTarget[Ze.id]=new Zc(1,1,{generateMipmaps:!0,type:Ve.has("EXT_color_buffer_half_float")||Ve.has("EXT_color_buffer_float")?u0:il,minFilter:Vc,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Qn.workingColorSpace}));const ft=_.state.transmissionRenderTarget[Ze.id],yt=Ze.viewport||V;ft.setSize(yt.z*A.transmissionResolutionScale,yt.w*A.transmissionResolutionScale);const Ct=A.getRenderTarget(),_t=A.getActiveCubeFace(),qt=A.getActiveMipmapLevel();A.setRenderTarget(ft),A.getClearColor(ee),te=A.getClearAlpha(),te<1&&A.setClearColor(16777215,.5),A.clear(),$e&&Dt.render(He);const Xt=A.toneMapping;A.toneMapping=Xc;const Ut=Ze.viewport;if(Ze.viewport!==void 0&&(Ze.viewport=void 0),_.setupLightsView(Ze),ce===!0&&ot.setGlobalState(A.clippingPlanes,Ze),Xi(me,He,Ze),ye.updateMultisampleRenderTarget(ft),ye.updateRenderTargetMipmap(ft),Ve.has("WEBGL_multisampled_render_to_texture")===!1){let vn=!1;for(let Pn=0,Gt=Ce.length;Pn<Gt;Pn++){const Qt=Ce[Pn],hn=Qt.object,kt=Qt.geometry,$n=Qt.material,Sn=Qt.group;if($n.side===ql&&hn.layers.test(Ze.layers)){const Wt=$n.side;$n.side=xa,$n.needsUpdate=!0,Yi(hn,He,Ze,kt,$n,Sn),$n.side=Wt,$n.needsUpdate=!0,vn=!0}}vn===!0&&(ye.updateMultisampleRenderTarget(ft),ye.updateRenderTargetMipmap(ft))}A.setRenderTarget(Ct,_t,qt),A.setClearColor(ee,te),Ut!==void 0&&(Ze.viewport=Ut),A.toneMapping=Xt}function Xi(me,Ce,He){const Ze=Ce.isScene===!0?Ce.overrideMaterial:null;for(let Pe=0,ft=me.length;Pe<ft;Pe++){const yt=me[Pe],Ct=yt.object,_t=yt.geometry,qt=yt.group;let Xt=yt.material;Xt.allowOverride===!0&&Ze!==null&&(Xt=Ze),Ct.layers.test(He.layers)&&Yi(Ct,Ce,He,_t,Xt,qt)}}function Yi(me,Ce,He,Ze,Pe,ft){me.onBeforeRender(A,Ce,He,Ze,Pe,ft),me.modelViewMatrix.multiplyMatrices(He.matrixWorldInverse,me.matrixWorld),me.normalMatrix.getNormalMatrix(me.modelViewMatrix),Pe.onBeforeRender(A,Ce,He,Ze,me,ft),Pe.transparent===!0&&Pe.side===ql&&Pe.forceSinglePass===!1?(Pe.side=xa,Pe.needsUpdate=!0,A.renderBufferDirect(He,Ce,Ze,Pe,me,ft),Pe.side=Ku,Pe.needsUpdate=!0,A.renderBufferDirect(He,Ce,Ze,Pe,me,ft),Pe.side=ql):A.renderBufferDirect(He,Ce,Ze,Pe,me,ft),me.onAfterRender(A,Ce,He,Ze,Pe,ft)}function Zi(me,Ce,He){Ce.isScene!==!0&&(Ce=Ee);const Ze=de.get(me),Pe=_.state.lights,ft=_.state.shadowsArray,yt=Pe.state.version,Ct=qe.getParameters(me,Pe.state,ft,Ce,He),_t=qe.getProgramCacheKey(Ct);let qt=Ze.programs;Ze.environment=me.isMeshStandardMaterial?Ce.environment:null,Ze.fog=Ce.fog,Ze.envMap=(me.isMeshStandardMaterial?Oe:Be).get(me.envMap||Ze.environment),Ze.envMapRotation=Ze.environment!==null&&me.envMap===null?Ce.environmentRotation:me.envMapRotation,qt===void 0&&(me.addEventListener("dispose",at),qt=new Map,Ze.programs=qt);let Xt=qt.get(_t);if(Xt!==void 0){if(Ze.currentProgram===Xt&&Ze.lightsStateVersion===yt)return ds(me,Ct),Xt}else Ct.uniforms=qe.getUniforms(me),me.onBeforeCompile(Ct,A),Xt=qe.acquireProgram(Ct,_t),qt.set(_t,Xt),Ze.uniforms=Ct.uniforms;const Ut=Ze.uniforms;return(!me.isShaderMaterial&&!me.isRawShaderMaterial||me.clipping===!0)&&(Ut.clippingPlanes=ot.uniform),ds(me,Ct),Ze.needsLights=_a(me),Ze.lightsStateVersion=yt,Ze.needsLights&&(Ut.ambientLightColor.value=Pe.state.ambient,Ut.lightProbe.value=Pe.state.probe,Ut.directionalLights.value=Pe.state.directional,Ut.directionalLightShadows.value=Pe.state.directionalShadow,Ut.spotLights.value=Pe.state.spot,Ut.spotLightShadows.value=Pe.state.spotShadow,Ut.rectAreaLights.value=Pe.state.rectArea,Ut.ltc_1.value=Pe.state.rectAreaLTC1,Ut.ltc_2.value=Pe.state.rectAreaLTC2,Ut.pointLights.value=Pe.state.point,Ut.pointLightShadows.value=Pe.state.pointShadow,Ut.hemisphereLights.value=Pe.state.hemi,Ut.directionalShadowMap.value=Pe.state.directionalShadowMap,Ut.directionalShadowMatrix.value=Pe.state.directionalShadowMatrix,Ut.spotShadowMap.value=Pe.state.spotShadowMap,Ut.spotLightMatrix.value=Pe.state.spotLightMatrix,Ut.spotLightMap.value=Pe.state.spotLightMap,Ut.pointShadowMap.value=Pe.state.pointShadowMap,Ut.pointShadowMatrix.value=Pe.state.pointShadowMatrix),Ze.currentProgram=Xt,Ze.uniformsList=null,Xt}function ur(me){if(me.uniformsList===null){const Ce=me.currentProgram.getUniforms();me.uniformsList=o1.seqWithValue(Ce.seq,me.uniforms)}return me.uniformsList}function ds(me,Ce){const He=de.get(me);He.outputColorSpace=Ce.outputColorSpace,He.batching=Ce.batching,He.batchingColor=Ce.batchingColor,He.instancing=Ce.instancing,He.instancingColor=Ce.instancingColor,He.instancingMorph=Ce.instancingMorph,He.skinning=Ce.skinning,He.morphTargets=Ce.morphTargets,He.morphNormals=Ce.morphNormals,He.morphColors=Ce.morphColors,He.morphTargetsCount=Ce.morphTargetsCount,He.numClippingPlanes=Ce.numClippingPlanes,He.numIntersection=Ce.numClipIntersection,He.vertexAlphas=Ce.vertexAlphas,He.vertexTangents=Ce.vertexTangents,He.toneMapping=Ce.toneMapping}function Ys(me,Ce,He,Ze,Pe){Ce.isScene!==!0&&(Ce=Ee),ye.resetTextureUnits();const ft=Ce.fog,yt=Ze.isMeshStandardMaterial?Ce.environment:null,Ct=F===null?A.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:ph,_t=(Ze.isMeshStandardMaterial?Oe:Be).get(Ze.envMap||yt),qt=Ze.vertexColors===!0&&!!He.attributes.color&&He.attributes.color.itemSize===4,Xt=!!He.attributes.tangent&&(!!Ze.normalMap||Ze.anisotropy>0),Ut=!!He.morphAttributes.position,vn=!!He.morphAttributes.normal,Pn=!!He.morphAttributes.color;let Gt=Xc;Ze.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(Gt=A.toneMapping);const Qt=He.morphAttributes.position||He.morphAttributes.normal||He.morphAttributes.color,hn=Qt!==void 0?Qt.length:0,kt=de.get(Ze),$n=_.state.lights;if(ce===!0&&(ie===!0||me!==z)){const rr=me===z&&Ze.id===k;ot.setState(Ze,me,rr)}let Sn=!1;Ze.version===kt.__version?(kt.needsLights&&kt.lightsStateVersion!==$n.state.version||kt.outputColorSpace!==Ct||Pe.isBatchedMesh&&kt.batching===!1||!Pe.isBatchedMesh&&kt.batching===!0||Pe.isBatchedMesh&&kt.batchingColor===!0&&Pe.colorTexture===null||Pe.isBatchedMesh&&kt.batchingColor===!1&&Pe.colorTexture!==null||Pe.isInstancedMesh&&kt.instancing===!1||!Pe.isInstancedMesh&&kt.instancing===!0||Pe.isSkinnedMesh&&kt.skinning===!1||!Pe.isSkinnedMesh&&kt.skinning===!0||Pe.isInstancedMesh&&kt.instancingColor===!0&&Pe.instanceColor===null||Pe.isInstancedMesh&&kt.instancingColor===!1&&Pe.instanceColor!==null||Pe.isInstancedMesh&&kt.instancingMorph===!0&&Pe.morphTexture===null||Pe.isInstancedMesh&&kt.instancingMorph===!1&&Pe.morphTexture!==null||kt.envMap!==_t||Ze.fog===!0&&kt.fog!==ft||kt.numClippingPlanes!==void 0&&(kt.numClippingPlanes!==ot.numPlanes||kt.numIntersection!==ot.numIntersection)||kt.vertexAlphas!==qt||kt.vertexTangents!==Xt||kt.morphTargets!==Ut||kt.morphNormals!==vn||kt.morphColors!==Pn||kt.toneMapping!==Gt||kt.morphTargetsCount!==hn)&&(Sn=!0):(Sn=!0,kt.__version=Ze.version);let Wt=kt.currentProgram;Sn===!0&&(Wt=Zi(Ze,Ce,Pe));let Xn=!1,Kr=!1,Pr=!1;const Nn=Wt.getUniforms(),Mi=kt.uniforms;if(Xe.useProgram(Wt.program)&&(Xn=!0,Kr=!0,Pr=!0),Ze.id!==k&&(k=Ze.id,Kr=!0),Xn||z!==me){Xe.buffers.depth.getReversed()&&me.reversedDepth!==!0&&(me._reversedDepth=!0,me.updateProjectionMatrix()),Nn.setValue(xe,"projectionMatrix",me.projectionMatrix),Nn.setValue(xe,"viewMatrix",me.matrixWorldInverse);const In=Nn.map.cameraPosition;In!==void 0&&In.setValue(xe,_e.setFromMatrixPosition(me.matrixWorld)),nt.logarithmicDepthBuffer&&Nn.setValue(xe,"logDepthBufFC",2/(Math.log(me.far+1)/Math.LN2)),(Ze.isMeshPhongMaterial||Ze.isMeshToonMaterial||Ze.isMeshLambertMaterial||Ze.isMeshBasicMaterial||Ze.isMeshStandardMaterial||Ze.isShaderMaterial)&&Nn.setValue(xe,"isOrthographic",me.isOrthographicCamera===!0),z!==me&&(z=me,Kr=!0,Pr=!0)}if(Pe.isSkinnedMesh){Nn.setOptional(xe,Pe,"bindMatrix"),Nn.setOptional(xe,Pe,"bindMatrixInverse");const rr=Pe.skeleton;rr&&(rr.boneTexture===null&&rr.computeBoneTexture(),Nn.setValue(xe,"boneTexture",rr.boneTexture,ye))}Pe.isBatchedMesh&&(Nn.setOptional(xe,Pe,"batchingTexture"),Nn.setValue(xe,"batchingTexture",Pe._matricesTexture,ye),Nn.setOptional(xe,Pe,"batchingIdTexture"),Nn.setValue(xe,"batchingIdTexture",Pe._indirectTexture,ye),Nn.setOptional(xe,Pe,"batchingColorTexture"),Pe._colorsTexture!==null&&Nn.setValue(xe,"batchingColorTexture",Pe._colorsTexture,ye));const Vr=He.morphAttributes;if((Vr.position!==void 0||Vr.normal!==void 0||Vr.color!==void 0)&&ut.update(Pe,He,Wt),(Kr||kt.receiveShadow!==Pe.receiveShadow)&&(kt.receiveShadow=Pe.receiveShadow,Nn.setValue(xe,"receiveShadow",Pe.receiveShadow)),Ze.isMeshGouraudMaterial&&Ze.envMap!==null&&(Mi.envMap.value=_t,Mi.flipEnvMap.value=_t.isCubeTexture&&_t.isRenderTargetTexture===!1?-1:1),Ze.isMeshStandardMaterial&&Ze.envMap===null&&Ce.environment!==null&&(Mi.envMapIntensity.value=Ce.environmentIntensity),Kr&&(Nn.setValue(xe,"toneMappingExposure",A.toneMappingExposure),kt.needsLights&&hs(Mi,Pr),ft&&Ze.fog===!0&&Ge.refreshFogUniforms(Mi,ft),Ge.refreshMaterialUniforms(Mi,Ze,$,K,_.state.transmissionRenderTarget[me.id]),o1.upload(xe,ur(kt),Mi,ye)),Ze.isShaderMaterial&&Ze.uniformsNeedUpdate===!0&&(o1.upload(xe,ur(kt),Mi,ye),Ze.uniformsNeedUpdate=!1),Ze.isSpriteMaterial&&Nn.setValue(xe,"center",Pe.center),Nn.setValue(xe,"modelViewMatrix",Pe.modelViewMatrix),Nn.setValue(xe,"normalMatrix",Pe.normalMatrix),Nn.setValue(xe,"modelMatrix",Pe.matrixWorld),Ze.isShaderMaterial||Ze.isRawShaderMaterial){const rr=Ze.uniformsGroups;for(let In=0,fs=rr.length;In<fs;In++){const Ar=rr[In];an.update(Ar,Wt),an.bind(Ar,Wt)}}return Wt}function hs(me,Ce){me.ambientLightColor.needsUpdate=Ce,me.lightProbe.needsUpdate=Ce,me.directionalLights.needsUpdate=Ce,me.directionalLightShadows.needsUpdate=Ce,me.pointLights.needsUpdate=Ce,me.pointLightShadows.needsUpdate=Ce,me.spotLights.needsUpdate=Ce,me.spotLightShadows.needsUpdate=Ce,me.rectAreaLights.needsUpdate=Ce,me.hemisphereLights.needsUpdate=Ce}function _a(me){return me.isMeshLambertMaterial||me.isMeshToonMaterial||me.isMeshPhongMaterial||me.isMeshStandardMaterial||me.isShadowMaterial||me.isShaderMaterial&&me.lights===!0}this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(me,Ce,He){const Ze=de.get(me);Ze.__autoAllocateDepthBuffer=me.resolveDepthBuffer===!1,Ze.__autoAllocateDepthBuffer===!1&&(Ze.__useRenderToTexture=!1),de.get(me.texture).__webglTexture=Ce,de.get(me.depthTexture).__webglTexture=Ze.__autoAllocateDepthBuffer?void 0:He,Ze.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(me,Ce){const He=de.get(me);He.__webglFramebuffer=Ce,He.__useDefaultFramebuffer=Ce===void 0};const Hr=xe.createFramebuffer();this.setRenderTarget=function(me,Ce=0,He=0){F=me,U=Ce,B=He;let Ze=!0,Pe=null,ft=!1,yt=!1;if(me){const _t=de.get(me);if(_t.__useDefaultFramebuffer!==void 0)Xe.bindFramebuffer(xe.FRAMEBUFFER,null),Ze=!1;else if(_t.__webglFramebuffer===void 0)ye.setupRenderTarget(me);else if(_t.__hasExternalTextures)ye.rebindTextures(me,de.get(me.texture).__webglTexture,de.get(me.depthTexture).__webglTexture);else if(me.depthBuffer){const Ut=me.depthTexture;if(_t.__boundDepthTexture!==Ut){if(Ut!==null&&de.has(Ut)&&(me.width!==Ut.image.width||me.height!==Ut.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ye.setupDepthRenderbuffer(me)}}const qt=me.texture;(qt.isData3DTexture||qt.isDataArrayTexture||qt.isCompressedArrayTexture)&&(yt=!0);const Xt=de.get(me).__webglFramebuffer;me.isWebGLCubeRenderTarget?(Array.isArray(Xt[Ce])?Pe=Xt[Ce][He]:Pe=Xt[Ce],ft=!0):me.samples>0&&ye.useMultisampledRTT(me)===!1?Pe=de.get(me).__webglMultisampledFramebuffer:Array.isArray(Xt)?Pe=Xt[He]:Pe=Xt,V.copy(me.viewport),X.copy(me.scissor),J=me.scissorTest}else V.copy(Y).multiplyScalar($).floor(),X.copy(ne).multiplyScalar($).floor(),J=le;if(He!==0&&(Pe=Hr),Xe.bindFramebuffer(xe.FRAMEBUFFER,Pe)&&Ze&&Xe.drawBuffers(me,Pe),Xe.viewport(V),Xe.scissor(X),Xe.setScissorTest(J),ft){const _t=de.get(me.texture);xe.framebufferTexture2D(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,_t.__webglTexture,He)}else if(yt){const _t=Ce;for(let qt=0;qt<me.textures.length;qt++){const Xt=de.get(me.textures[qt]);xe.framebufferTextureLayer(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0+qt,Xt.__webglTexture,He,_t)}}else if(me!==null&&He!==0){const _t=de.get(me.texture);xe.framebufferTexture2D(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.TEXTURE_2D,_t.__webglTexture,He)}k=-1},this.readRenderTargetPixels=function(me,Ce,He,Ze,Pe,ft,yt,Ct=0){if(!(me&&me.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let _t=de.get(me).__webglFramebuffer;if(me.isWebGLCubeRenderTarget&&yt!==void 0&&(_t=_t[yt]),_t){Xe.bindFramebuffer(xe.FRAMEBUFFER,_t);try{const qt=me.textures[Ct],Xt=qt.format,Ut=qt.type;if(!nt.textureFormatReadable(Xt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!nt.textureTypeReadable(Ut)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ce>=0&&Ce<=me.width-Ze&&He>=0&&He<=me.height-Pe&&(me.textures.length>1&&xe.readBuffer(xe.COLOR_ATTACHMENT0+Ct),xe.readPixels(Ce,He,Ze,Pe,Pt.convert(Xt),Pt.convert(Ut),ft))}finally{const qt=F!==null?de.get(F).__webglFramebuffer:null;Xe.bindFramebuffer(xe.FRAMEBUFFER,qt)}}},this.readRenderTargetPixelsAsync=async function(me,Ce,He,Ze,Pe,ft,yt,Ct=0){if(!(me&&me.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let _t=de.get(me).__webglFramebuffer;if(me.isWebGLCubeRenderTarget&&yt!==void 0&&(_t=_t[yt]),_t)if(Ce>=0&&Ce<=me.width-Ze&&He>=0&&He<=me.height-Pe){Xe.bindFramebuffer(xe.FRAMEBUFFER,_t);const qt=me.textures[Ct],Xt=qt.format,Ut=qt.type;if(!nt.textureFormatReadable(Xt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!nt.textureTypeReadable(Ut))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const vn=xe.createBuffer();xe.bindBuffer(xe.PIXEL_PACK_BUFFER,vn),xe.bufferData(xe.PIXEL_PACK_BUFFER,ft.byteLength,xe.STREAM_READ),me.textures.length>1&&xe.readBuffer(xe.COLOR_ATTACHMENT0+Ct),xe.readPixels(Ce,He,Ze,Pe,Pt.convert(Xt),Pt.convert(Ut),0);const Pn=F!==null?de.get(F).__webglFramebuffer:null;Xe.bindFramebuffer(xe.FRAMEBUFFER,Pn);const Gt=xe.fenceSync(xe.SYNC_GPU_COMMANDS_COMPLETE,0);return xe.flush(),await jk(xe,Gt,4),xe.bindBuffer(xe.PIXEL_PACK_BUFFER,vn),xe.getBufferSubData(xe.PIXEL_PACK_BUFFER,0,ft),xe.deleteBuffer(vn),xe.deleteSync(Gt),ft}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(me,Ce=null,He=0){const Ze=Math.pow(2,-He),Pe=Math.floor(me.image.width*Ze),ft=Math.floor(me.image.height*Ze),yt=Ce!==null?Ce.x:0,Ct=Ce!==null?Ce.y:0;ye.setTexture2D(me,0),xe.copyTexSubImage2D(xe.TEXTURE_2D,He,0,0,yt,Ct,Pe,ft),Xe.unbindTexture()};const Jl=xe.createFramebuffer(),Ql=xe.createFramebuffer();this.copyTextureToTexture=function(me,Ce,He=null,Ze=null,Pe=0,ft=null){ft===null&&(Pe!==0?(zp("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ft=Pe,Pe=0):ft=0);let yt,Ct,_t,qt,Xt,Ut,vn,Pn,Gt;const Qt=me.isCompressedTexture?me.mipmaps[ft]:me.image;if(He!==null)yt=He.max.x-He.min.x,Ct=He.max.y-He.min.y,_t=He.isBox3?He.max.z-He.min.z:1,qt=He.min.x,Xt=He.min.y,Ut=He.isBox3?He.min.z:0;else{const Vr=Math.pow(2,-Pe);yt=Math.floor(Qt.width*Vr),Ct=Math.floor(Qt.height*Vr),me.isDataArrayTexture?_t=Qt.depth:me.isData3DTexture?_t=Math.floor(Qt.depth*Vr):_t=1,qt=0,Xt=0,Ut=0}Ze!==null?(vn=Ze.x,Pn=Ze.y,Gt=Ze.z):(vn=0,Pn=0,Gt=0);const hn=Pt.convert(Ce.format),kt=Pt.convert(Ce.type);let $n;Ce.isData3DTexture?(ye.setTexture3D(Ce,0),$n=xe.TEXTURE_3D):Ce.isDataArrayTexture||Ce.isCompressedArrayTexture?(ye.setTexture2DArray(Ce,0),$n=xe.TEXTURE_2D_ARRAY):(ye.setTexture2D(Ce,0),$n=xe.TEXTURE_2D),xe.pixelStorei(xe.UNPACK_FLIP_Y_WEBGL,Ce.flipY),xe.pixelStorei(xe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ce.premultiplyAlpha),xe.pixelStorei(xe.UNPACK_ALIGNMENT,Ce.unpackAlignment);const Sn=xe.getParameter(xe.UNPACK_ROW_LENGTH),Wt=xe.getParameter(xe.UNPACK_IMAGE_HEIGHT),Xn=xe.getParameter(xe.UNPACK_SKIP_PIXELS),Kr=xe.getParameter(xe.UNPACK_SKIP_ROWS),Pr=xe.getParameter(xe.UNPACK_SKIP_IMAGES);xe.pixelStorei(xe.UNPACK_ROW_LENGTH,Qt.width),xe.pixelStorei(xe.UNPACK_IMAGE_HEIGHT,Qt.height),xe.pixelStorei(xe.UNPACK_SKIP_PIXELS,qt),xe.pixelStorei(xe.UNPACK_SKIP_ROWS,Xt),xe.pixelStorei(xe.UNPACK_SKIP_IMAGES,Ut);const Nn=me.isDataArrayTexture||me.isData3DTexture,Mi=Ce.isDataArrayTexture||Ce.isData3DTexture;if(me.isDepthTexture){const Vr=de.get(me),rr=de.get(Ce),In=de.get(Vr.__renderTarget),fs=de.get(rr.__renderTarget);Xe.bindFramebuffer(xe.READ_FRAMEBUFFER,In.__webglFramebuffer),Xe.bindFramebuffer(xe.DRAW_FRAMEBUFFER,fs.__webglFramebuffer);for(let Ar=0;Ar<_t;Ar++)Nn&&(xe.framebufferTextureLayer(xe.READ_FRAMEBUFFER,xe.COLOR_ATTACHMENT0,de.get(me).__webglTexture,Pe,Ut+Ar),xe.framebufferTextureLayer(xe.DRAW_FRAMEBUFFER,xe.COLOR_ATTACHMENT0,de.get(Ce).__webglTexture,ft,Gt+Ar)),xe.blitFramebuffer(qt,Xt,yt,Ct,vn,Pn,yt,Ct,xe.DEPTH_BUFFER_BIT,xe.NEAREST);Xe.bindFramebuffer(xe.READ_FRAMEBUFFER,null),Xe.bindFramebuffer(xe.DRAW_FRAMEBUFFER,null)}else if(Pe!==0||me.isRenderTargetTexture||de.has(me)){const Vr=de.get(me),rr=de.get(Ce);Xe.bindFramebuffer(xe.READ_FRAMEBUFFER,Jl),Xe.bindFramebuffer(xe.DRAW_FRAMEBUFFER,Ql);for(let In=0;In<_t;In++)Nn?xe.framebufferTextureLayer(xe.READ_FRAMEBUFFER,xe.COLOR_ATTACHMENT0,Vr.__webglTexture,Pe,Ut+In):xe.framebufferTexture2D(xe.READ_FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.TEXTURE_2D,Vr.__webglTexture,Pe),Mi?xe.framebufferTextureLayer(xe.DRAW_FRAMEBUFFER,xe.COLOR_ATTACHMENT0,rr.__webglTexture,ft,Gt+In):xe.framebufferTexture2D(xe.DRAW_FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.TEXTURE_2D,rr.__webglTexture,ft),Pe!==0?xe.blitFramebuffer(qt,Xt,yt,Ct,vn,Pn,yt,Ct,xe.COLOR_BUFFER_BIT,xe.NEAREST):Mi?xe.copyTexSubImage3D($n,ft,vn,Pn,Gt+In,qt,Xt,yt,Ct):xe.copyTexSubImage2D($n,ft,vn,Pn,qt,Xt,yt,Ct);Xe.bindFramebuffer(xe.READ_FRAMEBUFFER,null),Xe.bindFramebuffer(xe.DRAW_FRAMEBUFFER,null)}else Mi?me.isDataTexture||me.isData3DTexture?xe.texSubImage3D($n,ft,vn,Pn,Gt,yt,Ct,_t,hn,kt,Qt.data):Ce.isCompressedArrayTexture?xe.compressedTexSubImage3D($n,ft,vn,Pn,Gt,yt,Ct,_t,hn,Qt.data):xe.texSubImage3D($n,ft,vn,Pn,Gt,yt,Ct,_t,hn,kt,Qt):me.isDataTexture?xe.texSubImage2D(xe.TEXTURE_2D,ft,vn,Pn,yt,Ct,hn,kt,Qt.data):me.isCompressedTexture?xe.compressedTexSubImage2D(xe.TEXTURE_2D,ft,vn,Pn,Qt.width,Qt.height,hn,Qt.data):xe.texSubImage2D(xe.TEXTURE_2D,ft,vn,Pn,yt,Ct,hn,kt,Qt);xe.pixelStorei(xe.UNPACK_ROW_LENGTH,Sn),xe.pixelStorei(xe.UNPACK_IMAGE_HEIGHT,Wt),xe.pixelStorei(xe.UNPACK_SKIP_PIXELS,Xn),xe.pixelStorei(xe.UNPACK_SKIP_ROWS,Kr),xe.pixelStorei(xe.UNPACK_SKIP_IMAGES,Pr),ft===0&&Ce.generateMipmaps&&xe.generateMipmap($n),Xe.unbindTexture()},this.copyTextureToTexture3D=function(me,Ce,He=null,Ze=null,Pe=0){return zp('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(me,Ce,He,Ze,Pe)},this.initRenderTarget=function(me){de.get(me).__webglFramebuffer===void 0&&ye.setupRenderTarget(me)},this.initTexture=function(me){me.isCubeTexture?ye.setTextureCube(me,0):me.isData3DTexture?ye.setTexture3D(me,0):me.isDataArrayTexture||me.isCompressedArrayTexture?ye.setTexture2DArray(me,0):ye.setTexture2D(me,0),Xe.unbindTexture()},this.resetState=function(){U=0,B=0,F=null,Xe.reset(),gt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return vo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Qn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Qn._getUnpackColorSpace()}}const GX=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:t3,AddEquation:lh,AddOperation:h7,AdditiveAnimationBlendMode:u3,AdditiveBlending:Cw,AgXToneMapping:b7,AlphaFormat:a3,AlwaysCompare:O7,AlwaysDepth:E1,AlwaysStencilFunc:Pw,AmbientLight:TR,AnimationAction:LR,AnimationClip:xb,AnimationLoader:tV,AnimationMixer:CV,AnimationObjectGroup:jV,AnimationUtils:JH,ArcCurve:J7,ArrayCamera:OR,ArrowHelper:nF,AttachedBindMode:Dw,Audio:DR,AudioAnalyser:xV,AudioContext:L3,AudioListener:pV,AudioLoader:hV,AxesHelper:rF,BackSide:xa,BasicDepthPacking:w7,BasicShadowMap:W5,BatchedMesh:W7,Bone:x3,BooleanKeyframeTrack:Xf,Box2:kV,Box3:Ws,Box3Helper:eF,BoxGeometry:Wf,BoxHelper:$V,BufferAttribute:jr,BufferGeometry:Dn,BufferGeometryLoader:RR,ByteType:r3,Cache:Fc,Camera:zy,CameraHelper:QV,CanvasTexture:yH,CapsuleGeometry:Fy,CatmullRomCurve3:Q7,CineonToneMapping:p7,CircleGeometry:qy,ClampToEdgeWrapping:nl,Clock:z3,Color:Ot,ColorKeyframeTrack:O3,ColorManagement:Qn,CompressedArrayTexture:xH,CompressedCubeTexture:vH,CompressedTexture:Vy,CompressedTextureLoader:nV,ConeGeometry:Lb,ConstantAlphaFactor:c7,ConstantColorFactor:o7,Controls:sF,CubeCamera:B7,CubeReflectionMapping:Ju,CubeRefractionMapping:mh,CubeTexture:Db,CubeTextureLoader:rV,CubeUVReflectionMapping:c0,CubicBezierCurve:S3,CubicBezierCurve3:$7,CubicInterpolant:xR,CullFaceBack:Aw,CullFaceFront:G5,CullFaceFrontBack:MB,CullFaceNone:q5,Curve:Kl,CurvePath:tR,CustomBlending:X5,CustomToneMapping:g7,CylinderGeometry:Pb,Cylindrical:BV,Data3DTexture:Ly,DataArrayTexture:Py,DataTexture:Yc,DataTextureLoader:iV,DataUtils:Fk,DecrementStencilOp:HB,DecrementWrapStencilOp:FB,DefaultLoadingManager:_R,DepthFormat:Wp,DepthStencilFormat:Xp,DepthTexture:y3,DetachedBindMode:v7,DirectionalLight:NR,DirectionalLightHelper:JV,DiscreteInterpolant:vR,DodecahedronGeometry:Gy,DoubleSide:ql,DstAlphaFactor:n7,DstColorFactor:i7,DynamicCopyUsage:ik,DynamicDrawUsage:QB,DynamicReadUsage:tk,EdgesGeometry:K7,EllipseCurve:Wy,EqualCompare:j7,EqualDepth:T1,EqualStencilFunc:XB,EquirectangularReflectionMapping:ib,EquirectangularRefractionMapping:sb,Euler:_o,EventDispatcher:Kc,ExtrudeGeometry:Xy,FileLoader:$u,Float16BufferAttribute:Kk,Float32BufferAttribute:Ft,FloatType:Ha,Fog:Iy,FogExp2:Uy,FramebufferTexture:bH,FrontSide:Ku,Frustum:h0,FrustumArray:Hy,GLBufferAttribute:LV,GLSL1:ak,GLSL3:Lw,GreaterCompare:A7,GreaterDepth:j1,GreaterEqualCompare:R7,GreaterEqualDepth:M1,GreaterEqualStencilFunc:JB,GreaterStencilFunc:ZB,GridHelper:ZV,Group:Dp,HalfFloatType:u0,HemisphereLight:SR,HemisphereLightHelper:YV,IcosahedronGeometry:Yy,ImageBitmapLoader:dV,ImageLoader:vb,ImageUtils:L7,IncrementStencilOp:kB,IncrementWrapStencilOp:VB,InstancedBufferAttribute:Qp,InstancedBufferGeometry:CR,InstancedInterleavedBuffer:PV,InstancedMesh:G7,Int16BufferAttribute:Yk,Int32BufferAttribute:Zk,Int8BufferAttribute:Gk,IntType:My,InterleavedBuffer:By,InterleavedBufferAttribute:Bf,Interpolant:Ib,InterpolateDiscrete:lb,InterpolateLinear:ny,InterpolateSmooth:s1,InterpolationSamplingMode:ck,InterpolationSamplingType:lk,InvertStencilOp:qB,KeepStencilOp:wf,KeyframeTrack:al,LOD:F7,LatheGeometry:Zy,Layers:Kp,LessCompare:M7,LessDepth:N1,LessEqualCompare:d3,LessEqualDepth:If,LessEqualStencilFunc:YB,LessStencilFunc:WB,Light:Sh,LightProbe:AR,Line:gh,Line3:FV,LineBasicMaterial:va,LineCurve:w3,LineCurve3:eR,LineDashedMaterial:pR,LineLoop:X7,LineSegments:Jc,LinearFilter:Fi,LinearInterpolant:R3,LinearMipMapLinearFilter:RB,LinearMipMapNearestFilter:CB,LinearMipmapLinearFilter:Vc,LinearMipmapNearestFilter:Ig,LinearSRGBColorSpace:ph,LinearToneMapping:f7,LinearTransfer:ub,Loader:Fa,LoaderUtils:kw,LoadingManager:D3,LoopOnce:y7,LoopPingPong:S7,LoopRepeat:_7,MOUSE:NB,Material:Xs,MaterialLoader:n_,MathUtils:Tk,Matrix2:k3,Matrix3:jn,Matrix4:xn,MaxEquation:J5,Mesh:Li,MeshBasicMaterial:yh,MeshDepthMaterial:j3,MeshDistanceMaterial:A3,MeshLambertMaterial:fR,MeshMatcapMaterial:mR,MeshNormalMaterial:hR,MeshPhongMaterial:uR,MeshPhysicalMaterial:cR,MeshStandardMaterial:M3,MeshToonMaterial:dR,MinEquation:K5,MirroredRepeatWrapping:ob,MixOperation:d7,MultiplyBlending:Ow,MultiplyOperation:Rb,NearestFilter:Ms,NearestMipMapLinearFilter:AB,NearestMipMapNearestFilter:jB,NearestMipmapLinearFilter:Rp,NearestMipmapNearestFilter:n3,NeutralToneMapping:x7,NeverCompare:T7,NeverDepth:w1,NeverStencilFunc:GB,NoBlending:qu,NoColorSpace:Hu,NoToneMapping:Xc,NormalAnimationBlendMode:Dy,NormalBlending:Lf,NotEqualCompare:C7,NotEqualDepth:A1,NotEqualStencilFunc:KB,NumberKeyframeTrack:gb,Object3D:nr,ObjectLoader:cV,ObjectSpaceNormalMap:N7,OctahedronGeometry:zb,OneFactor:$5,OneMinusConstantAlphaFactor:u7,OneMinusConstantColorFactor:l7,OneMinusDstAlphaFactor:r7,OneMinusDstColorFactor:s7,OneMinusSrcAlphaFactor:S1,OneMinusSrcColorFactor:t7,OrthographicCamera:kb,PCFShadowMap:Ny,PCFSoftShadowMap:Ug,PMREMGenerator:Fw,Path:ay,PerspectiveCamera:us,Plane:ah,PlaneGeometry:f0,PlaneHelper:tF,PointLight:ER,PointLightHelper:WV,Points:Y7,PointsMaterial:v3,PolarGridHelper:KV,PolyhedronGeometry:_h,PositionalAudio:bV,PropertyBinding:sr,PropertyMixer:PR,QuadraticBezierCurve:E3,QuadraticBezierCurve3:N3,Quaternion:Va,QuaternionKeyframeTrack:Bb,QuaternionLinearInterpolant:yR,RED_GREEN_RGTC2_Format:ey,RED_RGTC1_Format:c3,REVISION:Ey,RGBADepthPacking:E7,RGBAFormat:Gs,RGBAIntegerFormat:Oy,RGBA_ASTC_10x10_Format:Y1,RGBA_ASTC_10x5_Format:G1,RGBA_ASTC_10x6_Format:W1,RGBA_ASTC_10x8_Format:X1,RGBA_ASTC_12x10_Format:Z1,RGBA_ASTC_12x12_Format:K1,RGBA_ASTC_4x4_Format:U1,RGBA_ASTC_5x4_Format:I1,RGBA_ASTC_5x5_Format:B1,RGBA_ASTC_6x5_Format:k1,RGBA_ASTC_6x6_Format:H1,RGBA_ASTC_8x5_Format:V1,RGBA_ASTC_8x6_Format:F1,RGBA_ASTC_8x8_Format:q1,RGBA_BPTC_Format:Fg,RGBA_ETC2_EAC_Format:z1,RGBA_PVRTC_2BPPV1_Format:D1,RGBA_PVRTC_4BPPV1_Format:O1,RGBA_S3TC_DXT1_Format:kg,RGBA_S3TC_DXT3_Format:Hg,RGBA_S3TC_DXT5_Format:Vg,RGBDepthPacking:zB,RGBFormat:o3,RGBIntegerFormat:OB,RGB_BPTC_SIGNED_Format:J1,RGB_BPTC_UNSIGNED_Format:Q1,RGB_ETC1_Format:P1,RGB_ETC2_Format:L1,RGB_PVRTC_2BPPV1_Format:R1,RGB_PVRTC_4BPPV1_Format:C1,RGB_S3TC_DXT1_Format:Bg,RGDepthPacking:UB,RGFormat:l3,RGIntegerFormat:Ry,RawShaderMaterial:lR,Ray:d0,Raycaster:zR,RectAreaLight:MR,RedFormat:Cy,RedIntegerFormat:Ob,ReinhardToneMapping:m7,RenderTarget:f3,RenderTarget3D:RV,RepeatWrapping:ab,ReplaceStencilOp:BB,ReverseSubtractEquation:Z5,RingGeometry:Ky,SIGNED_RED_GREEN_RGTC2_Format:ty,SIGNED_RED_RGTC1_Format:$1,SRGBColorSpace:Fs,SRGBTransfer:xr,Scene:g3,ShaderChunk:zn,ShaderLib:Fl,ShaderMaterial:Xl,ShadowMaterial:oR,Shape:Uf,ShapeGeometry:Jy,ShapePath:iF,ShapeUtils:Gl,ShortType:i3,Skeleton:ky,SkeletonHelper:GV,SkinnedMesh:q7,Source:uh,Sphere:js,SphereGeometry:Ub,Spherical:IV,SphericalHarmonics3:jR,SplineCurve:T3,SpotLight:wR,SpotLightHelper:qV,Sprite:V7,SpriteMaterial:b3,SrcAlphaFactor:_1,SrcAlphaSaturateFactor:a7,SrcColorFactor:e7,StaticCopyUsage:rk,StaticDrawUsage:db,StaticReadUsage:ek,StereoCamera:fV,StreamCopyUsage:sk,StreamDrawUsage:$B,StreamReadUsage:nk,StringKeyframeTrack:Yf,SubtractEquation:Y5,SubtractiveBlending:Rw,TOUCH:TB,TangentSpaceNormalMap:vh,TetrahedronGeometry:Qy,Texture:gi,TextureLoader:sV,TextureUtils:uF,Timer:zV,TimestampQuery:ok,TorusGeometry:$y,TorusKnotGeometry:e_,Triangle:Ba,TriangleFanDrawMode:LB,TriangleStripDrawMode:PB,TrianglesDrawMode:DB,TubeGeometry:t_,UVMapping:Ty,Uint16BufferAttribute:m3,Uint32BufferAttribute:p3,Uint8BufferAttribute:Wk,Uint8ClampedBufferAttribute:Xk,Uniform:B3,UniformsGroup:DV,UniformsLib:Mt,UniformsUtils:I7,UnsignedByteType:il,UnsignedInt248Type:Gp,UnsignedInt5999Type:s3,UnsignedIntType:Qu,UnsignedShort4444Type:jy,UnsignedShort5551Type:Ay,UnsignedShortType:qp,VSMShadowMap:Hl,Vector2:dt,Vector3:ve,Vector4:ar,VectorKeyframeTrack:bb,VideoFrameTexture:gH,VideoTexture:Z7,WebGL3DRenderTarget:Dk,WebGLArrayRenderTarget:Ok,WebGLCoordinateSystem:vo,WebGLCubeRenderTarget:k7,WebGLRenderTarget:Zc,WebGLRenderer:GR,WebGLUtils:FR,WebGPUCoordinateSystem:Yp,WebXRController:a1,WireframeGeometry:aR,WrapAroundEnding:cb,ZeroCurvatureEnding:Cf,ZeroFactor:Q5,ZeroSlopeEnding:Rf,ZeroStencilOp:IB,createCanvasElement:P7},Symbol.toStringTag,{value:"Module"}));var pS={exports:{}},gS={},bS={exports:{}},xS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SA;function WX(){if(SA)return xS;SA=1;var r=qf();function e(b,v){return b===v&&(b!==0||1/b===1/v)||b!==b&&v!==v}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,i=r.useEffect,a=r.useLayoutEffect,o=r.useDebugValue;function c(b,v){var y=v(),w=n({inst:{value:y,getSnapshot:v}}),T=w[0].inst,N=w[1];return a(function(){T.value=y,T.getSnapshot=v,d(T)&&N({inst:T})},[b,y,v]),i(function(){return d(T)&&N({inst:T}),b(function(){d(T)&&N({inst:T})})},[b]),o(y),y}function d(b){var v=b.getSnapshot;b=b.value;try{var y=v();return!t(b,y)}catch{return!0}}function f(b,v){return v()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return xS.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:g,xS}var wA;function XX(){return wA||(wA=1,bS.exports=WX()),bS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA;function YX(){if(EA)return gS;EA=1;var r=qf(),e=XX();function t(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,a=r.useRef,o=r.useEffect,c=r.useMemo,d=r.useDebugValue;return gS.useSyncExternalStoreWithSelector=function(f,g,b,v,y){var w=a(null);if(w.current===null){var T={hasValue:!1,value:null};w.current=T}else T=w.current;w=c(function(){function _(U){if(!j){if(j=!0,C=U,U=v(U),y!==void 0&&T.hasValue){var B=T.value;if(y(B,U))return A=B}return A=U}if(B=A,n(C,U))return B;var F=v(U);return y!==void 0&&y(B,F)?(C=U,B):(C=U,A=F)}var j=!1,C,A,P=b===void 0?null:b;return[function(){return _(g())},P===null?void 0:function(){return _(P())}]},[g,b,v,y]);var N=i(f,w[0],w[1]);return o(function(){T.hasValue=!0,T.value=N},[N]),d(N),N},gS}var NA;function ZX(){return NA||(NA=1,pS.exports=YX()),pS.exports}var KX=ZX();const JX=ed(KX),TA=r=>{let e;const t=new Set,n=(f,g)=>{const b=typeof f=="function"?f(e):f;if(!Object.is(b,e)){const v=e;e=g??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(y=>y(e,v))}},i=()=>e,c={setState:n,getState:i,getInitialState:()=>d,subscribe:f=>(t.add(f),()=>t.delete(f))},d=e=r(n,i,c);return c},QX=r=>r?TA(r):TA,{useSyncExternalStoreWithSelector:$X}=JX,eY=r=>r;function tY(r,e=eY,t){const n=$X(r.subscribe,r.getState,r.getInitialState,e,t);return dn.useDebugValue(n),n}const MA=(r,e)=>{const t=QX(r),n=(i,a=e)=>tY(t,i,a);return Object.assign(n,t),n},nY=(r,e)=>r?MA(r,e):MA;var vS={exports:{}},yS={exports:{}},_S={exports:{}},SS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jA;function rY(){return jA||(jA=1,(function(r){function e(W,K){var $=W.length;W.push(K);e:for(;0<$;){var oe=$-1>>>1,G=W[oe];if(0<i(G,K))W[oe]=K,W[$]=G,$=oe;else break e}}function t(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var K=W[0],$=W.pop();if($!==K){W[0]=$;e:for(var oe=0,G=W.length,Y=G>>>1;oe<Y;){var ne=2*(oe+1)-1,le=W[ne],be=ne+1,ce=W[be];if(0>i(le,$))be<G&&0>i(ce,le)?(W[oe]=ce,W[be]=$,oe=be):(W[oe]=le,W[ne]=$,oe=ne);else if(be<G&&0>i(ce,$))W[oe]=ce,W[be]=$,oe=be;else break e}}return K}function i(W,K){var $=W.sortIndex-K.sortIndex;return $!==0?$:W.id-K.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();r.unstable_now=function(){return o.now()-c}}var d=[],f=[],g=1,b=null,v=3,y=!1,w=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function C(W){for(var K=t(f);K!==null;){if(K.callback===null)n(f);else if(K.startTime<=W)n(f),K.sortIndex=K.expirationTime,e(d,K);else break;K=t(f)}}function A(W){if(T=!1,C(W),!w)if(t(d)!==null)w=!0,ee();else{var K=t(f);K!==null&&te(A,K.startTime-W)}}var P=!1,U=-1,B=5,F=-1;function k(){return!(r.unstable_now()-F<B)}function z(){if(P){var W=r.unstable_now();F=W;var K=!0;try{e:{w=!1,T&&(T=!1,_(U),U=-1),y=!0;var $=v;try{t:{for(C(W),b=t(d);b!==null&&!(b.expirationTime>W&&k());){var oe=b.callback;if(typeof oe=="function"){b.callback=null,v=b.priorityLevel;var G=oe(b.expirationTime<=W);if(W=r.unstable_now(),typeof G=="function"){b.callback=G,C(W),K=!0;break t}b===t(d)&&n(d),C(W)}else n(d);b=t(d)}if(b!==null)K=!0;else{var Y=t(f);Y!==null&&te(A,Y.startTime-W),K=!1}}break e}finally{b=null,v=$,y=!1}K=void 0}}finally{K?V():P=!1}}}var V;if(typeof j=="function")V=function(){j(z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=z,V=function(){J.postMessage(null)}}else V=function(){N(z,0)};function ee(){P||(P=!0,V())}function te(W,K){U=N(function(){W(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_continueExecution=function(){w||y||(w=!0,ee())},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(W){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var $=v;v=K;try{return W()}finally{v=$}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var $=v;v=W;try{return K()}finally{v=$}},r.unstable_scheduleCallback=function(W,K,$){var oe=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?oe+$:oe):$=oe,W){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,W={id:g++,callback:K,priorityLevel:W,startTime:$,expirationTime:G,sortIndex:-1},$>oe?(W.sortIndex=$,e(f,W),t(d)===null&&W===t(f)&&(T?(_(U),U=-1):T=!0,te(A,$-oe))):(W.sortIndex=G,e(d,W),w||y||(w=!0,ee())),W},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(W){var K=v;return function(){var $=v;v=K;try{return W.apply(this,arguments)}finally{v=$}}}})(SS)),SS}var AA;function iY(){return AA||(AA=1,_S.exports=rY()),_S.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA;function sY(){return CA||(CA=1,(function(r){r.exports=function(e){function t(m,p,M,D){return new du(m,p,M,D)}function n(){}function i(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var M=2;M<arguments.length;M++)p+="&args[]="+encodeURIComponent(arguments[M])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(m){return m===null||typeof m!="object"?null:(m=El&&m[El]||m["@@iterator"],typeof m=="function"?m:null)}function o(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===S0?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case bc:return"Fragment";case Ta:return"Portal";case cm:return"Profiler";case Ih:return"StrictMode";case um:return"Suspense";case gd:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case so:return(m.displayName||"Context")+".Provider";case y0:return(m._context.displayName||"Context")+".Consumer";case kh:var p=m.render;return m=m.displayName,m||(m=p.displayName||p.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case dm:return p=m.displayName||null,p!==null?p:o(m.type)||"Memo";case Ma:p=m._payload,m=m._init;try{return o(m(p))}catch{}}return null}function c(m){if(zo===void 0)try{throw Error()}catch(M){var p=M.stack.trim().match(/\n( *(at )?)/);zo=p&&p[1]||"",Nl=-1<M.stack.indexOf(`
    at`)?" (<anonymous>)":-1<M.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zo+m+Nl}function d(m,p){if(!m||hu)return"";hu=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var D={DetermineComponentFrameRoot:function(){try{if(p){var Tt=function(){throw Error()};if(Object.defineProperty(Tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Tt,[])}catch(_n){var Rt=_n}Reflect.construct(m,[],Tt)}else{try{Tt.call()}catch(_n){Rt=_n}m.call(Tt.prototype)}}else{try{throw Error()}catch(_n){Rt=_n}(Tt=m())&&typeof Tt.catch=="function"&&Tt.catch(function(){})}}catch(_n){if(_n&&Rt&&typeof _n.stack=="string")return[_n.stack,Rt.stack]}return[null,null]}};D.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var H=Object.getOwnPropertyDescriptor(D.DetermineComponentFrameRoot,"name");H&&H.configurable&&Object.defineProperty(D.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Z=D.DetermineComponentFrameRoot(),pe=Z[0],Ne=Z[1];if(pe&&Ne){var Ie=pe.split(`
`),rt=Ne.split(`
`);for(H=D=0;D<Ie.length&&!Ie[D].includes("DetermineComponentFrameRoot");)D++;for(;H<rt.length&&!rt[H].includes("DetermineComponentFrameRoot");)H++;if(D===Ie.length||H===rt.length)for(D=Ie.length-1,H=rt.length-1;1<=D&&0<=H&&Ie[D]!==rt[H];)H--;for(;1<=D&&0<=H;D--,H--)if(Ie[D]!==rt[H]){if(D!==1||H!==1)do if(D--,H--,0>H||Ie[D]!==rt[H]){var xt=`
`+Ie[D].replace(" at new "," at ");return m.displayName&&xt.includes("<anonymous>")&&(xt=xt.replace("<anonymous>",m.displayName)),xt}while(1<=D&&0<=H);break}}}finally{hu=!1,Error.prepareStackTrace=M}return(M=m?m.displayName||m.name:"")?c(M):""}function f(m){switch(m.tag){case 26:case 27:case 5:return c(m.type);case 16:return c("Lazy");case 13:return c("Suspense");case 19:return c("SuspenseList");case 0:case 15:return m=d(m.type,!1),m;case 11:return m=d(m.type.render,!1),m;case 1:return m=d(m.type,!0),m;default:return""}}function g(m){try{var p="";do p+=f(m),m=m.return;while(m);return p}catch(M){return`
Error generating stack: `+M.message+`
`+M.stack}}function b(m){var p=m,M=m;if(m.alternate)for(;p.return;)p=p.return;else{m=p;do p=m,(p.flags&4098)!==0&&(M=p.return),m=p.return;while(m)}return p.tag===3?M:null}function v(m){if(b(m)!==m)throw Error(i(188))}function y(m){var p=m.alternate;if(!p){if(p=b(m),p===null)throw Error(i(188));return p!==m?null:m}for(var M=m,D=p;;){var H=M.return;if(H===null)break;var Z=H.alternate;if(Z===null){if(D=H.return,D!==null){M=D;continue}break}if(H.child===Z.child){for(Z=H.child;Z;){if(Z===M)return v(H),m;if(Z===D)return v(H),p;Z=Z.sibling}throw Error(i(188))}if(M.return!==D.return)M=H,D=Z;else{for(var pe=!1,Ne=H.child;Ne;){if(Ne===M){pe=!0,M=H,D=Z;break}if(Ne===D){pe=!0,D=H,M=Z;break}Ne=Ne.sibling}if(!pe){for(Ne=Z.child;Ne;){if(Ne===M){pe=!0,M=Z,D=H;break}if(Ne===D){pe=!0,D=Z,M=H;break}Ne=Ne.sibling}if(!pe)throw Error(i(189))}}if(M.alternate!==D)throw Error(i(190))}if(M.tag!==3)throw Error(i(188));return M.stateNode.current===M?m:p}function w(m){var p=m.tag;if(p===5||p===26||p===27||p===6)return m;for(m=m.child;m!==null;){if(p=w(m),p!==null)return p;m=m.sibling}return null}function T(m){var p=m.tag;if(p===5||p===26||p===27||p===6)return m;for(m=m.child;m!==null;){if(m.tag!==4&&(p=T(m),p!==null))return p;m=m.sibling}return null}function N(m){return{current:m}}function _(m){0>Al||(m.current=ni[Al],ni[Al]=null,Al--)}function j(m,p){Al++,ni[Al]=m.current,m.current=p}function C(m){return m>>>=0,m===0?32:31-(Nx(m)/Tx|0)|0}function A(m){var p=m&42;if(p!==0)return p;switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return m&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return m}}function P(m,p){var M=m.pendingLanes;if(M===0)return 0;var D=0,H=m.suspendedLanes,Z=m.pingedLanes,pe=m.warmLanes;m=m.finishedLanes!==0;var Ne=M&134217727;return Ne!==0?(M=Ne&~H,M!==0?D=A(M):(Z&=Ne,Z!==0?D=A(Z):m||(pe=Ne&~pe,pe!==0&&(D=A(pe))))):(Ne=M&~H,Ne!==0?D=A(Ne):Z!==0?D=A(Z):m||(pe=M&~pe,pe!==0&&(D=A(pe)))),D===0?0:p!==0&&p!==D&&(p&H)===0&&(H=D&-D,pe=p&-p,H>=pe||H===32&&(pe&4194176)!==0)?p:D}function U(m,p){return(m.pendingLanes&~(m.suspendedLanes&~m.pingedLanes)&p)===0}function B(m,p){switch(m){case 1:case 2:case 4:case 8:return p+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var m=Io;return Io<<=1,(Io&4194176)===0&&(Io=128),m}function k(){var m=pu;return pu<<=1,(pu&62914560)===0&&(pu=4194304),m}function z(m){for(var p=[],M=0;31>M;M++)p.push(m);return p}function V(m,p){m.pendingLanes|=p,p!==268435456&&(m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0)}function X(m,p,M,D,H,Z){var pe=m.pendingLanes;m.pendingLanes=M,m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0,m.expiredLanes&=M,m.entangledLanes&=M,m.errorRecoveryDisabledLanes&=M,m.shellSuspendCounter=0;var Ne=m.entanglements,Ie=m.expirationTimes,rt=m.hiddenUpdates;for(M=pe&~M;0<M;){var xt=31-ys(M),Tt=1<<xt;Ne[xt]=0,Ie[xt]=-1;var Rt=rt[xt];if(Rt!==null)for(rt[xt]=null,xt=0;xt<Rt.length;xt++){var _n=Rt[xt];_n!==null&&(_n.lane&=-536870913)}M&=~Tt}D!==0&&J(m,D,0),Z!==0&&H===0&&m.tag!==0&&(m.suspendedLanes|=Z&~(pe&~p))}function J(m,p,M){m.pendingLanes|=p,m.suspendedLanes&=~p;var D=31-ys(p);m.entangledLanes|=p,m.entanglements[D]=m.entanglements[D]|1073741824|M&4194218}function ee(m,p){var M=m.entangledLanes|=p;for(m=m.entanglements;M;){var D=31-ys(M),H=1<<D;H&p|m[D]&p&&(m[D]|=p),M&=~H}}function te(m){return m&=-m,2<m?8<m?(m&134217727)!==0?32:268435456:8:2}function W(m){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(ri,m,void 0,(m.current.flags&128)===128)}catch{}}function K(m){if(typeof Ax=="function"&&Ci(m),Us&&typeof Us.setStrictMode=="function")try{Us.setStrictMode(ri,m)}catch{}}function $(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}function oe(m,p){if(typeof m=="object"&&m!==null){var M=H0.get(m);return M!==void 0?M:(p={value:m,source:p,stack:g(p)},H0.set(m,p),p)}return{value:m,source:p,stack:g(p)}}function G(m,p){gu[bu++]=Nd,gu[bu++]=xu,xu=m,Nd=p}function Y(m,p,M){ta[na++]=lo,ta[na++]=co,ta[na++]=Ec,Ec=m;var D=lo;m=co;var H=32-ys(D)-1;D&=~(1<<H),M+=1;var Z=32-ys(p)+H;if(30<Z){var pe=H-H%5;Z=(D&(1<<pe)-1).toString(32),D>>=pe,H-=pe,lo=1<<32-ys(p)+H|M<<H|D,co=Z+m}else lo=1<<Z|M<<H|D,co=m}function ne(m){m.return!==null&&(G(m,1),Y(m,1,0))}function le(m){for(;m===xu;)xu=gu[--bu],gu[bu]=null,Nd=gu[--bu],gu[bu]=null;for(;m===Ec;)Ec=ta[--na],ta[na]=null,co=ta[--na],ta[na]=null,lo=ta[--na],ta[na]=null}function be(m,p){j(Bo,p),j(Td,m),j(Si,null),m=qb(p),_(Si),j(Si,m)}function ce(){_(Si),_(Td),_(Bo)}function ie(m){m.memoizedState!==null&&j(vu,m);var p=Si.current,M=yd(p,m.type);p!==M&&(j(Td,m),j(Si,M))}function ge(m){Td.current===m&&(_(Si),_(Td)),vu.current===m&&(_(vu),xs?ao._currentValue=vc:ao._currentValue2=vc)}function _e(m){var p=Error(i(418,""));throw xe(oe(p,m)),Zh}function Te(m,p){if(!Ui)throw Error(i(175));px(m.stateNode,m.type,m.memoizedProps,p,m)||_e(m)}function Ee(m){for(Ii=m.return;Ii;)switch(Ii.tag){case 3:case 27:Ri=!0;return;case 5:case 13:Ri=!1;return;default:Ii=Ii.return}}function $e(m){if(!Ui||m!==Ii)return!1;if(!Yn)return Ee(m),Yn=!0,!1;var p=!1;if(mr?m.tag!==3&&m.tag!==27&&(m.tag!==5||ym(m.type)&&!En(m.type,m.memoizedProps))&&(p=!0):m.tag!==3&&(m.tag!==5||ym(m.type)&&!En(m.type,m.memoizedProps))&&(p=!0),p&&Bi&&_e(m),Ee(m),m.tag===13){if(!Ui)throw Error(i(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));Bi=bx(m)}else Bi=Ii?U0(m.stateNode):null;return!0}function tt(){Ui&&(Bi=Ii=null,Yn=!1)}function xe(m){Ca===null?Ca=[m]:Ca.push(m)}function ke(){for(var m=yu,p=uo=yu=0;p<m;){var M=Ra[p];Ra[p++]=null;var D=Ra[p];Ra[p++]=null;var H=Ra[p];Ra[p++]=null;var Z=Ra[p];if(Ra[p++]=null,D!==null&&H!==null){var pe=D.pending;pe===null?H.next=H:(H.next=pe.next,pe.next=H),D.pending=H}Z!==0&&je(M,H,Z)}}function Ve(m,p,M,D){Ra[yu++]=m,Ra[yu++]=p,Ra[yu++]=M,Ra[yu++]=D,uo|=D,m.lanes|=D,m=m.alternate,m!==null&&(m.lanes|=D)}function nt(m,p,M,D){return Ve(m,p,M,D),de(m)}function Xe(m,p){return Ve(m,null,null,p),de(m)}function je(m,p,M){m.lanes|=M;var D=m.alternate;D!==null&&(D.lanes|=M);for(var H=!1,Z=m.return;Z!==null;)Z.childLanes|=M,D=Z.alternate,D!==null&&(D.childLanes|=M),Z.tag===22&&(m=Z.stateNode,m===null||m._visibility&1||(H=!0)),m=Z,Z=Z.return;H&&p!==null&&m.tag===3&&(Z=m.stateNode,H=31-ys(M),Z=Z.hiddenUpdates,m=Z[H],m===null?Z[H]=[p]:m.push(p),p.lane=M|536870912)}function de(m){if(50<Ld)throw Ld=0,Lm=null,Error(i(185));for(var p=m.return;p!==null;)m=p,p=m.return;return m.tag===3?m.stateNode:null}function ye(m){m!==Cl&&m.next===null&&(Cl===null?Kh=Cl=m:Cl=Cl.next=m),wr=!0,_u||(_u=!0,qe(Oe))}function Be(m,p){if(!V0&&wr){V0=!0;do for(var M=!1,D=Kh;D!==null;){if(m!==0){var H=D.pendingLanes;if(H===0)var Z=0;else{var pe=D.suspendedLanes,Ne=D.pingedLanes;Z=(1<<31-ys(42|m)+1)-1,Z&=H&~(pe&~Ne),Z=Z&201326677?Z&201326677|1:Z?Z|2:0}Z!==0&&(M=!0,Me(D,Z))}else Z=Vn,Z=P(D,D===lr?Z:0),(Z&3)===0||U(D,Z)||(M=!0,Me(D,Z));D=D.next}while(M);V0=!1}}function Oe(){wr=_u=!1;var m=0;Md!==0&&(Yb()&&(m=Md),Md=0);for(var p=Aa(),M=null,D=Kh;D!==null;){var H=D.next,Z=he(D,p);Z===0?(D.next=null,M===null?Kh=H:M.next=H,H===null&&(Cl=M)):(M=D,(m!==0||(Z&3)!==0)&&(wr=!0)),D=H}Be(m)}function he(m,p){for(var M=m.suspendedLanes,D=m.pingedLanes,H=m.expirationTimes,Z=m.pendingLanes&-62914561;0<Z;){var pe=31-ys(Z),Ne=1<<pe,Ie=H[pe];Ie===-1?((Ne&M)===0||(Ne&D)!==0)&&(H[pe]=B(Ne,p)):Ie<=p&&(m.expiredLanes|=Ne),Z&=~Ne}if(p=lr,M=Vn,M=P(m,m===p?M:0),D=m.callbackNode,M===0||m===p&&fr===2||m.cancelPendingCommit!==null)return D!==null&&D!==null&&Em(D),m.callbackNode=null,m.callbackPriority=0;if((M&3)===0||U(m,M)){if(p=M&-M,p===m.callbackPriority)return p;switch(D!==null&&Em(D),te(M)){case 2:case 8:M=jx;break;case 32:M=Mm;break;case 268435456:M=S_;break;default:M=Mm}return D=se.bind(null,m),M=Yh(M,D),m.callbackPriority=p,m.callbackNode=M,p}return D!==null&&D!==null&&Em(D),m.callbackPriority=2,m.callbackNode=null,2}function se(m,p){var M=m.callbackNode;if(Js()&&m.callbackNode!==M)return null;var D=Vn;return D=P(m,m===lr?D:0),D===0?null:(no(m,D,p),he(m,Aa()),m.callbackNode!=null&&m.callbackNode===M?se.bind(null,m):null)}function Me(m,p){if(Js())return null;no(m,p,!0)}function qe(m){M0?jl(function(){(Jn&6)!==0?Yh(Tm,m):m()}):Yh(Tm,m)}function Ge(){return Md===0&&(Md=F()),Md}function ze(m,p){if(jd===null){var M=jd=[];Su=0,ra=Ge(),wu={status:"pending",value:void 0,then:function(D){M.push(D)}}}return Su++,p.then(St,St),p}function St(){if(--Su===0&&jd!==null){wu!==null&&(wu.status="fulfilled");var m=jd;jd=null,ra=0,wu=null;for(var p=0;p<m.length;p++)(0,m[p])()}}function ot(m,p){var M=[],D={status:"pending",value:null,reason:null,then:function(H){M.push(H)}};return m.then(function(){D.status="fulfilled",D.value=p;for(var H=0;H<M.length;H++)(0,M[H])(p)},function(H){for(D.status="rejected",D.reason=H,H=0;H<M.length;H++)(0,M[H])(void 0)}),D}function wt(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dt(m,p){m=m.updateQueue,p.updateQueue===m&&(p.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,callbacks:null})}function ut(m){return{lane:m,tag:0,payload:null,callback:null,next:null}}function vt(m,p,M){var D=m.updateQueue;if(D===null)return null;if(D=D.shared,(Jn&2)!==0){var H=D.pending;return H===null?p.next=p:(p.next=H.next,H.next=p),D.pending=p,p=de(m),je(m,null,M),p}return Ve(m,D,p,M),de(m)}function It(m,p,M){if(p=p.updateQueue,p!==null&&(p=p.shared,(M&4194176)!==0)){var D=p.lanes;D&=m.pendingLanes,M|=D,p.lanes=M,ee(m,M)}}function Pt(m,p){var M=m.updateQueue,D=m.alternate;if(D!==null&&(D=D.updateQueue,M===D)){var H=null,Z=null;if(M=M.firstBaseUpdate,M!==null){do{var pe={lane:M.lane,tag:M.tag,payload:M.payload,callback:null,next:null};Z===null?H=Z=pe:Z=Z.next=pe,M=M.next}while(M!==null);Z===null?H=Z=p:Z=Z.next=p}else H=Z=p;M={baseState:D.baseState,firstBaseUpdate:H,lastBaseUpdate:Z,shared:D.shared,callbacks:D.callbacks},m.updateQueue=M;return}m=M.lastBaseUpdate,m===null?M.firstBaseUpdate=p:m.next=p,M.lastBaseUpdate=p}function gt(){if(Eu){var m=wu;if(m!==null)throw m}}function an(m,p,M,D){Eu=!1;var H=m.updateQueue;Rl=!1;var Z=H.firstBaseUpdate,pe=H.lastBaseUpdate,Ne=H.shared.pending;if(Ne!==null){H.shared.pending=null;var Ie=Ne,rt=Ie.next;Ie.next=null,pe===null?Z=rt:pe.next=rt,pe=Ie;var xt=m.alternate;xt!==null&&(xt=xt.updateQueue,Ne=xt.lastBaseUpdate,Ne!==pe&&(Ne===null?xt.firstBaseUpdate=rt:Ne.next=rt,xt.lastBaseUpdate=Ie))}if(Z!==null){var Tt=H.baseState;pe=0,xt=rt=Ie=null,Ne=Z;do{var Rt=Ne.lane&-536870913,_n=Rt!==Ne.lane;if(_n?(Vn&Rt)===Rt:(D&Rt)===Rt){Rt!==0&&Rt===ra&&(Eu=!0),xt!==null&&(xt=xt.next={lane:0,tag:Ne.tag,payload:Ne.payload,callback:null,next:null});e:{var da=m,Dc=Ne;Rt=p;var Pc=M;switch(Dc.tag){case 1:if(da=Dc.payload,typeof da=="function"){Tt=da.call(Pc,Tt,Rt);break e}Tt=da;break e;case 3:da.flags=da.flags&-65537|128;case 0:if(da=Dc.payload,Rt=typeof da=="function"?da.call(Pc,Tt,Rt):da,Rt==null)break e;Tt=lm({},Tt,Rt);break e;case 2:Rl=!0}}Rt=Ne.callback,Rt!==null&&(m.flags|=64,_n&&(m.flags|=8192),_n=H.callbacks,_n===null?H.callbacks=[Rt]:_n.push(Rt))}else _n={lane:Rt,tag:Ne.tag,payload:Ne.payload,callback:Ne.callback,next:null},xt===null?(rt=xt=_n,Ie=Tt):xt=xt.next=_n,pe|=Rt;if(Ne=Ne.next,Ne===null){if(Ne=H.shared.pending,Ne===null)break;_n=Ne,Ne=_n.next,_n.next=null,H.lastBaseUpdate=_n,H.shared.pending=null}}while(!0);xt===null&&(Ie=Tt),H.baseState=Ie,H.firstBaseUpdate=rt,H.lastBaseUpdate=xt,Z===null&&(H.shared.lanes=0),ca|=pe,m.lanes=pe,m.memoizedState=Tt}}function De(m,p){if(typeof m!="function")throw Error(i(191,m));m.call(p)}function mt(m,p){var M=m.callbacks;if(M!==null)for(m.callbacks=null,m=0;m<M.length;m++)De(M[m],p)}function bt(m,p){if(Is(m,p))return!0;if(typeof m!="object"||m===null||typeof p!="object"||p===null)return!1;var M=Object.keys(m),D=Object.keys(p);if(M.length!==D.length)return!1;for(D=0;D<M.length;D++){var H=M[D];if(!ko.call(p,H)||!Is(m[H],p[H]))return!1}return!0}function jt(m){return m=m.status,m==="fulfilled"||m==="rejected"}function ht(){}function at(m,p,M){switch(M=m[M],M===void 0?m.push(p):M!==p&&(p.then(ht,ht),p=M),p.status){case"fulfilled":return p.value;case"rejected":throw m=p.reason,m===Ad?Error(i(483)):m;default:if(typeof p.status=="string")p.then(ht,ht);else{if(m=lr,m!==null&&100<m.shellSuspendCounter)throw Error(i(482));m=p,m.status="pending",m.then(function(D){if(p.status==="pending"){var H=p;H.status="fulfilled",H.value=D}},function(D){if(p.status==="pending"){var H=p;H.status="rejected",H.reason=D}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw m=p.reason,m===Ad?Error(i(483)):m}throw Nc=p,Ad}}function Lt(){if(Nc===null)throw Error(i(459));var m=Nc;return Nc=null,m}function tn(m){var p=Mc;return Mc+=1,Tc===null&&(Tc=[]),at(Tc,m,p)}function Hn(m,p){p=p.props.ref,m.ref=p!==void 0?p:null}function Un(m,p){throw p.$$typeof===p_?Error(i(525)):(m=Object.prototype.toString.call(p),Error(i(31,m==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":m)))}function Wi(m){var p=m._init;return p(m._payload)}function Br(m){function p(Ye,Ae){if(m){var et=Ye.deletions;et===null?(Ye.deletions=[Ae],Ye.flags|=16):et.push(Ae)}}function M(Ye,Ae){if(!m)return null;for(;Ae!==null;)p(Ye,Ae),Ae=Ae.sibling;return null}function D(Ye){for(var Ae=new Map;Ye!==null;)Ye.key!==null?Ae.set(Ye.key,Ye):Ae.set(Ye.index,Ye),Ye=Ye.sibling;return Ae}function H(Ye,Ae){return Ye=zs(Ye,Ae),Ye.index=0,Ye.sibling=null,Ye}function Z(Ye,Ae,et){return Ye.index=et,m?(et=Ye.alternate,et!==null?(et=et.index,et<Ae?(Ye.flags|=33554434,Ae):et):(Ye.flags|=33554434,Ae)):(Ye.flags|=1048576,Ae)}function pe(Ye){return m&&Ye.alternate===null&&(Ye.flags|=33554434),Ye}function Ne(Ye,Ae,et,pt){return Ae===null||Ae.tag!==6?(Ae=am(et,Ye.mode,pt),Ae.return=Ye,Ae):(Ae=H(Ae,et),Ae.return=Ye,Ae)}function Ie(Ye,Ae,et,pt){var Yt=et.type;return Yt===bc?xt(Ye,Ae,et.props.children,pt,et.key):Ae!==null&&(Ae.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===Ma&&Wi(Yt)===Ae.type)?(Ae=H(Ae,et.props),Hn(Ae,et),Ae.return=Ye,Ae):(Ae=Lo(et.type,et.key,et.props,null,Ye.mode,pt),Hn(Ae,et),Ae.return=Ye,Ae)}function rt(Ye,Ae,et,pt){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==et.containerInfo||Ae.stateNode.implementation!==et.implementation?(Ae=v0(et,Ye.mode,pt),Ae.return=Ye,Ae):(Ae=H(Ae,et.children||[]),Ae.return=Ye,Ae)}function xt(Ye,Ae,et,pt,Yt){return Ae===null||Ae.tag!==7?(Ae=qr(et,Ye.mode,pt,Yt),Ae.return=Ye,Ae):(Ae=H(Ae,et),Ae.return=Ye,Ae)}function Tt(Ye,Ae,et){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Ae=am(""+Ae,Ye.mode,et),Ae.return=Ye,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case Uh:return et=Lo(Ae.type,Ae.key,Ae.props,null,Ye.mode,et),Hn(et,Ae),et.return=Ye,et;case Ta:return Ae=v0(Ae,Ye.mode,et),Ae.return=Ye,Ae;case Ma:var pt=Ae._init;return Ae=pt(Ae._payload),Tt(Ye,Ae,et)}if(bd(Ae)||a(Ae))return Ae=qr(Ae,Ye.mode,et,null),Ae.return=Ye,Ae;if(typeof Ae.then=="function")return Tt(Ye,tn(Ae),et);if(Ae.$$typeof===so)return Tt(Ye,ml(Ye,Ae),et);Un(Ye,Ae)}return null}function Rt(Ye,Ae,et,pt){var Yt=Ae!==null?Ae.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Yt!==null?null:Ne(Ye,Ae,""+et,pt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case Uh:return et.key===Yt?Ie(Ye,Ae,et,pt):null;case Ta:return et.key===Yt?rt(Ye,Ae,et,pt):null;case Ma:return Yt=et._init,et=Yt(et._payload),Rt(Ye,Ae,et,pt)}if(bd(et)||a(et))return Yt!==null?null:xt(Ye,Ae,et,pt,null);if(typeof et.then=="function")return Rt(Ye,Ae,tn(et),pt);if(et.$$typeof===so)return Rt(Ye,Ae,ml(Ye,et),pt);Un(Ye,et)}return null}function _n(Ye,Ae,et,pt,Yt){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return Ye=Ye.get(et)||null,Ne(Ae,Ye,""+pt,Yt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case Uh:return Ye=Ye.get(pt.key===null?et:pt.key)||null,Ie(Ae,Ye,pt,Yt);case Ta:return Ye=Ye.get(pt.key===null?et:pt.key)||null,rt(Ae,Ye,pt,Yt);case Ma:var Rr=pt._init;return pt=Rr(pt._payload),_n(Ye,Ae,et,pt,Yt)}if(bd(pt)||a(pt))return Ye=Ye.get(et)||null,xt(Ae,Ye,pt,Yt,null);if(typeof pt.then=="function")return _n(Ye,Ae,et,tn(pt),Yt);if(pt.$$typeof===so)return _n(Ye,Ae,et,ml(Ae,pt),Yt);Un(Ae,pt)}return null}function da(Ye,Ae,et,pt){for(var Yt=null,Rr=null,mn=Ae,tr=Ae=0,ii=null;mn!==null&&tr<et.length;tr++){mn.index>tr?(ii=mn,mn=null):ii=mn.sibling;var kn=Rt(Ye,mn,et[tr],pt);if(kn===null){mn===null&&(mn=ii);break}m&&mn&&kn.alternate===null&&p(Ye,mn),Ae=Z(kn,Ae,tr),Rr===null?Yt=kn:Rr.sibling=kn,Rr=kn,mn=ii}if(tr===et.length)return M(Ye,mn),Yn&&G(Ye,tr),Yt;if(mn===null){for(;tr<et.length;tr++)mn=Tt(Ye,et[tr],pt),mn!==null&&(Ae=Z(mn,Ae,tr),Rr===null?Yt=mn:Rr.sibling=mn,Rr=mn);return Yn&&G(Ye,tr),Yt}for(mn=D(mn);tr<et.length;tr++)ii=_n(mn,Ye,tr,et[tr],pt),ii!==null&&(m&&ii.alternate!==null&&mn.delete(ii.key===null?tr:ii.key),Ae=Z(ii,Ae,tr),Rr===null?Yt=ii:Rr.sibling=ii,Rr=ii);return m&&mn.forEach(function(Yo){return p(Ye,Yo)}),Yn&&G(Ye,tr),Yt}function Dc(Ye,Ae,et,pt){if(et==null)throw Error(i(151));for(var Yt=null,Rr=null,mn=Ae,tr=Ae=0,ii=null,kn=et.next();mn!==null&&!kn.done;tr++,kn=et.next()){mn.index>tr?(ii=mn,mn=null):ii=mn.sibling;var Yo=Rt(Ye,mn,kn.value,pt);if(Yo===null){mn===null&&(mn=ii);break}m&&mn&&Yo.alternate===null&&p(Ye,mn),Ae=Z(Yo,Ae,tr),Rr===null?Yt=Yo:Rr.sibling=Yo,Rr=Yo,mn=ii}if(kn.done)return M(Ye,mn),Yn&&G(Ye,tr),Yt;if(mn===null){for(;!kn.done;tr++,kn=et.next())kn=Tt(Ye,kn.value,pt),kn!==null&&(Ae=Z(kn,Ae,tr),Rr===null?Yt=kn:Rr.sibling=kn,Rr=kn);return Yn&&G(Ye,tr),Yt}for(mn=D(mn);!kn.done;tr++,kn=et.next())kn=_n(mn,Ye,tr,kn.value,pt),kn!==null&&(m&&kn.alternate!==null&&mn.delete(kn.key===null?tr:kn.key),Ae=Z(kn,Ae,tr),Rr===null?Yt=kn:Rr.sibling=kn,Rr=kn);return m&&mn.forEach(function(zm){return p(Ye,zm)}),Yn&&G(Ye,tr),Yt}function Pc(Ye,Ae,et,pt){if(typeof et=="object"&&et!==null&&et.type===bc&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case Uh:e:{for(var Yt=et.key;Ae!==null;){if(Ae.key===Yt){if(Yt=et.type,Yt===bc){if(Ae.tag===7){M(Ye,Ae.sibling),pt=H(Ae,et.props.children),pt.return=Ye,Ye=pt;break e}}else if(Ae.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===Ma&&Wi(Yt)===Ae.type){M(Ye,Ae.sibling),pt=H(Ae,et.props),Hn(pt,et),pt.return=Ye,Ye=pt;break e}M(Ye,Ae);break}else p(Ye,Ae);Ae=Ae.sibling}et.type===bc?(pt=qr(et.props.children,Ye.mode,pt,et.key),pt.return=Ye,Ye=pt):(pt=Lo(et.type,et.key,et.props,null,Ye.mode,pt),Hn(pt,et),pt.return=Ye,Ye=pt)}return pe(Ye);case Ta:e:{for(Yt=et.key;Ae!==null;){if(Ae.key===Yt)if(Ae.tag===4&&Ae.stateNode.containerInfo===et.containerInfo&&Ae.stateNode.implementation===et.implementation){M(Ye,Ae.sibling),pt=H(Ae,et.children||[]),pt.return=Ye,Ye=pt;break e}else{M(Ye,Ae);break}else p(Ye,Ae);Ae=Ae.sibling}pt=v0(et,Ye.mode,pt),pt.return=Ye,Ye=pt}return pe(Ye);case Ma:return Yt=et._init,et=Yt(et._payload),Pc(Ye,Ae,et,pt)}if(bd(et))return da(Ye,Ae,et,pt);if(a(et)){if(Yt=a(et),typeof Yt!="function")throw Error(i(150));return et=Yt.call(et),Dc(Ye,Ae,et,pt)}if(typeof et.then=="function")return Pc(Ye,Ae,tn(et),pt);if(et.$$typeof===so)return Pc(Ye,Ae,ml(Ye,et),pt);Un(Ye,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,Ae!==null&&Ae.tag===6?(M(Ye,Ae.sibling),pt=H(Ae,et),pt.return=Ye,Ye=pt):(M(Ye,Ae),pt=am(et,Ye.mode,pt),pt.return=Ye,Ye=pt),pe(Ye)):M(Ye,Ae)}return function(Ye,Ae,et,pt){try{Mc=0;var Yt=Pc(Ye,Ae,et,pt);return Tc=null,Yt}catch(mn){if(mn===Ad)throw mn;var Rr=t(29,mn,null,Ye.mode);return Rr.lanes=pt,Rr.return=Ye,Rr}finally{}}}function kr(m,p){m=as,j(Cd,m),j(Er,p),as=m|p.baseLanes}function yr(){j(Cd,as),j(Er,Er.current)}function As(){as=Cd.current,_(Er),_(Cd)}function Dr(m){var p=m.alternate;j(wi,wi.current&1),j(ia,m),pr===null&&(p===null||Er.current!==null||p.memoizedState!==null)&&(pr=m)}function Bt(m){if(m.tag===22){if(j(wi,wi.current),j(ia,m),pr===null){var p=m.alternate;p!==null&&p.memoizedState!==null&&(pr=m)}}else Xi()}function Xi(){j(wi,wi.current),j(ia,ia.current)}function Yi(m){_(ia),pr===m&&(pr=null),_(wi)}function Zi(m){for(var p=m;p!==null;){if(p.tag===13){var M=p.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||bm(M)||xm(M)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break;for(;p.sibling===null;){if(p.return===null||p.return===m)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function ur(){throw Error(i(321))}function ds(m,p){if(p===null)return!1;for(var M=0;M<p.length&&M<m.length;M++)if(!Is(m[M],p[M]))return!1;return!0}function Ys(m,p,M,D,H,Z){return Ol=Z,An=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,fn.H=m===null||m.memoizedState===null?Cc:_s,Ac=!1,Z=M(D,H),Ac=!1,Nu&&(Z=_a(p,M,D,H)),hs(m),Z}function hs(m){fn.H=Gr;var p=nn!==null&&nn.next!==null;if(Ol=0,Kn=nn=An=null,Oa=!1,Tu=0,Oi=null,p)throw Error(i(300));m===null||gr||(m=m.dependencies,m!==null&&oc(m)&&(gr=!0))}function _a(m,p,M,D){An=m;var H=0;do{if(Nu&&(Oi=null),Tu=0,Nu=!1,25<=H)throw Error(i(301));if(H+=1,Kn=nn=null,m.updateQueue!=null){var Z=m.updateQueue;Z.lastEffect=null,Z.events=null,Z.stores=null,Z.memoCache!=null&&(Z.memoCache.index=0)}fn.H=sa,Z=p(M,D)}while(Nu);return Z}function Hr(){var m=fn.H,p=m.useState()[0];return p=typeof p.then=="function"?Ze(p):p,m=m.useState()[0],(nn!==null?nn.memoizedState:null)!==m&&(An.flags|=1024),p}function Jl(){var m=jm!==0;return jm=0,m}function Ql(m,p,M){p.updateQueue=m.updateQueue,p.flags&=-2053,m.lanes&=~M}function me(m){if(Oa){for(m=m.memoizedState;m!==null;){var p=m.queue;p!==null&&(p.pending=null),m=m.next}Oa=!1}Ol=0,Kn=nn=An=null,Nu=!1,Tu=jm=0,Oi=null}function Ce(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?An.memoizedState=Kn=m:Kn=Kn.next=m,Kn}function He(){if(nn===null){var m=An.alternate;m=m!==null?m.memoizedState:null}else m=nn.next;var p=Kn===null?An.memoizedState:Kn.next;if(p!==null)Kn=p,nn=m;else{if(m===null)throw An.alternate===null?Error(i(467)):Error(i(310));nn=m,m={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},Kn===null?An.memoizedState=Kn=m:Kn=Kn.next=m}return Kn}function Ze(m){var p=Tu;return Tu+=1,Oi===null&&(Oi=[]),m=at(Oi,m,p),p=An,(Kn===null?p.memoizedState:Kn.next)===null&&(p=p.alternate,fn.H=p===null||p.memoizedState===null?Cc:_s),m}function Pe(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return Ze(m);if(m.$$typeof===so)return Qr(m)}throw Error(i(438,String(m)))}function ft(m){var p=null,M=An.updateQueue;if(M!==null&&(p=M.memoCache),p==null){var D=An.alternate;D!==null&&(D=D.updateQueue,D!==null&&(D=D.memoCache,D!=null&&(p={data:D.data.map(function(H){return H.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),M===null&&(M=Am(),An.updateQueue=M),M.memoCache=p,M=p.data[p.index],M===void 0)for(M=p.data[p.index]=Array(m),D=0;D<m;D++)M[D]=Fb;return p.index++,M}function yt(m,p){return typeof p=="function"?p(m):p}function Ct(m){var p=He();return _t(p,nn,m)}function _t(m,p,M){var D=m.queue;if(D===null)throw Error(i(311));D.lastRenderedReducer=M;var H=m.baseQueue,Z=D.pending;if(Z!==null){if(H!==null){var pe=H.next;H.next=Z.next,Z.next=pe}p.baseQueue=H=Z,D.pending=null}if(Z=m.baseState,H===null)m.memoizedState=Z;else{p=H.next;var Ne=pe=null,Ie=null,rt=p,xt=!1;do{var Tt=rt.lane&-536870913;if(Tt!==rt.lane?(Vn&Tt)===Tt:(Ol&Tt)===Tt){var Rt=rt.revertLane;if(Rt===0)Ie!==null&&(Ie=Ie.next={lane:0,revertLane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),Tt===ra&&(xt=!0);else if((Ol&Rt)===Rt){rt=rt.next,Rt===ra&&(xt=!0);continue}else Tt={lane:0,revertLane:rt.revertLane,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},Ie===null?(Ne=Ie=Tt,pe=Z):Ie=Ie.next=Tt,An.lanes|=Rt,ca|=Rt;Tt=rt.action,Ac&&M(Z,Tt),Z=rt.hasEagerState?rt.eagerState:M(Z,Tt)}else Rt={lane:Tt,revertLane:rt.revertLane,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},Ie===null?(Ne=Ie=Rt,pe=Z):Ie=Ie.next=Rt,An.lanes|=Tt,ca|=Tt;rt=rt.next}while(rt!==null&&rt!==p);if(Ie===null?pe=Z:Ie.next=Ne,!Is(Z,m.memoizedState)&&(gr=!0,xt&&(M=wu,M!==null)))throw M;m.memoizedState=Z,m.baseState=pe,m.baseQueue=Ie,D.lastRenderedState=Z}return H===null&&(D.lanes=0),[m.memoizedState,D.dispatch]}function qt(m){var p=He(),M=p.queue;if(M===null)throw Error(i(311));M.lastRenderedReducer=m;var D=M.dispatch,H=M.pending,Z=p.memoizedState;if(H!==null){M.pending=null;var pe=H=H.next;do Z=m(Z,pe.action),pe=pe.next;while(pe!==H);Is(Z,p.memoizedState)||(gr=!0),p.memoizedState=Z,p.baseQueue===null&&(p.baseState=Z),M.lastRenderedState=Z}return[Z,D]}function Xt(m,p,M){var D=An,H=He(),Z=Yn;if(Z){if(M===void 0)throw Error(i(407));M=M()}else M=p();var pe=!Is((nn||H).memoizedState,M);if(pe&&(H.memoizedState=M,gr=!0),H=H.queue,$c(Pn.bind(null,D,H,m),[m]),H.getSnapshot!==p||pe||Kn!==null&&Kn.memoizedState.tag&1){if(D.flags|=2048,Ar(9,vn.bind(null,D,H,M,p),{destroy:void 0},null),lr===null)throw Error(i(349));Z||(Ol&60)!==0||Ut(D,p,M)}return M}function Ut(m,p,M){m.flags|=16384,m={getSnapshot:p,value:M},p=An.updateQueue,p===null?(p=Am(),An.updateQueue=p,p.stores=[m]):(M=p.stores,M===null?p.stores=[m]:M.push(m))}function vn(m,p,M,D){p.value=M,p.getSnapshot=D,Gt(p)&&Qt(m)}function Pn(m,p,M){return M(function(){Gt(p)&&Qt(m)})}function Gt(m){var p=m.getSnapshot;m=m.value;try{var M=p();return!Is(m,M)}catch{return!0}}function Qt(m){var p=Xe(m,2);p!==null&&ei(p,m,2)}function hn(m){var p=Ce();if(typeof m=="function"){var M=m;if(m=M(),Ac){K(!0);try{M()}finally{K(!1)}}}return p.memoizedState=p.baseState=m,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yt,lastRenderedState:m},p}function kt(m,p,M,D){return m.baseState=M,_t(m,nn,typeof D=="function"?D:yt)}function $n(m,p,M,D,H){if(rc(m))throw Error(i(485));if(m=p.action,m!==null){var Z={payload:H,action:m,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(pe){Z.listeners.push(pe)}};fn.T!==null?M(!0):Z.isTransition=!1,D(Z),M=p.pending,M===null?(Z.next=p.pending=Z,Sn(p,Z)):(Z.next=M.next,p.pending=M.next=Z)}}function Sn(m,p){var M=p.action,D=p.payload,H=m.state;if(p.isTransition){var Z=fn.T,pe={};fn.T=pe;try{var Ne=M(H,D),Ie=fn.S;Ie!==null&&Ie(pe,Ne),Wt(m,p,Ne)}catch(rt){Kr(m,p,rt)}finally{fn.T=Z}}else try{Z=M(H,D),Wt(m,p,Z)}catch(rt){Kr(m,p,rt)}}function Wt(m,p,M){M!==null&&typeof M=="object"&&typeof M.then=="function"?M.then(function(D){Xn(m,p,D)},function(D){return Kr(m,p,D)}):Xn(m,p,M)}function Xn(m,p,M){p.status="fulfilled",p.value=M,Pr(p),m.state=M,p=m.pending,p!==null&&(M=p.next,M===p?m.pending=null:(M=M.next,p.next=M,Sn(m,M)))}function Kr(m,p,M){var D=m.pending;if(m.pending=null,D!==null){D=D.next;do p.status="rejected",p.reason=M,Pr(p),p=p.next;while(p!==D)}m.action=null}function Pr(m){m=m.listeners;for(var p=0;p<m.length;p++)(0,m[p])()}function Nn(m,p){return p}function Mi(m,p){if(Yn){var M=lr.formState;if(M!==null){e:{var D=An;if(Yn){if(Bi){var H=z0(Bi,Ri);if(H){Bi=U0(H),D=dx(H);break e}}_e(D)}D=!1}D&&(p=M[0])}}M=Ce(),M.memoizedState=M.baseState=p,D={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:p},M.queue=D,M=dl.bind(null,An,D),D.dispatch=M,D=hn(!1);var Z=Rs.bind(null,An,!1,D.queue);return D=Ce(),H={state:p,dispatch:null,action:m,pending:null},D.queue=H,M=$n.bind(null,An,H,Z,M),H.dispatch=M,D.memoizedState=m,[p,M,!1]}function Vr(m){var p=He();return rr(p,nn,m)}function rr(m,p,M){p=_t(m,p,Nn)[0],m=Ct(yt)[0],p=typeof p=="object"&&p!==null&&typeof p.then=="function"?Ze(p):p;var D=He(),H=D.queue,Z=H.dispatch;return M!==D.memoizedState&&(An.flags|=2048,Ar(9,In.bind(null,H,M),{destroy:void 0},null)),[p,Z,m]}function In(m,p){m.action=p}function fs(m){var p=He(),M=nn;if(M!==null)return rr(p,M,m);He(),p=p.memoizedState,M=He();var D=M.queue.dispatch;return M.memoizedState=m,[p,D,!1]}function Ar(m,p,M,D){return m={tag:m,create:p,inst:M,deps:D,next:null},p=An.updateQueue,p===null&&(p=Am(),An.updateQueue=p),M=p.lastEffect,M===null?p.lastEffect=m.next=m:(D=M.next,M.next=m,m.next=D,p.lastEffect=m),m}function $l(){return He().memoizedState}function ol(m,p,M,D){var H=Ce();An.flags|=m,H.memoizedState=Ar(1|p,M,{destroy:void 0},D===void 0?null:D)}function qa(m,p,M,D){var H=He();D=D===void 0?null:D;var Z=H.memoizedState.inst;nn!==null&&D!==null&&ds(D,nn.memoizedState.deps)?H.memoizedState=Ar(p,M,Z,D):(An.flags|=m,H.memoizedState=Ar(1|p,M,Z,D))}function ec(m,p){ol(8390656,8,m,p)}function $c(m,p){qa(2048,8,m,p)}function eu(m,p){return qa(4,2,m,p)}function ll(m,p){return qa(4,4,m,p)}function tc(m,p){if(typeof p=="function"){m=m();var M=p(m);return function(){typeof M=="function"?M():p(null)}}if(p!=null)return m=m(),p.current=m,function(){p.current=null}}function cl(m,p,M){M=M!=null?M.concat([m]):null,qa(4,4,tc.bind(null,p,m),M)}function Ga(){}function Wa(m,p){var M=He();p=p===void 0?null:p;var D=M.memoizedState;return p!==null&&ds(p,D[1])?D[0]:(M.memoizedState=[m,p],m)}function wh(m,p){var M=He();p=p===void 0?null:p;var D=M.memoizedState;if(p!==null&&ds(p,D[1]))return D[0];if(D=m(),Ac){K(!0);try{m()}finally{K(!1)}}return M.memoizedState=[D,p],D}function ln(m,p,M){return M===void 0||(Ol&1073741824)!==0?m.memoizedState=p:(m.memoizedState=M,m=hd(),An.lanes|=m,ca|=m,M)}function Cs(m,p,M,D){return Is(M,p)?M:Er.current!==null?(m=ln(m,M,D),Is(m,p)||(gr=!0),m):(Ol&42)===0?(gr=!0,m.memoizedState=M):(m=hd(),An.lanes|=m,ca|=m,p)}function Zn(m,p,M,D,H){var Z=Ml();is(Z!==0&&8>Z?Z:8);var pe=fn.T,Ne={};fn.T=Ne,Rs(m,!1,p,M);try{var Ie=H(),rt=fn.S;if(rt!==null&&rt(Ne,Ie),Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var xt=ot(Ie,D);_r(m,p,xt,Lr(m))}else _r(m,p,D,Lr(m))}catch(Tt){_r(m,p,{then:function(){},status:"rejected",reason:Tt},Lr())}finally{is(Z),fn.T=pe}}function Zs(m){var p=m.memoizedState;if(p!==null)return p;p={memoizedState:vc,baseState:vc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yt,lastRenderedState:vc},next:null};var M={};return p.next={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yt,lastRenderedState:M},next:null},m.memoizedState=p,m=m.alternate,m!==null&&(m.memoizedState=p),p}function ul(){return Qr(ao)}function So(){return He().memoizedState}function Ks(){return He().memoizedState}function Xa(m){for(var p=m.return;p!==null;){switch(p.tag){case 24:case 3:var M=Lr();m=ut(M);var D=vt(p,m,M);D!==null&&(ei(D,p,M),It(D,p,M)),p={cache:To()},m.payload=p;return}p=p.return}}function nc(m,p,M){var D=Lr();M={lane:D,revertLane:0,action:M,hasEagerState:!1,eagerState:null,next:null},rc(m)?ji(p,M):(M=nt(m,p,M,D),M!==null&&(ei(M,m,D),wo(M,p,D)))}function dl(m,p,M){var D=Lr();_r(m,p,M,D)}function _r(m,p,M,D){var H={lane:D,revertLane:0,action:M,hasEagerState:!1,eagerState:null,next:null};if(rc(m))ji(p,H);else{var Z=m.alternate;if(m.lanes===0&&(Z===null||Z.lanes===0)&&(Z=p.lastRenderedReducer,Z!==null))try{var pe=p.lastRenderedState,Ne=Z(pe,M);if(H.hasEagerState=!0,H.eagerState=Ne,Is(Ne,pe))return Ve(m,p,H,0),lr===null&&ke(),!1}catch{}finally{}if(M=nt(m,p,H,D),M!==null)return ei(M,m,D),wo(M,p,D),!0}return!1}function Rs(m,p,M,D){if(D={lane:2,revertLane:Ge(),action:D,hasEagerState:!1,eagerState:null,next:null},rc(m)){if(p)throw Error(i(479))}else p=nt(m,M,D,2),p!==null&&ei(p,m,2)}function rc(m){var p=m.alternate;return m===An||p!==null&&p===An}function ji(m,p){Nu=Oa=!0;var M=m.pending;M===null?p.next=p:(p.next=M.next,M.next=p),m.pending=p}function wo(m,p,M){if((M&4194176)!==0){var D=p.lanes;D&=m.pendingLanes,M|=D,p.lanes=M,ee(m,M)}}function hl(m,p,M,D){p=m.memoizedState,M=M(D,p),M=M==null?p:lm({},p,M),m.memoizedState=M,m.lanes===0&&(m.updateQueue.baseState=M)}function Eo(m,p,M,D,H,Z,pe){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(D,Z,pe):p.prototype&&p.prototype.isPureReactComponent?!bt(M,D)||!bt(H,Z):!0}function Zf(m,p,M,D){m=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(M,D),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(M,D),p.state!==m&&Vo.enqueueReplaceState(p,p.state,null)}function Sa(m,p){var M=p;if("ref"in p){M={};for(var D in p)D!=="ref"&&(M[D]=p[D])}if(m=m.defaultProps){M===p&&(M=lm({},M));for(var H in m)M[H]===void 0&&(M[H]=m[H])}return M}function Tn(m,p){try{var M=m.onUncaughtError;M(p.value,{componentStack:p.stack})}catch(D){setTimeout(function(){throw D})}}function ic(m,p,M){try{var D=m.onCaughtError;D(M.value,{componentStack:M.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(H){setTimeout(function(){throw H})}}function Ai(m,p,M){return M=ut(M),M.tag=3,M.payload={element:null},M.callback=function(){Tn(m,p)},M}function fl(m){return m=ut(m),m.tag=3,m}function Eh(m,p,M,D){var H=M.type.getDerivedStateFromError;if(typeof H=="function"){var Z=D.value;m.payload=function(){return H(Z)},m.callback=function(){ic(p,M,D)}}var pe=M.stateNode;pe!==null&&typeof pe.componentDidCatch=="function"&&(m.callback=function(){ic(p,M,D),typeof H!="function"&&(Rc===null?Rc=new Set([this]):Rc.add(this));var Ne=D.stack;this.componentDidCatch(D.value,{componentStack:Ne!==null?Ne:""})})}function x0(m,p,M,D,H){if(M.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){if(p=M.alternate,p!==null&&ac(p,M,H,!0),M=ia.current,M!==null){switch(M.tag){case 13:return pr===null?Ue():M.alternate===null&&br===0&&(br=3),M.flags&=-257,M.flags|=65536,M.lanes=H,D===Qh?M.flags|=16384:(p=M.updateQueue,p===null?M.updateQueue=new Set([D]):p.add(D),Do(m,D,H)),!1;case 22:return M.flags|=65536,D===Qh?M.flags|=16384:(p=M.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([D])},M.updateQueue=p):(M=p.retryQueue,M===null?p.retryQueue=new Set([D]):M.add(D)),Do(m,D,H)),!1}throw Error(i(435,M.tag))}return Do(m,D,H),Ue(),!1}if(Yn)return p=ia.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=H,D!==Zh&&(m=Error(i(422),{cause:D}),xe(oe(m,M)))):(D!==Zh&&(p=Error(i(423),{cause:D}),xe(oe(p,M))),m=m.current.alternate,m.flags|=65536,H&=-H,m.lanes|=H,D=oe(D,M),H=Ai(m.stateNode,D,H),Pt(m,H),br!==4&&(br=2)),!1;var Z=Error(i(520),{cause:D});if(Z=oe(Z,M),ju===null?ju=[Z]:ju.push(Z),br!==4&&(br=2),p===null)return!0;D=oe(D,M),M=p;do{switch(M.tag){case 3:return M.flags|=65536,m=H&-H,M.lanes|=m,m=Ai(M.stateNode,D,m),Pt(M,m),!1;case 1:if(p=M.type,Z=M.stateNode,(M.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Rc===null||!Rc.has(Z))))return M.flags|=65536,H&=-H,M.lanes|=H,H=fl(H),Eh(H,m,M,D),Pt(M,H),!1}M=M.return}while(M!==null);return!1}function Jr(m,p,M,D){p.child=m===null?Ho(p,null,M,D):jc(p,m.child,M,D)}function nd(m,p,M,D,H){M=M.render;var Z=p.ref;if("ref"in D){var pe={};for(var Ne in D)Ne!=="ref"&&(pe[Ne]=D[Ne])}else pe=D;return No(p),D=Ys(m,p,M,pe,Z,H),Ne=Jl(),m!==null&&!gr?(Ql(m,p,H),Za(m,p,H)):(Yn&&Ne&&ne(p),p.flags|=1,Jr(m,p,D,H),p.child)}function Nh(m,p,M,D,H){if(m===null){var Z=M.type;return typeof Z=="function"&&!gc(Z)&&Z.defaultProps===void 0&&M.compare===null?(p.tag=15,p.type=Z,Kf(m,p,Z,D,H)):(m=Lo(M.type,null,D,p,p.mode,H),m.ref=p.ref,m.return=p,p.child=m)}if(Z=m.child,!ld(m,H)){var pe=Z.memoizedProps;if(M=M.compare,M=M!==null?M:bt,M(pe,D)&&m.ref===p.ref)return Za(m,p,H)}return p.flags|=1,m=zs(Z,D),m.ref=p.ref,m.return=p,p.child=m}function Kf(m,p,M,D,H){if(m!==null){var Z=m.memoizedProps;if(bt(Z,D)&&m.ref===p.ref)if(gr=!1,p.pendingProps=D=Z,ld(m,H))(m.flags&131072)!==0&&(gr=!0);else return p.lanes=m.lanes,Za(m,p,H)}return ms(m,p,M,D,H)}function Jf(m,p,M){var D=p.pendingProps,H=D.children,Z=(p.stateNode._pendingVisibility&2)!==0,pe=m!==null?m.memoizedState:null;if(tu(m,p),D.mode==="hidden"||Z){if((p.flags&128)!==0){if(D=pe!==null?pe.baseLanes|M:M,m!==null){for(H=p.child=m.child,Z=0;H!==null;)Z=Z|H.lanes|H.childLanes,H=H.sibling;p.childLanes=Z&~D}else p.childLanes=0,p.child=null;return rd(m,p,D,M)}if((M&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},m!==null&&Ji(p,pe!==null?pe.cachePool:null),pe!==null?kr(p,pe):yr(),Bt(p);else return p.lanes=p.childLanes=536870912,rd(m,p,pe!==null?pe.baseLanes|M:M,M)}else pe!==null?(Ji(p,pe.cachePool),kr(p,pe),Xi(),p.memoizedState=null):(m!==null&&Ji(p,null),yr(),Xi());return Jr(m,p,H,M),p.child}function rd(m,p,M,D){var H=Ch();return H=H===null?null:{parent:xs?Nr._currentValue:Nr._currentValue2,pool:H},p.memoizedState={baseLanes:M,cachePool:H},m!==null&&Ji(p,null),yr(),Bt(p),m!==null&&ac(m,p,D,!0),null}function tu(m,p){var M=p.ref;if(M===null)m!==null&&m.ref!==null&&(p.flags|=2097664);else{if(typeof M!="function"&&typeof M!="object")throw Error(i(284));(m===null||m.ref!==M)&&(p.flags|=2097664)}}function ms(m,p,M,D,H){return No(p),M=Ys(m,p,M,D,void 0,H),D=Jl(),m!==null&&!gr?(Ql(m,p,H),Za(m,p,H)):(Yn&&D&&ne(p),p.flags|=1,Jr(m,p,M,H),p.child)}function Qf(m,p,M,D,H,Z){return No(p),p.updateQueue=null,M=_a(p,D,M,H),hs(m),D=Jl(),m!==null&&!gr?(Ql(m,p,Z),Za(m,p,Z)):(Yn&&D&&ne(p),p.flags|=1,Jr(m,p,M,Z),p.child)}function Th(m,p,M,D,H){if(No(p),p.stateNode===null){var Z=wc,pe=M.contextType;typeof pe=="object"&&pe!==null&&(Z=Qr(pe)),Z=new M(D,Z),p.memoizedState=Z.state!==null&&Z.state!==void 0?Z.state:null,Z.updater=Vo,p.stateNode=Z,Z._reactInternals=p,Z=p.stateNode,Z.props=D,Z.state=p.memoizedState,Z.refs={},wt(p),pe=M.contextType,Z.context=typeof pe=="object"&&pe!==null?Qr(pe):wc,Z.state=p.memoizedState,pe=M.getDerivedStateFromProps,typeof pe=="function"&&(hl(p,M,pe,D),Z.state=p.memoizedState),typeof M.getDerivedStateFromProps=="function"||typeof Z.getSnapshotBeforeUpdate=="function"||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(pe=Z.state,typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount(),pe!==Z.state&&Vo.enqueueReplaceState(Z,Z.state,null),an(p,D,Z,H),gt(),Z.state=p.memoizedState),typeof Z.componentDidMount=="function"&&(p.flags|=4194308),D=!0}else if(m===null){Z=p.stateNode;var Ne=p.memoizedProps,Ie=Sa(M,Ne);Z.props=Ie;var rt=Z.context,xt=M.contextType;pe=wc,typeof xt=="object"&&xt!==null&&(pe=Qr(xt));var Tt=M.getDerivedStateFromProps;xt=typeof Tt=="function"||typeof Z.getSnapshotBeforeUpdate=="function",Ne=p.pendingProps!==Ne,xt||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(Ne||rt!==pe)&&Zf(p,Z,D,pe),Rl=!1;var Rt=p.memoizedState;Z.state=Rt,an(p,D,Z,H),gt(),rt=p.memoizedState,Ne||Rt!==rt||Rl?(typeof Tt=="function"&&(hl(p,M,Tt,D),rt=p.memoizedState),(Ie=Rl||Eo(p,M,Ie,D,Rt,rt,pe))?(xt||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(p.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=D,p.memoizedState=rt),Z.props=D,Z.state=rt,Z.context=pe,D=Ie):(typeof Z.componentDidMount=="function"&&(p.flags|=4194308),D=!1)}else{Z=p.stateNode,Dt(m,p),pe=p.memoizedProps,xt=Sa(M,pe),Z.props=xt,Tt=p.pendingProps,Rt=Z.context,rt=M.contextType,Ie=wc,typeof rt=="object"&&rt!==null&&(Ie=Qr(rt)),Ne=M.getDerivedStateFromProps,(rt=typeof Ne=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(pe!==Tt||Rt!==Ie)&&Zf(p,Z,D,Ie),Rl=!1,Rt=p.memoizedState,Z.state=Rt,an(p,D,Z,H),gt();var _n=p.memoizedState;pe!==Tt||Rt!==_n||Rl||m!==null&&m.dependencies!==null&&oc(m.dependencies)?(typeof Ne=="function"&&(hl(p,M,Ne,D),_n=p.memoizedState),(xt=Rl||Eo(p,M,xt,D,Rt,_n,Ie)||m!==null&&m.dependencies!==null&&oc(m.dependencies))?(rt||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(D,_n,Ie),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(D,_n,Ie)),typeof Z.componentDidUpdate=="function"&&(p.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof Z.componentDidUpdate!="function"||pe===m.memoizedProps&&Rt===m.memoizedState||(p.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||pe===m.memoizedProps&&Rt===m.memoizedState||(p.flags|=1024),p.memoizedProps=D,p.memoizedState=_n),Z.props=D,Z.state=_n,Z.context=Ie,D=xt):(typeof Z.componentDidUpdate!="function"||pe===m.memoizedProps&&Rt===m.memoizedState||(p.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||pe===m.memoizedProps&&Rt===m.memoizedState||(p.flags|=1024),D=!1)}return Z=D,tu(m,p),D=(p.flags&128)!==0,Z||D?(Z=p.stateNode,M=D&&typeof M.getDerivedStateFromError!="function"?null:Z.render(),p.flags|=1,m!==null&&D?(p.child=jc(p,m.child,null,H),p.child=jc(p,null,M,H)):Jr(m,p,M,H),p.memoizedState=Z.state,m=p.child):m=Za(m,p,H),m}function Ya(m,p,M,D){return tt(),p.flags|=256,Jr(m,p,M,D),p.child}function id(m){return{baseLanes:m,cachePool:Mo()}}function sc(m,p,M){return m=m!==null?m.childLanes&~M:0,p&&(m|=ua),m}function sd(m,p,M){var D=p.pendingProps,H=!1,Z=(p.flags&128)!==0,pe;if((pe=Z)||(pe=m!==null&&m.memoizedState===null?!1:(wi.current&2)!==0),pe&&(H=!0,p.flags&=-129),pe=(p.flags&32)!==0,p.flags&=-33,m===null){if(Yn){if(H?Dr(p):Xi(),Yn){var Ne=Bi,Ie;(Ie=Ne)&&(Ne=mx(Ne,Ri),Ne!==null?(p.memoizedState={dehydrated:Ne,treeContext:Ec!==null?{id:lo,overflow:co}:null,retryLane:536870912},Ie=t(18,null,null,0),Ie.stateNode=Ne,Ie.return=p,p.child=Ie,Ii=p,Bi=null,Ie=!0):Ie=!1),Ie||_e(p)}if(Ne=p.memoizedState,Ne!==null&&(Ne=Ne.dehydrated,Ne!==null))return xm(Ne)?p.lanes=16:p.lanes=536870912,null;Yi(p)}return Ne=D.children,D=D.fallback,H?(Xi(),H=p.mode,Ne=ad({mode:"hidden",children:Ne},H),D=qr(D,H,M,null),Ne.return=p,D.return=p,Ne.sibling=D,p.child=Ne,H=p.child,H.memoizedState=id(M),H.childLanes=sc(m,pe,M),p.memoizedState=Om,D):(Dr(p),Mh(p,Ne))}if(Ie=m.memoizedState,Ie!==null&&(Ne=Ie.dehydrated,Ne!==null)){if(Z)p.flags&256?(Dr(p),p.flags&=-257,p=nu(m,p,M)):p.memoizedState!==null?(Xi(),p.child=m.child,p.flags|=128,p=null):(Xi(),H=D.fallback,Ne=p.mode,D=ad({mode:"visible",children:D.children},Ne),H=qr(H,Ne,M,null),H.flags|=2,D.return=p,H.return=p,D.sibling=H,p.child=D,jc(p,m.child,null,M),D=p.child,D.memoizedState=id(M),D.childLanes=sc(m,pe,M),p.memoizedState=Om,p=H);else if(Dr(p),xm(Ne))pe=cx(Ne).digest,D=Error(i(419)),D.stack="",D.digest=pe,xe({value:D,source:null,stack:null}),p=nu(m,p,M);else if(gr||ac(m,p,M,!1),pe=(M&m.childLanes)!==0,gr||pe){if(pe=lr,pe!==null){if(D=M&-M,(D&42)!==0)D=1;else switch(D){case 2:D=1;break;case 8:D=4;break;case 32:D=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:D=64;break;case 268435456:D=134217728;break;default:D=0}if(D=(D&(pe.suspendedLanes|M))!==0?0:D,D!==0&&D!==Ie.retryLane)throw Ie.retryLane=D,Xe(m,D),ei(pe,m,D),Rm}bm(Ne)||Ue(),p=nu(m,p,M)}else bm(Ne)?(p.flags|=128,p.child=m.child,p=ro.bind(null,m),ux(Ne,p),p=null):(m=Ie.treeContext,Ui&&(Bi=fx(Ne),Ii=p,Yn=!0,Ca=null,Ri=!1,m!==null&&(ta[na++]=lo,ta[na++]=co,ta[na++]=Ec,lo=m.id,co=m.overflow,Ec=p)),p=Mh(p,D.children),p.flags|=4096);return p}return H?(Xi(),H=D.fallback,Ne=p.mode,Ie=m.child,Z=Ie.sibling,D=zs(Ie,{mode:"hidden",children:D.children}),D.subtreeFlags=Ie.subtreeFlags&31457280,Z!==null?H=zs(Z,H):(H=qr(H,Ne,M,null),H.flags|=2),H.return=p,D.return=p,D.sibling=H,p.child=D,D=H,H=p.child,Ne=m.child.memoizedState,Ne===null?Ne=id(M):(Ie=Ne.cachePool,Ie!==null?(Z=xs?Nr._currentValue:Nr._currentValue2,Ie=Ie.parent!==Z?{parent:Z,pool:Z}:Ie):Ie=Mo(),Ne={baseLanes:Ne.baseLanes|M,cachePool:Ie}),H.memoizedState=Ne,H.childLanes=sc(m,pe,M),p.memoizedState=Om,D):(Dr(p),M=m.child,m=M.sibling,M=zs(M,{mode:"visible",children:D.children}),M.return=p,M.sibling=null,m!==null&&(pe=p.deletions,pe===null?(p.deletions=[m],p.flags|=16):pe.push(m)),p.child=M,p.memoizedState=null,M)}function Mh(m,p){return p=ad({mode:"visible",children:p},m.mode),p.return=m,m.child=p}function ad(m,p){return Lh(m,p,0,null)}function nu(m,p,M){return jc(p,m.child,null,M),m=Mh(p,p.pendingProps.children),m.flags|=2,p.memoizedState=null,m}function $f(m,p,M){m.lanes|=p;var D=m.alternate;D!==null&&(D.lanes|=p),Ja(m.return,p,M)}function jh(m,p,M,D,H){var Z=m.memoizedState;Z===null?m.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:D,tail:M,tailMode:H}:(Z.isBackwards=p,Z.rendering=null,Z.renderingStartTime=0,Z.last=D,Z.tail=M,Z.tailMode=H)}function od(m,p,M){var D=p.pendingProps,H=D.revealOrder,Z=D.tail;if(Jr(m,p,D.children,M),D=wi.current,(D&2)!==0)D=D&1|2,p.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=p.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&$f(m,M,p);else if(m.tag===19)$f(m,M,p);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break e;for(;m.sibling===null;){if(m.return===null||m.return===p)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}D&=1}switch(j(wi,D),H){case"forwards":for(M=p.child,H=null;M!==null;)m=M.alternate,m!==null&&Zi(m)===null&&(H=M),M=M.sibling;M=H,M===null?(H=p.child,p.child=null):(H=M.sibling,M.sibling=null),jh(p,!1,H,M,Z);break;case"backwards":for(M=null,H=p.child,p.child=null;H!==null;){if(m=H.alternate,m!==null&&Zi(m)===null){p.child=H;break}m=H.sibling,H.sibling=M,M=H,H=m}jh(p,!0,M,null,Z);break;case"together":jh(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Za(m,p,M){if(m!==null&&(p.dependencies=m.dependencies),ca|=p.lanes,(M&p.childLanes)===0)if(m!==null){if(ac(m,p,M,!1),(M&p.childLanes)===0)return null}else return null;if(m!==null&&p.child!==m.child)throw Error(i(153));if(p.child!==null){for(m=p.child,M=zs(m,m.pendingProps),p.child=M,M.return=p;m.sibling!==null;)m=m.sibling,M=M.sibling=zs(m,m.pendingProps),M.return=p;M.sibling=null}return p.child}function ld(m,p){return(m.lanes&p)!==0?!0:(m=m.dependencies,!!(m!==null&&oc(m)))}function em(m,p,M){switch(p.tag){case 3:be(p,p.stateNode.containerInfo),Ki(p,Nr,m.memoizedState.cache),tt();break;case 27:case 5:ie(p);break;case 4:be(p,p.stateNode.containerInfo);break;case 10:Ki(p,p.type,p.memoizedProps.value);break;case 13:var D=p.memoizedState;if(D!==null)return D.dehydrated!==null?(Dr(p),p.flags|=128,null):(M&p.child.childLanes)!==0?sd(m,p,M):(Dr(p),m=Za(m,p,M),m!==null?m.sibling:null);Dr(p);break;case 19:var H=(m.flags&128)!==0;if(D=(M&p.childLanes)!==0,D||(ac(m,p,M,!1),D=(M&p.childLanes)!==0),H){if(D)return od(m,p,M);p.flags|=128}if(H=p.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),j(wi,wi.current),D)break;return null;case 22:case 23:return p.lanes=0,Jf(m,p,M);case 24:Ki(p,Nr,m.memoizedState.cache)}return Za(m,p,M)}function ru(m,p,M){if(m!==null)if(m.memoizedProps!==p.pendingProps)gr=!0;else{if(!ld(m,M)&&(p.flags&128)===0)return gr=!1,em(m,p,M);gr=(m.flags&131072)!==0}else gr=!1,Yn&&(p.flags&1048576)!==0&&Y(p,Nd,p.index);switch(p.lanes=0,p.tag){case 16:e:{m=p.pendingProps;var D=p.elementType,H=D._init;if(D=H(D._payload),p.type=D,typeof D=="function")gc(D)?(m=Sa(D,m),p.tag=1,p=Th(null,p,D,m,M)):(p.tag=0,p=ms(null,p,D,m,M));else{if(D!=null){if(H=D.$$typeof,H===kh){p.tag=11,p=nd(null,p,D,m,M);break e}else if(H===dm){p.tag=14,p=Nh(null,p,D,m,M);break e}}throw p=o(D)||D,Error(i(306,p,""))}}return p;case 0:return ms(m,p,p.type,p.pendingProps,M);case 1:return D=p.type,H=Sa(D,p.pendingProps),Th(m,p,D,H,M);case 3:e:{if(be(p,p.stateNode.containerInfo),m===null)throw Error(i(387));var Z=p.pendingProps;H=p.memoizedState,D=H.element,Dt(m,p),an(p,Z,null,M);var pe=p.memoizedState;if(Z=pe.cache,Ki(p,Nr,Z),Z!==H.cache&&li(p,[Nr],M,!0),gt(),Z=pe.element,Ui&&H.isDehydrated)if(H={element:Z,isDehydrated:!1,cache:pe.cache},p.updateQueue.baseState=H,p.memoizedState=H,p.flags&256){p=Ya(m,p,Z,M);break e}else if(Z!==D){D=oe(Error(i(424)),p),xe(D),p=Ya(m,p,Z,M);break e}else for(Ui&&(Bi=hx(p.stateNode.containerInfo),Ii=p,Yn=!0,Ca=null,Ri=!0),M=Ho(p,null,Z,M),p.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(tt(),Z===D){p=Za(m,p,M);break e}Jr(m,p,Z,M)}p=p.child}return p;case 26:if(ea)return tu(m,p),m===null?(M=k0(p.type,null,p.pendingProps,null))?p.memoizedState=M:Yn||(p.stateNode=wm(p.type,p.pendingProps,Bo.current,p)):p.memoizedState=k0(p.type,m.memoizedProps,p.pendingProps,m.memoizedState),null;case 27:if(mr)return ie(p),m===null&&mr&&Yn&&(D=p.stateNode=oo(p.type,p.pendingProps,Bo.current,Si.current,!1),Ii=p,Ri=!0,Bi=vm(D)),D=p.pendingProps.children,m!==null||Yn?Jr(m,p,D,M):p.child=jc(p,null,D,M),tu(m,p),p.child;case 5:return m===null&&Yn&&(_m(p.type,p.pendingProps,Si.current),(H=D=Bi)&&(D=v_(D,p.type,p.pendingProps,Ri),D!==null?(p.stateNode=D,Ii=p,Bi=vm(D),Ri=!1,H=!0):H=!1),H||_e(p)),ie(p),H=p.type,Z=p.pendingProps,pe=m!==null?m.memoizedProps:null,D=Z.children,En(H,Z)?D=null:pe!==null&&En(H,pe)&&(p.flags|=32),p.memoizedState!==null&&(H=Ys(m,p,Hr,null,null,M),xs?ao._currentValue=H:ao._currentValue2=H),tu(m,p),Jr(m,p,D,M),p.child;case 6:return m===null&&Yn&&(vx(p.pendingProps,Si.current),(m=M=Bi)&&(M=I0(M,p.pendingProps,Ri),M!==null?(p.stateNode=M,Ii=p,Bi=null,m=!0):m=!1),m||_e(p)),null;case 13:return sd(m,p,M);case 4:return be(p,p.stateNode.containerInfo),D=p.pendingProps,m===null?p.child=jc(p,null,D,M):Jr(m,p,D,M),p.child;case 11:return nd(m,p,p.type,p.pendingProps,M);case 7:return Jr(m,p,p.pendingProps,M),p.child;case 8:return Jr(m,p,p.pendingProps.children,M),p.child;case 12:return Jr(m,p,p.pendingProps.children,M),p.child;case 10:return D=p.pendingProps,Ki(p,p.type,D.value),Jr(m,p,D.children,M),p.child;case 9:return H=p.type._context,D=p.pendingProps.children,No(p),H=Qr(H),D=D(H),p.flags|=1,Jr(m,p,D,M),p.child;case 14:return Nh(m,p,p.type,p.pendingProps,M);case 15:return Kf(m,p,p.type,p.pendingProps,M);case 19:return od(m,p,M);case 22:return Jf(m,p,M);case 24:return No(p),D=Qr(Nr),m===null?(H=Ch(),H===null&&(H=lr,Z=To(),H.pooledCache=Z,Z.refCount++,Z!==null&&(H.pooledCacheLanes|=M),H=Z),p.memoizedState={parent:D,cache:H},wt(p),Ki(p,Nr,H)):((m.lanes&M)!==0&&(Dt(m,p),an(p,null,null,M),gt()),H=m.memoizedState,Z=p.memoizedState,H.parent!==D?(H={parent:D,cache:D},p.memoizedState=H,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=H),Ki(p,Nr,D)):(D=Z.cache,Ki(p,Nr,D),D!==H.cache&&li(p,[Nr],M,!0))),Jr(m,p,p.pendingProps.children,M),p.child;case 29:throw p.pendingProps}throw Error(i(156,p.tag))}function Ki(m,p,M){xs?(j(Dl,p._currentValue),p._currentValue=M):(j(Dl,p._currentValue2),p._currentValue2=M)}function Ka(m){var p=Dl.current;xs?m._currentValue=p:m._currentValue2=p,_(Dl)}function Ja(m,p,M){for(;m!==null;){var D=m.alternate;if((m.childLanes&p)!==p?(m.childLanes|=p,D!==null&&(D.childLanes|=p)):D!==null&&(D.childLanes&p)!==p&&(D.childLanes|=p),m===M)break;m=m.return}}function li(m,p,M,D){var H=m.child;for(H!==null&&(H.return=m);H!==null;){var Z=H.dependencies;if(Z!==null){var pe=H.child;Z=Z.firstContext;e:for(;Z!==null;){var Ne=Z;Z=H;for(var Ie=0;Ie<p.length;Ie++)if(Ne.context===p[Ie]){Z.lanes|=M,Ne=Z.alternate,Ne!==null&&(Ne.lanes|=M),Ja(Z.return,M,m),D||(pe=null);break e}Z=Ne.next}}else if(H.tag===18){if(pe=H.return,pe===null)throw Error(i(341));pe.lanes|=M,Z=pe.alternate,Z!==null&&(Z.lanes|=M),Ja(pe,M,m),pe=null}else pe=H.child;if(pe!==null)pe.return=H;else for(pe=H;pe!==null;){if(pe===m){pe=null;break}if(H=pe.sibling,H!==null){H.return=pe.return,pe=H;break}pe=pe.return}H=pe}}function ac(m,p,M,D){m=null;for(var H=p,Z=!1;H!==null;){if(!Z){if((H.flags&524288)!==0)Z=!0;else if((H.flags&262144)!==0)break}if(H.tag===10){var pe=H.alternate;if(pe===null)throw Error(i(387));if(pe=pe.memoizedProps,pe!==null){var Ne=H.type;Is(H.pendingProps.value,pe.value)||(m!==null?m.push(Ne):m=[Ne])}}else if(H===vu.current){if(pe=H.alternate,pe===null)throw Error(i(387));pe.memoizedState.memoizedState!==H.memoizedState.memoizedState&&(m!==null?m.push(ao):m=[ao])}H=H.return}m!==null&&li(p,m,M,D),p.flags|=262144}function oc(m){for(m=m.firstContext;m!==null;){var p=m.context;if(!Is(xs?p._currentValue:p._currentValue2,m.memoizedValue))return!0;m=m.next}return!1}function No(m){fo=m,aa=null,m=m.dependencies,m!==null&&(m.firstContext=null)}function Qr(m){return Ah(fo,m)}function ml(m,p){return fo===null&&No(m),Ah(m,p)}function Ah(m,p){var M=xs?p._currentValue:p._currentValue2;if(p={context:p,memoizedValue:M,next:null},aa===null){if(m===null)throw Error(i(308));aa=p,m.dependencies={lanes:0,firstContext:p},m.flags|=524288}else aa=aa.next=p;return M}function To(){return{controller:new Rd,data:new Map,refCount:0}}function lc(m){m.refCount--,m.refCount===0&&Cx(Rx,function(){m.controller.abort()})}function Ch(){var m=Fo.current;return m!==null?m:lr.pooledCache}function Ji(m,p){p===null?j(Fo,Fo.current):j(Fo,p.pool)}function Mo(){var m=Ch();return m===null?null:{parent:xs?Nr._currentValue:Nr._currentValue2,pool:m}}function Qi(m){m.flags|=4}function $i(m,p){if(m!==null&&m.child===p.child)return!1;if((p.flags&16)!==0)return!0;for(m=p.child;m!==null;){if((m.flags&13878)!==0||(m.subtreeFlags&13878)!==0)return!0;m=m.sibling}return!1}function pl(m,p,M,D){if(_i)for(M=p.child;M!==null;){if(M.tag===5||M.tag===6)Vh(m,M.stateNode);else if(!(M.tag===4||mr&&M.tag===27)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else if(ja)for(var H=p.child;H!==null;){if(H.tag===5){var Z=H.stateNode;M&&D&&(Z=P0(Z,H.type,H.memoizedProps)),Vh(m,Z)}else if(H.tag===6)Z=H.stateNode,M&&D&&(Z=L0(Z,H.memoizedProps)),Vh(m,Z);else if(H.tag!==4){if(H.tag===22&&H.memoizedState!==null)Z=H.child,Z!==null&&(Z.return=H),pl(m,H,!0,!0);else if(H.child!==null){H.child.return=H,H=H.child;continue}}if(H===p)break;for(;H.sibling===null;){if(H.return===null||H.return===p)return;H=H.return}H.sibling.return=H.return,H=H.sibling}}function gl(m,p,M,D){if(ja)for(var H=p.child;H!==null;){if(H.tag===5){var Z=H.stateNode;M&&D&&(Z=P0(Z,H.type,H.memoizedProps)),D0(m,Z)}else if(H.tag===6)Z=H.stateNode,M&&D&&(Z=L0(Z,H.memoizedProps)),D0(m,Z);else if(H.tag!==4){if(H.tag===22&&H.memoizedState!==null)Z=H.child,Z!==null&&(Z.return=H),gl(m,H,!(H.memoizedProps!==null&&H.memoizedProps.mode==="manual"),!0);else if(H.child!==null){H.child.return=H,H=H.child;continue}}if(H===p)break;for(;H.sibling===null;){if(H.return===null||H.return===p)return;H=H.return}H.sibling.return=H.return,H=H.sibling}}function iu(m,p){if(ja&&$i(m,p)){m=p.stateNode;var M=m.containerInfo,D=Fh();gl(D,p,!1,!1),m.pendingChildren=D,Qi(p),gm(M,D)}}function jo(m,p,M,D){if(_i)m.memoizedProps!==D&&Qi(p);else if(ja){var H=m.stateNode,Z=m.memoizedProps;if((m=$i(m,p))||Z!==D){var pe=Si.current;Z=Sd(H,M,Z,D,!m,null),Z===H?p.stateNode=H:(Tl(Z,M,D,pe)&&Qi(p),p.stateNode=Z,m?pl(Z,p,!1,!1):Qi(p))}else p.stateNode=H}}function su(m,p,M){if(N0(p,M)){if(m.flags|=16777216,!mm(p,M))if(Q())m.flags|=8192;else throw Nc=Qh,Jh}else m.flags&=-16777217}function bl(m,p){if(Sx(p)){if(m.flags|=16777216,!mu(p))if(Q())m.flags|=8192;else throw Nc=Qh,Jh}else m.flags&=-16777217}function cc(m,p){p!==null&&(m.flags|=4),m.flags&16384&&(p=m.tag!==22?k():536870912,m.lanes|=p,Wo|=p)}function ps(m,p){if(!Yn)switch(m.tailMode){case"hidden":p=m.tail;for(var M=null;p!==null;)p.alternate!==null&&(M=p),p=p.sibling;M===null?m.tail=null:M.sibling=null;break;case"collapsed":M=m.tail;for(var D=null;M!==null;)M.alternate!==null&&(D=M),M=M.sibling;D===null?p||m.tail===null?m.tail=null:m.tail.sibling=null:D.sibling=null}}function dr(m){var p=m.alternate!==null&&m.alternate.child===m.child,M=0,D=0;if(p)for(var H=m.child;H!==null;)M|=H.lanes|H.childLanes,D|=H.subtreeFlags&31457280,D|=H.flags&31457280,H.return=m,H=H.sibling;else for(H=m.child;H!==null;)M|=H.lanes|H.childLanes,D|=H.subtreeFlags,D|=H.flags,H.return=m,H=H.sibling;return m.subtreeFlags|=D,m.childLanes=M,p}function tm(m,p,M){var D=p.pendingProps;switch(le(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(p),null;case 1:return dr(p),null;case 3:return M=p.stateNode,D=null,m!==null&&(D=m.memoizedState.cache),p.memoizedState.cache!==D&&(p.flags|=2048),Ka(Nr),ce(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(m===null||m.child===null)&&($e(p)?Qi(p):m===null||m.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Ca!==null&&(cu(Ca),Ca=null))),iu(m,p),dr(p),null;case 26:if(ea){M=p.type;var H=p.memoizedState;return m===null?(Qi(p),H!==null?(dr(p),bl(p,H)):(dr(p),su(p,M,D))):H?H!==m.memoizedState?(Qi(p),dr(p),bl(p,H)):(dr(p),p.flags&=-16777217):(_i?m.memoizedProps!==D&&Qi(p):jo(m,p,M,D),dr(p),su(p,M,D)),null}case 27:if(mr){if(ge(p),M=Bo.current,H=p.type,m!==null&&p.stateNode!=null)_i?m.memoizedProps!==D&&Qi(p):jo(m,p,H,D);else{if(!D){if(p.stateNode===null)throw Error(i(166));return dr(p),null}m=Si.current,$e(p)?Te(p,m):(m=oo(H,D,M,m,!0),p.stateNode=m,Qi(p))}return dr(p),null}case 5:if(ge(p),M=p.type,m!==null&&p.stateNode!=null)jo(m,p,M,D);else{if(!D){if(p.stateNode===null)throw Error(i(166));return dr(p),null}m=Si.current,$e(p)?Te(p,m):(H=E0(M,D,Bo.current,m,p),pl(H,p,!1,!1),p.stateNode=H,Tl(H,M,D,m)&&Qi(p))}return dr(p),su(p,p.type,p.pendingProps),null;case 6:if(m&&p.stateNode!=null)M=m.memoizedProps,_i?M!==D&&Qi(p):ja&&(M!==D?(p.stateNode=hr(D,Bo.current,Si.current,p),Qi(p)):p.stateNode=m.stateNode);else{if(typeof D!="string"&&p.stateNode===null)throw Error(i(166));if(m=Bo.current,M=Si.current,$e(p)){if(!Ui)throw Error(i(176));if(m=p.stateNode,M=p.memoizedProps,D=null,H=Ii,H!==null)switch(H.tag){case 27:case 5:D=H.memoizedProps}B0(m,M,p,D)||_e(p)}else p.stateNode=hr(D,m,M,p)}return dr(p),null;case 13:if(D=p.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(H=$e(p),D!==null&&D.dehydrated!==null){if(m===null){if(!H)throw Error(i(318));if(!Ui)throw Error(i(344));if(H=p.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(i(317));gx(H,p)}else tt(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;dr(p),H=!1}else Ca!==null&&(cu(Ca),Ca=null),H=!0;if(!H)return p.flags&256?(Yi(p),p):(Yi(p),null)}if(Yi(p),(p.flags&128)!==0)return p.lanes=M,p;if(M=D!==null,m=m!==null&&m.memoizedState!==null,M){D=p.child,H=null,D.alternate!==null&&D.alternate.memoizedState!==null&&D.alternate.memoizedState.cachePool!==null&&(H=D.alternate.memoizedState.cachePool.pool);var Z=null;D.memoizedState!==null&&D.memoizedState.cachePool!==null&&(Z=D.memoizedState.cachePool.pool),Z!==H&&(D.flags|=2048)}return M!==m&&M&&(p.child.flags|=8192),cc(p,p.updateQueue),dr(p),null;case 4:return ce(),iu(m,p),m===null&&ti(p.stateNode.containerInfo),dr(p),null;case 10:return Ka(p.type),dr(p),null;case 19:if(_(wi),H=p.memoizedState,H===null)return dr(p),null;if(D=(p.flags&128)!==0,Z=H.rendering,Z===null)if(D)ps(H,!1);else{if(br!==0||m!==null&&(m.flags&128)!==0)for(m=p.child;m!==null;){if(Z=Zi(m),Z!==null){for(p.flags|=128,ps(H,!1),m=Z.updateQueue,p.updateQueue=m,cc(p,m),p.subtreeFlags=0,m=M,M=p.child;M!==null;)Ph(M,m),M=M.sibling;return j(wi,wi.current&1|2),p.child}m=m.sibling}H.tail!==null&&Aa()>Pd&&(p.flags|=128,D=!0,ps(H,!1),p.lanes=4194304)}else{if(!D)if(m=Zi(Z),m!==null){if(p.flags|=128,D=!0,m=m.updateQueue,p.updateQueue=m,cc(p,m),ps(H,!0),H.tail===null&&H.tailMode==="hidden"&&!Z.alternate&&!Yn)return dr(p),null}else 2*Aa()-H.renderingStartTime>Pd&&M!==536870912&&(p.flags|=128,D=!0,ps(H,!1),p.lanes=4194304);H.isBackwards?(Z.sibling=p.child,p.child=Z):(m=H.last,m!==null?m.sibling=Z:p.child=Z,H.last=Z)}return H.tail!==null?(p=H.tail,H.rendering=p,H.tail=p.sibling,H.renderingStartTime=Aa(),p.sibling=null,m=wi.current,j(wi,D?m&1|2:m&1),p):(dr(p),null);case 22:case 23:return Yi(p),As(),D=p.memoizedState!==null,m!==null?m.memoizedState!==null!==D&&(p.flags|=8192):D&&(p.flags|=8192),D?(M&536870912)!==0&&(p.flags&128)===0&&(dr(p),p.subtreeFlags&6&&(p.flags|=8192)):dr(p),M=p.updateQueue,M!==null&&cc(p,M.retryQueue),M=null,m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(M=m.memoizedState.cachePool.pool),D=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(D=p.memoizedState.cachePool.pool),D!==M&&(p.flags|=2048),m!==null&&_(Fo),null;case 24:return M=null,m!==null&&(M=m.memoizedState.cache),p.memoizedState.cache!==M&&(p.flags|=2048),Ka(Nr),dr(p),null;case 25:return null}throw Error(i(156,p.tag))}function Rh(m,p){switch(le(p),p.tag){case 1:return m=p.flags,m&65536?(p.flags=m&-65537|128,p):null;case 3:return Ka(Nr),ce(),m=p.flags,(m&65536)!==0&&(m&128)===0?(p.flags=m&-65537|128,p):null;case 26:case 27:case 5:return ge(p),null;case 13:if(Yi(p),m=p.memoizedState,m!==null&&m.dehydrated!==null){if(p.alternate===null)throw Error(i(340));tt()}return m=p.flags,m&65536?(p.flags=m&-65537|128,p):null;case 19:return _(wi),null;case 4:return ce(),null;case 10:return Ka(p.type),null;case 22:case 23:return Yi(p),As(),m!==null&&_(Fo),m=p.flags,m&65536?(p.flags=m&-65537|128,p):null;case 24:return Ka(Nr),null;case 25:return null;default:return null}}function nm(m,p){switch(le(p),p.tag){case 3:Ka(Nr),ce();break;case 26:case 27:case 5:ge(p);break;case 4:ce();break;case 13:Yi(p);break;case 19:_(wi);break;case 10:Ka(p.type);break;case 22:case 23:Yi(p),As(),m!==null&&_(Fo);break;case 24:Ka(Nr)}}function gs(m,p){try{var M=p.updateQueue,D=M!==null?M.lastEffect:null;if(D!==null){var H=D.next;M=H;do{if((M.tag&m)===m){D=void 0;var Z=M.create,pe=M.inst;D=Z(),pe.destroy=D}M=M.next}while(M!==H)}}catch(Ne){er(p,p.return,Ne)}}function Ao(m,p,M){try{var D=p.updateQueue,H=D!==null?D.lastEffect:null;if(H!==null){var Z=H.next;D=Z;do{if((D.tag&m)===m){var pe=D.inst,Ne=pe.destroy;if(Ne!==void 0){pe.destroy=void 0,H=p;var Ie=M;try{Ne()}catch(rt){er(H,Ie,rt)}}}D=D.next}while(D!==Z)}}catch(rt){er(p,p.return,rt)}}function xl(m){var p=m.updateQueue;if(p!==null){var M=m.stateNode;try{mt(p,M)}catch(D){er(m,m.return,D)}}}function es(m,p,M){M.props=Sa(m.type,m.memoizedProps),M.state=m.memoizedState;try{M.componentWillUnmount()}catch(D){er(m,p,D)}}function $r(m,p){try{var M=m.ref;if(M!==null){var D=m.stateNode;switch(m.tag){case 26:case 27:case 5:var H=vd(D);break;default:H=D}typeof M=="function"?m.refCleanup=M(H):M.current=H}}catch(Z){er(m,p,Z)}}function bi(m,p){var M=m.ref,D=m.refCleanup;if(M!==null)if(typeof D=="function")try{D()}catch(H){er(m,p,H)}finally{m.refCleanup=null,m=m.alternate,m!=null&&(m.refCleanup=null)}else if(typeof M=="function")try{M(null)}catch(H){er(m,p,H)}else M.current=null}function cd(m){var p=m.type,M=m.memoizedProps,D=m.stateNode;try{b_(D,p,M,m)}catch(H){er(m,m.return,H)}}function au(m,p,M){try{tx(m.stateNode,m.type,M,p,m)}catch(D){er(m,m.return,D)}}function uc(m){return m.tag===5||m.tag===3||(ea?m.tag===26:!1)||(mr?m.tag===27:!1)||m.tag===4}function vl(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||uc(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&(!mr||m.tag!==27)&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function dc(m,p,M){var D=m.tag;if(D===5||D===6)m=m.stateNode,p?rx(M,m,p):C0(M,m);else if(!(D===4||mr&&D===27)&&(m=m.child,m!==null))for(dc(m,p,M),m=m.sibling;m!==null;)dc(m,p,M),m=m.sibling}function ts(m,p,M){var D=m.tag;if(D===5||D===6)m=m.stateNode,p?nx(M,m,p):$b(M,m);else if(!(D===4||mr&&D===27)&&(m=m.child,m!==null))for(ts(m,p,M),m=m.sibling;m!==null;)ts(m,p,M),m=m.sibling}function yl(m,p,M){m=m.containerInfo;try{wd(m,M)}catch(D){er(p,p.return,D)}}function _l(m,p){for(hm(m.containerInfo),yn=p;yn!==null;)if(m=yn,p=m.child,(m.subtreeFlags&1028)!==0&&p!==null)p.return=m,yn=p;else for(;yn!==null;){m=yn;var M=m.alternate;switch(p=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((p&1024)!==0&&M!==null){p=void 0;var D=m,H=M.memoizedProps;M=M.memoizedState;var Z=D.stateNode;try{var pe=Sa(D.type,H,D.elementType===D.type);p=Z.getSnapshotBeforeUpdate(pe,M),Z.__reactInternalSnapshotBeforeUpdate=p}catch(Ne){er(D,D.return,Ne)}}break;case 3:(p&1024)!==0&&_i&&lx(m.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(i(163))}if(p=m.sibling,p!==null){p.return=m.return,yn=p;break}yn=m.return}return pe=Bn,Bn=!1,pe}function ou(m,p,M){var D=M.flags;switch(M.tag){case 0:case 11:case 15:Ds(m,M),D&4&&gs(5,M);break;case 1:if(Ds(m,M),D&4)if(m=M.stateNode,p===null)try{m.componentDidMount()}catch(Ne){er(M,M.return,Ne)}else{var H=Sa(M.type,p.memoizedProps);p=p.memoizedState;try{m.componentDidUpdate(H,p,m.__reactInternalSnapshotBeforeUpdate)}catch(Ne){er(M,M.return,Ne)}}D&64&&xl(M),D&512&&$r(M,M.return);break;case 3:if(Ds(m,M),D&64&&(D=M.updateQueue,D!==null)){if(m=null,M.child!==null)switch(M.child.tag){case 27:case 5:m=vd(M.child.stateNode);break;case 1:m=M.child.stateNode}try{mt(D,m)}catch(Ne){er(M,M.return,Ne)}}break;case 26:if(ea){Ds(m,M),D&512&&$r(M,M.return);break}case 27:case 5:Ds(m,M),p===null&&D&4&&cd(M),D&512&&$r(M,M.return);break;case 12:Ds(m,M);break;case 13:Ds(m,M),D&4&&lu(m,M);break;case 22:if(H=M.memoizedState!==null||qo,!H){p=p!==null&&p.memoizedState!==null||Wr;var Z=qo,pe=Wr;qo=H,(Wr=p)&&!pe?Ea(m,M,(M.subtreeFlags&8772)!==0):Ds(m,M),qo=Z,Wr=pe}D&512&&(M.memoizedProps.mode==="manual"?$r(M,M.return):bi(M,M.return));break;default:Ds(m,M)}}function Oh(m){var p=m.alternate;p!==null&&(m.alternate=null,Oh(p)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(p=m.stateNode,p!==null&&g_(p)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function Fr(m,p,M){for(M=M.child;M!==null;)Co(m,p,M),M=M.sibling}function Co(m,p,M){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(ri,M)}catch{}switch(M.tag){case 26:if(ea){Wr||bi(M,p),Fr(m,p,M),M.memoizedState?fu(M.memoizedState):M.stateNode&&Ed(M.stateNode);break}case 27:if(mr){Wr||bi(M,p);var D=$t,H=Mn;$t=M.stateNode,Fr(m,p,M),Sc(M.stateNode),$t=D,Mn=H;break}case 5:Wr||bi(M,p);case 6:if(_i){if(D=$t,H=Mn,$t=null,Fr(m,p,M),$t=D,Mn=H,$t!==null)if(Mn)try{ix($t,M.stateNode)}catch(Z){er(M,p,Z)}else try{R0($t,M.stateNode)}catch(Z){er(M,p,Z)}}else Fr(m,p,M);break;case 18:_i&&$t!==null&&(Mn?qh($t,M.stateNode):xx($t,M.stateNode));break;case 4:_i?(D=$t,H=Mn,$t=M.stateNode.containerInfo,Mn=!0,Fr(m,p,M),$t=D,Mn=H):(ja&&yl(M.stateNode,M,Fh()),Fr(m,p,M));break;case 0:case 11:case 14:case 15:Wr||Ao(2,M,p),Wr||Ao(4,M,p),Fr(m,p,M);break;case 1:Wr||(bi(M,p),D=M.stateNode,typeof D.componentWillUnmount=="function"&&es(M,p,D)),Fr(m,p,M);break;case 21:Fr(m,p,M);break;case 22:Wr||bi(M,p),Wr=(D=Wr)||M.memoizedState!==null,Fr(m,p,M),Wr=D;break;default:Fr(m,p,M)}}function lu(m,p){if(Ui&&p.memoizedState===null&&(m=p.alternate,m!==null&&(m=m.memoizedState,m!==null&&(m=m.dehydrated,m!==null))))try{__(m)}catch(M){er(p,p.return,M)}}function rm(m){switch(m.tag){case 13:case 19:var p=m.stateNode;return p===null&&(p=m.stateNode=new or),p;case 22:return m=m.stateNode,p=m._retryCache,p===null&&(p=m._retryCache=new or),p;default:throw Error(i(435,m.tag))}}function wa(m,p){var M=rm(m);p.forEach(function(D){var H=Po.bind(null,m,D);M.has(D)||(M.add(D),D.then(H,H))})}function zi(m,p){var M=p.deletions;if(M!==null)for(var D=0;D<M.length;D++){var H=M[D],Z=m,pe=p;if(_i){var Ne=pe;e:for(;Ne!==null;){switch(Ne.tag){case 27:case 5:$t=Ne.stateNode,Mn=!1;break e;case 3:$t=Ne.stateNode.containerInfo,Mn=!0;break e;case 4:$t=Ne.stateNode.containerInfo,Mn=!0;break e}Ne=Ne.return}if($t===null)throw Error(i(160));Co(Z,pe,H),$t=null,Mn=!1}else Co(Z,pe,H);Z=H.alternate,Z!==null&&(Z.return=null),H.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)Os(p,m),p=p.sibling}function Os(m,p){var M=m.alternate,D=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:zi(p,m),xi(m),D&4&&(Ao(3,m,m.return),gs(3,m),Ao(5,m,m.return));break;case 1:zi(p,m),xi(m),D&512&&(Wr||M===null||bi(M,M.return)),D&64&&qo&&(m=m.updateQueue,m!==null&&(D=m.callbacks,D!==null&&(M=m.shared.hiddenCallbacks,m.shared.hiddenCallbacks=M===null?D:M.concat(D))));break;case 26:if(ea){var H=Ir;zi(p,m),xi(m),D&512&&(Wr||M===null||bi(M,M.return)),D&4&&(D=M!==null?M.memoizedState:null,p=m.memoizedState,M===null?p===null?m.stateNode===null?m.stateNode=Wh(H,m.type,m.memoizedProps,m):Xh(H,m.type,m.stateNode):m.stateNode=yx(H,p,m.memoizedProps):D!==p?(D===null?M.stateNode!==null&&Ed(M.stateNode):fu(D),p===null?Xh(H,m.type,m.stateNode):yx(H,p,m.memoizedProps)):p===null&&m.stateNode!==null&&au(m,m.memoizedProps,M.memoizedProps));break}case 27:if(mr&&D&4&&m.alternate===null){H=m.stateNode;var Z=m.memoizedProps;try{_c(H),Ex(m.type,Z,H,m)}catch(xt){er(m,m.return,xt)}}case 5:if(zi(p,m),xi(m),D&512&&(Wr||M===null||bi(M,M.return)),_i){if(m.flags&32){p=m.stateNode;try{O0(p)}catch(xt){er(m,m.return,xt)}}D&4&&m.stateNode!=null&&(p=m.memoizedProps,au(m,p,M!==null?M.memoizedProps:p)),D&1024&&(q0=!0)}break;case 6:if(zi(p,m),xi(m),D&4&&_i){if(m.stateNode===null)throw Error(i(162));D=m.memoizedProps,M=M!==null?M.memoizedProps:D,p=m.stateNode;try{ex(p,M,D)}catch(xt){er(m,m.return,xt)}}break;case 3:if(ea?(_x(),H=Ir,Ir=Sm(p.containerInfo),zi(p,m),Ir=H):zi(p,m),xi(m),D&4){if(_i&&Ui&&M!==null&&M.memoizedState.isDehydrated)try{y_(p.containerInfo)}catch(xt){er(m,m.return,xt)}if(ja){D=p.containerInfo,M=p.pendingChildren;try{wd(D,M)}catch(xt){er(m,m.return,xt)}}}q0&&(q0=!1,im(m));break;case 4:ea?(M=Ir,Ir=Sm(m.stateNode.containerInfo),zi(p,m),xi(m),Ir=M):(zi(p,m),xi(m)),D&4&&ja&&yl(m.stateNode,m,m.stateNode.pendingChildren);break;case 12:zi(p,m),xi(m);break;case 13:zi(p,m),xi(m),m.child.flags&8192&&m.memoizedState!==null!=(M!==null&&M.memoizedState!==null)&&(Ss=Aa()),D&4&&(D=m.updateQueue,D!==null&&(m.updateQueue=null,wa(m,D)));break;case 22:D&512&&(Wr||M===null||bi(M,M.return)),H=m.memoizedState!==null;var pe=M!==null&&M.memoizedState!==null,Ne=qo,Ie=Wr;if(qo=Ne||H,Wr=Ie||pe,zi(p,m),Wr=Ie,qo=Ne,xi(m),p=m.stateNode,p._current=m,p._visibility&=-3,p._visibility|=p._pendingVisibility&2,D&8192&&(p._visibility=H?p._visibility&-2:p._visibility|1,H&&(p=qo||Wr,M===null||pe||p||hc(m)),_i&&(m.memoizedProps===null||m.memoizedProps.mode!=="manual"))){e:if(M=null,_i)for(p=m;;){if(p.tag===5||ea&&p.tag===26||mr&&p.tag===27){if(M===null){pe=M=p;try{Z=pe.stateNode,H?sx(Z):ox(pe.stateNode,pe.memoizedProps)}catch(xt){er(pe,pe.return,xt)}}}else if(p.tag===6){if(M===null){pe=p;try{var rt=pe.stateNode;H?ax(rt):x_(rt,pe.memoizedProps)}catch(xt){er(pe,pe.return,xt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===m)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;p.sibling===null;){if(p.return===null||p.return===m)break e;M===p&&(M=null),p=p.return}M===p&&(M=null),p.sibling.return=p.return,p=p.sibling}}D&4&&(D=m.updateQueue,D!==null&&(M=D.retryQueue,M!==null&&(D.retryQueue=null,wa(m,M))));break;case 19:zi(p,m),xi(m),D&4&&(D=m.updateQueue,D!==null&&(m.updateQueue=null,wa(m,D)));break;case 21:break;default:zi(p,m),xi(m)}}function xi(m){var p=m.flags;if(p&2){try{if(_i&&(!mr||m.tag!==27)){e:{for(var M=m.return;M!==null;){if(uc(M)){var D=M;break e}M=M.return}throw Error(i(160))}switch(D.tag){case 27:if(mr){var H=D.stateNode,Z=vl(m);ts(m,Z,H);break}case 5:var pe=D.stateNode;D.flags&32&&(O0(pe),D.flags&=-33);var Ne=vl(m);ts(m,Ne,pe);break;case 3:case 4:var Ie=D.stateNode.containerInfo,rt=vl(m);dc(m,rt,Ie);break;default:throw Error(i(161))}}}catch(xt){er(m,m.return,xt)}m.flags&=-3}p&4096&&(m.flags&=-4097)}function im(m){if(m.subtreeFlags&1024)for(m=m.child;m!==null;){var p=m;im(p),p.tag===5&&p.flags&1024&&pm(p.stateNode),m=m.sibling}}function Ds(m,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)ou(m,p.alternate,p),p=p.sibling}function hc(m){for(m=m.child;m!==null;){var p=m;switch(p.tag){case 0:case 11:case 14:case 15:Ao(4,p,p.return),hc(p);break;case 1:bi(p,p.return);var M=p.stateNode;typeof M.componentWillUnmount=="function"&&es(p,p.return,M),hc(p);break;case 26:case 27:case 5:bi(p,p.return),hc(p);break;case 22:bi(p,p.return),p.memoizedState===null&&hc(p);break;default:hc(p)}m=m.sibling}}function Ea(m,p,M){for(M=M&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var D=p.alternate,H=m,Z=p,pe=Z.flags;switch(Z.tag){case 0:case 11:case 15:Ea(H,Z,M),gs(4,Z);break;case 1:if(Ea(H,Z,M),D=Z,H=D.stateNode,typeof H.componentDidMount=="function")try{H.componentDidMount()}catch(rt){er(D,D.return,rt)}if(D=Z,H=D.updateQueue,H!==null){var Ne=D.stateNode;try{var Ie=H.shared.hiddenCallbacks;if(Ie!==null)for(H.shared.hiddenCallbacks=null,H=0;H<Ie.length;H++)De(Ie[H],Ne)}catch(rt){er(D,D.return,rt)}}M&&pe&64&&xl(Z),$r(Z,Z.return);break;case 26:case 27:case 5:Ea(H,Z,M),M&&D===null&&pe&4&&cd(Z),$r(Z,Z.return);break;case 12:Ea(H,Z,M);break;case 13:Ea(H,Z,M),M&&pe&4&&lu(H,Z);break;case 22:Z.memoizedState===null&&Ea(H,Z,M),$r(Z,Z.return);break;default:Ea(H,Z,M)}p=p.sibling}}function ud(m,p){var M=null;m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(M=m.memoizedState.cachePool.pool),m=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(m=p.memoizedState.cachePool.pool),m!==M&&(m!=null&&m.refCount++,M!=null&&lc(M))}function Qa(m,p){m=null,p.alternate!==null&&(m=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==m&&(p.refCount++,m!=null&&lc(m))}function ci(m,p,M,D){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)Ro(m,p,M,D),p=p.sibling}function Ro(m,p,M,D){var H=p.flags;switch(p.tag){case 0:case 11:case 15:ci(m,p,M,D),H&2048&&gs(9,p);break;case 3:ci(m,p,M,D),H&2048&&(m=null,p.alternate!==null&&(m=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==m&&(p.refCount++,m!=null&&lc(m)));break;case 12:if(H&2048){ci(m,p,M,D),m=p.stateNode;try{var Z=p.memoizedProps,pe=Z.id,Ne=Z.onPostCommit;typeof Ne=="function"&&Ne(pe,p.alternate===null?"mount":"update",m.passiveEffectDuration,-0)}catch(Ie){er(p,p.return,Ie)}}else ci(m,p,M,D);break;case 23:break;case 22:Z=p.stateNode,p.memoizedState!==null?Z._visibility&4?ci(m,p,M,D):vi(m,p):Z._visibility&4?ci(m,p,M,D):(Z._visibility|=4,ui(m,p,M,D,(p.subtreeFlags&10256)!==0)),H&2048&&ud(p.alternate,p);break;case 24:ci(m,p,M,D),H&2048&&Qa(p.alternate,p);break;default:ci(m,p,M,D)}}function ui(m,p,M,D,H){for(H=H&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var Z=m,pe=p,Ne=M,Ie=D,rt=pe.flags;switch(pe.tag){case 0:case 11:case 15:ui(Z,pe,Ne,Ie,H),gs(8,pe);break;case 23:break;case 22:var xt=pe.stateNode;pe.memoizedState!==null?xt._visibility&4?ui(Z,pe,Ne,Ie,H):vi(Z,pe):(xt._visibility|=4,ui(Z,pe,Ne,Ie,H)),H&&rt&2048&&ud(pe.alternate,pe);break;case 24:ui(Z,pe,Ne,Ie,H),H&&rt&2048&&Qa(pe.alternate,pe);break;default:ui(Z,pe,Ne,Ie,H)}p=p.sibling}}function vi(m,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var M=m,D=p,H=D.flags;switch(D.tag){case 22:vi(M,D),H&2048&&ud(D.alternate,D);break;case 24:vi(M,D),H&2048&&Qa(D.alternate,D);break;default:vi(M,D)}p=p.sibling}}function Ps(m){if(m.subtreeFlags&oa)for(m=m.child;m!==null;)Ls(m),m=m.sibling}function Ls(m){switch(m.tag){case 26:Ps(m),m.flags&oa&&(m.memoizedState!==null?wx(Ir,m.memoizedState,m.memoizedProps):vs(m.type,m.memoizedProps));break;case 5:Ps(m),m.flags&oa&&vs(m.type,m.memoizedProps);break;case 3:case 4:if(ea){var p=Ir;Ir=Sm(m.stateNode.containerInfo),Ps(m),Ir=p}else Ps(m);break;case 22:m.memoizedState===null&&(p=m.alternate,p!==null&&p.memoizedState!==null?(p=oa,oa=16777216,Ps(m),oa=p):Ps(m));break;default:Ps(m)}}function fc(m){var p=m.alternate;if(p!==null&&(m=p.child,m!==null)){p.child=null;do p=m.sibling,m.sibling=null,m=p;while(m!==null)}}function $a(m){var p=m.deletions;if((m.flags&16)!==0){if(p!==null)for(var M=0;M<p.length;M++){var D=p[M];yn=D,mc(D,m)}fc(m)}if(m.subtreeFlags&10256)for(m=m.child;m!==null;)Oo(m),m=m.sibling}function Oo(m){switch(m.tag){case 0:case 11:case 15:$a(m),m.flags&2048&&Ao(9,m,m.return);break;case 3:$a(m);break;case 12:$a(m);break;case 22:var p=m.stateNode;m.memoizedState!==null&&p._visibility&4&&(m.return===null||m.return.tag!==13)?(p._visibility&=-5,eo(m)):$a(m);break;default:$a(m)}}function eo(m){var p=m.deletions;if((m.flags&16)!==0){if(p!==null)for(var M=0;M<p.length;M++){var D=p[M];yn=D,mc(D,m)}fc(m)}for(m=m.child;m!==null;){switch(p=m,p.tag){case 0:case 11:case 15:Ao(8,p,p.return),eo(p);break;case 22:M=p.stateNode,M._visibility&4&&(M._visibility&=-5,eo(p));break;default:eo(p)}m=m.sibling}}function mc(m,p){for(;yn!==null;){var M=yn;switch(M.tag){case 0:case 11:case 15:Ao(8,M,p);break;case 23:case 22:if(M.memoizedState!==null&&M.memoizedState.cachePool!==null){var D=M.memoizedState.cachePool.pool;D!=null&&D.refCount++}break;case 24:lc(M.memoizedState.cache)}if(D=M.child,D!==null)D.return=M,yn=D;else e:for(M=m;yn!==null;){D=yn;var H=D.sibling,Z=D.return;if(Oh(D),D===M){yn=null;break e}if(H!==null){H.return=Z,yn=H;break e}yn=Z}}}function Na(m){var p=Wb(m);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(i(364));return p}if(m=j0(m),m===null)throw Error(i(362));return m.stateNode.current}function to(m,p){var M=m.tag;switch(p.$$typeof){case Dd:if(m.type===p.value)return!0;break;case Da:e:{for(p=p.value,m=[m,0],M=0;M<m.length;){var D=m[M++],H=D.tag,Z=m[M++],pe=p[Z];if(H!==5&&H!==26&&H!==27||!_d(D)){for(;pe!=null&&to(D,pe);)Z++,pe=p[Z];if(Z===p.length){p=!0;break e}else for(D=D.child;D!==null;)m.push(D,Z),D=D.sibling}}p=!1}return p;case Cr:if((M===5||M===26||M===27)&&Kb(m.stateNode,p.value))return!0;break;case Go:if((M===5||M===6||M===26||M===27)&&(m=Zb(m),m!==null&&0<=m.indexOf(p.value)))return!0;break;case mo:if((M===5||M===26||M===27)&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function dd(m){switch(m.$$typeof){case Dd:return"<"+(o(m.value)||"Unknown")+">";case Da:return":has("+(dd(m)||"")+")";case Cr:return'[role="'+m.value+'"]';case Go:return'"'+m.value+'"';case mo:return'[data-testname="'+m.value+'"]';default:throw Error(i(365))}}function ns(m,p){var M=[];m=[m,0];for(var D=0;D<m.length;){var H=m[D++],Z=H.tag,pe=m[D++],Ne=p[pe];if(Z!==5&&Z!==26&&Z!==27||!_d(H)){for(;Ne!=null&&to(H,Ne);)pe++,Ne=p[pe];if(pe===p.length)M.push(H);else for(H=H.child;H!==null;)m.push(H,pe),H=H.sibling}}return M}function pc(m,p){if(!yc)throw Error(i(363));m=Na(m),m=ns(m,p),p=[],m=Array.from(m);for(var M=0;M<m.length;){var D=m[M++],H=D.tag;if(H===5||H===26||H===27)_d(D)||p.push(D.stateNode);else for(D=D.child;D!==null;)m.push(D),D=D.sibling}return p}function Lr(){if((Jn&2)!==0&&Vn!==0)return Vn&-Vn;if(fn.T!==null){var m=ra;return m!==0?m:Ge()}return Xb()}function hd(){ua===0&&(ua=(Vn&536870912)===0||Yn?F():536870912);var m=ia.current;return m!==null&&(m.flags|=32),ua}function ei(m,p,M){(m===lr&&fr===2||m.cancelPendingCommit!==null)&&(R(m,0),rs(m,Vn,ua,!1)),V(m,M),((Jn&2)===0||m!==lr)&&(m===lr&&((Jn&2)===0&&(Pl|=M),br===4&&rs(m,Vn,ua,!1)),ye(m))}function no(m,p,M){if((Jn&6)!==0)throw Error(i(327));var D=!M&&(p&60)===0&&(p&m.expiredLanes)===0||U(m,p),H=D?Nt(m,p):Je(m,p,!0),Z=D;do{if(H===0){la&&!D&&rs(m,p,0,!1);break}else if(H===6)rs(m,p,0,!La);else{if(M=m.current.alternate,Z&&!Sl(M)){H=Je(m,p,!1),Z=!1;continue}if(H===2){if(Z=p,m.errorRecoveryDisabledLanes&Z)var pe=0;else pe=m.pendingLanes&-536870913,pe=pe!==0?pe:pe&536870912?536870912:0;if(pe!==0){p=pe;e:{var Ne=m;H=ju;var Ie=Ui&&Ne.current.memoizedState.isDehydrated;if(Ie&&(R(Ne,pe).flags|=256),pe=Je(Ne,pe,!1),pe!==2){if(Ei&&!Ie){Ne.errorRecoveryDisabledLanes|=Z,Pl|=Z,H=4;break e}Z=Xr,Xr=H,Z!==null&&cu(Z)}H=pe}if(Z=!1,H!==2)continue}}if(H===1){R(m,0),rs(m,p,0,!0);break}e:{switch(D=m,H){case 0:case 1:throw Error(i(345));case 4:if((p&4194176)===p){rs(D,p,ua,!La);break e}break;case 2:Xr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(D.finishedWork=M,D.finishedLanes=p,(p&62914560)===p&&(Z=Ss+300-Aa(),10<Z)){if(rs(D,p,ua,!La),P(D,0)!==0)break e;D.timeoutHandle=hi(uu.bind(null,D,M,Xr,ef,Dm,p,ua,Pl,Wo,La,2,-0,0),Z);break e}uu(D,M,Xr,ef,Dm,p,ua,Pl,Wo,La,0,-0,0)}}break}while(!0);ye(m)}function cu(m){Xr===null?Xr=m:Xr.push.apply(Xr,m)}function uu(m,p,M,D,H,Z,pe,Ne,Ie,rt,xt,Tt,Rt){var _n=p.subtreeFlags;if((_n&8192||(_n&16785408)===16785408)&&(T0(),Ls(p),p=fi(),p!==null)){m.cancelPendingCommit=p(bs.bind(null,m,M,D,H,pe,Ne,Ie,1,Tt,Rt)),rs(m,Z,pe,!rt);return}bs(m,M,D,H,pe,Ne,Ie,xt,Tt,Rt)}function Sl(m){for(var p=m;;){var M=p.tag;if((M===0||M===11||M===15)&&p.flags&16384&&(M=p.updateQueue,M!==null&&(M=M.stores,M!==null)))for(var D=0;D<M.length;D++){var H=M[D],Z=H.getSnapshot;H=H.value;try{if(!Is(Z(),H))return!1}catch{return!1}}if(M=p.child,p.subtreeFlags&16384&&M!==null)M.return=p,p=M;else{if(p===m)break;for(;p.sibling===null;){if(p.return===null||p.return===m)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function rs(m,p,M,D){p&=~$h,p&=~Pl,m.suspendedLanes|=p,m.pingedLanes&=~p,D&&(m.warmLanes|=p),D=m.expirationTimes;for(var H=p;0<H;){var Z=31-ys(H),pe=1<<Z;D[Z]=-1,H&=~pe}M!==0&&J(m,M,p)}function h(){return(Jn&6)===0?(Be(0),!1):!0}function S(){if(sn!==null){if(fr===0)var m=sn.return;else m=sn,aa=fo=null,me(m),Tc=null,Mc=0,m=sn;for(;m!==null;)nm(m.alternate,m),m=m.return;sn=null}}function R(m,p){m.finishedWork=null,m.finishedLanes=0;var M=m.timeoutHandle;M!==xc&&(m.timeoutHandle=xc,fm(M)),M=m.cancelPendingCommit,M!==null&&(m.cancelPendingCommit=null,M()),S(),lr=m,sn=M=zs(m.current,null),Vn=p,fr=0,ss=null,La=!1,la=U(m,p),Ei=!1,Wo=ua=$h=Pl=ca=br=0,Xr=ju=null,Dm=!1,(p&8)!==0&&(p|=p&32);var D=m.entangledLanes;if(D!==0)for(m=m.entanglements,D&=p;0<D;){var H=31-ys(D),Z=1<<H;p|=m[H],D&=~Z}return as=p,ke(),M}function q(m,p){An=null,fn.H=Gr,p===Ad?(p=Lt(),fr=3):p===Jh?(p=Lt(),fr=4):fr=p===Rm?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,ss=p,sn===null&&(br=1,Tn(m,oe(p,m.current)))}function Q(){var m=ia.current;return m===null?!0:(Vn&4194176)===Vn?pr===null:(Vn&62914560)===Vn||(Vn&536870912)!==0?m===pr:!1}function ue(){var m=fn.H;return fn.H=Gr,m===null?Gr:m}function Se(){var m=fn.A;return fn.A=Od,m}function Ue(){br=4,La||(Vn&4194176)!==Vn&&ia.current!==null||(la=!0),(ca&134217727)===0&&(Pl&134217727)===0||lr===null||rs(lr,Vn,ua,!1)}function Je(m,p,M){var D=Jn;Jn|=2;var H=ue(),Z=Se();(lr!==m||Vn!==p)&&(ef=null,R(m,p)),p=!1;var pe=br;e:do try{if(fr!==0&&sn!==null){var Ne=sn,Ie=ss;switch(fr){case 8:S(),pe=6;break e;case 3:case 2:case 6:ia.current===null&&(p=!0);var rt=fr;if(fr=0,ss=null,ir(m,Ne,Ie,rt),M&&la){pe=0;break e}break;default:rt=fr,fr=0,ss=null,ir(m,Ne,Ie,rt)}}ct(),pe=br;break}catch(xt){q(m,xt)}while(!0);return p&&m.shellSuspendCounter++,aa=fo=null,Jn=D,fn.H=H,fn.A=Z,sn===null&&(lr=null,Vn=0,ke()),pe}function ct(){for(;sn!==null;)Ht(sn)}function Nt(m,p){var M=Jn;Jn|=2;var D=ue(),H=Se();lr!==m||Vn!==p?(ef=null,Pd=Aa()+500,R(m,p)):la=U(m,p);e:do try{if(fr!==0&&sn!==null){p=sn;var Z=ss;t:switch(fr){case 1:fr=0,ss=null,ir(m,p,Z,1);break;case 2:if(jt(Z)){fr=0,ss=null,cn(p);break}p=function(){fr===2&&lr===m&&(fr=7),ye(m)},Z.then(p,p);break e;case 3:fr=7;break e;case 4:fr=5;break e;case 7:jt(Z)?(fr=0,ss=null,cn(p)):(fr=0,ss=null,ir(m,p,Z,7));break;case 5:var pe=null;switch(sn.tag){case 26:pe=sn.memoizedState;case 5:case 27:var Ne=sn,Ie=Ne.type,rt=Ne.pendingProps;if(pe?mu(pe):mm(Ie,rt)){fr=0,ss=null;var xt=Ne.sibling;if(xt!==null)sn=xt;else{var Tt=Ne.return;Tt!==null?(sn=Tt,Sr(Tt)):sn=null}break t}}fr=0,ss=null,ir(m,p,Z,5);break;case 6:fr=0,ss=null,ir(m,p,Z,6);break;case 8:S(),br=6;break e;default:throw Error(i(462))}}zt();break}catch(Rt){q(m,Rt)}while(!0);return aa=fo=null,fn.H=D,fn.A=H,Jn=M,sn!==null?0:(lr=null,Vn=0,ke(),br)}function zt(){for(;sn!==null&&!Mx();)Ht(sn)}function Ht(m){var p=ru(m.alternate,m,as);m.memoizedProps=m.pendingProps,p===null?Sr(m):sn=p}function cn(m){var p=m,M=p.alternate;switch(p.tag){case 15:case 0:p=Qf(M,p,p.pendingProps,p.type,void 0,Vn);break;case 11:p=Qf(M,p,p.pendingProps,p.type.render,p.ref,Vn);break;case 5:me(p);default:nm(M,p),p=sn=Ph(p,as),p=ru(M,p,as)}m.memoizedProps=m.pendingProps,p===null?Sr(m):sn=p}function ir(m,p,M,D){aa=fo=null,me(p),Tc=null,Mc=0;var H=p.return;try{if(x0(m,H,p,M,Vn)){br=1,Tn(m,oe(M,m.current)),sn=null;return}}catch(Z){if(H!==null)throw sn=H,Z;br=1,Tn(m,oe(M,m.current)),sn=null;return}p.flags&32768?(Yn||D===1?m=!0:la||(Vn&536870912)!==0?m=!1:(La=m=!0,(D===2||D===3||D===6)&&(D=ia.current,D!==null&&D.tag===13&&(D.flags|=16384))),yi(p,m)):Sr(p)}function Sr(m){var p=m;do{if((p.flags&32768)!==0){yi(p,La);return}m=p.return;var M=tm(p.alternate,p,as);if(M!==null){sn=M;return}if(p=p.sibling,p!==null){sn=p;return}sn=p=m}while(p!==null);br===0&&(br=5)}function yi(m,p){do{var M=Rh(m.alternate,m);if(M!==null){M.flags&=32767,sn=M;return}if(M=m.return,M!==null&&(M.flags|=32768,M.subtreeFlags=0,M.deletions=null),!p&&(m=m.sibling,m!==null)){sn=m;return}sn=m=M}while(m!==null);br=6,sn=null}function bs(m,p,M,D,H,Z,pe,Ne,Ie,rt){var xt=fn.T,Tt=Ml();try{is(2),fn.T=null,sm(m,p,M,D,Tt,H,Z,pe,Ne,Ie,rt)}finally{fn.T=xt,is(Tt)}}function sm(m,p,M,D,H,Z,pe,Ne){do Js();while(Xo!==null);if((Jn&6)!==0)throw Error(i(327));var Ie=m.finishedWork;if(D=m.finishedLanes,Ie===null)return null;if(m.finishedWork=null,m.finishedLanes=0,Ie===m.current)throw Error(i(177));m.callbackNode=null,m.callbackPriority=0,m.cancelPendingCommit=null;var rt=Ie.lanes|Ie.childLanes;if(rt|=uo,X(m,D,rt,Z,pe,Ne),m===lr&&(sn=lr=null,Vn=0),(Ie.subtreeFlags&10256)===0&&(Ie.flags&10256)===0||po||(po=!0,Oc=rt,Pm=M,io(Mm,function(){return Js(),null})),M=(Ie.flags&15990)!==0,(Ie.subtreeFlags&15990)!==0||M?(M=fn.T,fn.T=null,Z=Ml(),is(2),pe=Jn,Jn|=4,_l(m,Ie),Os(Ie,m),Gb(m.containerInfo),m.current=Ie,ou(m,Ie.alternate,Ie),Nm(),Jn=pe,is(Z),fn.T=M):m.current=Ie,po?(po=!1,Xo=m,Au=D):Dh(m,rt),rt=m.pendingLanes,rt===0&&(Rc=null),W(Ie.stateNode),ye(m),p!==null)for(H=m.onRecoverableError,Ie=0;Ie<p.length;Ie++)rt=p[Ie],H(rt.value,{componentStack:rt.stack});return(Au&3)!==0&&Js(),rt=m.pendingLanes,(D&4194218)!==0&&(rt&42)!==0?m===Lm?Ld++:(Ld=0,Lm=m):Ld=0,Be(0),null}function Dh(m,p){(m.pooledCacheLanes&=p)===0&&(p=m.pooledCache,p!=null&&(m.pooledCache=null,lc(p)))}function Js(){if(Xo!==null){var m=Xo,p=Oc;Oc=0;var M=te(Au),D=32>M?32:M;M=fn.T;var H=Ml();try{if(is(D),fn.T=null,Xo===null)var Z=!1;else{D=Pm,Pm=null;var pe=Xo,Ne=Au;if(Xo=null,Au=0,(Jn&6)!==0)throw Error(i(331));var Ie=Jn;if(Jn|=4,Oo(pe.current),Ro(pe,pe.current,Ne,D),Jn=Ie,Be(0,!1),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(ri,pe)}catch{}Z=!0}return Z}finally{is(H),fn.T=M,Dh(m,p)}}return!1}function wl(m,p,M){p=oe(M,p),p=Ai(m.stateNode,p,2),m=vt(m,p,2),m!==null&&(V(m,2),ye(m))}function er(m,p,M){if(m.tag===3)wl(m,m,M);else for(;p!==null;){if(p.tag===3){wl(p,m,M);break}else if(p.tag===1){var D=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(Rc===null||!Rc.has(D))){m=oe(M,m),M=fl(2),D=vt(p,M,2),D!==null&&(Eh(M,D,p,m),V(D,2),ye(D));break}}p=p.return}}function Do(m,p,M){var D=m.pingCache;if(D===null){D=m.pingCache=new Pa;var H=new Set;D.set(p,H)}else H=D.get(p),H===void 0&&(H=new Set,D.set(p,H));H.has(M)||(Ei=!0,H.add(M),m=zr.bind(null,m,p,M),p.then(m,m))}function zr(m,p,M){var D=m.pingCache;D!==null&&D.delete(p),m.pingedLanes|=m.suspendedLanes&M,m.warmLanes&=~M,lr===m&&(Vn&M)===M&&(br===4||br===3&&(Vn&62914560)===Vn&&300>Aa()-Ss?(Jn&2)===0&&R(m,0):$h|=M,Wo===Vn&&(Wo=0)),ye(m)}function Qs(m,p){p===0&&(p=k()),m=Xe(m,p),m!==null&&(V(m,p),ye(m))}function ro(m){var p=m.memoizedState,M=0;p!==null&&(M=p.retryLane),Qs(m,M)}function Po(m,p){var M=0;switch(m.tag){case 13:var D=m.stateNode,H=m.memoizedState;H!==null&&(M=H.retryLane);break;case 19:D=m.stateNode;break;case 22:D=m.stateNode._retryCache;break;default:throw Error(i(314))}D!==null&&D.delete(p),Qs(m,M)}function io(m,p){return Yh(m,p)}function du(m,p,M,D){this.tag=m,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gc(m){return m=m.prototype,!(!m||!m.isReactComponent)}function zs(m,p){var M=m.alternate;return M===null?(M=t(m.tag,p,m.key,m.mode),M.elementType=m.elementType,M.type=m.type,M.stateNode=m.stateNode,M.alternate=m,m.alternate=M):(M.pendingProps=p,M.type=m.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=m.flags&31457280,M.childLanes=m.childLanes,M.lanes=m.lanes,M.child=m.child,M.memoizedProps=m.memoizedProps,M.memoizedState=m.memoizedState,M.updateQueue=m.updateQueue,p=m.dependencies,M.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},M.sibling=m.sibling,M.index=m.index,M.ref=m.ref,M.refCleanup=m.refCleanup,M}function Ph(m,p){m.flags&=31457282;var M=m.alternate;return M===null?(m.childLanes=0,m.lanes=p,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=M.childLanes,m.lanes=M.lanes,m.child=M.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=M.memoizedProps,m.memoizedState=M.memoizedState,m.updateQueue=M.updateQueue,m.type=M.type,p=M.dependencies,m.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),m}function Lo(m,p,M,D,H,Z){var pe=0;if(D=m,typeof m=="function")gc(m)&&(pe=1);else if(typeof m=="string")pe=ea&&mr?Gh(m,M,Si.current)?26:Uo(m)?27:5:ea?Gh(m,M,Si.current)?26:5:mr&&Uo(m)?27:5;else e:switch(m){case bc:return qr(M.children,H,Z,p);case Ih:pe=8,H|=24;break;case cm:return m=t(12,M,p,H|2),m.elementType=cm,m.lanes=Z,m;case um:return m=t(13,M,p,H),m.elementType=um,m.lanes=Z,m;case gd:return m=t(19,M,p,H),m.elementType=gd,m.lanes=Z,m;case _0:return Lh(M,H,Z,p);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case Bh:case so:pe=10;break e;case y0:pe=9;break e;case kh:pe=11;break e;case dm:pe=14;break e;case Ma:pe=16,D=null;break e}pe=29,M=Error(i(130,m===null?"null":typeof m,"")),D=null}return p=t(pe,M,p,H),p.elementType=m,p.type=D,p.lanes=Z,p}function qr(m,p,M,D){return m=t(7,m,D,p),m.lanes=M,m}function Lh(m,p,M,D){m=t(22,m,D,p),m.elementType=_0,m.lanes=M;var H={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var Z=H._current;if(Z===null)throw Error(i(456));if((H._pendingVisibility&2)===0){var pe=Xe(Z,2);pe!==null&&(H._pendingVisibility|=2,ei(pe,Z,2))}},attach:function(){var Z=H._current;if(Z===null)throw Error(i(456));if((H._pendingVisibility&2)!==0){var pe=Xe(Z,2);pe!==null&&(H._pendingVisibility&=-3,ei(pe,Z,2))}}};return m.stateNode=H,m}function am(m,p,M){return m=t(6,m,null,p),m.lanes=M,m}function v0(m,p,M){return p=t(4,m.children!==null?m.children:[],m.key,p),p.lanes=M,p.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},p}function m_(m,p,M,D,H,Z,pe,Ne){this.tag=1,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=xc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.hiddenUpdates=z(null),this.identifierPrefix=D,this.onUncaughtError=H,this.onCaughtError=Z,this.onRecoverableError=pe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ne,this.incompleteTransitions=new Map}function Vb(m,p,M,D,H,Z,pe,Ne,Ie,rt,xt,Tt){return m=new m_(m,p,M,pe,Ne,Ie,rt,Tt),p=1,Z===!0&&(p|=24),Z=t(3,null,null,p),m.current=Z,Z.stateNode=m,p=To(),p.refCount++,m.pooledCache=p,p.refCount++,Z.memoizedState={element:D,isDehydrated:M,cache:p},wt(Z),m}function di(m){return m?(m=wc,m):wc}function om(m){var p=m._reactInternals;if(p===void 0)throw typeof m.render=="function"?Error(i(188)):(m=Object.keys(m).join(","),Error(i(268,m)));return m=y(p),m=m!==null?w(m):null,m===null?null:vd(m.stateNode)}function fd(m,p,M,D,H,Z){H=di(H),D.context===null?D.context=H:D.pendingContext=H,D=ut(p),D.payload={element:M},Z=Z===void 0?null:Z,Z!==null&&(D.callback=Z),M=vt(m,D,p),M!==null&&(ei(M,m,p),It(M,m,p))}function md(m,p){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var M=m.retryLane;m.retryLane=M!==0&&M<p?M:p}}function zh(m,p){md(m,p),(m=m.alternate)&&md(m,p)}var wn={},pd=qf(),$s=iY(),lm=Object.assign,p_=Symbol.for("react.element"),Uh=Symbol.for("react.transitional.element"),Ta=Symbol.for("react.portal"),bc=Symbol.for("react.fragment"),Ih=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),Bh=Symbol.for("react.provider"),y0=Symbol.for("react.consumer"),so=Symbol.for("react.context"),kh=Symbol.for("react.forward_ref"),um=Symbol.for("react.suspense"),gd=Symbol.for("react.suspense_list"),dm=Symbol.for("react.memo"),Ma=Symbol.for("react.lazy"),_0=Symbol.for("react.offscreen"),Fb=Symbol.for("react.memo_cache_sentinel"),El=Symbol.iterator,S0=Symbol.for("react.client.reference"),fn=pd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,zo,Nl,hu=!1,bd=Array.isArray,w0=e.rendererVersion,Hh=e.rendererPackageName,xd=e.extraDevToolsConfig,vd=e.getPublicInstance,qb=e.getRootHostContext,yd=e.getChildHostContext,hm=e.prepareForCommit,Gb=e.resetAfterCommit,E0=e.createInstance,Vh=e.appendInitialChild,Tl=e.finalizeInitialChildren,En=e.shouldSetTextContent,hr=e.createTextInstance,hi=e.scheduleTimeout,fm=e.cancelTimeout,xc=e.noTimeout,xs=e.isPrimaryRenderer;e.warnsIfNotActing;var _i=e.supportsMutation,ja=e.supportsPersistence,Ui=e.supportsHydration,Wb=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var ti=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var is=e.setCurrentUpdatePriority,Ml=e.getCurrentUpdatePriority,Xb=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Yb=e.shouldAttemptEagerTransition,g_=e.detachDeletedInstance;e.requestPostPaintCallback;var N0=e.maySuspendCommit,mm=e.preloadInstance,T0=e.startSuspendingCommit,vs=e.suspendInstance,fi=e.waitForCommitToBeReady,vc=e.NotPendingTransition,ao=e.HostTransitionContext,pm=e.resetFormInstance;e.bindToConsole;var M0=e.supportsMicrotasks,jl=e.scheduleMicrotask,yc=e.supportsTestSelectors,j0=e.findFiberRoot,A0=e.getBoundingRect,Zb=e.getTextContent,_d=e.isHiddenSubtree,Kb=e.matchAccessibilityRole,Jb=e.setFocusIfFocusable,Qb=e.setupIntersectionObserver,$b=e.appendChild,C0=e.appendChildToContainer,ex=e.commitTextUpdate,b_=e.commitMount,tx=e.commitUpdate,nx=e.insertBefore,rx=e.insertInContainerBefore,R0=e.removeChild,ix=e.removeChildFromContainer,O0=e.resetTextContent,sx=e.hideInstance,ax=e.hideTextInstance,ox=e.unhideInstance,x_=e.unhideTextInstance,lx=e.clearContainer,Sd=e.cloneInstance,Fh=e.createContainerChildSet,D0=e.appendChildToContainerChildSet,gm=e.finalizeContainerChildren,wd=e.replaceContainerChildren,P0=e.cloneHiddenInstance,L0=e.cloneHiddenTextInstance,bm=e.isSuspenseInstancePending,xm=e.isSuspenseInstanceFallback,cx=e.getSuspenseInstanceFallbackErrorDetails,ux=e.registerSuspenseInstanceRetry,z0=e.canHydrateFormStateMarker,dx=e.isFormStateMarkerMatching,U0=e.getNextHydratableSibling,vm=e.getFirstHydratableChild,hx=e.getFirstHydratableChildWithinContainer,fx=e.getFirstHydratableChildWithinSuspenseInstance,v_=e.canHydrateInstance,I0=e.canHydrateTextInstance,mx=e.canHydrateSuspenseInstance,px=e.hydrateInstance,B0=e.hydrateTextInstance,gx=e.hydrateSuspenseInstance,bx=e.getNextHydratableInstanceAfterSuspenseInstance,y_=e.commitHydratedContainer,__=e.commitHydratedSuspenseInstance,xx=e.clearSuspenseBoundary,qh=e.clearSuspenseBoundaryFromContainer,ym=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var _m=e.validateHydratableInstance,vx=e.validateHydratableTextInstance,ea=e.supportsResources,Gh=e.isHostHoistableType,Sm=e.getHoistableRoot,k0=e.getResource,yx=e.acquireResource,fu=e.releaseResource,Wh=e.hydrateHoistable,Xh=e.mountHoistable,Ed=e.unmountHoistable,wm=e.createHoistableInstance,_x=e.prepareToCommitHoistables,Sx=e.mayResourceSuspendCommit,mu=e.preloadResource,wx=e.suspendResource,mr=e.supportsSingletons,oo=e.resolveSingletonInstance,_c=e.clearSingleton,Ex=e.acquireSingletonInstance,Sc=e.releaseSingletonInstance,Uo=e.isHostSingletonType,ni=[],Al=-1,wc={},ys=Math.clz32?Math.clz32:C,Nx=Math.log,Tx=Math.LN2,Io=128,pu=4194304,Yh=$s.unstable_scheduleCallback,Em=$s.unstable_cancelCallback,Mx=$s.unstable_shouldYield,Nm=$s.unstable_requestPaint,Aa=$s.unstable_now,Tm=$s.unstable_ImmediatePriority,jx=$s.unstable_UserBlockingPriority,Mm=$s.unstable_NormalPriority,S_=$s.unstable_IdlePriority,Ax=$s.log,Ci=$s.unstable_setDisableYieldValue,ri=null,Us=null,Is=typeof Object.is=="function"?Object.is:$,H0=new WeakMap,gu=[],bu=0,xu=null,Nd=0,ta=[],na=0,Ec=null,lo=1,co="",Si=N(null),Td=N(null),Bo=N(null),vu=N(null),Ii=null,Bi=null,Yn=!1,Ca=null,Ri=!1,Zh=Error(i(519)),Ra=[],yu=0,uo=0,Kh=null,Cl=null,_u=!1,wr=!1,V0=!1,Md=0,jd=null,Su=0,ra=0,wu=null,Rl=!1,Eu=!1,ko=Object.prototype.hasOwnProperty,Ad=Error(i(460)),Jh=Error(i(474)),Qh={then:function(){}},Nc=null,Tc=null,Mc=0,jc=Br(!0),Ho=Br(!1),Er=N(null),Cd=N(0),ia=N(null),pr=null,wi=N(0),Ol=0,An=null,nn=null,Kn=null,Oa=!1,Nu=!1,Ac=!1,jm=0,Tu=0,Oi=null,ho=0,Am=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Gr={readContext:Qr,use:Pe,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur};Gr.useCacheRefresh=ur,Gr.useMemoCache=ur,Gr.useHostTransitionStatus=ur,Gr.useFormState=ur,Gr.useActionState=ur,Gr.useOptimistic=ur;var Cc={readContext:Qr,use:Pe,useCallback:function(m,p){return Ce().memoizedState=[m,p===void 0?null:p],m},useContext:Qr,useEffect:ec,useImperativeHandle:function(m,p,M){M=M!=null?M.concat([m]):null,ol(4194308,4,tc.bind(null,p,m),M)},useLayoutEffect:function(m,p){return ol(4194308,4,m,p)},useInsertionEffect:function(m,p){ol(4,2,m,p)},useMemo:function(m,p){var M=Ce();p=p===void 0?null:p;var D=m();if(Ac){K(!0);try{m()}finally{K(!1)}}return M.memoizedState=[D,p],D},useReducer:function(m,p,M){var D=Ce();if(M!==void 0){var H=M(p);if(Ac){K(!0);try{M(p)}finally{K(!1)}}}else H=p;return D.memoizedState=D.baseState=H,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:H},D.queue=m,m=m.dispatch=nc.bind(null,An,m),[D.memoizedState,m]},useRef:function(m){var p=Ce();return m={current:m},p.memoizedState=m},useState:function(m){m=hn(m);var p=m.queue,M=dl.bind(null,An,p);return p.dispatch=M,[m.memoizedState,M]},useDebugValue:Ga,useDeferredValue:function(m,p){var M=Ce();return ln(M,m,p)},useTransition:function(){var m=hn(!1);return m=Zn.bind(null,An,m.queue,!0,!1),Ce().memoizedState=m,[!1,m]},useSyncExternalStore:function(m,p,M){var D=An,H=Ce();if(Yn){if(M===void 0)throw Error(i(407));M=M()}else{if(M=p(),lr===null)throw Error(i(349));(Vn&60)!==0||Ut(D,p,M)}H.memoizedState=M;var Z={value:M,getSnapshot:p};return H.queue=Z,ec(Pn.bind(null,D,Z,m),[m]),D.flags|=2048,Ar(9,vn.bind(null,D,Z,M,p),{destroy:void 0},null),M},useId:function(){var m=Ce(),p=lr.identifierPrefix;if(Yn){var M=co,D=lo;M=(D&~(1<<32-ys(D)-1)).toString(32)+M,p=":"+p+"R"+M,M=jm++,0<M&&(p+="H"+M.toString(32)),p+=":"}else M=ho++,p=":"+p+"r"+M.toString(32)+":";return m.memoizedState=p},useCacheRefresh:function(){return Ce().memoizedState=Xa.bind(null,An)}};Cc.useMemoCache=ft,Cc.useHostTransitionStatus=ul,Cc.useFormState=Mi,Cc.useActionState=Mi,Cc.useOptimistic=function(m){var p=Ce();p.memoizedState=p.baseState=m;var M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=M,p=Rs.bind(null,An,!0,M),M.dispatch=p,[m,p]};var _s={readContext:Qr,use:Pe,useCallback:Wa,useContext:Qr,useEffect:$c,useImperativeHandle:cl,useInsertionEffect:eu,useLayoutEffect:ll,useMemo:wh,useReducer:Ct,useRef:$l,useState:function(){return Ct(yt)},useDebugValue:Ga,useDeferredValue:function(m,p){var M=He();return Cs(M,nn.memoizedState,m,p)},useTransition:function(){var m=Ct(yt)[0],p=He().memoizedState;return[typeof m=="boolean"?m:Ze(m),p]},useSyncExternalStore:Xt,useId:So};_s.useCacheRefresh=Ks,_s.useMemoCache=ft,_s.useHostTransitionStatus=ul,_s.useFormState=Vr,_s.useActionState=Vr,_s.useOptimistic=function(m,p){var M=He();return kt(M,nn,m,p)};var sa={readContext:Qr,use:Pe,useCallback:Wa,useContext:Qr,useEffect:$c,useImperativeHandle:cl,useInsertionEffect:eu,useLayoutEffect:ll,useMemo:wh,useReducer:qt,useRef:$l,useState:function(){return qt(yt)},useDebugValue:Ga,useDeferredValue:function(m,p){var M=He();return nn===null?ln(M,m,p):Cs(M,nn.memoizedState,m,p)},useTransition:function(){var m=qt(yt)[0],p=He().memoizedState;return[typeof m=="boolean"?m:Ze(m),p]},useSyncExternalStore:Xt,useId:So};sa.useCacheRefresh=Ks,sa.useMemoCache=ft,sa.useHostTransitionStatus=ul,sa.useFormState=fs,sa.useActionState=fs,sa.useOptimistic=function(m,p){var M=He();return nn!==null?kt(M,nn,m,p):(M.baseState=m,[m,M.queue.dispatch])};var Vo={isMounted:function(m){return(m=m._reactInternals)?b(m)===m:!1},enqueueSetState:function(m,p,M){m=m._reactInternals;var D=Lr(),H=ut(D);H.payload=p,M!=null&&(H.callback=M),p=vt(m,H,D),p!==null&&(ei(p,m,D),It(p,m,D))},enqueueReplaceState:function(m,p,M){m=m._reactInternals;var D=Lr(),H=ut(D);H.tag=1,H.payload=p,M!=null&&(H.callback=M),p=vt(m,H,D),p!==null&&(ei(p,m,D),It(p,m,D))},enqueueForceUpdate:function(m,p){m=m._reactInternals;var M=Lr(),D=ut(M);D.tag=2,p!=null&&(D.callback=p),p=vt(m,D,M),p!==null&&(ei(p,m,M),It(p,m,M))}},Cm=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},Rm=Error(i(461)),gr=!1,Om={dehydrated:null,treeContext:null,retryLane:0},Dl=N(null),fo=null,aa=null,Rd=typeof AbortController<"u"?AbortController:function(){var m=[],p=this.signal={aborted:!1,addEventListener:function(M,D){m.push(D)}};this.abort=function(){p.aborted=!0,m.forEach(function(M){return M()})}},Cx=$s.unstable_scheduleCallback,Rx=$s.unstable_NormalPriority,Nr={$$typeof:so,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},F0=fn.S;fn.S=function(m,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&ze(m,p),F0!==null&&F0(m,p)};var Fo=N(null),qo=!1,Wr=!1,q0=!1,or=typeof WeakSet=="function"?WeakSet:Set,yn=null,Bn=!1,$t=null,Mn=!1,Ir=null,oa=8192,Od={getCacheForType:function(m){var p=Qr(Nr),M=p.data.get(m);return M===void 0&&(M=m(),p.data.set(m,M)),M}},Dd=0,Da=1,Cr=2,mo=3,Go=4;if(typeof Symbol=="function"&&Symbol.for){var Mu=Symbol.for;Dd=Mu("selector.component"),Da=Mu("selector.has_pseudo_class"),Cr=Mu("selector.role"),mo=Mu("selector.test_id"),Go=Mu("selector.text")}var Pa=typeof WeakMap=="function"?WeakMap:Map,Jn=0,lr=null,sn=null,Vn=0,fr=0,ss=null,La=!1,la=!1,Ei=!1,as=0,br=0,ca=0,Pl=0,$h=0,ua=0,Wo=0,ju=null,Xr=null,Dm=!1,Ss=0,Pd=1/0,ef=null,Rc=null,po=!1,Xo=null,Au=0,Oc=0,Pm=null,Ld=0,Lm=null;return wn.attemptContinuousHydration=function(m){if(m.tag===13){var p=Xe(m,67108864);p!==null&&ei(p,m,67108864),zh(m,67108864)}},wn.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var p=Lr(),M=Xe(m,p);M!==null&&ei(M,m,p),zh(m,p)}},wn.attemptSynchronousHydration=function(m){switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var p=A(m.pendingLanes);if(p!==0){for(m.pendingLanes|=2,m.entangledLanes|=2;p;){var M=1<<31-ys(p);m.entanglements[1]|=M,p&=~M}ye(m),(Jn&6)===0&&(Pd=Aa()+500,Be(0))}}break;case 13:p=Xe(m,2),p!==null&&ei(p,m,2),h(),zh(m,2)}},wn.batchedUpdates=function(m,p){return m(p)},wn.createComponentSelector=function(m){return{$$typeof:Dd,value:m}},wn.createContainer=function(m,p,M,D,H,Z,pe,Ne,Ie,rt){return Vb(m,p,!1,null,M,D,Z,pe,Ne,Ie,rt,null)},wn.createHasPseudoClassSelector=function(m){return{$$typeof:Da,value:m}},wn.createHydrationContainer=function(m,p,M,D,H,Z,pe,Ne,Ie,rt,xt,Tt,Rt){return m=Vb(M,D,!0,m,H,Z,Ne,Ie,rt,xt,Tt,Rt),m.context=di(null),M=m.current,D=Lr(),H=ut(D),H.callback=p??null,vt(M,H,D),m.current.lanes=D,V(m,D),ye(m),m},wn.createPortal=function(m,p,M){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ta,key:D==null?null:""+D,children:m,containerInfo:p,implementation:M}},wn.createRoleSelector=function(m){return{$$typeof:Cr,value:m}},wn.createTestNameSelector=function(m){return{$$typeof:mo,value:m}},wn.createTextSelector=function(m){return{$$typeof:Go,value:m}},wn.defaultOnCaughtError=function(m){console.error(m)},wn.defaultOnRecoverableError=function(m){Cm(m)},wn.defaultOnUncaughtError=function(m){Cm(m)},wn.deferredUpdates=function(m){var p=fn.T,M=Ml();try{return is(32),fn.T=null,m()}finally{is(M),fn.T=p}},wn.discreteUpdates=function(m,p,M,D,H){var Z=fn.T,pe=Ml();try{return is(2),fn.T=null,m(p,M,D,H)}finally{is(pe),fn.T=Z,Jn===0&&(Pd=Aa()+500)}},wn.findAllNodes=pc,wn.findBoundingRects=function(m,p){if(!yc)throw Error(i(363));p=pc(m,p),m=[];for(var M=0;M<p.length;M++)m.push(A0(p[M]));for(p=m.length-1;0<p;p--){M=m[p];for(var D=M.x,H=D+M.width,Z=M.y,pe=Z+M.height,Ne=p-1;0<=Ne;Ne--)if(p!==Ne){var Ie=m[Ne],rt=Ie.x,xt=rt+Ie.width,Tt=Ie.y,Rt=Tt+Ie.height;if(D>=rt&&Z>=Tt&&H<=xt&&pe<=Rt){m.splice(p,1);break}else if(D!==rt||M.width!==Ie.width||Rt<Z||Tt>pe){if(!(Z!==Tt||M.height!==Ie.height||xt<D||rt>H)){rt>D&&(Ie.width+=rt-D,Ie.x=D),xt<H&&(Ie.width=H-rt),m.splice(p,1);break}}else{Tt>Z&&(Ie.height+=Tt-Z,Ie.y=Z),Rt<pe&&(Ie.height=pe-Tt),m.splice(p,1);break}}}return m},wn.findHostInstance=om,wn.findHostInstanceWithNoPortals=function(m){return m=y(m),m=m!==null?T(m):null,m===null?null:vd(m.stateNode)},wn.findHostInstanceWithWarning=function(m){return om(m)},wn.flushPassiveEffects=Js,wn.flushSyncFromReconciler=function(m){var p=Jn;Jn|=1;var M=fn.T,D=Ml();try{if(is(2),fn.T=null,m)return m()}finally{is(D),fn.T=M,Jn=p,(Jn&6)===0&&Be(0)}},wn.flushSyncWork=h,wn.focusWithin=function(m,p){if(!yc)throw Error(i(363));for(m=Na(m),p=ns(m,p),p=Array.from(p),m=0;m<p.length;){var M=p[m++],D=M.tag;if(!_d(M)){if((D===5||D===26||D===27)&&Jb(M.stateNode))return!0;for(M=M.child;M!==null;)p.push(M),M=M.sibling}}return!1},wn.getFindAllNodesFailureDescription=function(m,p){if(!yc)throw Error(i(363));var M=0,D=[];m=[Na(m),0];for(var H=0;H<m.length;){var Z=m[H++],pe=Z.tag,Ne=m[H++],Ie=p[Ne];if((pe!==5&&pe!==26&&pe!==27||!_d(Z))&&(to(Z,Ie)&&(D.push(dd(Ie)),Ne++,Ne>M&&(M=Ne)),Ne<p.length))for(Z=Z.child;Z!==null;)m.push(Z,Ne),Z=Z.sibling}if(M<p.length){for(m=[];M<p.length;M++)m.push(dd(p[M]));return`findAllNodes was able to match part of the selector:
  `+(D.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},wn.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 27:case 5:return vd(m.child.stateNode);default:return m.child.stateNode}},wn.injectIntoDevTools=function(){var m={bundleType:0,version:w0,rendererPackageName:Hh,currentDispatcherRef:fn,findFiberByHostInstance:Wb,reconcilerVersion:"19.0.0"};if(xd!==null&&(m.rendererConfig=xd),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)m=!0;else{try{ri=p.inject(m),Us=p}catch{}m=!!p.checkDCE}}return m},wn.isAlreadyRendering=function(){return!1},wn.observeVisibleRects=function(m,p,M,D){if(!yc)throw Error(i(363));m=pc(m,p);var H=Qb(m,M,D).disconnect;return{disconnect:function(){H()}}},wn.shouldError=function(){return null},wn.shouldSuspend=function(){return!1},wn.startHostTransition=function(m,p,M,D){if(m.tag!==5)throw Error(i(476));var H=Zs(m).queue;Zn(m,H,p,vc,M===null?n:function(){var Z=Zs(m).next.queue;return _r(m,Z,{},Lr()),M(D)})},wn.updateContainer=function(m,p,M,D){var H=p.current,Z=Lr();return fd(H,Z,m,p,M,D),Z},wn.updateContainerSync=function(m,p,M,D){return p.tag===0&&Js(),fd(p.current,2,m,p,M,D),2},wn},r.exports.default=r.exports,Object.defineProperty(r.exports,"__esModule",{value:!0})})(yS)),yS.exports}var RA;function aY(){return RA||(RA=1,vS.exports=sY()),vS.exports}var oY=aY();const lY=ed(oY);var wS={exports:{}},ES={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OA;function cY(){return OA||(OA=1,(function(r){function e(W,K){var $=W.length;W.push(K);e:for(;0<$;){var oe=$-1>>>1,G=W[oe];if(0<i(G,K))W[oe]=K,W[$]=G,$=oe;else break e}}function t(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var K=W[0],$=W.pop();if($!==K){W[0]=$;e:for(var oe=0,G=W.length,Y=G>>>1;oe<Y;){var ne=2*(oe+1)-1,le=W[ne],be=ne+1,ce=W[be];if(0>i(le,$))be<G&&0>i(ce,le)?(W[oe]=ce,W[be]=$,oe=be):(W[oe]=le,W[ne]=$,oe=ne);else if(be<G&&0>i(ce,$))W[oe]=ce,W[be]=$,oe=be;else break e}}return K}function i(W,K){var $=W.sortIndex-K.sortIndex;return $!==0?$:W.id-K.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();r.unstable_now=function(){return o.now()-c}}var d=[],f=[],g=1,b=null,v=3,y=!1,w=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function C(W){for(var K=t(f);K!==null;){if(K.callback===null)n(f);else if(K.startTime<=W)n(f),K.sortIndex=K.expirationTime,e(d,K);else break;K=t(f)}}function A(W){if(T=!1,C(W),!w)if(t(d)!==null)w=!0,ee();else{var K=t(f);K!==null&&te(A,K.startTime-W)}}var P=!1,U=-1,B=5,F=-1;function k(){return!(r.unstable_now()-F<B)}function z(){if(P){var W=r.unstable_now();F=W;var K=!0;try{e:{w=!1,T&&(T=!1,_(U),U=-1),y=!0;var $=v;try{t:{for(C(W),b=t(d);b!==null&&!(b.expirationTime>W&&k());){var oe=b.callback;if(typeof oe=="function"){b.callback=null,v=b.priorityLevel;var G=oe(b.expirationTime<=W);if(W=r.unstable_now(),typeof G=="function"){b.callback=G,C(W),K=!0;break t}b===t(d)&&n(d),C(W)}else n(d);b=t(d)}if(b!==null)K=!0;else{var Y=t(f);Y!==null&&te(A,Y.startTime-W),K=!1}}break e}finally{b=null,v=$,y=!1}K=void 0}}finally{K?V():P=!1}}}var V;if(typeof j=="function")V=function(){j(z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=z,V=function(){J.postMessage(null)}}else V=function(){N(z,0)};function ee(){P||(P=!0,V())}function te(W,K){U=N(function(){W(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_continueExecution=function(){w||y||(w=!0,ee())},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(W){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var $=v;v=K;try{return W()}finally{v=$}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var $=v;v=W;try{return K()}finally{v=$}},r.unstable_scheduleCallback=function(W,K,$){var oe=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?oe+$:oe):$=oe,W){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,W={id:g++,callback:K,priorityLevel:W,startTime:$,expirationTime:G,sortIndex:-1},$>oe?(W.sortIndex=$,e(f,W),t(d)===null&&W===t(f)&&(T?(_(U),U=-1):T=!0,te(A,$-oe))):(W.sortIndex=G,e(d,W),w||y||(w=!0,ee())),W},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(W){var K=v;return function(){var $=v;v=K;try{return W.apply(this,arguments)}finally{v=$}}}})(ES)),ES}var DA;function uY(){return DA||(DA=1,wS.exports=cY()),wS.exports}var PA=uY();function V3(r,e,t){if(!r)return;if(t(r)===!0)return r;let n=e?r.return:r.child;for(;n;){const i=V3(n,e,t);if(i)return i;n=e?null:n.sibling}}function WR(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const F3=WR(ae.createContext(null));class XR extends ae.Component{render(){return ae.createElement(F3.Provider,{value:this._reactInternals},this.props.children)}}function YR(){const r=ae.useContext(F3);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ae.useId();return ae.useMemo(()=>{for(const t of[r,r?.alternate]){if(!t)continue;const n=V3(t,!1,i=>{let a=i.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(n)return n}},[r,e])}const dY=Symbol.for("react.context"),hY=r=>r!==null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===dY;function fY(){const r=YR(),[e]=ae.useState(()=>new Map);e.clear();let t=r;for(;t;){const n=t.type;hY(n)&&n!==F3&&!e.has(n)&&e.set(n,ae.use(WR(n))),t=t.return}return e}function mY(){const r=fY();return ae.useMemo(()=>Array.from(r.keys()).reduce((e,t)=>n=>ae.createElement(e,null,ae.createElement(t.Provider,{...n,value:r.get(t)})),e=>ae.createElement(XR,{...e})),[r])}function ZR(r){let e=r.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const KR=r=>r&&r.isOrthographicCamera,pY=r=>r&&r.hasOwnProperty("current"),gY=r=>r!=null&&(typeof r=="string"||typeof r=="number"||r.isColor),Hb=((r,e)=>typeof window<"u"&&(((r=window.document)==null?void 0:r.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?ae.useLayoutEffect:ae.useEffect;function JR(r){const e=ae.useRef(r);return Hb(()=>void(e.current=r),[r]),e}function bY(){const r=YR(),e=mY();return ae.useMemo(()=>({children:t})=>{const i=!!V3(r,!0,a=>a.type===ae.StrictMode)?ae.StrictMode:ae.Fragment;return s.jsx(i,{children:s.jsx(e,{children:t})})},[r,e])}function xY({set:r}){return Hb(()=>(r(new Promise(()=>null)),()=>r(!1)),[r]),null}const vY=(r=>(r=class extends ae.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},r.getDerivedStateFromError=()=>({error:!0}),r))();function QR(r){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(r)?Math.min(Math.max(r[0],t),r[1]):r}function xp(r){var e;return(e=r.__r3f)==null?void 0:e.root.getState()}const si={obj:r=>r===Object(r)&&!si.arr(r)&&typeof r!="function",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",boo:r=>typeof r=="boolean",und:r=>r===void 0,nul:r=>r===null,arr:r=>Array.isArray(r),equ(r,e,{arrays:t="shallow",objects:n="reference",strict:i=!0}={}){if(typeof r!=typeof e||!!r!=!!e)return!1;if(si.str(r)||si.num(r)||si.boo(r))return r===e;const a=si.obj(r);if(a&&n==="reference")return r===e;const o=si.arr(r);if(o&&t==="reference")return r===e;if((o||a)&&r===e)return!0;let c;for(c in r)if(!(c in e))return!1;if(a&&t==="shallow"&&n==="shallow"){for(c in i?e:r)if(!si.equ(r[c],e[c],{strict:i,objects:"reference"}))return!1}else for(c in i?e:r)if(r[c]!==e[c])return!1;if(si.und(c)){if(o&&r.length===0&&e.length===0||a&&Object.keys(r).length===0&&Object.keys(e).length===0)return!0;if(r!==e)return!1}return!0}};function yY(r){r.type!=="Scene"&&(r.dispose==null||r.dispose());for(const e in r){const t=r[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const $R=["children","key","ref"];function _Y(r){const e={};for(const t in r)$R.includes(t)||(e[t]=r[t]);return e}function oy(r,e,t,n){const i=r;let a=i?.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:_Y(n),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=a)),a}function yb(r,e){let t=r[e];if(!e.includes("-"))return{root:r,key:e,target:t};t=r;for(const i of e.split("-")){var n;e=i,r=t,t=(n=t)==null?void 0:n[e]}return{root:r,key:e,target:t}}const LA=/-\d+$/;function ly(r,e){if(si.str(e.props.attach)){if(LA.test(e.props.attach)){const i=e.props.attach.replace(LA,""),{root:a,key:o}=yb(r.object,i);Array.isArray(a[o])||(a[o]=[])}const{root:t,key:n}=yb(r.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else si.fun(e.props.attach)&&(e.previousAttach=e.props.attach(r.object,e.object))}function cy(r,e){if(si.str(e.props.attach)){const{root:t,key:n}=yb(r.object,e.props.attach),i=e.previousAttach;i===void 0?delete t[n]:t[n]=i}else e.previousAttach==null||e.previousAttach(r.object,e.object);delete e.previousAttach}const Gw=[...$R,"args","dispose","attach","object","onUpdate","dispose"],zA=new Map;function SY(r){let e=zA.get(r.constructor);try{e||(e=new r.constructor,zA.set(r.constructor,e))}catch{}return e}function wY(r,e){const t={};for(const n in e)if(!Gw.includes(n)&&!si.equ(e[n],r.props[n])){t[n]=e[n];for(const i in e)i.startsWith(`${n}-`)&&(t[i]=e[i])}for(const n in r.props){if(Gw.includes(n)||e.hasOwnProperty(n))continue;const{root:i,key:a}=yb(r.object,n);if(i.constructor&&i.constructor.length===0){const o=SY(i);si.und(o)||(t[a]=o[a])}else t[a]=0}return t}const EY=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],NY=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function ch(r,e){var t;const n=r.__r3f,i=n&&ZR(n).getState(),a=n?.eventCount;for(const c in e){let d=e[c];if(Gw.includes(c))continue;if(n&&NY.test(c)){typeof d=="function"?n.handlers[c]=d:delete n.handlers[c],n.eventCount=Object.keys(n.handlers).length;continue}if(d===void 0)continue;let{root:f,key:g,target:b}=yb(r,c);if(b instanceof Kp&&d instanceof Kp)b.mask=d.mask;else if(b instanceof Ot&&gY(d))b.set(d);else if(b!==null&&typeof b=="object"&&typeof b.set=="function"&&typeof b.copy=="function"&&d!=null&&d.constructor&&b.constructor===d.constructor)b.copy(d);else if(b!==null&&typeof b=="object"&&typeof b.set=="function"&&Array.isArray(d))typeof b.fromArray=="function"?b.fromArray(d):b.set(...d);else if(b!==null&&typeof b=="object"&&typeof b.set=="function"&&typeof d=="number")typeof b.setScalar=="function"?b.setScalar(d):b.set(d);else{var o;f[g]=d,i&&!i.linear&&EY.includes(g)&&(o=f[g])!=null&&o.isTexture&&f[g].format===Gs&&f[g].type===il&&(f[g].colorSpace=Fs)}}if(n!=null&&n.parent&&i!=null&&i.internal&&(t=n.object)!=null&&t.isObject3D&&a!==n.eventCount){const c=n.object,d=i.internal.interaction.indexOf(c);d>-1&&i.internal.interaction.splice(d,1),n.eventCount&&c.raycast!==null&&i.internal.interaction.push(c)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&p0(n),r}function p0(r){var e;if(!r.parent)return;r.props.onUpdate==null||r.props.onUpdate(r.object);const t=(e=r.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function TY(r,e){r.manual||(KR(r)?(r.left=e.width/-2,r.right=e.width/2,r.top=e.height/2,r.bottom=e.height/-2):r.aspect=e.width/e.height,r.updateProjectionMatrix())}const Ia=r=>r?.isObject3D;function Zv(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}function eO(r,e,t,n){const i=t.get(e);i&&(t.delete(e),t.size===0&&(r.delete(n),i.target.releasePointerCapture(n)))}function MY(r,e){const{internal:t}=r.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,i)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((n,i)=>{eO(t.capturedMap,e,n,i)})}function jY(r){function e(d){const{internal:f}=r.getState(),g=d.offsetX-f.initialClick[0],b=d.offsetY-f.initialClick[1];return Math.round(Math.sqrt(g*g+b*b))}function t(d){return d.filter(f=>["Move","Over","Enter","Out","Leave"].some(g=>{var b;return(b=f.__r3f)==null?void 0:b.handlers["onPointer"+g]}))}function n(d,f){const g=r.getState(),b=new Set,v=[],y=f?f(g.internal.interaction):g.internal.interaction;for(let _=0;_<y.length;_++){const j=xp(y[_]);j&&(j.raycaster.camera=void 0)}g.previousRoot||g.events.compute==null||g.events.compute(d,g);function w(_){const j=xp(_);if(!j||!j.events.enabled||j.raycaster.camera===null)return[];if(j.raycaster.camera===void 0){var C;j.events.compute==null||j.events.compute(d,j,(C=j.previousRoot)==null?void 0:C.getState()),j.raycaster.camera===void 0&&(j.raycaster.camera=null)}return j.raycaster.camera?j.raycaster.intersectObject(_,!0):[]}let T=y.flatMap(w).sort((_,j)=>{const C=xp(_.object),A=xp(j.object);return!C||!A?_.distance-j.distance:A.events.priority-C.events.priority||_.distance-j.distance}).filter(_=>{const j=Zv(_);return b.has(j)?!1:(b.add(j),!0)});g.events.filter&&(T=g.events.filter(T,g));for(const _ of T){let j=_.object;for(;j;){var N;(N=j.__r3f)!=null&&N.eventCount&&v.push({..._,eventObject:j}),j=j.parent}}if("pointerId"in d&&g.internal.capturedMap.has(d.pointerId))for(let _ of g.internal.capturedMap.get(d.pointerId).values())b.has(Zv(_.intersection))||v.push(_.intersection);return v}function i(d,f,g,b){if(d.length){const v={stopped:!1};for(const y of d){let w=xp(y.object);if(w||y.object.traverseAncestors(T=>{const N=xp(T);if(N)return w=N,!1}),w){const{raycaster:T,pointer:N,camera:_,internal:j}=w,C=new ve(N.x,N.y,0).unproject(_),A=k=>{var z,V;return(z=(V=j.capturedMap.get(k))==null?void 0:V.has(y.eventObject))!=null?z:!1},P=k=>{const z={intersection:y,target:f.target};j.capturedMap.has(k)?j.capturedMap.get(k).set(y.eventObject,z):j.capturedMap.set(k,new Map([[y.eventObject,z]])),f.target.setPointerCapture(k)},U=k=>{const z=j.capturedMap.get(k);z&&eO(j.capturedMap,y.eventObject,z,k)};let B={};for(let k in f){let z=f[k];typeof z!="function"&&(B[k]=z)}let F={...y,...B,pointer:N,intersections:d,stopped:v.stopped,delta:g,unprojectedPoint:C,ray:T.ray,camera:_,stopPropagation(){const k="pointerId"in f&&j.capturedMap.get(f.pointerId);if((!k||k.has(y.eventObject))&&(F.stopped=v.stopped=!0,j.hovered.size&&Array.from(j.hovered.values()).find(z=>z.eventObject===y.eventObject))){const z=d.slice(0,d.indexOf(y));a([...z,y])}},target:{hasPointerCapture:A,setPointerCapture:P,releasePointerCapture:U},currentTarget:{hasPointerCapture:A,setPointerCapture:P,releasePointerCapture:U},nativeEvent:f};if(b(F),v.stopped===!0)break}}}return d}function a(d){const{internal:f}=r.getState();for(const g of f.hovered.values())if(!d.length||!d.find(b=>b.object===g.object&&b.index===g.index&&b.instanceId===g.instanceId)){const v=g.eventObject.__r3f;if(f.hovered.delete(Zv(g)),v!=null&&v.eventCount){const y=v.handlers,w={...g,intersections:d};y.onPointerOut==null||y.onPointerOut(w),y.onPointerLeave==null||y.onPointerLeave(w)}}}function o(d,f){for(let g=0;g<f.length;g++){const b=f[g].__r3f;b==null||b.handlers.onPointerMissed==null||b.handlers.onPointerMissed(d)}}function c(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return f=>{const{internal:g}=r.getState();"pointerId"in f&&g.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{g.capturedMap.has(f.pointerId)&&(g.capturedMap.delete(f.pointerId),a([]))})}}return function(g){const{onPointerMissed:b,internal:v}=r.getState();v.lastEvent.current=g;const y=d==="onPointerMove",w=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",N=n(g,y?t:void 0),_=w?e(g):0;d==="onPointerDown"&&(v.initialClick=[g.offsetX,g.offsetY],v.initialHits=N.map(C=>C.eventObject)),w&&!N.length&&_<=2&&(o(g,v.interaction),b&&b(g)),y&&a(N);function j(C){const A=C.eventObject,P=A.__r3f;if(!(P!=null&&P.eventCount))return;const U=P.handlers;if(y){if(U.onPointerOver||U.onPointerEnter||U.onPointerOut||U.onPointerLeave){const B=Zv(C),F=v.hovered.get(B);F?F.stopped&&C.stopPropagation():(v.hovered.set(B,C),U.onPointerOver==null||U.onPointerOver(C),U.onPointerEnter==null||U.onPointerEnter(C))}U.onPointerMove==null||U.onPointerMove(C)}else{const B=U[d];B?(!w||v.initialHits.includes(A))&&(o(g,v.interaction.filter(F=>!v.initialHits.includes(F))),B(C)):w&&v.initialHits.includes(A)&&o(g,v.interaction.filter(F=>!v.initialHits.includes(F)))}}i(N,g,_,j)}}return{handlePointer:c}}const UA=r=>!!(r!=null&&r.render),tO=ae.createContext(null),AY=(r,e)=>{const t=nY((c,d)=>{const f=new ve,g=new ve,b=new ve;function v(_=d().camera,j=g,C=d().size){const{width:A,height:P,top:U,left:B}=C,F=A/P;j.isVector3?b.copy(j):b.set(...j);const k=_.getWorldPosition(f).distanceTo(b);if(KR(_))return{width:A/_.zoom,height:P/_.zoom,top:U,left:B,factor:1,distance:k,aspect:F};{const z=_.fov*Math.PI/180,V=2*Math.tan(z/2)*k,X=V*(A/P);return{width:X,height:V,top:U,left:B,factor:A/X,distance:k,aspect:F}}}let y;const w=_=>c(j=>({performance:{...j.performance,current:_}})),T=new dt;return{set:c,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(_=1)=>r(d(),_),advance:(_,j)=>e(_,j,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new z3,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=d();y&&clearTimeout(y),_.performance.current!==_.performance.min&&w(_.performance.min),y=setTimeout(()=>w(d().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:_=>c(j=>({...j,events:{...j.events,..._}})),setSize:(_,j,C=0,A=0)=>{const P=d().camera,U={width:_,height:j,top:C,left:A};c(B=>({size:U,viewport:{...B.viewport,...v(P,g,U)}}))},setDpr:_=>c(j=>{const C=QR(_);return{viewport:{...j.viewport,dpr:C,initialDpr:j.viewport.initialDpr||C}}}),setFrameloop:(_="always")=>{const j=d().clock;j.stop(),j.elapsedTime=0,_!=="never"&&(j.start(),j.elapsedTime=0),c(()=>({frameloop:_}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:ae.createRef(),active:!1,frames:0,priority:0,subscribe:(_,j,C)=>{const A=d().internal;return A.priority=A.priority+(j>0?1:0),A.subscribers.push({ref:_,priority:j,store:C}),A.subscribers=A.subscribers.sort((P,U)=>P.priority-U.priority),()=>{const P=d().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(j>0?1:0),P.subscribers=P.subscribers.filter(U=>U.ref!==_))}}}}}),n=t.getState();let i=n.size,a=n.viewport.dpr,o=n.camera;return t.subscribe(()=>{const{camera:c,size:d,viewport:f,gl:g,set:b}=t.getState();if(d.width!==i.width||d.height!==i.height||f.dpr!==a){i=d,a=f.dpr,TY(c,d),f.dpr>0&&g.setPixelRatio(f.dpr);const v=typeof HTMLCanvasElement<"u"&&g.domElement instanceof HTMLCanvasElement;g.setSize(d.width,d.height,v)}c!==o&&(o=c,b(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(c)}})))}),t.subscribe(c=>r(c)),t};function nO(){const r=ae.useContext(tO);if(!r)throw new Error("R3F: Hooks can only be used within the Canvas component!");return r}function CY(r=t=>t,e){return nO()(r,e)}function RY(r,e=0){const t=nO(),n=t.getState().internal.subscribe,i=JR(r);return Hb(()=>n(i,e,t),[e,n,t]),null}function OY(r){const e=lY(r);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ae.version}),e}const rO=0,e0={},DY=/^three(?=[A-Z])/,i_=r=>`${r[0].toUpperCase()}${r.slice(1)}`;let PY=0;const LY=r=>typeof r=="function";function zY(r){if(LY(r)){const e=`${PY++}`;return e0[e]=r,e}else Object.assign(e0,r)}function iO(r,e){const t=i_(r),n=e0[t];if(r!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(r==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function UY(r,e,t){var n;return r=i_(r)in e0?r:r.replace(DY,""),iO(r,e),r==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,oy(e.object,t,r,e)}function IY(r){if(!r.isHidden){var e;r.props.attach&&(e=r.parent)!=null&&e.object?cy(r.parent,r):Ia(r.object)&&(r.object.visible=!1),r.isHidden=!0,p0(r)}}function sO(r){if(r.isHidden){var e;r.props.attach&&(e=r.parent)!=null&&e.object?ly(r.parent,r):Ia(r.object)&&r.props.visible!==!1&&(r.object.visible=!0),r.isHidden=!1,p0(r)}}function q3(r,e,t){const n=e.root.getState();if(!(!r.parent&&r.object!==n.scene)){if(!e.object){var i,a;const o=e0[i_(e.type)];e.object=(i=e.props.object)!=null?i:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(ch(e.object,e.props),e.props.attach)ly(r,e);else if(Ia(e.object)&&Ia(r.object)){const o=r.object.children.indexOf(t?.object);if(t&&o!==-1){const c=r.object.children.indexOf(e.object);if(c!==-1){r.object.children.splice(c,1);const d=c<o?o-1:o;r.object.children.splice(d,0,e.object)}else e.object.parent=r.object,r.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),r.object.dispatchEvent({type:"childadded",child:e.object})}else r.object.add(e.object)}for(const o of e.children)q3(e,o);p0(e)}}function NS(r,e){e&&(e.parent=r,r.children.push(e),q3(r,e))}function IA(r,e,t){if(!e||!t)return;e.parent=r;const n=r.children.indexOf(t);n!==-1?r.children.splice(n,0,e):r.children.push(e),q3(r,e,t)}function aO(r){if(typeof r.dispose=="function"){const e=()=>{try{r.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():PA.unstable_scheduleCallback(PA.unstable_IdlePriority,e)}}function Ww(r,e,t){if(!e)return;e.parent=null;const n=r.children.indexOf(e);n!==-1&&r.children.splice(n,1),e.props.attach?cy(r,e):Ia(e.object)&&Ia(r.object)&&(r.object.remove(e.object),MY(ZR(e),e.object));const i=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];Ww(e,o,i)}e.children.length=0,delete e.object.__r3f,i&&e.type!=="primitive"&&e.object.type!=="Scene"&&aO(e.object),t===void 0&&p0(e)}function BY(r,e){for(const t of[r,r.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const l1=[];function kY(){for(const[t]of l1){const n=t.parent;if(n){t.props.attach?cy(n,t):Ia(t.object)&&Ia(n.object)&&n.object.remove(t.object);for(const i of t.children)i.props.attach?cy(t,i):Ia(i.object)&&Ia(t.object)&&t.object.remove(i.object)}t.isHidden&&sO(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&aO(t.object)}for(const[t,n,i]of l1){t.props=n;const a=t.parent;if(a){var r,e;const o=e0[i_(t.type)];t.object=(r=t.props.object)!=null?r:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,BY(i,t.object),ch(t.object,t.props),t.props.attach?ly(a,t):Ia(t.object)&&Ia(a.object)&&a.object.add(t.object);for(const c of t.children)c.props.attach?ly(t,c):Ia(c.object)&&Ia(t.object)&&t.object.add(c.object);p0(t)}}l1.length=0}const TS=()=>{},BA={};let Kv=rO;const HY=0,VY=4,Xw=OY({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:UY,removeChild:Ww,appendChild:NS,appendInitialChild:NS,insertBefore:IA,appendChildToContainer(r,e){const t=r.getState().scene.__r3f;!e||!t||NS(t,e)},removeChildFromContainer(r,e){const t=r.getState().scene.__r3f;!e||!t||Ww(t,e)},insertInContainerBefore(r,e,t){const n=r.getState().scene.__r3f;!e||!t||!n||IA(n,e,t)},getRootHostContext:()=>BA,getChildHostContext:()=>BA,commitUpdate(r,e,t,n,i){var a,o,c;iO(e,n);let d=!1;if((r.type==="primitive"&&t.object!==n.object||((a=n.args)==null?void 0:a.length)!==((o=t.args)==null?void 0:o.length)||(c=n.args)!=null&&c.some((g,b)=>{var v;return g!==((v=t.args)==null?void 0:v[b])}))&&(d=!0),d)l1.push([r,{...n},i]);else{const g=wY(r,n);Object.keys(g).length&&(Object.assign(r.props,g),ch(r.object,g))}(i.sibling===null||(i.flags&VY)===HY)&&kY()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:r=>r?.object,prepareForCommit:()=>null,preparePortalMount:r=>oy(r.getState().scene,r,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:IY,unhideInstance:sO,createTextInstance:TS,hideTextInstance:TS,unhideTextInstance:TS,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:ae.createContext(null),setCurrentUpdatePriority(r){Kv=r},getCurrentUpdatePriority(){return Kv},resolveUpdatePriority(){var r;if(Kv!==rO)return Kv;switch(typeof window<"u"&&((r=window.event)==null?void 0:r.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return i1.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return i1.ContinuousEventPriority;default:return i1.DefaultEventPriority}},resetFormInstance(){}}),Hf=new Map,vp={objects:"shallow",strict:!1};function FY(r,e){if(!e&&typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&r.parentElement){const{width:t,height:n,top:i,left:a}=r.parentElement.getBoundingClientRect();return{width:t,height:n,top:i,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas)return{width:r.width,height:r.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function qY(r){const e=Hf.get(r),t=e?.fiber,n=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=n||AY(Kw,HA),o=t||Xw.createContainer(a,i1.ConcurrentRoot,null,!1,null,"",i,i,i,null);e||Hf.set(r,{fiber:o,store:a});let c,d,f=!1,g=null;return{async configure(b={}){let v;g=new Promise(Y=>v=Y);let{gl:y,size:w,scene:T,events:N,onCreated:_,shadows:j=!1,linear:C=!1,flat:A=!1,legacy:P=!1,orthographic:U=!1,frameloop:B="always",dpr:F=[1,2],performance:k,raycaster:z,camera:V,onPointerMissed:X}=b,J=a.getState(),ee=J.gl;if(!J.gl){const Y={canvas:r,powerPreference:"high-performance",antialias:!0,alpha:!0},ne=typeof y=="function"?await y(Y):y;UA(ne)?ee=ne:ee=new GR({...Y,...y}),J.set({gl:ee})}let te=J.raycaster;te||J.set({raycaster:te=new zR});const{params:W,...K}=z||{};if(si.equ(K,te,vp)||ch(te,{...K}),si.equ(W,te.params,vp)||ch(te,{params:{...te.params,...W}}),!J.camera||J.camera===d&&!si.equ(d,V,vp)){d=V;const Y=V?.isCamera,ne=Y?V:U?new kb(0,0,0,0,.1,1e3):new us(75,0,.1,1e3);Y||(ne.position.z=5,V&&(ch(ne,V),ne.manual||("aspect"in V||"left"in V||"right"in V||"bottom"in V||"top"in V)&&(ne.manual=!0,ne.updateProjectionMatrix())),!J.camera&&!(V!=null&&V.rotation)&&ne.lookAt(0,0,0)),J.set({camera:ne}),te.camera=ne}if(!J.scene){let Y;T!=null&&T.isScene?(Y=T,oy(Y,a,"",{})):(Y=new g3,oy(Y,a,"",{}),T&&ch(Y,T)),J.set({scene:Y})}N&&!J.events.handlers&&J.set({events:N(a)});const $=FY(r,w);if(si.equ($,J.size,vp)||J.setSize($.width,$.height,$.top,$.left),F&&J.viewport.dpr!==QR(F)&&J.setDpr(F),J.frameloop!==B&&J.setFrameloop(B),J.onPointerMissed||J.set({onPointerMissed:X}),k&&!si.equ(k,J.performance,vp)&&J.set(Y=>({performance:{...Y.performance,...k}})),!J.xr){var oe;const Y=(be,ce)=>{const ie=a.getState();ie.frameloop!=="never"&&HA(be,!0,ie,ce)},ne=()=>{const be=a.getState();be.gl.xr.enabled=be.gl.xr.isPresenting,be.gl.xr.setAnimationLoop(be.gl.xr.isPresenting?Y:null),be.gl.xr.isPresenting||Kw(be)},le={connect(){const be=a.getState().gl;be.xr.addEventListener("sessionstart",ne),be.xr.addEventListener("sessionend",ne)},disconnect(){const be=a.getState().gl;be.xr.removeEventListener("sessionstart",ne),be.xr.removeEventListener("sessionend",ne)}};typeof((oe=ee.xr)==null?void 0:oe.addEventListener)=="function"&&le.connect(),J.set({xr:le})}if(ee.shadowMap){const Y=ee.shadowMap.enabled,ne=ee.shadowMap.type;if(ee.shadowMap.enabled=!!j,si.boo(j))ee.shadowMap.type=Ug;else if(si.str(j)){var G;const le={basic:W5,percentage:Ny,soft:Ug,variance:Hl};ee.shadowMap.type=(G=le[j])!=null?G:Ug}else si.obj(j)&&Object.assign(ee.shadowMap,j);(Y!==ee.shadowMap.enabled||ne!==ee.shadowMap.type)&&(ee.shadowMap.needsUpdate=!0)}return Qn.enabled=!P,f||(ee.outputColorSpace=C?ph:Fs,ee.toneMapping=A?Xc:t3),J.legacy!==P&&J.set(()=>({legacy:P})),J.linear!==C&&J.set(()=>({linear:C})),J.flat!==A&&J.set(()=>({flat:A})),y&&!si.fun(y)&&!UA(y)&&!si.equ(y,ee,vp)&&ch(ee,y),c=_,f=!0,v(),this},render(b){return!f&&!g&&this.configure(),g.then(()=>{Xw.updateContainer(s.jsx(GY,{store:a,children:b,onCreated:c,rootElement:r}),o,null,()=>{})}),a},unmount(){oO(r)}}}function GY({store:r,children:e,onCreated:t,rootElement:n}){return Hb(()=>{const i=r.getState();i.set(a=>({internal:{...a.internal,active:!0}})),t&&t(i),r.getState().events.connected||i.events.connect==null||i.events.connect(n)},[]),s.jsx(tO.Provider,{value:r,children:e})}function oO(r,e){const t=Hf.get(r),n=t?.fiber;if(n){const i=t?.store.getState();i&&(i.internal.active=!1),Xw.updateContainer(null,n,null,()=>{i&&setTimeout(()=>{try{var a,o,c,d;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(c=i.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(d=i.gl)!=null&&d.xr&&i.xr.disconnect(),yY(i.scene),Hf.delete(r)}catch{}},500)})}}const WY=new Set,XY=new Set,YY=new Set;function MS(r,e){if(r.size)for(const{callback:t}of r.values())t(e)}function Xg(r,e){switch(r){case"before":return MS(WY,e);case"after":return MS(XY,e);case"tail":return MS(YY,e)}}let jS,AS;function Yw(r,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof r=="number"&&(n=r-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=r),jS=e.internal.subscribers;for(let i=0;i<jS.length;i++)AS=jS[i],AS.ref.current(AS.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let uy=!1,Zw=!1,CS,kA,yp;function lO(r){kA=requestAnimationFrame(lO),uy=!0,CS=0,Xg("before",r),Zw=!0;for(const t of Hf.values()){var e;yp=t.store.getState(),yp.internal.active&&(yp.frameloop==="always"||yp.internal.frames>0)&&!((e=yp.gl.xr)!=null&&e.isPresenting)&&(CS+=Yw(r,yp))}if(Zw=!1,Xg("after",r),CS===0)return Xg("tail",r),uy=!1,cancelAnimationFrame(kA)}function Kw(r,e=1){var t;if(!r)return Hf.forEach(n=>Kw(n.store.getState(),e));(t=r.gl.xr)!=null&&t.isPresenting||!r.internal.active||r.frameloop==="never"||(e>1?r.internal.frames=Math.min(60,r.internal.frames+e):Zw?r.internal.frames=2:r.internal.frames=1,uy||(uy=!0,requestAnimationFrame(lO)))}function HA(r,e=!0,t,n){if(e&&Xg("before",r),t)Yw(r,t,n);else for(const i of Hf.values())Yw(r,i.store.getState());e&&Xg("after",r)}const RS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ZY(r){const{handlePointer:e}=jY(r);return{priority:1,enabled:!0,compute(t,n,i){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(RS).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:i}=r.getState();(t=i.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{const{set:n,events:i}=r.getState();if(i.disconnect==null||i.disconnect(),n(a=>({events:{...a.events,connected:t}})),i.handlers)for(const a in i.handlers){const o=i.handlers[a],[c,d]=RS[a];t.addEventListener(c,o,{passive:d})}},disconnect:()=>{const{set:t,events:n}=r.getState();if(n.connected){if(n.handlers)for(const i in n.handlers){const a=n.handlers[i],[o]=RS[i];n.connected.removeEventListener(o,a)}t(i=>({events:{...i.events,connected:void 0}}))}}}}function VA(r,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>r(...n),e)}}function KY({debounce:r,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=ae.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=ae.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),d=r?typeof r=="number"?r:r.scroll:null,f=r?typeof r=="number"?r:r.resize:null,g=ae.useRef(!1);ae.useEffect(()=>(g.current=!0,()=>void(g.current=!1)));const[b,v,y]=ae.useMemo(()=>{const _=()=>{if(!c.current.element)return;const{left:j,top:C,width:A,height:P,bottom:U,right:B,x:F,y:k}=c.current.element.getBoundingClientRect(),z={left:j,top:C,width:A,height:P,bottom:U,right:B,x:F,y:k};c.current.element instanceof HTMLElement&&n&&(z.height=c.current.element.offsetHeight,z.width=c.current.element.offsetWidth),Object.freeze(z),g.current&&!eZ(c.current.lastBounds,z)&&o(c.current.lastBounds=z)};return[_,f?VA(_,f):_,d?VA(_,d):_]},[o,n,d,f]);function w(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",y,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function T(){c.current.element&&(c.current.resizeObserver=new i(y),c.current.resizeObserver.observe(c.current.element),e&&c.current.scrollContainers&&c.current.scrollContainers.forEach(_=>_.addEventListener("scroll",y,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}const N=_=>{!_||_===c.current.element||(w(),c.current.element=_,c.current.scrollContainers=cO(_),T())};return QY(y,!!e),JY(v),ae.useEffect(()=>{w(),T()},[e,y,v]),ae.useEffect(()=>w,[]),[N,a,b]}function JY(r){ae.useEffect(()=>{const e=r;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[r])}function QY(r,e){ae.useEffect(()=>{if(e){const t=r;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[r,e])}function cO(r){const e=[];if(!r||r===document.body)return e;const{overflow:t,overflowX:n,overflowY:i}=window.getComputedStyle(r);return[t,n,i].some(a=>a==="auto"||a==="scroll")&&e.push(r),[...e,...cO(r.parentElement)]}const $Y=["x","y","top","bottom","left","right","width","height"],eZ=(r,e)=>$Y.every(t=>r[t]===e[t]);function tZ({ref:r,children:e,fallback:t,resize:n,style:i,gl:a,events:o=ZY,eventSource:c,eventPrefix:d,shadows:f,linear:g,flat:b,legacy:v,orthographic:y,frameloop:w,dpr:T,performance:N,raycaster:_,camera:j,scene:C,onPointerMissed:A,onCreated:P,...U}){ae.useMemo(()=>zY(GX),[]);const B=bY(),[F,k]=KY({scroll:!0,debounce:{scroll:50,resize:0},...n}),z=ae.useRef(null),V=ae.useRef(null);ae.useImperativeHandle(r,()=>z.current);const X=JR(A),[J,ee]=ae.useState(!1),[te,W]=ae.useState(!1);if(J)throw J;if(te)throw te;const K=ae.useRef(null);Hb(()=>{const oe=z.current;if(k.width>0&&k.height>0&&oe){K.current||(K.current=qY(oe));async function G(){await K.current.configure({gl:a,scene:C,events:o,shadows:f,linear:g,flat:b,legacy:v,orthographic:y,frameloop:w,dpr:T,performance:N,raycaster:_,camera:j,size:k,onPointerMissed:(...Y)=>X.current==null?void 0:X.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(c?pY(c)?c.current:c:V.current),d&&Y.setEvents({compute:(ne,le)=>{const be=ne[d+"X"],ce=ne[d+"Y"];le.pointer.set(be/le.size.width*2-1,-(ce/le.size.height)*2+1),le.raycaster.setFromCamera(le.pointer,le.camera)}}),P?.(Y)}}),K.current.render(s.jsx(B,{children:s.jsx(vY,{set:W,children:s.jsx(ae.Suspense,{fallback:s.jsx(xY,{set:ee}),children:e??null})})}))}G()}}),ae.useEffect(()=>{const oe=z.current;if(oe)return()=>oO(oe)},[]);const $=c?"none":"auto";return s.jsx("div",{ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:$,...i},...U,children:s.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:s.jsx("canvas",{ref:z,style:{display:"block"},children:t})})})}function nZ(r){return s.jsx(XR,{children:s.jsx(tZ,{...r})})}const rZ=({count:r})=>{const e=ae.useRef(),t=ae.useMemo(()=>new nr,[]),{viewport:n}=CY(),i=ae.useMemo(()=>{const a=[];for(let o=0;o<r;o++){const c=new ve(Math.random()*n.width-n.width/2,Math.random()*n.height-n.height/2,Math.random()*20-10),d=.05+Math.random()*.01,f=.02+Math.random()*.01,g=Math.random()*Math.PI*2,b=.5+Math.random(),v=.3+Math.random()*.2;a.push({position:c,speedX:d,speedY:f,phase:g,factor:b,size:v})}return a},[r,n]);return RY(a=>{const o=a.clock.getElapsedTime();i.forEach((c,d)=>{const{position:f,speedX:g,speedY:b,phase:v,factor:y,size:w}=c;f.x-=g,f.y-=b,f.x-=Math.sin(o*y+v)*.02,f.y+=Math.cos(o*y+v)*.01,f.x<-n.width/2&&(f.x=n.width/2+Math.random()*(n.width/2),f.y=Math.random()*n.height-n.height/2),f.y<-n.height/2&&(f.y=n.height/2+Math.random()*(n.height/2),f.x=Math.random()*n.width-n.width/2),t.position.copy(f),t.scale.set(w,w,w),t.rotation.set(o*y,o*y,o*y),t.updateMatrix(),e.current.setMatrixAt(d,t.matrix)}),e.current.instanceMatrix.needsUpdate=!0}),s.jsxs("instancedMesh",{ref:e,args:[null,null,r],children:[s.jsx("planeGeometry",{args:[1,1]})," ",s.jsx("meshBasicMaterial",{color:"#aaaaaa",transparent:!0,opacity:.6,depthWrite:!1,side:ql})," "]})};var iZ="1.3.8";function uO(r,e,t){return Math.max(r,Math.min(e,t))}function sZ(r,e,t){return(1-t)*r+t*e}function aZ(r,e,t,n){return sZ(r,e,1-Math.exp(-t*n))}function oZ(r,e){return(r%e+e)%e}var lZ=class{isRunning=!1;value=0;from=0;to=0;currentTime=0;lerp;duration;easing;onUpdate;advance(r){if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=r;const t=uO(0,this.currentTime/this.duration,1);e=t>=1;const n=e?1:this.easing(t);this.value=this.from+(this.to-this.from)*n}else this.lerp?(this.value=aZ(this.value,this.to,this.lerp*60,r),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),this.onUpdate?.(this.value,e)}stop(){this.isRunning=!1}fromTo(r,e,{lerp:t,duration:n,easing:i,onStart:a,onUpdate:o}){this.from=this.value=r,this.to=e,this.lerp=t,this.duration=n,this.easing=i,this.currentTime=0,this.isRunning=!0,a?.(),this.onUpdate=o}};function cZ(r,e){let t;return function(...n){let i=this;clearTimeout(t),t=setTimeout(()=>{t=void 0,r.apply(i,n)},e)}}var uZ=class{constructor(r,e,{autoResize:t=!0,debounce:n=250}={}){this.wrapper=r,this.content=e,t&&(this.debouncedResize=cZ(this.resize,n),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}width=0;height=0;scrollHeight=0;scrollWidth=0;debouncedResize;wrapperResizeObserver;contentResizeObserver;destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},dO=class{events={};emit(r,...e){let t=this.events[r]||[];for(let n=0,i=t.length;n<i;n++)t[n]?.(...e)}on(r,e){return this.events[r]?.push(e)||(this.events[r]=[e]),()=>{this.events[r]=this.events[r]?.filter(t=>e!==t)}}off(r,e){this.events[r]=this.events[r]?.filter(t=>e!==t)}destroy(){this.events={}}},FA=100/6,Kd={passive:!1},dZ=class{constructor(r,e={wheelMultiplier:1,touchMultiplier:1}){this.element=r,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,Kd),this.element.addEventListener("touchstart",this.onTouchStart,Kd),this.element.addEventListener("touchmove",this.onTouchMove,Kd),this.element.addEventListener("touchend",this.onTouchEnd,Kd)}touchStart={x:0,y:0};lastDelta={x:0,y:0};window={width:0,height:0};emitter=new dO;on(r,e){return this.emitter.on(r,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,Kd),this.element.removeEventListener("touchstart",this.onTouchStart,Kd),this.element.removeEventListener("touchmove",this.onTouchMove,Kd),this.element.removeEventListener("touchend",this.onTouchEnd,Kd)}onTouchStart=r=>{const{clientX:e,clientY:t}=r.targetTouches?r.targetTouches[0]:r;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:r})};onTouchMove=r=>{const{clientX:e,clientY:t}=r.targetTouches?r.targetTouches[0]:r,n=-(e-this.touchStart.x)*this.options.touchMultiplier,i=-(t-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:n,y:i},this.emitter.emit("scroll",{deltaX:n,deltaY:i,event:r})};onTouchEnd=r=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:r})};onWheel=r=>{let{deltaX:e,deltaY:t,deltaMode:n}=r;const i=n===1?FA:n===2?this.window.width:1,a=n===1?FA:n===2?this.window.height:1;e*=i,t*=a,e*=this.options.wheelMultiplier,t*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:t,event:r})};onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}}},qA=r=>Math.min(1,1.001-Math.pow(2,-10*r)),s_=class{_isScrolling=!1;_isStopped=!1;_isLocked=!1;_preventNextNativeScrollEvent=!1;_resetVelocityTimeout=null;__rafID=null;isTouching;time=0;userData={};lastVelocity=0;velocity=0;direction=0;options;targetScroll;animatedScroll;animate=new lZ;emitter=new dO;dimensions;virtualScroll;constructor({wrapper:r=window,content:e=document.documentElement,eventsTarget:t=r,smoothWheel:n=!0,syncTouch:i=!1,syncTouchLerp:a=.075,touchInertiaExponent:o=1.7,duration:c,easing:d,lerp:f=.1,infinite:g=!1,orientation:b="vertical",gestureOrientation:v="vertical",touchMultiplier:y=1,wheelMultiplier:w=1,autoResize:T=!0,prevent:N,virtualScroll:_,overscroll:j=!0,autoRaf:C=!1,anchors:A=!1,autoToggle:P=!1,allowNestedScroll:U=!1,__experimental__naiveDimensions:B=!1}={}){window.lenisVersion=iZ,(!r||r===document.documentElement)&&(r=window),typeof c=="number"&&typeof d!="function"?d=qA:typeof d=="function"&&typeof c!="number"&&(c=1),this.options={wrapper:r,content:e,eventsTarget:t,smoothWheel:n,syncTouch:i,syncTouchLerp:a,touchInertiaExponent:o,duration:c,easing:d,lerp:f,infinite:g,gestureOrientation:v,orientation:b,touchMultiplier:y,wheelMultiplier:w,autoResize:T,prevent:N,virtualScroll:_,overscroll:j,autoRaf:C,anchors:A,autoToggle:P,allowNestedScroll:U,__experimental__naiveDimensions:B},this.dimensions=new uZ(r,e,{autoResize:T}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new dZ(t,{touchMultiplier:y,wheelMultiplier:w}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0}),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(r,e){return this.emitter.on(r,e)}off(r,e){return this.emitter.off(r,e)}onScrollEnd=r=>{r instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&r.stopPropagation()};dispatchScrollendEvent=()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))};onTransitionEnd=r=>{if(r.propertyName.includes("overflow")){const e=this.isHorizontal?"overflow-x":"overflow-y",t=getComputedStyle(this.rootElement)[e];["hidden","clip"].includes(t)?this.internalStop():this.internalStart()}};setScroll(r){this.isHorizontal?this.options.wrapper.scrollTo({left:r,behavior:"instant"}):this.options.wrapper.scrollTo({top:r,behavior:"instant"})}onClick=r=>{const t=r.composedPath().find(n=>n instanceof HTMLAnchorElement&&(n.getAttribute("href")?.startsWith("#")||n.getAttribute("href")?.startsWith("/#")||n.getAttribute("href")?.startsWith("./#")));if(t){const n=t.getAttribute("href");if(n){const i=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0;let a=`#${n.split("#")[1]}`;["#","/#","./#","#top","/#top","./#top"].includes(n)&&(a=0),this.scrollTo(a,i)}}};onPointerDown=r=>{r.button===1&&this.reset()};onVirtualScroll=r=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(r)===!1)return;const{deltaX:e,deltaY:t,event:n}=r;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:t,event:n}),n.ctrlKey||n.lenisStopPropagation)return;const i=n.type.includes("touch"),a=n.type.includes("wheel");this.isTouching=n.type==="touchstart"||n.type==="touchmove";const o=e===0&&t===0;if(this.options.syncTouch&&i&&n.type==="touchstart"&&o&&!this.isStopped&&!this.isLocked){this.reset();return}const d=this.options.gestureOrientation==="vertical"&&t===0||this.options.gestureOrientation==="horizontal"&&e===0;if(o||d)return;let f=n.composedPath();f=f.slice(0,f.indexOf(this.rootElement));const g=this.options.prevent;if(f.find(N=>N instanceof HTMLElement&&(typeof g=="function"&&g?.(N)||N.hasAttribute?.("data-lenis-prevent")||i&&N.hasAttribute?.("data-lenis-prevent-touch")||a&&N.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(N,{deltaX:e,deltaY:t}))))return;if(this.isStopped||this.isLocked){n.cancelable&&n.preventDefault();return}if(!(this.options.syncTouch&&i||this.options.smoothWheel&&a)){this.isScrolling="native",this.animate.stop(),n.lenisStopPropagation=!0;return}let v=t;this.options.gestureOrientation==="both"?v=Math.abs(t)>Math.abs(e)?t:e:this.options.gestureOrientation==="horizontal"&&(v=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&t>0||this.animatedScroll===this.limit&&t<0))&&(n.lenisStopPropagation=!0),n.cancelable&&n.preventDefault();const y=i&&this.options.syncTouch,T=i&&n.type==="touchend";T&&(v=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+v,{programmatic:!1,...y?{lerp:T?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})};resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}onNativeScroll=()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const r=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-r,this.direction=Math.sign(this.animatedScroll-r),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}};reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}raf=r=>{const e=r-(this.time||r);this.time=r,this.animate.advance(e*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))};scrollTo(r,{offset:e=0,immediate:t=!1,lock:n=!1,duration:i=this.options.duration,easing:a=this.options.easing,lerp:o=this.options.lerp,onStart:c,onComplete:d,force:f=!1,programmatic:g=!0,userData:b}={}){if(!((this.isStopped||this.isLocked)&&!f)){if(typeof r=="string"&&["top","left","start"].includes(r))r=0;else if(typeof r=="string"&&["bottom","right","end"].includes(r))r=this.limit;else{let v;if(typeof r=="string"?v=document.querySelector(r):r instanceof HTMLElement&&r?.nodeType&&(v=r),v){if(this.options.wrapper!==window){const w=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?w.left:w.top}const y=v.getBoundingClientRect();r=(this.isHorizontal?y.left:y.top)+this.animatedScroll}}if(typeof r=="number"){if(r+=e,r=Math.round(r),this.options.infinite){if(g){this.targetScroll=this.animatedScroll=this.scroll;const v=r-this.animatedScroll;v>this.limit/2?r=r-this.limit:v<-this.limit/2&&(r=r+this.limit)}}else r=uO(0,r,this.limit);if(r===this.targetScroll){c?.(this),d?.(this);return}if(this.userData=b??{},t){this.animatedScroll=this.targetScroll=r,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),d?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}g||(this.targetScroll=r),typeof i=="number"&&typeof a!="function"?a=qA:typeof a=="function"&&typeof i!="number"&&(i=1),this.animate.fromTo(this.animatedScroll,r,{duration:i,easing:a,lerp:o,onStart:()=>{n&&(this.isLocked=!0),this.isScrolling="smooth",c?.(this)},onUpdate:(v,y)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=v-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=v,this.setScroll(this.scroll),g&&(this.targetScroll=v),y||this.emit(),y&&(this.reset(),this.emit(),d?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(r,{deltaX:e,deltaY:t}){const n=Date.now(),i=r._lenis??={};let a,o,c,d,f,g,b,v;const y=this.options.gestureOrientation;if(n-(i.time??0)>2e3){i.time=Date.now();const P=window.getComputedStyle(r);i.computedStyle=P;const U=P.overflowX,B=P.overflowY;if(a=["auto","overlay","scroll"].includes(U),o=["auto","overlay","scroll"].includes(B),i.hasOverflowX=a,i.hasOverflowY=o,!a&&!o||y==="vertical"&&!o||y==="horizontal"&&!a)return!1;f=r.scrollWidth,g=r.scrollHeight,b=r.clientWidth,v=r.clientHeight,c=f>b,d=g>v,i.isScrollableX=c,i.isScrollableY=d,i.scrollWidth=f,i.scrollHeight=g,i.clientWidth=b,i.clientHeight=v}else c=i.isScrollableX,d=i.isScrollableY,a=i.hasOverflowX,o=i.hasOverflowY,f=i.scrollWidth,g=i.scrollHeight,b=i.clientWidth,v=i.clientHeight;if(!a&&!o||!c&&!d||y==="vertical"&&(!o||!d)||y==="horizontal"&&(!a||!c))return!1;let w;if(y==="horizontal")w="x";else if(y==="vertical")w="y";else{const P=e!==0,U=t!==0;P&&a&&c&&(w="x"),U&&o&&d&&(w="y")}if(!w)return!1;let T,N,_,j,C;if(w==="x")T=r.scrollLeft,N=f-b,_=e,j=a,C=c;else if(w==="y")T=r.scrollTop,N=g-v,_=t,j=o,C=d;else return!1;return(_>0?T<N:T>0)&&j&&C}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const r=this.options.wrapper;return this.isHorizontal?r.scrollX??r.scrollLeft:r.scrollY??r.scrollTop}get scroll(){return this.options.infinite?oZ(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(r){this._isScrolling!==r&&(this._isScrolling=r,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(r){this._isStopped!==r&&(this._isStopped=r,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(r){this._isLocked!==r&&(this._isLocked=r,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let r="lenis";return this.options.autoToggle&&(r+=" lenis-autoToggle"),this.isStopped&&(r+=" lenis-stopped"),this.isLocked&&(r+=" lenis-locked"),this.isScrolling&&(r+=" lenis-scrolling"),this.isScrolling==="smooth"&&(r+=" lenis-smooth"),r}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};const hO=Object.freeze({left:0,top:0,width:16,height:16}),dy=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),G3=Object.freeze({...hO,...dy}),Jw=Object.freeze({...G3,body:"",hidden:!1});function hZ(r,e){const t={};!r.hFlip!=!e.hFlip&&(t.hFlip=!0),!r.vFlip!=!e.vFlip&&(t.vFlip=!0);const n=((r.rotate||0)+(e.rotate||0))%4;return n&&(t.rotate=n),t}function GA(r,e){const t=hZ(r,e);for(const n in Jw)n in dy?n in r&&!(n in t)&&(t[n]=dy[n]):n in e?t[n]=e[n]:n in r&&(t[n]=r[n]);return t}function fZ(r,e){const t=r.icons,n=r.aliases||Object.create(null),i=Object.create(null);function a(o){if(t[o])return i[o]=[];if(!(o in i)){i[o]=null;const c=n[o]&&n[o].parent,d=c&&a(c);d&&(i[o]=[c].concat(d))}return i[o]}return Object.keys(t).concat(Object.keys(n)).forEach(a),i}function mZ(r,e,t){const n=r.icons,i=r.aliases||Object.create(null);let a={};function o(c){a=GA(n[c]||i[c],a)}return o(e),t.forEach(o),GA(r,a)}function fO(r,e){const t=[];if(typeof r!="object"||typeof r.icons!="object")return t;r.not_found instanceof Array&&r.not_found.forEach(i=>{e(i,null),t.push(i)});const n=fZ(r);for(const i in n){const a=n[i];a&&(e(i,mZ(r,i,a)),t.push(i))}return t}const pZ={provider:"",aliases:{},not_found:{},...hO};function OS(r,e){for(const t in e)if(t in r&&typeof r[t]!=typeof e[t])return!1;return!0}function mO(r){if(typeof r!="object"||r===null)return null;const e=r;if(typeof e.prefix!="string"||!r.icons||typeof r.icons!="object"||!OS(r,pZ))return null;const t=e.icons;for(const i in t){const a=t[i];if(!i||typeof a.body!="string"||!OS(a,Jw))return null}const n=e.aliases||Object.create(null);for(const i in n){const a=n[i],o=a.parent;if(!i||typeof o!="string"||!t[o]&&!n[o]||!OS(a,Jw))return null}return e}const pO=/^[a-z0-9]+(-[a-z0-9]+)*$/,a_=(r,e,t,n="")=>{const i=r.split(":");if(r.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const c=i.pop(),d=i.pop(),f={provider:i.length>0?i[0]:n,prefix:d,name:c};return e&&!c1(f)?null:f}const a=i[0],o=a.split("-");if(o.length>1){const c={provider:n,prefix:o.shift(),name:o.join("-")};return e&&!c1(c)?null:c}if(t&&n===""){const c={provider:n,prefix:"",name:a};return e&&!c1(c,t)?null:c}return null},c1=(r,e)=>r?!!((e&&r.prefix===""||r.prefix)&&r.name):!1,WA=Object.create(null);function gZ(r,e){return{provider:r,prefix:e,icons:Object.create(null),missing:new Set}}function t0(r,e){const t=WA[r]||(WA[r]=Object.create(null));return t[e]||(t[e]=gZ(r,e))}function gO(r,e){return mO(e)?fO(e,(t,n)=>{n?r.icons[t]=n:r.missing.add(t)}):[]}function bZ(r,e,t){try{if(typeof t.body=="string")return r.icons[e]={...t},!0}catch{}return!1}let _b=!1;function bO(r){return typeof r=="boolean"&&(_b=r),_b}function XA(r){const e=typeof r=="string"?a_(r,!0,_b):r;if(e){const t=t0(e.provider,e.prefix),n=e.name;return t.icons[n]||(t.missing.has(n)?null:void 0)}}function xZ(r,e){const t=a_(r,!0,_b);if(!t)return!1;const n=t0(t.provider,t.prefix);return e?bZ(n,t.name,e):(n.missing.add(t.name),!0)}function vZ(r,e){if(typeof r!="object")return!1;if(typeof e!="string"&&(e=r.provider||""),_b&&!e&&!r.prefix){let i=!1;return mO(r)&&(r.prefix="",fO(r,(a,o)=>{xZ(a,o)&&(i=!0)})),i}const t=r.prefix;if(!c1({prefix:t,name:"a"}))return!1;const n=t0(e,t);return!!gO(n,r)}const xO=Object.freeze({width:null,height:null}),vO=Object.freeze({...xO,...dy}),yZ=/(-?[0-9.]*[0-9]+[0-9.]*)/g,_Z=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function YA(r,e,t){if(e===1)return r;if(t=t||100,typeof r=="number")return Math.ceil(r*e*t)/t;if(typeof r!="string")return r;const n=r.split(yZ);if(n===null||!n.length)return r;const i=[];let a=n.shift(),o=_Z.test(a);for(;;){if(o){const c=parseFloat(a);isNaN(c)?i.push(a):i.push(Math.ceil(c*e*t)/t)}else i.push(a);if(a=n.shift(),a===void 0)return i.join("");o=!o}}function SZ(r,e="defs"){let t="";const n=r.indexOf("<"+e);for(;n>=0;){const i=r.indexOf(">",n),a=r.indexOf("</"+e);if(i===-1||a===-1)break;const o=r.indexOf(">",a);if(o===-1)break;t+=r.slice(i+1,a).trim(),r=r.slice(0,n).trim()+r.slice(o+1)}return{defs:t,content:r}}function wZ(r,e){return r?"<defs>"+r+"</defs>"+e:e}function EZ(r,e,t){const n=SZ(r);return wZ(n.defs,e+n.content+t)}const NZ=r=>r==="unset"||r==="undefined"||r==="none";function TZ(r,e){const t={...G3,...r},n={...vO,...e},i={left:t.left,top:t.top,width:t.width,height:t.height};let a=t.body;[t,n].forEach(T=>{const N=[],_=T.hFlip,j=T.vFlip;let C=T.rotate;_?j?C+=2:(N.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),N.push("scale(-1 1)"),i.top=i.left=0):j&&(N.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),N.push("scale(1 -1)"),i.top=i.left=0);let A;switch(C<0&&(C-=Math.floor(C/4)*4),C=C%4,C){case 1:A=i.height/2+i.top,N.unshift("rotate(90 "+A.toString()+" "+A.toString()+")");break;case 2:N.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:A=i.width/2+i.left,N.unshift("rotate(-90 "+A.toString()+" "+A.toString()+")");break}C%2===1&&(i.left!==i.top&&(A=i.left,i.left=i.top,i.top=A),i.width!==i.height&&(A=i.width,i.width=i.height,i.height=A)),N.length&&(a=EZ(a,'<g transform="'+N.join(" ")+'">',"</g>"))});const o=n.width,c=n.height,d=i.width,f=i.height;let g,b;o===null?(b=c===null?"1em":c==="auto"?f:c,g=YA(b,d/f)):(g=o==="auto"?d:o,b=c===null?YA(g,f/d):c==="auto"?f:c);const v={},y=(T,N)=>{NZ(N)||(v[T]=N.toString())};y("width",g),y("height",b);const w=[i.left,i.top,d,f];return v.viewBox=w.join(" "),{attributes:v,viewBox:w,body:a}}const MZ=/\sid="(\S+)"/g,jZ="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let AZ=0;function CZ(r,e=jZ){const t=[];let n;for(;n=MZ.exec(r);)t.push(n[1]);if(!t.length)return r;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(a=>{const o=typeof e=="function"?e(a):e+(AZ++).toString(),c=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");r=r.replace(new RegExp('([#;"])('+c+')([")]|\\.[a-z])',"g"),"$1"+o+i+"$3")}),r=r.replace(new RegExp(i,"g"),""),r}const Qw=Object.create(null);function RZ(r,e){Qw[r]=e}function $w(r){return Qw[r]||Qw[""]}function W3(r){let e;if(typeof r.resources=="string")e=[r.resources];else if(e=r.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:r.path||"/",maxURL:r.maxURL||500,rotate:r.rotate||750,timeout:r.timeout||5e3,random:r.random===!0,index:r.index||0,dataAfterTimeout:r.dataAfterTimeout!==!1}}const X3=Object.create(null),_g=["https://api.simplesvg.com","https://api.unisvg.com"],u1=[];for(;_g.length>0;)_g.length===1||Math.random()>.5?u1.push(_g.shift()):u1.push(_g.pop());X3[""]=W3({resources:["https://api.iconify.design"].concat(u1)});function OZ(r,e){const t=W3(e);return t===null?!1:(X3[r]=t,!0)}function Y3(r){return X3[r]}const DZ=()=>{let r;try{if(r=fetch,typeof r=="function")return r}catch{}};let ZA=DZ();function PZ(r,e){const t=Y3(r);if(!t)return 0;let n;if(!t.maxURL)n=0;else{let i=0;t.resources.forEach(o=>{i=Math.max(i,o.length)});const a=e+".json?icons=";n=t.maxURL-i-t.path.length-a.length}return n}function LZ(r){return r===404}const zZ=(r,e,t)=>{const n=[],i=PZ(r,e),a="icons";let o={type:a,provider:r,prefix:e,icons:[]},c=0;return t.forEach((d,f)=>{c+=d.length+1,c>=i&&f>0&&(n.push(o),o={type:a,provider:r,prefix:e,icons:[]},c=d.length),o.icons.push(d)}),n.push(o),n};function UZ(r){if(typeof r=="string"){const e=Y3(r);if(e)return e.path}return"/"}const IZ=(r,e,t)=>{if(!ZA){t("abort",424);return}let n=UZ(e.provider);switch(e.type){case"icons":{const a=e.prefix,c=e.icons.join(","),d=new URLSearchParams({icons:c});n+=a+".json?"+d.toString();break}case"custom":{const a=e.uri;n+=a.slice(0,1)==="/"?a.slice(1):a;break}default:t("abort",400);return}let i=503;ZA(r+n).then(a=>{const o=a.status;if(o!==200){setTimeout(()=>{t(LZ(o)?"abort":"next",o)});return}return i=501,a.json()}).then(a=>{if(typeof a!="object"||a===null){setTimeout(()=>{a===404?t("abort",a):t("next",i)});return}setTimeout(()=>{t("success",a)})}).catch(()=>{t("next",i)})},BZ={prepare:zZ,send:IZ};function kZ(r){const e={loaded:[],missing:[],pending:[]},t=Object.create(null);r.sort((i,a)=>i.provider!==a.provider?i.provider.localeCompare(a.provider):i.prefix!==a.prefix?i.prefix.localeCompare(a.prefix):i.name.localeCompare(a.name));let n={provider:"",prefix:"",name:""};return r.forEach(i=>{if(n.name===i.name&&n.prefix===i.prefix&&n.provider===i.provider)return;n=i;const a=i.provider,o=i.prefix,c=i.name,d=t[a]||(t[a]=Object.create(null)),f=d[o]||(d[o]=t0(a,o));let g;c in f.icons?g=e.loaded:o===""||f.missing.has(c)?g=e.missing:g=e.pending;const b={provider:a,prefix:o,name:c};g.push(b)}),e}function yO(r,e){r.forEach(t=>{const n=t.loaderCallbacks;n&&(t.loaderCallbacks=n.filter(i=>i.id!==e))})}function HZ(r){r.pendingCallbacksFlag||(r.pendingCallbacksFlag=!0,setTimeout(()=>{r.pendingCallbacksFlag=!1;const e=r.loaderCallbacks?r.loaderCallbacks.slice(0):[];if(!e.length)return;let t=!1;const n=r.provider,i=r.prefix;e.forEach(a=>{const o=a.icons,c=o.pending.length;o.pending=o.pending.filter(d=>{if(d.prefix!==i)return!0;const f=d.name;if(r.icons[f])o.loaded.push({provider:n,prefix:i,name:f});else if(r.missing.has(f))o.missing.push({provider:n,prefix:i,name:f});else return t=!0,!0;return!1}),o.pending.length!==c&&(t||yO([r],a.id),a.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),a.abort))})}))}let VZ=0;function FZ(r,e,t){const n=VZ++,i=yO.bind(null,t,n);if(!e.pending.length)return i;const a={id:n,icons:e,callback:r,abort:i};return t.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(a)}),i}function qZ(r,e=!0,t=!1){const n=[];return r.forEach(i=>{const a=typeof i=="string"?a_(i,e,t):i;a&&n.push(a)}),n}var GZ={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function WZ(r,e,t,n){const i=r.resources.length,a=r.random?Math.floor(Math.random()*i):r.index;let o;if(r.random){let U=r.resources.slice(0);for(o=[];U.length>1;){const B=Math.floor(Math.random()*U.length);o.push(U[B]),U=U.slice(0,B).concat(U.slice(B+1))}o=o.concat(U)}else o=r.resources.slice(a).concat(r.resources.slice(0,a));const c=Date.now();let d="pending",f=0,g,b=null,v=[],y=[];typeof n=="function"&&y.push(n);function w(){b&&(clearTimeout(b),b=null)}function T(){d==="pending"&&(d="aborted"),w(),v.forEach(U=>{U.status==="pending"&&(U.status="aborted")}),v=[]}function N(U,B){B&&(y=[]),typeof U=="function"&&y.push(U)}function _(){return{startTime:c,payload:e,status:d,queriesSent:f,queriesPending:v.length,subscribe:N,abort:T}}function j(){d="failed",y.forEach(U=>{U(void 0,g)})}function C(){v.forEach(U=>{U.status==="pending"&&(U.status="aborted")}),v=[]}function A(U,B,F){const k=B!=="success";switch(v=v.filter(z=>z!==U),d){case"pending":break;case"failed":if(k||!r.dataAfterTimeout)return;break;default:return}if(B==="abort"){g=F,j();return}if(k){g=F,v.length||(o.length?P():j());return}if(w(),C(),!r.random){const z=r.resources.indexOf(U.resource);z!==-1&&z!==r.index&&(r.index=z)}d="completed",y.forEach(z=>{z(F)})}function P(){if(d!=="pending")return;w();const U=o.shift();if(U===void 0){if(v.length){b=setTimeout(()=>{w(),d==="pending"&&(C(),j())},r.timeout);return}j();return}const B={status:"pending",resource:U,callback:(F,k)=>{A(B,F,k)}};v.push(B),f++,b=setTimeout(P,r.rotate),t(U,e,B.callback)}return setTimeout(P),_}function _O(r){const e={...GZ,...r};let t=[];function n(){t=t.filter(c=>c().status==="pending")}function i(c,d,f){const g=WZ(e,c,d,(b,v)=>{n(),f&&f(b,v)});return t.push(g),g}function a(c){return t.find(d=>c(d))||null}return{query:i,find:a,setIndex:c=>{e.index=c},getIndex:()=>e.index,cleanup:n}}function KA(){}const DS=Object.create(null);function XZ(r){if(!DS[r]){const e=Y3(r);if(!e)return;const t=_O(e),n={config:e,redundancy:t};DS[r]=n}return DS[r]}function YZ(r,e,t){let n,i;if(typeof r=="string"){const a=$w(r);if(!a)return t(void 0,424),KA;i=a.send;const o=XZ(r);o&&(n=o.redundancy)}else{const a=W3(r);if(a){n=_O(a);const o=r.resources?r.resources[0]:"",c=$w(o);c&&(i=c.send)}}return!n||!i?(t(void 0,424),KA):n.query(e,i,t)().abort}function JA(){}function ZZ(r){r.iconsLoaderFlag||(r.iconsLoaderFlag=!0,setTimeout(()=>{r.iconsLoaderFlag=!1,HZ(r)}))}function KZ(r){const e=[],t=[];return r.forEach(n=>{(n.match(pO)?e:t).push(n)}),{valid:e,invalid:t}}function Sg(r,e,t){function n(){const i=r.pendingIcons;e.forEach(a=>{i&&i.delete(a),r.icons[a]||r.missing.add(a)})}if(t&&typeof t=="object")try{if(!gO(r,t).length){n();return}}catch(i){console.error(i)}n(),ZZ(r)}function QA(r,e){r instanceof Promise?r.then(t=>{e(t)}).catch(()=>{e(null)}):e(r)}function JZ(r,e){r.iconsToLoad?r.iconsToLoad=r.iconsToLoad.concat(e).sort():r.iconsToLoad=e,r.iconsQueueFlag||(r.iconsQueueFlag=!0,setTimeout(()=>{r.iconsQueueFlag=!1;const{provider:t,prefix:n}=r,i=r.iconsToLoad;if(delete r.iconsToLoad,!i||!i.length)return;const a=r.loadIcon;if(r.loadIcons&&(i.length>1||!a)){QA(r.loadIcons(i,n,t),g=>{Sg(r,i,g)});return}if(a){i.forEach(g=>{const b=a(g,n,t);QA(b,v=>{const y=v?{prefix:n,icons:{[g]:v}}:null;Sg(r,[g],y)})});return}const{valid:o,invalid:c}=KZ(i);if(c.length&&Sg(r,c,null),!o.length)return;const d=n.match(pO)?$w(t):null;if(!d){Sg(r,o,null);return}d.prepare(t,n,o).forEach(g=>{YZ(t,g,b=>{Sg(r,g.icons,b)})})}))}const QZ=(r,e)=>{const t=qZ(r,!0,bO()),n=kZ(t);if(!n.pending.length){let d=!0;return e&&setTimeout(()=>{d&&e(n.loaded,n.missing,n.pending,JA)}),()=>{d=!1}}const i=Object.create(null),a=[];let o,c;return n.pending.forEach(d=>{const{provider:f,prefix:g}=d;if(g===c&&f===o)return;o=f,c=g,a.push(t0(f,g));const b=i[f]||(i[f]=Object.create(null));b[g]||(b[g]=[])}),n.pending.forEach(d=>{const{provider:f,prefix:g,name:b}=d,v=t0(f,g),y=v.pendingIcons||(v.pendingIcons=new Set);y.has(b)||(y.add(b),i[f][g].push(b))}),a.forEach(d=>{const f=i[d.provider][d.prefix];f.length&&JZ(d,f)}),e?FZ(e,n,a):JA};function $Z(r,e){const t={...r};for(const n in e){const i=e[n],a=typeof i;n in xO?(i===null||i&&(a==="string"||a==="number"))&&(t[n]=i):a===typeof t[n]&&(t[n]=n==="rotate"?i%4:i)}return t}const eK=/[\s,]+/;function tK(r,e){e.split(eK).forEach(t=>{switch(t.trim()){case"horizontal":r.hFlip=!0;break;case"vertical":r.vFlip=!0;break}})}function nK(r,e=0){const t=r.replace(/^-?[0-9.]*/,"");function n(i){for(;i<0;)i+=4;return i%4}if(t===""){const i=parseInt(r);return isNaN(i)?0:n(i)}else if(t!==r){let i=0;switch(t){case"%":i=25;break;case"deg":i=90}if(i){let a=parseFloat(r.slice(0,r.length-t.length));return isNaN(a)?0:(a=a/i,a%1===0?n(a):0)}}return e}function rK(r,e){let t=r.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)t+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+t+">"+r+"</svg>"}function iK(r){return r.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function sK(r){return"data:image/svg+xml,"+iK(r)}function aK(r){return'url("'+sK(r)+'")'}let Yg;function oK(){try{Yg=window.trustedTypes.createPolicy("iconify",{createHTML:r=>r})}catch{Yg=null}}function lK(r){return Yg===void 0&&oK(),Yg?Yg.createHTML(r):r}const SO={...vO,inline:!1},cK={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},uK={display:"inline-block"},eE={backgroundColor:"currentColor"},wO={backgroundColor:"transparent"},$A={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},e4={WebkitMask:eE,mask:eE,background:wO};for(const r in e4){const e=e4[r];for(const t in $A)e[r+t]=$A[t]}const dK={...SO,inline:!0};function t4(r){return r+(r.match(/^[-0-9.]+$/)?"px":"")}const hK=(r,e,t)=>{const n=e.inline?dK:SO,i=$Z(n,e),a=e.mode||"svg",o={},c=e.style||{},d={...a==="svg"?cK:{}};if(t){const N=a_(t,!1,!0);if(N){const _=["iconify"],j=["provider","prefix"];for(const C of j)N[C]&&_.push("iconify--"+N[C]);d.className=_.join(" ")}}for(let N in e){const _=e[N];if(_!==void 0)switch(N){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":break;case"_ref":d.ref=_;break;case"className":d[N]=(d[N]?d[N]+" ":"")+_;break;case"inline":case"hFlip":case"vFlip":i[N]=_===!0||_==="true"||_===1;break;case"flip":typeof _=="string"&&tK(i,_);break;case"color":o.color=_;break;case"rotate":typeof _=="string"?i[N]=nK(_):typeof _=="number"&&(i[N]=_);break;case"ariaHidden":case"aria-hidden":_!==!0&&_!=="true"&&delete d["aria-hidden"];break;default:n[N]===void 0&&(d[N]=_)}}const f=TZ(r,i),g=f.attributes;if(i.inline&&(o.verticalAlign="-0.125em"),a==="svg"){d.style={...o,...c},Object.assign(d,g);let N=0,_=e.id;return typeof _=="string"&&(_=_.replace(/-/g,"_")),d.dangerouslySetInnerHTML={__html:lK(CZ(f.body,_?()=>_+"ID"+N++:"iconifyReact"))},ae.createElement("svg",d)}const{body:b,width:v,height:y}=r,w=a==="mask"||(a==="bg"?!1:b.indexOf("currentColor")!==-1),T=rK(b,{...g,width:v+"",height:y+""});return d.style={...o,"--svg":aK(T),width:t4(g.width),height:t4(g.height),...uK,...w?eE:wO,...c},ae.createElement("span",d)};bO(!0);RZ("",BZ);if(typeof document<"u"&&typeof window<"u"){const r=window;if(r.IconifyPreload!==void 0){const e=r.IconifyPreload,t="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!vZ(n))&&console.error(t)}catch{console.error(t)}})}if(r.IconifyProviders!==void 0){const e=r.IconifyProviders;if(typeof e=="object"&&e!==null)for(let t in e){const n="IconifyProviders["+t+"] is invalid.";try{const i=e[t];if(typeof i!="object"||!i||i.resources===void 0)continue;OZ(t,i)||console.error(n)}catch{console.error(n)}}}}function EO(r){const[e,t]=ae.useState(!!r.ssr),[n,i]=ae.useState({});function a(y){if(y){const w=r.icon;if(typeof w=="object")return{name:"",data:w};const T=XA(w);if(T)return{name:w,data:T}}return{name:""}}const[o,c]=ae.useState(a(!!r.ssr));function d(){const y=n.callback;y&&(y(),i({}))}function f(y){if(JSON.stringify(o)!==JSON.stringify(y))return d(),c(y),!0}function g(){var y;const w=r.icon;if(typeof w=="object"){f({name:"",data:w});return}const T=XA(w);if(f({name:w,data:T}))if(T===void 0){const N=QZ([w],g);i({callback:N})}else T&&((y=r.onLoad)===null||y===void 0||y.call(r,w))}ae.useEffect(()=>(t(!0),d),[]),ae.useEffect(()=>{e&&g()},[r.icon,e]);const{name:b,data:v}=o;return v?hK({...G3,...v},r,b):r.children?r.children:r.fallback?r.fallback:ae.createElement("span",{})}const Ic=ae.forwardRef((r,e)=>EO({...r,_ref:e}));ae.forwardRef((r,e)=>EO({inline:!0,...r,_ref:e}));function tE(){return tE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},tE.apply(null,arguments)}const fK=r=>{switch(r){case"stacked":return"rhap_stacked";case"stacked-reverse":return"rhap_stacked-reverse";case"horizontal":return"rhap_horizontal";case"horizontal-reverse":return"rhap_horizontal-reverse";default:return"rhap_stacked"}},NO=r=>r instanceof MouseEvent?r.clientX:r.touches[0].clientX,PS=r=>r>9?r.toString():`0${r}`,Ip=(r,e,t)=>{if(!isFinite(r))return null;const n=Math.floor(r/60),i=PS(n),a=PS(Math.floor(r%60)),o=PS(Math.floor(n%60)),c=Math.floor(n/60),d=`${i}:${a}`,f=`${c}:${o}:${a}`;if(t==="auto")return e>=3600?f:d;if(t==="mm:ss")return d;if(t==="hh:mm:ss")return f};function TO(r,e){let t=!1;return n=>{t||(r(n),t=!0,setTimeout(()=>t=!1,e))}}class mK extends ae.Component{timeOnMouseMove=0;hasAddedAudioEventListener=!1;state={isDraggingProgress:!1,currentTimePos:"0%",hasDownloadProgressAnimation:!1,downloadProgressArr:[],waitingForSeekCallback:!1};getDuration(){const{audio:e,srcDuration:t}=this.props;return typeof t>"u"?e.duration:t}getCurrentProgress=e=>{const{audio:t,progressBar:n}=this.props;if(t.src.indexOf("blob:")!==0&&typeof this.props.srcDuration>"u"&&(!t.src||!isFinite(t.currentTime)||!n.current))return{currentTime:0,currentTimePos:"0%"};const a=n.current.getBoundingClientRect(),o=a.width;let c=NO(e)-a.left;return c<0?c=0:c>o&&(c=o),{currentTime:this.getDuration()*c/o,currentTimePos:`${(c/o*100).toFixed(2)}%`}};handleContextMenu=e=>{e.preventDefault()};handleMouseDownOrTouchStartProgressBar=e=>{e.stopPropagation();const{currentTime:t,currentTimePos:n}=this.getCurrentProgress(e.nativeEvent);isFinite(t)&&(this.timeOnMouseMove=t,this.setState({isDraggingProgress:!0,currentTimePos:n}),e.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",this.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",this.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",this.handleWindowMouseOrTouchMove),window.addEventListener("touchend",this.handleWindowMouseOrTouchUp)))};handleWindowMouseOrTouchMove=e=>{e instanceof MouseEvent&&e.preventDefault(),e.stopPropagation();const t=window.getSelection();t&&t.type==="Range"&&t.empty();const{isDraggingProgress:n}=this.state;if(n){const{currentTime:i,currentTimePos:a}=this.getCurrentProgress(e);this.timeOnMouseMove=i,this.setState({currentTimePos:a})}};handleWindowMouseOrTouchUp=e=>{e.stopPropagation();const t=this.timeOnMouseMove,{audio:n,onChangeCurrentTimeError:i,onSeek:a}=this.props;if(a)this.setState({isDraggingProgress:!1,waitingForSeekCallback:!0},()=>{a(n,t).then(()=>this.setState({waitingForSeekCallback:!1}),o=>{throw new Error(o)})});else{const o={isDraggingProgress:!1};if(n.readyState===n.HAVE_NOTHING||n.readyState===n.HAVE_METADATA||!isFinite(t))try{n.load()}catch(c){return o.currentTimePos="0%",i&&i(c)}n.currentTime=t,this.setState(o)}e instanceof MouseEvent?(window.removeEventListener("mousemove",this.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",this.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",this.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",this.handleWindowMouseOrTouchUp))};handleAudioTimeUpdate=TO(e=>{const{isDraggingProgress:t}=this.state,n=e.target;if(t||this.state.waitingForSeekCallback===!0)return;const{currentTime:i}=n,a=this.getDuration();this.setState({currentTimePos:`${(i/a*100||0).toFixed(2)}%`})},this.props.progressUpdateInterval);handleAudioDownloadProgressUpdate=e=>{const t=e.target,n=this.getDuration(),i=[];for(let a=0;a<t.buffered.length;a++){const o=t.buffered.start(a),c=t.buffered.end(a);i.push({left:`${Math.round(100/n*o)||0}%`,width:`${Math.round(100/n*(c-o))||0}%`})}clearTimeout(this.downloadProgressAnimationTimer),this.setState({downloadProgressArr:i,hasDownloadProgressAnimation:!0}),this.downloadProgressAnimationTimer=setTimeout(()=>{this.setState({hasDownloadProgressAnimation:!1})},200)};initialize(){const{audio:e}=this.props;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("timeupdate",this.handleAudioTimeUpdate),e.addEventListener("progress",this.handleAudioDownloadProgressUpdate))}componentDidMount(){this.initialize()}componentDidUpdate(){this.initialize()}componentWillUnmount(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioTimeUpdate),this.audio.removeEventListener("progress",this.handleAudioDownloadProgressUpdate)),clearTimeout(this.downloadProgressAnimationTimer)}render(){const{showDownloadProgress:e,showFilledProgress:t,progressBar:n,i18nProgressBar:i}=this.props,{currentTimePos:a,downloadProgressArr:o,hasDownloadProgressAnimation:c}=this.state;return dn.createElement("div",{className:"rhap_progress-container",ref:n,"aria-label":i,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number(a.split("%")[0]),tabIndex:0,onMouseDown:this.handleMouseDownOrTouchStartProgressBar,onTouchStart:this.handleMouseDownOrTouchStartProgressBar,onContextMenu:this.handleContextMenu},dn.createElement("div",{className:`rhap_progress-bar ${e?"rhap_progress-bar-show-download":""}`},dn.createElement("div",{className:"rhap_progress-indicator",style:{left:a}}),t&&dn.createElement("div",{className:"rhap_progress-filled",style:{width:a}}),e&&o.map((d,f)=>{let{left:g,width:b}=d;return dn.createElement("div",{key:f,className:"rhap_download-progress",style:{left:g,width:b,transitionDuration:c?".2s":"0s"}})})))}}const pK=(r,e)=>dn.createElement(mK,tE({},r,{progressBar:e})),gK=ae.forwardRef(pK);class n4 extends ae.PureComponent{hasAddedAudioEventListener=!1;constructor(e){super(e);const{audio:t,defaultCurrentTime:n,isLeftTime:i,timeFormat:a}=e;let o=n;t&&(o=Ip(i?t.duration-t.currentTime:t.currentTime,t.duration,a)),this.state={currentTime:o}}state={currentTime:this.props.defaultCurrentTime};handleAudioCurrentTimeChange=e=>{const t=e.target,{isLeftTime:n,timeFormat:i,defaultCurrentTime:a}=this.props;this.setState({currentTime:Ip(n?t.duration-t.currentTime:t.currentTime,t.duration,i)||a})};addAudioEventListeners=()=>{const{audio:e}=this.props;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("timeupdate",this.handleAudioCurrentTimeChange),e.addEventListener("loadedmetadata",this.handleAudioCurrentTimeChange))};componentDidMount(){this.addAudioEventListeners()}componentDidUpdate(){this.addAudioEventListeners()}componentWillUnmount(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioCurrentTimeChange),this.audio.removeEventListener("loadedmetadata",this.handleAudioCurrentTimeChange))}render(){return this.state.currentTime}}class bK extends ae.PureComponent{hasAddedAudioEventListener=!1;constructor(e){super(e);const{audio:t,timeFormat:n,defaultDuration:i}=e;this.state={duration:t?Ip(t.duration,t.duration,n):i}}state={duration:this.props.audio?Ip(this.props.audio.duration,this.props.audio.duration,this.props.timeFormat):this.props.defaultDuration};handleAudioDurationChange=e=>{const t=e.target,{timeFormat:n,defaultDuration:i}=this.props;this.setState({duration:Ip(t.duration,t.duration,n)||i})};addAudioEventListeners=()=>{const{audio:e}=this.props;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("durationchange",this.handleAudioDurationChange),e.addEventListener("abort",this.handleAudioDurationChange))};componentDidMount(){this.addAudioEventListeners()}componentDidUpdate(){this.addAudioEventListeners()}componentWillUnmount(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("durationchange",this.handleAudioDurationChange),this.audio.removeEventListener("abort",this.handleAudioDurationChange))}render(){return this.state.duration}}class xK extends ae.Component{hasAddedAudioEventListener=!1;volumeBar=ae.createRef();volumeAnimationTimer=0;lastVolume=this.props.volume;state={currentVolumePos:`${(this.lastVolume/1*100||0).toFixed(2)}%`,hasVolumeAnimation:!1,isDraggingVolume:!1};getCurrentVolume=e=>{const{audio:t}=this.props;if(!this.volumeBar.current)return{currentVolume:t.volume,currentVolumePos:this.state.currentVolumePos};const n=this.volumeBar.current.getBoundingClientRect(),i=n.width,a=NO(e)-n.left;let o,c;return a<0?(o=0,c="0%"):a>n.width?(o=1,c="100%"):(o=a/i,c=`${a/i*100}%`),{currentVolume:o,currentVolumePos:c}};handleContextMenu=e=>{e.preventDefault()};handleClickVolumeButton=()=>{const{audio:e}=this.props;e.volume>0?(this.lastVolume=e.volume,e.volume=0):e.volume=this.lastVolume};handleVolumnControlMouseOrTouchDown=e=>{e.stopPropagation();const{audio:t}=this.props,{currentVolume:n,currentVolumePos:i}=this.getCurrentVolume(e.nativeEvent);t.volume=n,this.setState({isDraggingVolume:!0,currentVolumePos:i}),e.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",this.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",this.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",this.handleWindowMouseOrTouchMove),window.addEventListener("touchend",this.handleWindowMouseOrTouchUp))};handleWindowMouseOrTouchMove=e=>{e instanceof MouseEvent&&e.preventDefault(),e.stopPropagation();const{audio:t}=this.props,n=window.getSelection();n&&n.type==="Range"&&n.empty();const{isDraggingVolume:i}=this.state;if(i){const{currentVolume:a,currentVolumePos:o}=this.getCurrentVolume(e);t.volume=a,this.setState({currentVolumePos:o})}};handleWindowMouseOrTouchUp=e=>{e.stopPropagation(),this.setState({isDraggingVolume:!1}),e instanceof MouseEvent?(window.removeEventListener("mousemove",this.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",this.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",this.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",this.handleWindowMouseOrTouchUp))};handleAudioVolumeChange=e=>{const{isDraggingVolume:t}=this.state,{volume:n}=e.target;(this.lastVolume>0&&n===0||this.lastVolume===0&&n>0)&&this.props.onMuteChange(),this.lastVolume=n,!t&&(this.setState({hasVolumeAnimation:!0,currentVolumePos:`${(n/1*100||0).toFixed(2)}%`}),clearTimeout(this.volumeAnimationTimer),this.volumeAnimationTimer=setTimeout(()=>{this.setState({hasVolumeAnimation:!1})},100))};componentDidUpdate(){const{audio:e}=this.props;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("volumechange",this.handleAudioVolumeChange))}componentWillUnmount(){this.audio&&this.hasAddedAudioEventListener&&this.audio.removeEventListener("volumechange",this.handleAudioVolumeChange),clearTimeout(this.volumeAnimationTimer)}render(){const{audio:e,showFilledVolume:t,i18nVolumeControl:n}=this.props,{currentVolumePos:i,hasVolumeAnimation:a}=this.state,{volume:o}=e||{};return dn.createElement("div",{ref:this.volumeBar,onMouseDown:this.handleVolumnControlMouseOrTouchDown,onTouchStart:this.handleVolumnControlMouseOrTouchDown,onContextMenu:this.handleContextMenu,role:"progressbar","aria-label":n,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number((o*100).toFixed(0)),tabIndex:0,className:"rhap_volume-bar-area"},dn.createElement("div",{className:"rhap_volume-bar"},dn.createElement("div",{className:"rhap_volume-indicator",style:{left:i,transitionDuration:a?".1s":"0s"}}),t&&dn.createElement("div",{className:"rhap_volume-filled",style:{width:i}})))}}let Es=(function(r){return r.CURRENT_TIME="CURRENT_TIME",r.CURRENT_LEFT_TIME="CURRENT_LEFT_TIME",r.PROGRESS_BAR="PROGRESS_BAR",r.DURATION="DURATION",r.ADDITIONAL_CONTROLS="ADDITIONAL_CONTROLS",r.MAIN_CONTROLS="MAIN_CONTROLS",r.VOLUME_CONTROLS="VOLUME_CONTROLS",r.LOOP="LOOP",r.VOLUME="VOLUME",r})({});class hy extends ae.Component{static defaultI18nAriaLabels={player:"Audio player",progressControl:"Audio progress control",volumeControl:"Volume control",play:"Play",pause:"Pause",rewind:"Rewind",forward:"Forward",previous:"Previous",next:"Skip",loop:"Disable loop",loopOff:"Enable loop",volume:"Mute",volumeMute:"Unmute"};audio=ae.createRef();progressBar=ae.createRef();container=ae.createRef();lastVolume=this.props.volume??1;togglePlay=e=>{e.stopPropagation();const t=this.audio.current;(t.paused||t.ended)&&t.src?this.playAudioPromise():t.paused||t.pause()};playAudioPromise=()=>{this.audio.current.error&&this.audio.current.load();const e=this.audio.current.play();e?e.then(null).catch(t=>{const{onPlayError:n}=this.props;n&&n(new Error(t))}):this.forceUpdate()};isPlaying=()=>{const e=this.audio.current;return e?!e.paused&&!e.ended:!1};handlePlay=e=>{this.forceUpdate(),this.props.onPlay&&this.props.onPlay(e)};handlePause=e=>{this.audio&&(this.forceUpdate(),this.props.onPause&&this.props.onPause(e))};handleEnded=e=>{this.audio&&(this.forceUpdate(),this.props.onEnded&&this.props.onEnded(e))};handleAbort=e=>{this.props.onAbort&&this.props.onAbort(e)};handleClickVolumeButton=()=>{const e=this.audio.current;e.volume>0?(this.lastVolume=e.volume,e.volume=0):e.volume=this.lastVolume};handleMuteChange=()=>{this.forceUpdate()};handleClickLoopButton=()=>{this.audio.current.loop=!this.audio.current.loop,this.forceUpdate()};handleClickRewind=()=>{const{progressJumpSteps:e,progressJumpStep:t}=this.props,n=e.backward||t;this.setJumpTime(-n)};handleClickForward=()=>{const{progressJumpSteps:e,progressJumpStep:t}=this.props,n=e.forward||t;this.setJumpTime(n)};setJumpTime=e=>{const t=this.audio.current,{duration:n,currentTime:i}=t;if(t.readyState===t.HAVE_NOTHING||t.readyState===t.HAVE_METADATA||!isFinite(n)||!isFinite(i))try{t.load()}catch(o){return this.props.onChangeCurrentTimeError&&this.props.onChangeCurrentTimeError(o)}let a=i+e/1e3;a<0?(t.currentTime=0,a=0):a>n?(t.currentTime=n,a=n):t.currentTime=a};setJumpVolume=e=>{let t=this.audio.current.volume+e;t<0?t=0:t>1&&(t=1),this.audio.current.volume=t};handleKeyDown=e=>{if(this.props.hasDefaultKeyBindings??!0)switch(e.key){case" ":(e.target===this.container.current||e.target===this.progressBar.current)&&(e.preventDefault(),this.togglePlay(e));break;case"ArrowLeft":this.handleClickRewind();break;case"ArrowRight":this.handleClickForward();break;case"ArrowUp":e.preventDefault(),this.setJumpVolume(this.props.volumeJumpStep);break;case"ArrowDown":e.preventDefault(),this.setJumpVolume(-this.props.volumeJumpStep);break;case"l":this.handleClickLoopButton();break;case"m":this.handleClickVolumeButton();break}};renderUIModules=e=>e.map((t,n)=>this.renderUIModule(t,n));renderUIModule=(e,t)=>{const{defaultCurrentTime:n="--:--",progressUpdateInterval:i=20,showDownloadProgress:a=!0,showFilledProgress:o=!0,showFilledVolume:c=!1,defaultDuration:d="--:--",customIcons:f={},showSkipControls:g=!1,onClickPrevious:b,onClickNext:v,onChangeCurrentTimeError:y,showJumpControls:w=!0,customAdditionalControls:T=[Es.LOOP],customVolumeControls:N=[Es.VOLUME],muted:_=!1,timeFormat:j="auto",volume:C=1,loop:A=!1,mse:P,i18nAriaLabels:U=hy.defaultI18nAriaLabels}=this.props;switch(e){case Es.CURRENT_TIME:return dn.createElement("div",{key:t,id:"rhap_current-time",className:"rhap_time rhap_current-time"},dn.createElement(n4,{audio:this.audio.current,isLeftTime:!1,defaultCurrentTime:n,timeFormat:j}));case Es.CURRENT_LEFT_TIME:return dn.createElement("div",{key:t,id:"rhap_current-left-time",className:"rhap_time rhap_current-left-time"},dn.createElement(n4,{audio:this.audio.current,isLeftTime:!0,defaultCurrentTime:n,timeFormat:j}));case Es.PROGRESS_BAR:return dn.createElement(gK,{key:t,ref:this.progressBar,audio:this.audio.current,progressUpdateInterval:i,showDownloadProgress:a,showFilledProgress:o,onSeek:P&&P.onSeek,onChangeCurrentTimeError:y,srcDuration:P&&P.srcDuration,i18nProgressBar:U.progressControl});case Es.DURATION:return dn.createElement("div",{key:t,className:"rhap_time rhap_total-time"},P&&P.srcDuration?Ip(P.srcDuration,P.srcDuration,this.props.timeFormat):dn.createElement(bK,{audio:this.audio.current,defaultDuration:d,timeFormat:j}));case Es.ADDITIONAL_CONTROLS:return dn.createElement("div",{key:t,className:"rhap_additional-controls"},this.renderUIModules(T));case Es.MAIN_CONTROLS:{const B=this.isPlaying();let F;return B?F=f.pause?f.pause:dn.createElement(Ic,{icon:"mdi:pause-circle"}):F=f.play?f.play:dn.createElement(Ic,{icon:"mdi:play-circle"}),dn.createElement("div",{key:t,className:"rhap_main-controls"},g&&dn.createElement("button",{"aria-label":U.previous,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:b},f.previous?f.previous:dn.createElement(Ic,{icon:"mdi:skip-previous"})),w&&dn.createElement("button",{"aria-label":U.rewind,className:"rhap_button-clear rhap_main-controls-button rhap_rewind-button",type:"button",onClick:this.handleClickRewind},f.rewind?f.rewind:dn.createElement(Ic,{icon:"mdi:rewind"})),dn.createElement("button",{"aria-label":B?U.pause:U.play,className:"rhap_button-clear rhap_main-controls-button rhap_play-pause-button",type:"button",onClick:this.togglePlay},F),w&&dn.createElement("button",{"aria-label":U.forward,className:"rhap_button-clear rhap_main-controls-button rhap_forward-button",type:"button",onClick:this.handleClickForward},f.forward?f.forward:dn.createElement(Ic,{icon:"mdi:fast-forward"})),g&&dn.createElement("button",{"aria-label":U.next,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:v},f.next?f.next:dn.createElement(Ic,{icon:"mdi:skip-next"})))}case Es.VOLUME_CONTROLS:return dn.createElement("div",{key:t,className:"rhap_volume-controls"},this.renderUIModules(N));case Es.LOOP:{const B=this.audio.current?this.audio.current.loop:A;let F;return B?F=f.loop?f.loop:dn.createElement(Ic,{icon:"mdi:repeat"}):F=f.loopOff?f.loopOff:dn.createElement(Ic,{icon:"mdi:repeat-off"}),dn.createElement("button",{key:t,"aria-label":B?U.loop:U.loopOff,className:"rhap_button-clear rhap_repeat-button",type:"button",onClick:this.handleClickLoopButton},F)}case Es.VOLUME:{const{volume:B=_?0:C}=this.audio.current||{};let F;return B?F=f.volume?f.volume:dn.createElement(Ic,{icon:"mdi:volume-high"}):F=f.volume?f.volumeMute:dn.createElement(Ic,{icon:"mdi:volume-mute"}),dn.createElement("div",{key:t,className:"rhap_volume-container"},dn.createElement("button",{"aria-label":B?U.volume:U.volumeMute,onClick:this.handleClickVolumeButton,type:"button",className:"rhap_button-clear rhap_volume-button"},F),dn.createElement(xK,{audio:this.audio.current,volume:B,onMuteChange:this.handleMuteChange,showFilledVolume:c,i18nVolumeControl:U.volumeControl}))}default:return ae.isValidElement(e)?e.key?e:ae.cloneElement(e,{key:t}):null}};componentDidMount(){this.forceUpdate();const e=this.audio.current;this.props.muted?e.volume=0:e.volume=this.lastVolume,e.addEventListener("error",t=>{const n=t.target;if(n.error&&n.currentTime===n.duration)return this.props.onEnded&&this.props.onEnded(t);this.props.onError&&this.props.onError(t)}),e.addEventListener("canplay",t=>{this.props.onCanPlay&&this.props.onCanPlay(t)}),e.addEventListener("canplaythrough",t=>{this.props.onCanPlayThrough&&this.props.onCanPlayThrough(t)}),e.addEventListener("play",this.handlePlay),e.addEventListener("abort",this.handleAbort),e.addEventListener("ended",this.handleEnded),e.addEventListener("playing",t=>{this.props.onPlaying&&this.props.onPlaying(t)}),e.addEventListener("seeking",t=>{this.props.onSeeking&&this.props.onSeeking(t)}),e.addEventListener("seeked",t=>{this.props.onSeeked&&this.props.onSeeked(t)}),e.addEventListener("waiting",t=>{this.props.onWaiting&&this.props.onWaiting(t)}),e.addEventListener("emptied",t=>{this.props.onEmptied&&this.props.onEmptied(t)}),e.addEventListener("stalled",t=>{this.props.onStalled&&this.props.onStalled(t)}),e.addEventListener("suspend",t=>{this.props.onSuspend&&this.props.onSuspend(t)}),e.addEventListener("loadstart",t=>{this.props.onLoadStart&&this.props.onLoadStart(t)}),e.addEventListener("loadedmetadata",t=>{this.props.onLoadedMetaData&&this.props.onLoadedMetaData(t)}),e.addEventListener("loadeddata",t=>{this.props.onLoadedData&&this.props.onLoadedData(t)}),e.addEventListener("pause",this.handlePause),e.addEventListener("timeupdate",TO(t=>{this.props.onListen&&this.props.onListen(t)},this.props.listenInterval)),e.addEventListener("volumechange",t=>{this.props.onVolumeChange&&this.props.onVolumeChange(t)}),e.addEventListener("encrypted",t=>{const{mse:n}=this.props;n&&n.onEcrypted&&n.onEcrypted(t)})}componentDidUpdate(e){const{src:t,autoPlayAfterSrcChange:n}=this.props;e.src!==t&&(n?this.playAudioPromise():this.forceUpdate())}render(){const{className:e="",src:t,loop:n=!1,preload:i="auto",autoPlay:a=!1,crossOrigin:o,mediaGroup:c,header:d,footer:f,layout:g="stacked",customProgressBarSection:b=[Es.CURRENT_TIME,Es.PROGRESS_BAR,Es.DURATION],customControlsSection:v=[Es.ADDITIONAL_CONTROLS,Es.MAIN_CONTROLS,Es.VOLUME_CONTROLS],children:y,style:w,i18nAriaLabels:T=hy.defaultI18nAriaLabels}=this.props,N=this.audio.current?this.audio.current.loop:n,_=N?"rhap_loop--on":"rhap_loop--off",j=this.isPlaying()?"rhap_play-status--playing":"rhap_play-status--paused";return dn.createElement("div",{role:"group",tabIndex:0,"aria-label":T.player,className:`rhap_container ${_} ${j} ${e}`,onKeyDown:this.handleKeyDown,ref:this.container,style:w},dn.createElement("audio",{src:t,controls:!1,loop:N,autoPlay:a,preload:i,crossOrigin:o,mediaGroup:c,ref:this.audio},y),d&&dn.createElement("div",{className:"rhap_header"},d),dn.createElement("div",{className:`rhap_main ${fK(g)}`},dn.createElement("div",{className:"rhap_progress-section"},this.renderUIModules(b)),dn.createElement("div",{className:"rhap_controls-section"},this.renderUIModules(v))),f&&dn.createElement("div",{className:"rhap_footer"},f))}}const _p=[{src:"/assets/audio/Narcissistic-Tendencies.mp3",title:"Narcissistic Tendencies"}],vK=()=>{const[r,e]=ae.useState(!1),[t,n]=ae.useState(0);return s.jsxs("div",{className:"fixed top-0 right-0 z-50 flex flex-col items-end w-80 opacity-80",children:[s.jsx("button",{onClick:()=>e(!r),className:"text-gray-400 hover:text-white rounded-full p-3 m-3 transition-colors w-15 text-3xl font-extralight landing-title cursor-pointer","aria-label":r?"Minimize Audio Player":"Expand Audio Player",children:r?"x":"♪"}),r&&s.jsx(hy,{className:"mt-2 mr-4 text-black bg-black",header:_p[t].title,src:_p[t].src,autoPlay:!0,onClickPrevious:()=>n(i=>(i-1+_p.length)%_p.length),onClickNext:()=>n(i=>(i+1)%_p.length),onEnded:()=>n(i=>(i+1)%_p.length),showSkipControls:!1,showJumpControls:!1,layout:"stacked",customAdditionalControls:[],autoPlayAfterSrcChange:!0})]})};function yK(){const r=en(),{disableThreeJS:e}=ae.useContext(vy);ae.useEffect(()=>{const n=new s_({duration:1.2,easing:a=>a===1?1:1-Math.pow(2,-10*a),direction:"vertical",gestureDirection:"vertical",smooth:!0,smoothTouch:!1});function i(a){n.raf(a),requestAnimationFrame(i)}return requestAnimationFrame(i),()=>{n.destroy()}},[]);const t=()=>{r("/login")};return s.jsxs(qn.section,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"min-h-screen min-w-screen flex items-center justify-center overflow-clip relative",children:[!e&&s.jsx(nZ,{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1},camera:{position:[0,0,100],fov:75},children:s.jsxs(ae.Suspense,{fallback:s.jsx("h1",{children:"Loading..."}),children:[s.jsx(rZ,{count:150}),s.jsx("ambientLight",{intensity:.5})]})}),s.jsx("div",{onClick:t,className:"flex flex-col space-y-8 text-center cursor-pointer",children:s.jsx("h1",{className:"text-6xl md:text-9xl cinzel relative z-10 landing-title",children:"Aristilia"})}),s.jsx(vK,{})]})}const _K=()=>{const r=en(),{user:e,loading:t,signIn:n}=sl(),[i,a]=ae.useState(""),[o,c]=ae.useState(""),[d,f]=ae.useState(null);ae.useEffect(()=>{const b=new s_({duration:1.2,easing:y=>y===1?1:1-Math.pow(2,-10*y),direction:"vertical",gestureDirection:"vertical",smooth:!0,smoothTouch:!1});function v(y){b.raf(y),requestAnimationFrame(v)}return requestAnimationFrame(v),()=>{b.destroy()}},[]);const g=async b=>{b.preventDefault(),f(null);const{error:v}=await n({email:i,password:o});v?(f(v.message),console.error("Login error:",v.message)):r("/landing",{replace:!0})};return t?s.jsx(qn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"min-h-screen flex items-center justify-center text-white text-center cinzel text-2xl animate-pulse",children:"Cargando lore..."}):s.jsx(qn.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.5},className:"min-h-screen min-w-screen flex items-center justify-center text-white",children:s.jsxs("div",{className:"text-center flex flex-col w-80 md:w-100",children:[s.jsx("h1",{className:"text-4xl cinzel mb-6",children:"Iniciar Sesión"}),d&&s.jsx("p",{className:"text-red-600 text-sm mb-4 montserrat animate-pulse",children:d}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsx("input",{type:"email",value:i,onChange:b=>a(b.target.value),placeholder:"Correo electrónico",className:"w-full p-2 mb-4 mr-2 ml-2 bg-gray-800 text-white rounded montserrat focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-300",required:!0,"aria-label":"Correo electrónico"}),s.jsx("input",{type:"password",value:o,onChange:b=>c(b.target.value),placeholder:"Contraseña",className:"w-full p-2 mb-4 mr-2 ml-2 bg-gray-800 text-white rounded montserrat focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-300",required:!0,"aria-label":"Contraseña"}),s.jsx("div",{className:"flex justify-center items-center mx-auto",children:s.jsx("button",{type:"submit",className:"w-fit p-2 bg-emerald-700 text-white rounded hover:bg-emerald-400 montserrat transition-all duration-300","aria-label":"Iniciar Sesión",children:"Iniciar Sesión"})})]}),s.jsxs("p",{className:"mt-4 text-sm montserrat",children:["¿Aún no tienes cuenta?"," ",s.jsx(Xu,{to:"/register",className:"text-gray-400 hover:text-gray-200 hover:underline transition-all duration-300","aria-label":"Registrarse",children:"Regístrate"})]}),s.jsx(Xu,{to:"/",className:"text-gray-400 text-xs hover:text-gray-200 hover:underline transition-all duration-300 montserrat mt-8 p-2","aria-label":"Registrarse",children:"Vuelve al Inicio"})]})})},SK=()=>{const r=en(),{user:e,loading:t,signUp:n}=sl(),[i,a]=ae.useState({username:"",email:"",password:""}),[o,c]=ae.useState(null);ae.useEffect(()=>{const g=new s_({duration:1.2,easing:v=>v===1?1:1-Math.pow(2,-10*v),direction:"vertical",gestureDirection:"vertical",smooth:!0,smoothTouch:!1});function b(v){g.raf(v),requestAnimationFrame(b)}return requestAnimationFrame(b),()=>{g.destroy()}},[]);const d=g=>{a({...i,[g.target.name]:g.target.value})},f=async g=>{g.preventDefault(),c(null);const{error:b}=await n({username:i.username,email:i.email,password:i.password});b?(c(b.message),console.error("Registration error:",b.message)):r("/login",{replace:!0})};return t?s.jsx(qn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"min-h-screen flex items-center justify-center text-white text-center cinzel text-2xl animate-pulse",children:"Creando tu leyenda..."}):s.jsx(qn.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.5},className:"min-h-screen min-w-screen flex items-center justify-center text-white",children:s.jsxs("div",{className:"text-center flex flex-col w-80 md:w-100",children:[s.jsx("h1",{className:"text-4xl cinzel mb-6",children:"Registrarse"}),o&&s.jsx("p",{className:"text-red-600 text-sm mb-4 montserrat animate-pulse",children:o}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsx("input",{type:"text",name:"username",value:i.username,onChange:d,placeholder:"Nombre de usuario",className:"w-full p-2 mb-4 mr-2 ml-2 bg-gray-800 text-white rounded montserrat focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-300",required:!0,"aria-label":"Nombre de usuario"}),s.jsx("input",{type:"email",name:"email",value:i.email,onChange:d,placeholder:"Correo electrónico",className:"w-full p-2 mb-4 mr-2 ml-2 bg-gray-800 text-white rounded montserrat focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-300",required:!0,"aria-label":"Correo electrónico"}),s.jsx("input",{type:"password",name:"password",value:i.password,onChange:d,placeholder:"Contraseña",className:"w-full p-2 mb-4 mr-2 ml-2 bg-gray-800 text-white rounded montserrat focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-300",required:!0,"aria-label":"Contraseña"}),s.jsx("div",{className:"flex justify-center items-center mx-auto",children:s.jsx("button",{type:"submit",className:"p-2 bg-emerald-700 text-white rounded hover:bg-emerald-400 w-25 montserrat transition-all duration-300","aria-label":"Registrarse",children:"Registrarse"})})]}),s.jsxs("p",{className:"mt-4 text-sm montserrat",children:["¿Ya tienes cuenta?"," ",s.jsx(Xu,{to:"/login",className:"text-gray-400 hover:text-gray-200 hover:underline transition-all duration-300","aria-label":"Iniciar Sesión",children:"Iniciar Sesión"})]})]})})};var LS={exports:{}},zS,r4;function wK(){if(r4)return zS;r4=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zS=r,zS}var US,i4;function EK(){if(i4)return US;i4=1;var r=wK();function e(){}function t(){}return t.resetWarningCache=e,US=function(){function n(o,c,d,f,g,b){if(b!==r){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},US}var s4;function MO(){return s4||(s4=1,LS.exports=EK()()),LS.exports}var IS,a4;function NK(){return a4||(a4=1,IS=(function(r){var e={};function t(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return r[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=r,t.c=e,t.d=function(n,i,a){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:a})},t.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,i){if(1&i&&(n=t(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var o in n)t.d(a,o,(function(c){return n[c]}).bind(null,o));return a},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},t.p="",t(t.s=2)})([function(r,e){r.exports=MO()},function(r,e){r.exports=qf()},function(r,e,t){t.r(e);var n=t(1),i=t(0),a=function(){return(a=Object.assign||function(w){for(var T,N=1,_=arguments.length;N<_;N++)for(var j in T=arguments[N])Object.prototype.hasOwnProperty.call(T,j)&&(w[j]=T[j]);return w}).apply(this,arguments)},o=function(w,T){var N={};for(var _ in w)Object.prototype.hasOwnProperty.call(w,_)&&T.indexOf(_)<0&&(N[_]=w[_]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function"){var j=0;for(_=Object.getOwnPropertySymbols(w);j<_.length;j++)T.indexOf(_[j])<0&&Object.prototype.propertyIsEnumerable.call(w,_[j])&&(N[_[j]]=w[_[j]])}return N},c=0,d=n.forwardRef((function(w,T){var N=w.title,_=N===void 0?null:N,j=w.description,C=j===void 0?null:j,A=w.size,P=A===void 0?null:A,U=w.color,B=U===void 0?"currentColor":U,F=w.horizontal,k=F===void 0?null:F,z=w.vertical,V=z===void 0?null:z,X=w.rotate,J=X===void 0?null:X,ee=w.spin,te=ee===void 0?null:ee,W=w.style,K=W===void 0?{}:W,$=w.children,oe=o(w,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);c++;var G,Y=te!==null&&te,ne=n.Children.map($,(function(ie){var ge=ie;Y!==!0&&(Y=(te===null?ge.props.spin:te)===!0);var _e=ge.props.size;typeof P=="number"&&typeof ge.props.size=="number"&&(_e=ge.props.size/P);var Te={size:_e,color:B===null?ge.props.color:B,horizontal:k===null?ge.props.horizontal:k,vertical:V===null?ge.props.vertical:V,rotate:J===null?ge.props.rotate:J,spin:te===null?ge.props.spin:te,inStack:!0};return n.cloneElement(ge,Te)}));P!==null&&(K.width=typeof P=="string"?P:1.5*P+"rem");var le,be="stack_labelledby_"+c,ce="stack_describedby_"+c;if(_)G=C?be+" "+ce:be;else if(le="presentation",C)throw new Error("title attribute required when description is set");return n.createElement("svg",a({ref:T,viewBox:"0 0 24 24",style:K,role:le,"aria-labelledby":G},oe),_&&n.createElement("title",{id:be},_),C&&n.createElement("desc",{id:ce},C),Y&&n.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),ne)}));d.displayName="Stack",d.propTypes={size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),children:i.oneOfType([i.arrayOf(i.node),i.node]).isRequired,className:i.string,style:i.object},d.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var f=d;t.d(e,"Icon",(function(){return y})),t.d(e,"Stack",(function(){return f}));var g=function(){return(g=Object.assign||function(w){for(var T,N=1,_=arguments.length;N<_;N++)for(var j in T=arguments[N])Object.prototype.hasOwnProperty.call(T,j)&&(w[j]=T[j]);return w}).apply(this,arguments)},b=function(w,T){var N={};for(var _ in w)Object.prototype.hasOwnProperty.call(w,_)&&T.indexOf(_)<0&&(N[_]=w[_]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function"){var j=0;for(_=Object.getOwnPropertySymbols(w);j<_.length;j++)T.indexOf(_[j])<0&&Object.prototype.propertyIsEnumerable.call(w,_[j])&&(N[_[j]]=w[_[j]])}return N},v=0,y=n.forwardRef((function(w,T){var N=w.path,_=w.id,j=_===void 0?++v:_,C=w.title,A=C===void 0?null:C,P=w.description,U=P===void 0?null:P,B=w.size,F=B===void 0?null:B,k=w.color,z=k===void 0?"currentColor":k,V=w.horizontal,X=V!==void 0&&V,J=w.vertical,ee=J!==void 0&&J,te=w.rotate,W=te===void 0?0:te,K=w.spin,$=K!==void 0&&K,oe=w.style,G=oe===void 0?{}:oe,Y=w.inStack,ne=Y!==void 0&&Y,le=b(w,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),be={},ce=[];F!==null&&(ne?ce.push("scale("+F+")"):(G.width=typeof F=="string"?F:1.5*F+"rem",G.height=G.width)),X&&ce.push("scaleX(-1)"),ee&&ce.push("scaleY(-1)"),W!==0&&ce.push("rotate("+W+"deg)"),z!==null&&(be.fill=z);var ie=n.createElement("path",g({d:N,style:be},ne?le:{})),ge=ie;ce.length>0&&(G.transform=ce.join(" "),G.transformOrigin="center",ne&&(ge=n.createElement("g",{style:G},ie,n.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var _e,Te=ge,Ee=$===!0||typeof $!="number"?2:$,$e=!ne&&(X||ee);if(Ee<0&&($e=!$e),$&&(Te=n.createElement("g",{style:{animation:"spin"+($e?"-inverse":"")+" linear "+Math.abs(Ee)+"s infinite",transformOrigin:"center"}},ge,!(X||ee||W!==0)&&n.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),ne)return Te;var tt,xe="icon_labelledby_"+j,ke="icon_describedby_"+j;if(A)_e=U?xe+" "+ke:xe;else if(tt="presentation",U)throw new Error("title attribute required when description is set");return n.createElement("svg",g({ref:T,viewBox:"0 0 24 24",style:G,role:tt,"aria-labelledby":_e},le),A&&n.createElement("title",{id:xe},A),U&&n.createElement("desc",{id:ke},U),!ne&&$&&($e?n.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):n.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),Te)}));y.displayName="Icon",y.propTypes={path:i.string.isRequired,size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),style:i.object,inStack:i.bool,className:i.string},y.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},e.default=y}])),IS}var el=NK();const Et=ed(el);var Jd="M17 17V21H19V17H21L18 14L15 17H17M11 4C8.8 4 7 5.8 7 8S8.8 12 11 12 15 10.2 15 8 13.2 4 11 4M11 6C12.1 6 13 6.9 13 8S12.1 10 11 10 9 9.1 9 8 9.9 6 11 6M11 13C8.3 13 3 14.3 3 17V20H12.5C12.2 19.4 12.1 18.8 12 18.1H4.9V17C4.9 16.4 8 14.9 11 14.9C11.5 14.9 12 15 12.5 15C12.8 14.4 13.1 13.8 13.6 13.3C12.6 13.1 11.7 13 11 13",TK="M12,5.5A3.5,3.5 0 0,1 15.5,9A3.5,3.5 0 0,1 12,12.5A3.5,3.5 0 0,1 8.5,9A3.5,3.5 0 0,1 12,5.5M5,8C5.56,8 6.08,8.15 6.53,8.42C6.38,9.85 6.8,11.27 7.66,12.38C7.16,13.34 6.16,14 5,14A3,3 0 0,1 2,11A3,3 0 0,1 5,8M19,8A3,3 0 0,1 22,11A3,3 0 0,1 19,14C17.84,14 16.84,13.34 16.34,12.38C17.2,11.27 17.62,9.85 17.47,8.42C17.92,8.15 18.44,8 19,8M5.5,18.25C5.5,16.18 8.41,14.5 12,14.5C15.59,14.5 18.5,16.18 18.5,18.25V20H5.5V18.25M0,20V18.5C0,17.11 1.89,15.94 4.45,15.6C3.86,16.28 3.5,17.22 3.5,18.25V20H0M24,20H20.5V18.25C20.5,17.22 20.14,16.28 19.55,15.6C22.11,15.94 24,17.11 24,18.5V20Z",MK="M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z",Qd="M0.41,13.41L6,19L7.41,17.58L1.83,12M22.24,5.58L11.66,16.17L7.5,12L6.07,13.41L11.66,19L23.66,7M18,7L16.59,5.58L10.24,11.93L11.66,13.34L18,7Z",jK="M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M3.05,13H1V11H3.05C3.5,6.83 6.83,3.5 11,3.05V1H13V3.05C17.17,3.5 20.5,6.83 20.95,11H23V13H20.95C20.5,17.17 17.17,20.5 13,20.95V23H11V20.95C6.83,20.5 3.5,17.17 3.05,13M12,5A7,7 0 0,0 5,12A7,7 0 0,0 12,19A7,7 0 0,0 19,12A7,7 0 0,0 12,5Z",AK="M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M14.07 8.21C15.5 8.21 16.64 9.36 16.64 10.78V13.42C16.64 14.84 15.5 16 14.07 16C12.64 16 11.5 14.84 11.5 13.42V10.78C11.5 9.36 12.65 8.21 14.07 8.21M10.36 8.41H10.5V16H9V10.21L7.22 10.76V9.53L10.36 8.41M14.06 9.65C13.47 9.65 13 10.13 13 10.71V13.5C13 14.07 13.47 14.54 14.06 14.54C14.64 14.54 15.14 14.06 15.14 13.5V10.71C15.14 10.12 14.64 9.65 14.06 9.65Z",jO="M10.5 16H9V10.21L7.22 10.76V9.53L10.36 8.41H10.5V16M14.07 8.21C15.5 8.21 16.64 9.36 16.64 10.78V13.42C16.64 14.84 15.5 16 14.07 16C12.64 16 11.5 14.84 11.5 13.42V10.78C11.5 9.36 12.65 8.21 14.07 8.21M14.06 9.65C13.47 9.65 13 10.13 13 10.71V13.5C13 14.07 13.47 14.54 14.06 14.54C14.64 14.54 15.14 14.06 15.14 13.5V10.71C15.14 10.12 14.64 9.65 14.06 9.65M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M12 4L20 12L12 20L4 12Z",CK="M12 2L1.5 9.64L5.5 22H18.5L22.5 9.64L12 2M10.5 17H8.89V10.89L7 11.47V10.19L10.31 9H10.5V17M17 17H11.66V15.91C11.66 15.91 15.23 12.45 15.23 11.4C15.23 10.12 14.18 10.25 14.18 10.25C13.5 10.3 13 10.87 13 11.55H11.44C11.5 10.09 12.72 8.94 14.27 9C16.74 9 16.77 10.85 16.77 11.3C16.77 13.07 13.58 15.77 13.58 15.77L17 15.75V17Z",AO="M12,2L1.5,9.64L5.5,22H18.5L22.5,9.64L12,2M17,20H7L3.85,10.4L12,4.47L20.15,10.4L17,20M17,15.75V17H11.66V15.91C11.66,15.91 15.23,12.45 15.23,11.4C15.23,10.12 14.18,10.25 14.18,10.25C13.5,10.3 13,10.87 13,11.55H11.44C11.5,10.09 12.72,8.94 14.27,9C16.74,9 16.77,10.85 16.77,11.3C16.77,13.07 13.58,15.77 13.58,15.77L17,15.75M10.5,17H8.89V10.89L7,11.47V10.19L10.31,9H10.5V17Z",BS="M20.47 6.62L12.57 2.18C12.41 2.06 12.21 2 12 2S11.59 2.06 11.43 2.18L3.53 6.62C3.21 6.79 3 7.12 3 7.5V16.5C3 16.88 3.21 17.21 3.53 17.38L11.43 21.82C11.59 21.94 11.79 22 12 22S12.41 21.94 12.57 21.82L20.47 17.38C20.79 17.21 21 16.88 21 16.5V7.5C21 7.12 20.79 6.79 20.47 6.62M11.45 15.96L6.31 15.93V14.91C6.31 14.91 9.74 11.58 9.75 10.57C9.75 9.33 8.73 9.46 8.73 9.46S7.75 9.5 7.64 10.71L6.14 10.76C6.14 10.76 6.18 8.26 8.83 8.26C11.2 8.26 11.23 10.04 11.23 10.5C11.23 12.18 8.15 14.77 8.15 14.77L11.45 14.76V15.96M17.5 13.5C17.5 14.9 16.35 16.05 14.93 16.05C13.5 16.05 12.36 14.9 12.36 13.5V10.84C12.36 9.42 13.5 8.27 14.93 8.27S17.5 9.42 17.5 10.84V13.5M16 10.77V13.53C16 14.12 15.5 14.6 14.92 14.6C14.34 14.6 13.86 14.12 13.86 13.53V10.77C13.86 10.18 14.34 9.71 14.92 9.71C15.5 9.71 16 10.18 16 10.77Z",CO="M21,16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V7.5C3,7.12 3.21,6.79 3.53,6.62L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.79,6.79 21,7.12 21,7.5V16.5M12,4.15L5,8.09V15.91L12,19.85L19,15.91V8.09L12,4.15M14.93,8.27A2.57,2.57 0 0,1 17.5,10.84V13.5C17.5,14.9 16.35,16.05 14.93,16.05C13.5,16.05 12.36,14.9 12.36,13.5V10.84A2.57,2.57 0 0,1 14.93,8.27M14.92,9.71C14.34,9.71 13.86,10.18 13.86,10.77V13.53C13.86,14.12 14.34,14.6 14.92,14.6C15.5,14.6 16,14.12 16,13.53V10.77C16,10.18 15.5,9.71 14.92,9.71M11.45,14.76V15.96L6.31,15.93V14.91C6.31,14.91 9.74,11.58 9.75,10.57C9.75,9.33 8.73,9.46 8.73,9.46C8.73,9.46 7.75,9.5 7.64,10.71L6.14,10.76C6.14,10.76 6.18,8.26 8.83,8.26C11.2,8.26 11.23,10.04 11.23,10.5C11.23,12.18 8.15,14.77 8.15,14.77L11.45,14.76Z",RK="M10.25 15.15L11.92 12.47V15.15H10.25M21.92 21H2.08C1.24 21 .72 20.08 1.16 19.36L11.08 3.13C11.5 2.44 12.5 2.44 12.92 3.13L22.84 19.36C23.28 20.08 22.76 21 21.92 21M14.29 15.15H13.43V10.42H11.91L8.75 15.41L8.82 16.36H11.92V18H13.43V16.36H14.29V15.15Z",RO="M13.43,15.15H14.29V16.36H13.43V18H11.92V16.36H8.82L8.75,15.41L11.91,10.42H13.43V15.15M10.25,15.15H11.92V12.47L10.25,15.15M22,21H2C1.64,21 1.31,20.81 1.13,20.5C0.95,20.18 0.96,19.79 1.15,19.5L11.15,3C11.5,2.38 12.5,2.38 12.86,3L22.86,19.5C23.04,19.79 23.05,20.18 22.87,20.5C22.69,20.81 22.36,21 22,21M3.78,19H20.23L12,5.43L3.78,19Z",OK="M13.05 13.5C13.05 14.27 12.61 14.83 12 14.83S10.85 14.27 10.85 13.5L10.83 12.78C10.83 12.78 11.21 12 11.95 12.1C12.56 12.1 13.05 12.73 13.05 13.5M21 5V19C21 20.11 20.11 21 19 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5M14.55 13.41C14.5 11.45 13.19 10.87 12.53 10.87C11.41 10.87 10.86 11.53 10.86 11.53S10.89 9.5 13.39 9.53V8.33C13.39 8.33 9.33 7.94 9.3 12.66C9.27 16.86 12.77 16 12.77 16S14.61 15.47 14.55 13.41Z",OO="M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M5,5V19H19V5H5M13.39,9.53C10.89,9.5 10.86,11.53 10.86,11.53C10.86,11.53 11.41,10.87 12.53,10.87C13.19,10.87 14.5,11.45 14.55,13.41C14.61,15.47 12.77,16 12.77,16C12.77,16 9.27,16.86 9.3,12.66C9.33,7.94 13.39,8.33 13.39,8.33V9.53M11.95,12.1C11.21,12 10.83,12.78 10.83,12.78L10.85,13.5C10.85,14.27 11.39,14.83 12,14.83C12.61,14.83 13.05,14.27 13.05,13.5C13.05,12.73 12.56,12.1 11.95,12.1Z",DK="M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M12 8.25C13.31 8.25 14.38 9.2 14.38 10.38C14.38 11.07 14 11.68 13.44 12.07C14.14 12.46 14.6 13.13 14.6 13.9C14.6 15.12 13.44 16.1 12 16.1C10.56 16.1 9.4 15.12 9.4 13.9C9.4 13.13 9.86 12.46 10.56 12.07C10 11.68 9.63 11.07 9.63 10.38C9.63 9.2 10.69 8.25 12 8.25M12 9.5C11.5 9.5 11.1 9.95 11.1 10.5C11.1 11.05 11.5 11.5 12 11.5C12.5 11.5 12.9 11.05 12.9 10.5C12.9 9.95 12.5 9.5 12 9.5M12 12.65C11.39 12.65 10.9 13.14 10.9 13.75C10.9 14.36 11.39 14.85 12 14.85C12.61 14.85 13.1 14.36 13.1 13.75C13.1 13.14 12.61 12.65 12 12.65Z",DO="M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M12 4L20 12L12 20L4 12M12 8.25C13.31 8.25 14.38 9.2 14.38 10.38C14.38 11.07 14 11.68 13.44 12.07C14.14 12.46 14.6 13.13 14.6 13.9C14.6 15.12 13.44 16.1 12 16.1C10.56 16.1 9.4 15.12 9.4 13.9C9.4 13.13 9.86 12.46 10.56 12.07C10 11.68 9.63 11.07 9.63 10.38C9.63 9.2 10.69 8.25 12 8.25M12 12.65C11.39 12.65 10.9 13.14 10.9 13.75C10.9 14.36 11.39 14.85 12 14.85C12.61 14.85 13.1 14.36 13.1 13.75C13.1 13.14 12.61 12.65 12 12.65M12 9.5C11.5 9.5 11.1 9.95 11.1 10.5C11.1 11.05 11.5 11.5 12 11.5C12.5 11.5 12.9 11.05 12.9 10.5C12.9 9.95 12.5 9.5 12 9.5",xo="M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z",PK="M13.78 15.3L19.78 21.3L21.89 19.14L15.89 13.14L13.78 15.3M17.5 10.1C17.11 10.1 16.69 10.05 16.36 9.91L4.97 21.25L2.86 19.14L10.27 11.74L8.5 9.96L7.78 10.66L6.33 9.25V12.11L5.63 12.81L2.11 9.25L2.81 8.55H5.62L4.22 7.14L7.78 3.58C8.95 2.41 10.83 2.41 12 3.58L9.89 5.74L11.3 7.14L10.59 7.85L12.38 9.63L14.2 7.75C14.06 7.42 14 7 14 6.63C14 4.66 15.56 3.11 17.5 3.11C18.09 3.11 18.61 3.25 19.08 3.53L16.41 6.2L17.91 7.7L20.58 5.03C20.86 5.5 21 6 21 6.63C21 8.55 19.45 10.1 17.5 10.1Z",pa="M16 2C13.24 2 11 4.24 11 7S13.24 12 16 12 21 9.76 21 7 18.76 2 16 2M16 10C14.34 10 13 8.66 13 7S14.34 4 16 4 19 5.34 19 7 17.66 10 16 10M19 16H17C17 14.8 16.25 13.72 15.13 13.3L8.97 11H1V22H7V20.56L14 22.5L22 20V19C22 17.34 20.66 16 19 16M5 20H3V13H5V20M13.97 20.41L7 18.5V13H8.61L14.43 15.17C14.77 15.3 15 15.63 15 16C15 16 13 15.95 12.7 15.85L10.32 15.06L9.69 16.96L12.07 17.75C12.58 17.92 13.11 18 13.65 18H19C19.39 18 19.74 18.24 19.9 18.57L13.97 20.41Z",LK="M17.5 9C16.12 9 15 7.88 15 6.5S16.12 4 17.5 4 20 5.12 20 6.5 18.88 9 17.5 9M14.43 8.15L2 20.59L3.41 22L15.85 9.57C15.25 9.24 14.76 8.75 14.43 8.15M13 5L13.63 3.63L15 3L13.63 2.37L13 1L12.38 2.37L11 3L12.38 3.63L13 5M21 5L21.63 3.63L23 3L21.63 2.37L21 1L20.38 2.37L19 3L20.38 3.63L21 5M21 9L20.38 10.37L19 11L20.38 11.63L21 13L21.63 11.63L23 11L21.63 10.37L21 9Z",PO="M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z",zK="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",UK="M21 11C21 16.55 17.16 21.74 12 23C6.84 21.74 3 16.55 3 11V5L12 1L21 5V11M12 21C15.75 20 19 15.54 19 11.22V6.3L12 3.18L5 6.3V11.22C5 15.54 8.25 20 12 21M12 8.89C13.6 8.89 14.89 10.18 14.89 11.78S13.6 14.67 12 14.67 9.11 13.37 9.11 11.78 10.41 8.89 12 8.89M12 6L13.38 8C12.96 7.82 12.5 7.73 12 7.73S11.05 7.82 10.62 8L12 6M7 8.89L9.4 8.69C9.06 9 8.74 9.34 8.5 9.76C8.25 10.18 8.1 10.62 8 11.08L7 8.89M7 14.67L8.03 12.5C8.11 12.93 8.27 13.38 8.5 13.8C8.75 14.23 9.06 14.59 9.4 14.88L7 14.67M17 8.89L16 11.08C15.9 10.62 15.74 10.18 15.5 9.76C15.26 9.34 14.95 9 14.6 8.68L17 8.89M17 14.67L14.6 14.87C14.94 14.58 15.25 14.22 15.5 13.8C15.74 13.38 15.89 12.93 15.97 12.5L17 14.67M12 17.55L10.61 15.57C11.04 15.72 11.5 15.82 12 15.82C12.5 15.82 12.95 15.72 13.37 15.57L12 17.55Z",$d="M15 6H22V9H18V13H14V17H10V21H3V18H7V14H11V10H15V6M10.17 6.66L4.66 12.17L2.83 10.34L8.34 4.83L6.5 3H12V8.5L10.17 6.66Z",IK="M6.2,2.44L18.1,14.34L20.22,12.22L21.63,13.63L19.16,16.1L22.34,19.28C22.73,19.67 22.73,20.3 22.34,20.69L21.63,21.4C21.24,21.79 20.61,21.79 20.22,21.4L17,18.23L14.56,20.7L13.15,19.29L15.27,17.17L3.37,5.27V2.44H6.2M15.89,10L20.63,5.26V2.44H17.8L13.06,7.18L15.89,10M10.94,15L8.11,12.13L5.9,14.34L3.78,12.22L2.37,13.63L4.84,16.1L1.66,19.29C1.27,19.68 1.27,20.31 1.66,20.7L2.37,21.41C2.76,21.8 3.39,21.8 3.78,21.41L7,18.23L9.44,20.7L10.85,19.29L8.73,17.17L10.94,15Z",eh="M6,2H18V8H18V8L14,12L18,16V16H18V22H6V16H6V16L10,12L6,8V8H6V2M16,16.5L12,12.5L8,16.5V20H16V16.5M12,11.5L16,7.5V4H8V7.5L12,11.5M10,6H14V6.75L12,8.75L10,6.75V6Z",LO="M19,5V7H15V5H19M9,5V11H5V5H9M19,13V19H15V13H19M9,17V19H5V17H9M21,3H13V9H21V3M11,3H3V13H11V3M21,11H13V21H21V11M11,15H3V21H11V15Z",zO="M12,3A4,4 0 0,1 16,7C16,7.73 15.81,8.41 15.46,9H18C18.95,9 19.75,9.67 19.95,10.56C21.96,18.57 22,18.78 22,19A2,2 0 0,1 20,21H4A2,2 0 0,1 2,19C2,18.78 2.04,18.57 4.05,10.56C4.25,9.67 5.05,9 6,9H8.54C8.19,8.41 8,7.73 8,7A4,4 0 0,1 12,3M12,5A2,2 0 0,0 10,7A2,2 0 0,0 12,9A2,2 0 0,0 14,7A2,2 0 0,0 12,5Z";const BK=r=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"300.000000pt",height:"447.000000pt",viewBox:"0 0 300.000000 447.000000",preserveAspectRatio:"xMidYMid meet",...r,children:[s.jsx("metadata",{children:`
Created by potrace 1.10, written by Peter Selinger 2001-2011
`}),s.jsxs("g",{transform:"translate(0.000000,447.000000) scale(0.050000,-0.050000)",fill:"darkgray",stroke:"none",children:[s.jsx("path",{d:"M2899 8616 c-36 -76 -78 -123 -156 -178 -213 -147 -352 -316 -559 -681 -169 -296 -367 -444 -456 -339 l-43 50 -34 -65 c-55 -108 18 -152 154 -94 60 26 39 -23 -29 -66 -46 -29 -72 -35 -90 -20 -13 11 -33 15 -44 8 -28 -17 -107 65 -90 93 9 13 5 17 -9 8 -13 -8 -23 -26 -23 -41 0 -25 -54 -61 -83 -55 -8 2 -72 7 -143 12 -232 17 -433 149 -657 433 -193 245 -203 219 -55 -154 175 -443 294 -615 470 -678 76 -27 76 -27 18 -28 -33 0 -132 31 -220 69 -88 39 -168 70 -179 70 -29 0 191 -218 233 -231 51 -16 45 -51 -17 -100 l-53 -42 70 -79 c156 -174 167 -361 25 -449 -46 -28 -64 -52 -56 -75 8 -26 6 -28 -9 -7 -11 16 -35 22 -58 15 -78 -25 -404 371 -538 653 -45 95 -92 101 -75 10 87 -492 162 -676 410 -1007 97 -129 97 -129 -28 -207 -136 -84 -513 -367 -514 -385 -1 -8 43 -9 97 -3 106 13 382 -91 382 -144 0 -36 -100 -133 -181 -176 l-69 -37 60 -48 c33 -26 92 -58 130 -71 226 -73 330 -164 351 -309 8 -49 21 -93 30 -99 60 -37 -115 -243 -249 -291 -104 -38 -91 -64 88 -169 176 -104 178 -107 120 -159 -55 -50 -53 -54 60 -106 143 -66 164 -115 78 -186 -77 -63 -71 -76 58 -120 117 -39 154 -112 93 -180 -38 -42 -38 -44 -1 -66 93 -55 149 -118 222 -251 58 -107 110 -168 199 -239 94 -73 138 -127 191 -233 39 -76 108 -177 155 -225 212 -219 303 -515 257 -842 -19 -139 -25 -132 80 -89 26 10 28 6 11 -25 -25 -47 -117 -300 -133 -369 -26 -109 34 -108 170 1 69 55 127 100 130 100 2 0 -21 -73 -53 -161 -107 -302 -20 -363 169 -120 129 166 171 155 319 -81 88 -142 110 -141 196 9 33 56 86 134 119 172 l59 68 130 -125 c199 -190 285 -145 192 100 -67 177 -57 192 66 99 204 -155 228 -118 112 178 -85 219 -87 239 -22 198 57 -36 62 -23 40 113 -37 229 80 505 371 873 23 30 74 110 112 178 39 69 104 163 145 210 42 47 88 122 104 165 41 117 117 229 209 308 78 67 83 116 11 116 -97 0 24 137 161 182 44 15 84 29 88 32 16 11 -64 85 -81 74 -9 -6 -17 3 -17 19 0 33 186 133 246 133 37 0 36 3 -4 71 -23 39 -42 74 -42 78 0 4 77 46 171 92 190 95 195 108 64 179 -223 122 -256 194 -183 393 61 167 101 209 254 259 155 50 277 117 343 186 l58 62 -68 0 c-173 0 -311 92 -230 152 75 55 318 113 426 102 177 -18 72 84 -355 347 -93 57 -174 108 -179 112 -4 4 56 136 134 292 92 184 150 328 164 405 12 66 42 198 68 294 62 232 15 294 -81 107 -18 -33 -69 -110 -114 -169 -45 -60 -107 -144 -139 -188 -31 -44 -69 -93 -85 -109 -15 -15 -38 -46 -50 -69 -26 -48 -120 -38 -184 19 -60 54 -38 250 45 396 l63 112 -54 72 -55 72 48 31 c78 53 259 244 259 275 0 34 -45 14 -113 -50 -23 -22 -50 -34 -58 -27 -9 8 -10 4 -3 -8 14 -25 -28 -69 -103 -107 -39 -20 -45 -20 -32 1 9 14 -19 -1 -61 -33 -42 -33 -80 -56 -84 -52 -13 13 -266 -41 -266 -57 0 -9 34 -22 75 -30 68 -13 71 -16 31 -31 -65 -25 -345 -31 -351 -8 -8 30 221 143 365 181 72 19 139 44 150 57 11 12 65 50 120 85 204 129 331 314 450 650 113 320 102 370 -40 181 -214 -283 -380 -406 -614 -455 -263 -56 -453 -29 -506 71 -21 38 -25 37 -90 -32 -67 -71 -69 -72 -184 -57 -64 8 -133 14 -153 13 -23 -2 -33 7 -26 25 7 18 1 24 -16 18 -16 -6 -33 6 -40 30 -16 49 -117 148 -158 154 -41 6 -57 -94 -20 -134 16 -18 26 -45 23 -60 -3 -16 8 -27 26 -26 21 2 31 -12 30 -40 -2 -28 -14 -40 -37 -36 -19 3 -35 -4 -35 -15 0 -12 12 -21 26 -21 14 0 37 -31 51 -69 27 -74 72 -96 129 -62 25 15 39 15 50 -2 8 -12 52 -28 99 -36 52 -9 85 -25 85 -42 0 -80 235 -118 400 -64 88 28 10 59 -85 33 -37 -10 -64 -7 -80 11 -20 21 -29 20 -49 -7 -16 -20 -25 -23 -25 -7 -1 13 -32 38 -71 54 -71 29 -80 50 -51 121 9 23 7 51 -4 65 -13 17 -13 25 1 25 12 0 48 23 81 50 54 46 58 47 49 10 -6 -22 -2 -40 9 -40 12 0 19 -16 18 -35 -2 -27 15 -36 72 -41 41 -4 75 2 75 13 0 12 31 15 75 8 121 -18 310 -6 344 23 17 14 60 32 96 39 120 22 320 168 407 295 92 137 108 147 65 43 -70 -170 -93 -208 -109 -182 -10 17 -19 9 -28 -26 -15 -59 -170 -220 -170 -177 0 19 -9 15 -29 -11 -18 -24 -30 -29 -30 -13 -1 14 -21 3 -46 -26 -25 -29 -58 -54 -75 -57 -16 -2 -42 -12 -56 -21 -15 -9 -32 -11 -38 -5 -11 12 -110 -50 -163 -102 -20 -19 -34 -21 -54 -5 -20 17 -24 14 -16 -16 7 -28 -9 -52 -56 -85 -37 -26 -137 -116 -222 -202 -85 -86 -155 -147 -155 -136 0 13 -14 13 -40 -1 -22 -12 -52 -20 -65 -17 -30 5 -287 -54 -368 -84 -64 -25 -64 -24 41 59 78 62 77 88 -1 33 -23 -16 -49 -23 -58 -15 -8 8 -9 3 -2 -10 8 -13 -3 -28 -27 -36 -23 -7 -35 -23 -27 -35 9 -14 2 -17 -18 -10 -27 11 -55 -19 -55 -58 0 -13 125 10 356 67 237 59 258 53 160 -49 -119 -124 -200 -388 -109 -353 15 5 41 -11 58 -37 45 -69 297 -270 385 -306 78 -33 354 -25 400 12 11 8 54 15 95 15 93 0 267 88 335 169 27 33 70 67 95 77 25 9 45 27 45 40 0 15 -11 14 -35 -5 -32 -24 -32 -24 -7 8 22 29 33 31 60 11 17 -14 26 -17 18 -8 -7 9 5 36 27 59 53 57 121 190 108 211 -9 15 82 202 99 202 16 0 -111 -390 -129 -396 -12 -4 -21 -24 -21 -44 0 -20 -29 -68 -65 -105 -95 -101 -135 -153 -135 -175 0 -11 -7 -20 -15 -20 -8 -1 -37 -19 -65 -42 -27 -23 -36 -36 -20 -28 27 11 27 10 0 -14 -16 -14 -52 -71 -80 -126 -27 -55 -61 -114 -75 -131 -32 -41 7 -99 69 -104 63 -5 46 -43 -24 -55 -62 -11 -162 30 -179 74 -5 13 31 67 80 120 88 96 124 163 51 98 -36 -33 -39 -33 -60 2 -19 33 -21 33 -21 1 -1 -19 10 -35 23 -35 14 0 -10 -34 -52 -75 -101 -98 -262 -145 -315 -91 -50 51 -74 157 -32 141 18 -7 36 0 42 15 8 21 -4 26 -49 20 -41 -5 -71 5 -99 35 -46 50 -50 34 -10 -43 16 -32 23 -64 15 -73 -8 -8 -4 -9 9 -2 40 22 127 -152 126 -251 -3 -138 -36 -188 -38 -56 -2 127 -21 167 -73 157 -51 -10 -58 -92 -18 -209 32 -96 37 -308 7 -308 -10 0 -17 -17 -17 -38 0 -21 -15 -43 -32 -50 -24 -9 -30 -28 -22 -67 6 -30 4 -86 -4 -125 l-14 -70 -14 66 c-20 98 -48 62 -41 -53 5 -76 -1 -102 -26 -111 -28 -11 -30 -1 -19 69 8 54 6 78 -8 69 -12 -7 -20 16 -20 60 0 43 -8 67 -20 60 -13 -8 -13 5 -1 36 10 27 15 66 11 87 -4 20 -8 46 -9 57 -1 11 -10 7 -21 -10 -16 -26 -19 -25 -20 6 0 64 -150 204 -155 145 -3 -27 4 -54 15 -61 11 -7 14 2 6 22 -9 24 -5 30 11 20 12 -8 23 -32 23 -54 0 -23 9 -58 21 -79 13 -26 14 -39 0 -39 -11 0 -14 -15 -7 -33 9 -25 6 -29 -14 -17 -19 12 -18 3 4 -28 22 -31 27 -63 17 -109 -14 -62 6 -316 28 -352 30 -47 -45 -59 -76 -12 -44 66 -44 105 -1 69 28 -23 31 -22 24 13 -5 21 -21 36 -36 33 -22 -5 -22 -1 -1 25 17 21 19 31 3 31 -12 0 -22 19 -22 41 0 26 -9 36 -23 27 -15 -9 -19 -70 -12 -188 l10 -175 -66 -20 -66 -20 10 92 c5 51 13 138 17 193 4 55 31 145 58 200 49 96 51 97 41 30 -7 -54 -5 -61 9 -30 26 54 27 135 2 120 -12 -7 -20 19 -20 66 0 44 -18 121 -41 171 -46 105 -74 129 -32 28 45 -109 43 -364 -3 -408 -38 -36 -52 -68 -73 -167 -6 -27 -16 -77 -23 -110 -8 -33 -23 -73 -36 -89 -17 -22 -16 -25 3 -14 14 9 25 5 25 -7 0 -13 -11 -20 -25 -15 -50 16 -37 132 37 328 120 316 93 570 -82 777 -45 54 -44 46 19 -87 38 -81 74 -153 80 -159 18 -18 12 -167 -6 -156 -9 6 -15 -23 -12 -64 3 -41 -2 -83 -10 -94 -30 -40 -104 -347 -108 -450 -4 -89 -39 -131 -73 -89 -20 23 -19 29 8 29 17 0 32 14 32 30 0 17 -9 30 -20 30 -11 0 -20 -9 -20 -20 0 -11 -9 -20 -20 -20 -11 0 -20 14 -20 30 0 17 7 30 16 30 9 0 17 47 17 105 1 58 8 134 16 168 12 52 7 71 -27 100 -23 20 -42 52 -42 71 0 20 -8 36 -18 36 -10 0 -14 20 -10 45 5 25 3 34 -3 20 -7 -14 -25 -25 -41 -25 -15 0 -28 -10 -28 -21 0 -12 7 -17 15 -12 19 12 34 -279 26 -497 -3 -76 -8 -90 -21 -60 -13 29 -18 12 -19 -64 -1 -100 -48 -167 -106 -150 -8 2 -15 -27 -15 -66 0 -67 -58 -109 -62 -45 0 14 -14 -6 -30 -45 l-29 -70 10 66 c7 41 3 61 -9 54 -11 -7 -20 -24 -20 -38 0 -14 -18 -47 -40 -72 -22 -25 -40 -56 -40 -68 0 -12 -9 -9 -18 6 -20 31 15 106 42 90 8 -6 10 4 4 21 -7 17 15 87 48 156 33 69 66 154 73 190 18 83 40 83 66 0 20 -61 21 -58 23 55 2 66 11 154 20 195 10 41 11 80 2 85 -15 10 -59 -78 -67 -137 -10 -62 -33 -59 -33 5 0 35 18 101 40 147 47 97 51 209 9 264 -33 44 -37 88 -9 131 16 26 22 24 47 -9 26 -36 29 -33 42 45 11 64 23 84 53 84 43 0 51 -31 13 -47 -20 -8 -19 -10 1 -11 72 -5 49 161 -38 270 -66 84 -69 233 -7 417 15 44 23 83 18 88 -13 14 -69 -129 -69 -176 0 -23 -13 -41 -30 -41 -17 0 -28 7 -26 15 3 8 -8 47 -23 85 -28 72 -42 283 -18 268 8 -5 21 2 29 15 10 16 21 14 38 -10 26 -35 127 -18 114 19 -4 9 3 20 15 24 11 4 22 -14 22 -39 2 -44 3 -44 18 -7 8 22 7 45 -2 52 -10 6 -13 24 -7 40 9 24 -10 28 -99 25 -68 -3 -116 5 -126 19 -8 13 -28 24 -45 24 -16 0 -33 21 -37 47 -4 31 -16 42 -35 35 -41 -16 -58 42 -29 96 13 25 22 58 20 74 -10 72 8 101 99 161 89 58 135 113 138 165 1 19 44 51 70 52 9 0 11 -18 4 -40 -20 -64 10 -46 33 20 12 33 28 60 38 60 19 0 7 159 -13 178 -8 7 -8 -17 -1 -53 8 -43 4 -63 -11 -60 -12 3 -29 -17 -37 -45 -13 -44 -15 -40 -17 25 -1 48 7 75 23 75 18 1 17 6 -3 18 -24 16 -24 23 3 50 17 17 38 69 45 114 10 56 20 74 31 57 9 -15 12 -34 7 -43 -6 -9 -1 -16 11 -16 32 0 -36 258 -83 314 -47 58 -49 -1 -2 -85 l50 -91 -62 -130 c-43 -90 -62 -160 -62 -226 0 -64 -11 -106 -31 -123 -17 -14 -43 -54 -57 -87 -15 -34 -54 -78 -88 -97 l-61 -36 16 56 c9 30 27 81 39 113 21 53 20 56 -10 30 -48 -39 -108 -189 -108 -268 0 -37 -9 -73 -20 -80 -12 -7 -20 13 -20 48 0 33 -9 65 -20 72 -11 7 -20 -2 -20 -20 0 -18 -9 -27 -20 -20 -20 13 -6 -44 21 -80 29 -40 43 -191 20 -219 -17 -20 -17 -31 -1 -41 30 -19 72 -118 78 -181 1 -17 11 -26 22 -19 28 17 26 -136 -2 -164 -16 -16 -11 -33 19 -63 27 -27 43 -33 49 -17 14 35 50 -68 39 -110 -10 -37 -76 -18 -110 32 -8 13 -14 13 -14 2 0 -11 13 -37 30 -59 16 -21 29 -64 29 -96 0 -34 8 -52 20 -45 12 7 19 6 16 -4 -14 -48 47 -147 108 -173 95 -41 169 -102 90 -73 -72 26 -168 26 -184 0 -25 -40 -51 -20 -29 22 32 60 11 115 -80 218 -45 50 -81 100 -81 112 0 11 -22 65 -49 118 -38 75 -44 105 -28 136 16 29 15 35 -2 25 -17 -11 -22 18 -20 102 1 64 -4 234 -11 377 -8 143 -15 271 -16 285 0 14 -6 25 -13 25 -37 0 -83 125 -66 176 18 54 2 340 -25 424 -9 30 -7 41 7 32 13 -8 10 14 -6 52 -15 36 -33 111 -40 166 l-13 100 51 -60 c81 -95 111 -177 111 -303 1 -194 34 -190 38 5 3 125 15 202 43 265 21 48 38 103 38 121 -1 20 -8 15 -20 -15 -16 -38 -25 -43 -48 -24 -24 20 -28 13 -27 -38 1 -34 -4 -67 -11 -75 -13 -13 -17 26 -16 164 0 44 -4 64 -10 45 -15 -51 -45 -43 -69 20 -11 30 -47 110 -79 178 -33 67 -59 132 -59 143 0 11 -13 25 -29 31 -22 8 -18 -16 18 -97 26 -59 46 -121 43 -138 -8 -56 -30 -58 -43 -4 -7 28 -20 47 -29 42 -8 -5 -15 2 -15 15 3 79 -7 116 -28 103 -13 -8 -18 -5 -11 5 24 39 -55 216 -87 196 -11 -6 -19 7 -19 29 0 60 37 70 77 20 37 -45 37 -45 48 64 12 111 76 266 91 221 4 -14 -11 -70 -35 -125 l-43 -99 41 -52 c23 -29 41 -43 41 -31 0 12 -9 27 -20 34 -11 7 -20 30 -20 52 0 22 7 36 16 31 9 -6 17 9 19 33 2 24 13 47 24 50 12 4 21 32 21 63 0 57 48 172 81 192 26 16 25 14 -29 -153 -27 -82 -52 -188 -57 -238 -5 -49 -6 -70 -1 -45 5 25 20 45 33 45 38 0 67 102 59 211 -4 66 0 90 12 70 14 -21 22 -10 33 45 7 41 21 74 31 74 10 0 17 7 16 15 -2 8 -2 37 0 64 4 84 42 17 46 -82 3 -60 13 -90 31 -90 15 0 22 12 16 28 -37 96 -38 135 -4 101 18 -18 33 -43 33 -55 0 -11 21 -21 48 -21 47 0 102 -44 81 -65 -6 -6 -15 -41 -18 -78 -4 -37 -3 -55 3 -40 12 30 106 -138 106 -189 0 -17 24 -2 59 37 54 60 59 62 73 26 10 -24 6 -42 -9 -47 -13 -4 -18 -16 -11 -27 7 -11 5 -53 -2 -93 -12 -61 -17 -67 -30 -34 -12 34 -17 29 -29 -30 -9 -38 -32 -106 -51 -150 -20 -44 -55 -134 -77 -200 -23 -66 -51 -118 -62 -115 -11 3 -25 -15 -30 -40 -14 -66 -48 -256 -58 -325 -5 -33 -16 -77 -24 -98 -11 -27 -9 -34 8 -24 15 10 23 -3 23 -37 0 -28 -9 -51 -20 -51 -11 0 -20 -19 -20 -41 0 -23 9 -36 20 -29 11 7 20 1 20 -14 1 -20 5 -19 18 2 10 16 14 41 8 56 -6 16 0 25 14 22 14 -3 30 7 35 22 6 15 2 22 -8 16 -11 -6 -29 15 -42 48 -18 49 -17 62 7 71 22 9 24 18 6 39 -33 41 -8 87 41 74 29 -7 41 -1 41 22 0 17 -7 31 -15 30 -42 -7 -65 5 -65 33 0 17 8 26 19 20 10 -6 24 -3 31 9 7 11 4 20 -7 20 -11 0 -16 16 -13 35 4 19 8 40 8 47 6 43 107 122 124 96 23 -37 22 -53 -2 -68 -25 -16 -26 -124 -1 -139 10 -6 24 -3 31 9 7 11 5 20 -4 20 -10 0 -19 24 -22 54 -4 51 -3 52 25 15 25 -34 26 -25 2 76 -14 64 -19 120 -11 125 8 5 20 37 27 71 7 34 22 56 33 49 11 -7 20 4 20 23 0 48 62 207 80 207 9 0 21 20 28 45 10 38 15 40 32 15 42 -62 3 -325 -57 -385 -26 -26 -28 -105 -4 -165 13 -34 20 -26 43 50 52 173 103 253 154 241 26 -6 46 -18 46 -26 -2 -34 24 -75 48 -75 14 0 39 -29 57 -65 18 -36 32 -57 33 -47 0 10 18 2 40 -18 51 -46 218 -58 234 -17 6 16 24 25 39 19 35 -14 34 -4 -4 70 l-31 60 -61 -51 c-119 -101 -159 -65 -369 330 -222 417 -333 554 -534 659 -68 36 -105 71 -128 125 -24 53 -39 68 -51 50 -12 -16 -15 -6 -9 30 13 84 -12 66 -67 -49z m461 -468 c0 -25 -9 -51 -20 -58 -11 -7 -20 6 -20 29 0 22 -8 41 -18 41 -21 0 -44 80 -29 104 17 28 87 -65 87 -116z m-719 14 c-11 -21 -21 -64 -21 -95 0 -37 -7 -48 -20 -35 -14 14 -9 53 13 119 19 54 37 88 42 75 4 -13 -2 -42 -14 -64z m-192 -437 c7 -19 5 -37 -4 -40 -10 -3 -14 -33 -9 -65 5 -33 0 -60 -9 -60 -10 0 -20 45 -23 100 -4 99 19 133 45 65z m75 -80 c30 -34 42 -106 18 -104 -35 2 -80 58 -77 95 4 53 19 55 59 9z m32 -152 c117 -12 189 -121 213 -322 8 -65 23 -140 33 -166 23 -61 -22 -52 -53 10 -21 41 -22 41 -45 4 -30 -48 -10 -99 39 -99 55 0 65 -46 38 -166 -13 -57 -23 -120 -23 -139 0 -52 -38 -21 -39 31 0 43 -1 43 -30 5 -36 -48 -37 -71 -2 -71 49 0 138 -98 122 -136 -7 -19 -14 -45 -15 -59 -1 -35 -34 -31 -34 4 0 17 -12 25 -27 19 -15 -5 -38 4 -52 21 -14 17 -33 26 -42 20 -9 -5 -23 1 -31 14 -9 14 -6 18 9 9 35 -22 28 6 -17 63 -27 34 -40 40 -40 20 0 -17 -13 -36 -30 -42 -16 -7 -30 -5 -30 4 0 9 -20 15 -44 15 -60 -3 -91 140 -35 158 50 16 64 92 23 122 -22 16 -38 17 -46 5 -7 -12 -18 -6 -25 13 -7 18 -22 27 -33 20 -11 -7 -20 9 -20 38 0 63 -33 85 -50 33 -7 -22 2 -61 21 -90 19 -28 27 -51 19 -51 -8 0 -6 -11 5 -25 11 -14 26 -71 33 -128 13 -105 47 -190 118 -297 34 -50 34 -54 4 -27 -24 24 -49 29 -78 18 -73 -28 -292 3 -402 57 -102 49 -107 43 -50 -78 44 -94 46 -110 26 -255 -29 -209 -33 -220 -77 -256 -22 -18 -28 -26 -14 -19 39 20 29 -3 -28 -64 l-52 -56 15 50 c14 45 12 47 -18 22 -19 -16 -28 -43 -21 -64 6 -21 1 -53 -11 -73 -20 -31 -21 -30 -10 7 9 36 4 41 -38 33 -39 -7 -47 -19 -40 -57 5 -26 0 -48 -12 -48 -11 0 -20 20 -20 44 0 44 0 44 -34 -5 -18 -27 -42 -55 -52 -62 -11 -7 -13 -22 -5 -35 7 -12 -9 -32 -38 -45 -54 -25 -73 -64 -21 -44 19 7 30 0 30 -19 0 -17 15 -34 34 -38 31 -6 31 -9 4 -35 -27 -26 -27 -32 1 -60 18 -18 49 -104 69 -192 21 -87 40 -170 44 -184 9 -35 61 -31 75 5 14 37 -5 94 -27 80 -9 -5 -22 6 -29 25 -7 19 -4 37 8 41 11 4 22 27 23 51 1 27 13 9 32 -47 40 -114 31 -109 109 -69 193 99 442 377 451 504 5 84 43 185 69 185 10 0 9 17 -2 38 -15 28 -14 41 2 46 13 5 24 41 24 81 0 54 9 75 38 82 22 6 34 6 29 0 -5 -5 -3 -34 5 -63 12 -41 2 -80 -43 -162 -50 -92 -55 -116 -36 -162 15 -36 16 -69 1 -106 -11 -30 -14 -69 -7 -87 9 -24 6 -29 -13 -17 -18 10 -23 7 -16 -12 5 -15 21 -25 35 -22 15 3 20 -6 13 -25 -6 -17 -4 -51 5 -76 31 -82 75 46 47 136 -17 54 -16 69 2 64 49 -17 39 -172 -16 -237 -28 -34 -52 -54 -54 -45 -1 10 -9 -23 -16 -72 -10 -57 -7 -98 7 -113 12 -13 38 -43 58 -67 19 -23 43 -38 53 -32 31 20 39 -53 23 -199 -18 -151 -15 -170 29 -170 48 0 90 -115 119 -326 25 -189 45 -260 121 -427 68 -149 29 -208 -57 -87 -31 44 -65 80 -75 80 -11 0 -20 43 -22 95 l-3 95 -13 -90 -13 -90 -15 80 c-9 44 -29 119 -46 166 -17 47 -27 104 -21 125 6 21 2 39 -8 39 -10 0 -18 -22 -18 -50 0 -27 -7 -50 -17 -50 -9 0 -7 44 4 99 11 54 27 94 36 89 8 -5 10 -22 4 -39 -6 -16 -7 -29 -1 -29 28 0 28 63 1 90 -52 52 -86 -17 -86 -176 -1 -96 -8 -132 -23 -122 -22 13 -16 183 14 378 7 44 7 75 0 68 -25 -23 -72 -241 -72 -331 0 -76 -5 -88 -27 -69 -29 24 -19 118 28 262 23 69 41 573 22 609 -22 42 -64 -257 -74 -529 -10 -273 -13 -293 -59 -339 -27 -27 -53 -44 -59 -39 -8 9 -14 473 -8 648 1 22 0 63 -2 90 -2 28 -2 94 0 147 3 113 -4 124 -59 94 -32 -17 -42 -43 -44 -107 0 -46 -6 -73 -11 -59 -6 14 -20 20 -31 13 -13 -8 -15 4 -7 34 11 37 9 41 -7 18 -33 -47 -26 -179 19 -352 22 -87 45 -212 51 -278 6 -66 18 -151 28 -188 14 -53 13 -63 -5 -45 -13 13 -43 102 -67 198 -30 120 -44 155 -46 110 -1 -35 9 -105 22 -154 27 -100 12 -135 -37 -87 -24 24 -32 72 -32 189 0 86 -8 171 -17 187 -12 21 -17 10 -17 -36 -1 -61 -4 -64 -33 -35 -23 23 -29 51 -19 100 7 39 4 73 -8 81 -12 7 -21 -2 -21 -19 0 -17 -9 -31 -20 -31 -11 0 -20 -13 -20 -29 0 -18 -12 -25 -30 -18 -16 6 -30 24 -30 40 0 17 10 23 23 15 16 -10 20 -1 12 29 -8 32 -3 42 19 38 29 -5 94 171 71 193 -29 29 -65 -21 -65 -90 0 -44 -10 -78 -22 -78 -29 0 -3 184 28 204 16 10 13 33 -10 80 l-32 66 -30 -70 c-17 -38 -23 -74 -15 -80 22 -14 9 -278 -18 -348 -26 -68 -50 -52 -71 45 -13 62 -11 66 30 53 35 -11 42 -7 36 23 -5 20 -20 34 -34 31 -14 -3 -22 6 -16 20 5 14 19 24 31 21 13 -3 23 5 23 17 0 12 -11 18 -25 13 -14 -5 -36 15 -48 43 -22 49 -24 45 -25 -46 -2 -97 -3 -98 -42 -62 -31 28 -40 62 -40 144 0 60 -9 126 -20 147 -17 31 -15 36 10 26 43 -16 37 20 -10 63 -25 22 -40 27 -40 12 0 -13 -9 -19 -20 -12 -11 7 -20 35 -20 62 0 27 -12 69 -27 94 -17 27 -24 77 -18 130 l9 85 41 -75 c39 -74 69 -105 100 -106 17 0 -21 74 -60 116 -14 15 -25 38 -25 52 0 45 -77 103 -90 68 -18 -47 -160 -16 -230 51 -66 62 -75 86 -31 86 16 0 24 -9 17 -19 -7 -11 -2 -14 10 -7 12 8 31 -2 42 -22 20 -33 21 -33 21 0 1 19 10 35 21 35 11 0 12 17 2 45 -12 32 -8 53 15 75 29 27 28 31 -12 36 -29 4 -45 21 -45 45 0 22 -13 39 -30 39 -16 0 -30 -10 -30 -22 0 -15 -10 -14 -32 3 -26 22 -34 22 -49 -2 -16 -25 -18 -25 -19 1 0 19 -6 22 -15 9 -26 -38 -81 -47 -106 -18 -19 23 -18 36 4 62 24 30 23 31 -18 9 -36 -19 -44 -18 -40 1 3 14 -7 26 -22 26 -34 1 -143 110 -143 142 0 14 -14 30 -31 37 -17 6 -43 41 -58 77 -15 36 -46 83 -69 104 -23 20 -42 48 -42 61 0 12 -27 58 -59 101 -33 44 -60 88 -60 99 -1 28 146 -141 219 -253 61 -93 149 -162 280 -224 39 -17 59 -32 45 -33 -37 0 -30 -34 10 -49 19 -7 38 -3 42 9 4 14 22 9 49 -14 22 -20 34 -25 26 -11 -17 30 12 33 41 4 11 -11 59 -25 107 -31 48 -6 101 -18 119 -26 71 -37 261 -43 323 -11 293 152 387 341 297 599 -55 154 -50 163 75 130 158 -41 346 -56 346 -28 0 21 -145 62 -185 52 -28 -7 -185 62 -250 110 -36 27 -82 52 -103 56 -21 4 -84 53 -140 110 l-102 103 65 -14 c36 -7 73 -18 83 -24 9 -6 68 -13 130 -16 61 -2 137 -15 168 -27 31 -12 67 -22 80 -21 28 0 -46 48 -76 49 -11 0 -17 22 -13 47 4 31 -2 43 -16 34 -12 -8 -16 -23 -9 -34 7 -12 -13 -15 -55 -7 -37 7 -85 16 -107 20 -22 4 -74 8 -115 8 -65 2 -117 57 -60 64 8 1 42 6 74 11 32 5 97 -5 143 -23 86 -32 187 3 156 54 -6 9 -3 16 7 16 26 0 26 87 -1 104 -50 32 -108 20 -63 -12 21 -16 47 -23 57 -17 10 6 12 1 4 -12 -8 -13 -25 -17 -38 -9 -13 8 -42 13 -64 10 -57 -6 -106 28 -78 56 32 32 154 42 173 14 12 -18 23 -15 42 11 15 19 33 28 40 21 8 -8 34 -17 59 -20 24 -4 47 -16 51 -27 3 -10 20 -19 36 -19 16 0 38 -26 49 -58 23 -66 69 -94 85 -52 11 29 93 18 93 -13 0 -10 25 -16 55 -14 30 3 76 -7 102 -21 25 -14 52 -19 60 -11 7 8 1 19 -14 24 -40 14 -108 86 -95 100 7 6 28 -2 47 -18 30 -26 53 -30 95 -19 5 1 -10 24 -33 51 -24 27 -51 45 -60 39 -9 -6 -17 1 -17 14 0 14 -6 19 -13 12 -7 -8 -27 -2 -43 11 -27 22 -29 17 -17 -31 l15 -57 -46 42 c-37 34 -61 40 -121 30 -84 -14 -88 -5 -39 82 40 72 96 80 89 12 -3 -26 4 -40 15 -33 11 7 20 37 20 67 0 77 38 112 73 67 24 -31 26 -30 12 10 -8 24 -24 45 -35 47 -40 8 -78 82 -50 99 15 9 19 26 9 43 -14 22 -11 22 14 2 17 -13 59 -28 93 -32z m-227 -15 c-7 -10 -19 -14 -28 -8 -9 5 -23 -14 -30 -43 -11 -44 -71 -129 -71 -100 0 53 83 191 109 181 17 -7 26 -20 20 -30z m-1486 -80 c33 -23 82 -78 109 -122 48 -76 195 -167 232 -143 9 5 16 2 16 -8 0 -9 20 -18 45 -19 25 -2 63 -4 85 -5 140 -8 230 3 230 26 0 15 19 24 45 21 25 -2 53 -5 63 -6 10 -1 3 -18 -15 -39 -18 -20 -33 -45 -33 -55 0 -11 -29 -37 -65 -58 -36 -21 -78 -50 -93 -66 -24 -24 -31 -23 -46 4 -22 40 -59 43 -44 4 17 -44 -55 -49 -114 -9 -29 20 -58 30 -65 24 -7 -7 -18 1 -24 19 -7 18 -26 27 -46 21 -26 -8 -27 -7 -6 9 22 15 -3 51 -115 162 -83 83 -138 153 -130 166 8 12 5 17 -6 10 -11 -7 -39 14 -63 47 -52 70 -41 74 40 17z m4167 -298 c-86 -88 -392 -260 -319 -179 33 36 216 145 249 148 6 1 38 26 70 56 89 83 89 66 0 -25z m-3981 -31 c59 -59 62 -67 22 -61 -34 5 -123 112 -93 112 11 0 43 -23 71 -51z m367 -252 c91 -22 164 -66 164 -100 0 -9 -31 1 -69 22 -38 22 -112 52 -165 69 -114 35 -64 42 70 9z m-142 -92 c17 -20 22 -22 14 -5 -13 24 -10 26 14 6 16 -13 85 -33 154 -44 68 -11 135 -26 147 -34 14 -9 18 -5 9 9 -8 13 -5 23 7 23 11 0 21 -9 21 -20 0 -10 22 -25 49 -31 61 -16 122 -80 92 -98 -11 -7 -21 -5 -21 6 0 10 -11 18 -25 16 -14 -1 -74 13 -135 31 -60 18 -168 43 -240 56 -172 31 -263 70 -249 106 15 39 126 24 163 -21z m-12 -158 c28 -4 77 1 108 13 78 30 81 15 12 -61 -51 -56 -56 -72 -37 -107 34 -63 38 -190 4 -144 -33 45 -55 9 -30 -51 23 -58 195 -243 256 -275 25 -13 45 -36 45 -51 0 -15 11 -32 25 -37 46 -17 -14 -84 -77 -85 -77 -2 -187 70 -188 122 0 43 -104 169 -139 169 -29 0 -26 -21 10 -61 49 -55 71 -154 36 -167 -16 -7 -24 -3 -17 8 7 11 -1 26 -19 32 -17 7 -26 20 -21 29 6 9 3 21 -7 27 -26 16 -24 133 3 162 19 20 29 18 49 -8 21 -26 22 -22 2 22 -12 30 -30 51 -38 45 -8 -5 -20 5 -27 23 -18 47 -14 112 6 99 10 -6 23 3 30 20 7 19 3 26 -9 18 -19 -11 -13 44 12 127 5 14 1 21 -9 15 -16 -10 -46 35 -50 75 -3 23 -57 53 -76 42 -9 -6 -16 3 -16 20 0 26 10 27 55 10 30 -12 78 -26 107 -31z m3433 -16 c-5 -27 -4 -48 3 -48 52 6 63 -5 35 -33 -61 -61 -132 -6 -83 64 16 22 23 46 16 53 -7 7 -1 13 13 13 16 0 22 -18 16 -49z m-90 -21 c-11 -57 -35 -65 -53 -18 -15 38 1 68 36 68 17 0 23 -17 17 -50z m399 -43 c38 10 38 9 4 -29 -96 -107 -24 -457 94 -454 80 3 95 -19 25 -36 -31 -8 -68 -29 -80 -46 -13 -18 -31 -32 -40 -32 -10 -1 -37 -18 -61 -39 -46 -40 -77 -51 -176 -61 -76 -8 -162 -41 -179 -69 -7 -11 -22 -21 -34 -21 -11 0 -6 14 11 31 17 17 43 46 57 65 14 19 63 60 110 92 88 60 109 86 52 63 -19 -7 -39 -3 -46 8 -8 13 -40 6 -87 -19 -176 -95 -194 92 -20 215 132 94 324 297 318 336 -3 21 -2 27 3 12 5 -16 25 -22 49 -16z m-3328 -61 c15 -50 16 -78 2 -87 -12 -8 -9 -22 9 -37 20 -16 34 -17 42 -3 21 34 51 24 51 -17 0 -36 45 -90 62 -73 5 4 19 -14 31 -40 19 -40 18 -49 -6 -49 -16 0 -24 8 -18 19 6 10 1 25 -12 33 -26 16 -82 -48 -65 -75 6 -9 1 -17 -11 -17 -20 0 -30 29 -22 68 2 10 -11 7 -29 -8 -23 -19 -25 -31 -9 -41 18 -10 17 -18 0 -29 -30 -18 -42 -5 -46 46 -2 23 -10 37 -19 32 -8 -6 -10 16 -4 49 7 33 3 64 -10 72 -15 9 -22 -13 -22 -63 -1 -51 -6 -67 -18 -48 -10 15 -13 62 -7 105 7 50 2 77 -12 77 -24 0 -30 -22 -25 -90 3 -37 2 -37 -19 -5 -32 53 -16 166 23 160 17 -3 42 17 54 45 32 69 53 63 80 -24z m1143 -106 c38 -20 41 -16 41 49 0 81 33 95 52 22 41 -166 3 -334 -53 -230 -16 30 -16 40 -1 30 16 -10 16 0 0 36 -18 38 -34 47 -72 40 -28 -4 -61 0 -74 11 -13 11 -54 19 -91 18 -70 -2 -161 73 -161 133 0 26 248 -49 359 -109z m1981 124 c0 -41 -129 -182 -144 -159 -10 17 -16 12 -16 -15 -1 -22 -16 -58 -33 -80 -31 -39 -32 -39 -17 10 9 28 17 77 20 110 5 70 32 89 53 36 13 -33 14 -33 16 -1 2 64 121 161 121 99z m-540 -101 c0 -9 41 -18 90 -20 50 -2 90 6 90 17 0 11 9 20 20 20 29 0 24 -33 -10 -67 -16 -17 -30 -44 -30 -62 0 -17 -13 -31 -28 -31 -18 0 -25 14 -18 40 6 22 1 40 -12 40 -12 0 -22 -18 -22 -40 0 -23 -13 -40 -31 -40 -17 0 -29 -11 -27 -25 17 -100 -43 -158 -105 -102 -40 36 -51 127 -15 127 12 0 17 13 11 29 -7 18 -1 25 16 19 16 -6 26 4 26 26 -1 67 5 86 25 86 11 0 20 -8 20 -17z m-2088 -90 c43 -15 168 -34 278 -42 194 -14 370 -67 370 -113 0 -10 7 -16 15 -14 34 10 105 -48 105 -85 0 -21 -7 -39 -16 -39 -20 0 -19 -91 1 -112 8 -8 15 -28 15 -45 0 -24 -6 -23 -27 6 -24 34 -26 31 -18 -26 6 -38 1 -63 -13 -63 -12 0 -22 10 -22 22 0 13 -18 18 -42 12 -38 -10 -41 -5 -31 52 34 202 36 234 15 234 -12 0 -22 -10 -22 -22 0 -13 -18 -18 -40 -12 -23 6 -40 0 -40 -13 0 -13 -9 -10 -20 7 -12 18 -20 21 -20 6 0 -13 -17 -20 -39 -16 -29 5 -36 -2 -30 -34 4 -23 2 -36 -5 -29 -7 7 -25 2 -40 -11 -22 -18 -27 -17 -22 6 4 17 -7 26 -27 22 -20 -3 -40 13 -48 39 -15 46 -85 115 -118 116 -10 1 -39 20 -63 43 -25 24 -75 49 -112 56 -39 8 -68 27 -72 48 -8 41 -9 41 88 7z m125 -362 c24 -81 43 -161 43 -178 0 -16 11 -34 25 -40 19 -8 17 -17 -7 -37 -17 -14 -37 -39 -43 -56 -7 -16 -13 15 -14 70 -3 133 -64 353 -118 421 -64 81 -51 110 15 33 32 -38 75 -128 99 -213z m-1057 -70 c0 -6 -9 3 -20 19 -17 27 -19 27 -20 0 -1 -59 -39 26 -40 89 0 59 0 59 40 -19 22 -43 40 -83 40 -89z m3280 89 c30 -56 -14 -130 -78 -130 -28 -1 -28 -3 -2 -22 23 -16 18 -18 -20 -7 -109 29 -138 152 -45 186 87 32 116 26 145 -27z m-2363 -186 c-41 -29 -28 -84 19 -84 24 0 26 -6 10 -22 -27 -27 -66 -7 -66 33 0 16 -10 29 -22 29 -13 0 -18 -18 -12 -39 10 -40 -46 -76 -84 -53 -21 14 -52 -22 -71 -83 -8 -27 -5 -45 8 -45 11 0 21 22 21 49 0 27 9 54 20 61 11 7 20 5 20 -4 0 -9 23 -17 50 -19 28 -1 50 5 50 15 0 10 12 18 28 18 39 0 54 -122 20 -162 -16 -17 -22 -37 -15 -44 7 -8 -6 -31 -30 -51 -24 -21 -44 -50 -44 -65 -1 -16 -9 -11 -17 11 -14 35 -18 32 -43 -24 -15 -34 -35 -58 -43 -52 -9 5 -16 -5 -16 -23 0 -26 -7 -27 -43 -9 -33 18 -46 17 -59 -4 -14 -21 -17 -19 -18 8 0 19 -13 35 -30 35 -44 0 -37 34 10 46 26 7 40 0 40 -18 0 -15 8 -28 18 -28 10 0 14 18 8 40 -6 22 -23 40 -38 40 -16 0 -28 14 -28 32 0 21 11 28 32 20 23 -9 29 -4 21 18 -8 20 1 30 26 30 21 0 52 5 69 12 21 8 32 1 32 -20 0 -18 8 -32 19 -32 26 0 15 105 -12 114 -12 4 -35 -4 -50 -19 -15 -14 -67 -39 -117 -54 -49 -16 -101 -37 -115 -47 -20 -15 -23 -11 -12 15 11 31 8 33 -30 13 -28 -15 -43 -16 -43 -3 0 19 42 30 85 23 8 -1 15 12 15 28 0 17 10 30 21 30 12 0 16 9 9 20 -7 11 -3 20 9 20 13 0 17 -21 10 -55 -11 -49 -6 -45 44 27 31 45 67 78 79 74 13 -4 33 19 47 51 13 33 38 57 57 56 22 -2 33 13 33 47 1 35 11 49 36 47 19 -1 30 6 24 15 -20 31 14 66 34 35 13 -20 20 -15 31 23 l14 50 12 -50 c9 -35 2 -58 -23 -76z m503 66 c35 -42 81 -38 69 5 -6 19 1 13 15 -13 18 -35 19 -51 3 -56 -13 -5 -18 -28 -13 -52 8 -36 5 -38 -12 -14 -18 25 -21 24 -22 -9 0 -36 -2 -36 -41 5 -23 25 -35 56 -27 69 7 14 -3 9 -24 -10 -30 -29 -33 -43 -14 -73 36 -57 53 -175 28 -191 -12 -7 -22 -30 -22 -51 0 -48 -37 -72 -39 -25 -1 19 -5 78 -9 130 -5 62 0 90 13 82 13 -8 15 -3 7 10 -8 13 -22 19 -31 13 -9 -5 -23 5 -30 24 -7 18 -1 40 13 49 14 9 19 17 10 17 -22 0 63 120 85 120 9 0 27 -13 41 -30z m165 -118 c19 -14 35 -36 35 -48 0 -12 18 -27 40 -34 22 -7 40 -25 40 -40 0 -39 -43 -130 -62 -130 -8 0 -26 -33 -39 -72 -13 -40 -29 -63 -36 -52 -8 11 -30 -15 -51 -58 -31 -62 -44 -73 -66 -55 -21 18 -24 15 -13 -13 8 -23 6 -32 -6 -24 -11 7 -55 -11 -97 -40 l-77 -52 45 63 c24 35 39 63 33 63 -7 0 10 39 38 87 54 92 151 351 151 403 0 37 19 37 65 2z m-317 -84 c18 -48 14 -174 -8 -208 -14 -23 -18 -19 -16 20 6 95 -4 162 -22 151 -10 -6 -14 7 -8 29 13 48 37 52 54 8z m-1345 -66 c14 -29 29 -59 33 -67 4 -8 -1 -15 -12 -15 -11 0 -24 19 -30 42 -7 25 -21 36 -34 28 -13 -8 -39 3 -59 25 -35 37 -35 38 20 38 40 0 63 -14 82 -51z m-208 -65 c-32 -20 -85 31 -65 62 10 17 25 14 52 -11 30 -27 33 -39 13 -51z m-153 -62 c2 -14 2 -32 0 -41 -1 -8 13 -21 33 -28 19 -7 41 -23 49 -35 17 -24 119 -31 103 -7 -21 35 18 13 61 -34 26 -27 61 -50 78 -50 40 0 174 -173 174 -224 0 -21 -8 -33 -19 -27 -10 6 -24 2 -31 -10 -9 -14 -30 -10 -64 12 -28 18 -45 23 -37 11 17 -27 1 -28 -44 -3 -19 11 -98 45 -175 76 -124 51 -196 75 -369 124 -71 20 -72 55 -1 71 52 11 58 18 38 43 -16 19 -17 27 -3 23 12 -3 36 12 54 34 31 40 31 40 61 1 17 -21 30 -28 30 -16 0 12 -9 28 -19 34 -11 7 -14 25 -8 42 14 35 86 39 89 4z m252 -21 c20 -25 52 -52 71 -59 39 -15 43 -32 17 -73 -15 -23 -25 -22 -64 5 -26 18 -41 33 -33 33 7 0 6 20 -3 45 -9 25 -28 45 -43 45 -14 0 -29 11 -34 25 -14 43 50 27 89 -21z m1942 -5 c24 -17 44 -50 44 -74 0 -42 -1 -42 -30 -4 -30 38 -30 38 -17 -1 7 -22 23 -49 37 -60 13 -11 30 -33 37 -50 7 -16 9 2 4 40 -10 65 -8 67 19 31 17 -21 30 -54 30 -74 0 -19 12 -42 27 -51 30 -18 64 -226 37 -226 -24 0 -59 -81 -74 -173 -40 -232 -89 -272 -91 -72 -2 228 -5 263 -23 253 -22 -14 -20 58 4 122 25 67 5 156 -32 142 -18 -7 -29 5 -30 34 -2 35 -5 37 -12 8 -5 -20 2 -49 15 -65 20 -24 17 -38 -11 -69 -20 -22 -26 -40 -14 -40 27 0 13 -266 -17 -321 -27 -52 -25 -98 3 -59 16 22 18 -1 11 -87 -17 -194 -50 -184 -73 21 -9 84 -7 146 6 161 14 19 12 23 -8 15 -52 -20 -84 64 -48 126 44 77 112 353 89 361 -11 3 -14 16 -7 27 8 13 20 10 31 -7 14 -20 18 -13 16 23 -7 111 3 120 77 69z m2274 -62 c-37 -37 -61 -34 -30 3 22 26 20 29 -7 18 -22 -8 -33 -2 -33 19 0 27 8 28 49 10 41 -19 44 -27 21 -50z m-4058 -62 c12 -8 22 -31 22 -50 -1 -33 -3 -33 -37 -2 -56 50 -44 91 15 52z m4037 -29 c-14 -42 -13 -43 21 -9 19 19 48 30 64 24 16 -6 67 -17 113 -24 46 -7 110 -26 143 -43 l60 -31 -60 -18 c-33 -9 -127 -22 -210 -28 -82 -6 -161 -20 -174 -31 -15 -12 -36 -12 -58 0 -35 20 -162 -10 -283 -67 -35 -17 -70 -29 -77 -28 -8 1 -20 -9 -29 -22 -9 -15 -14 -5 -12 26 2 28 10 47 18 42 8 -5 15 7 15 27 1 30 4 31 20 6 17 -26 19 -25 20 5 0 19 9 35 20 35 11 0 20 13 20 29 0 15 18 34 40 41 22 7 40 20 40 29 0 16 187 51 233 44 13 -2 30 5 37 16 24 39 53 22 39 -23z m-4778 -14 c-16 -26 26 -50 154 -89 64 -20 111 -44 104 -54 -6 -11 5 -20 25 -21 34 -2 34 -3 1 -12 -20 -5 -32 -15 -27 -23 5 -8 -16 -14 -48 -14 -31 1 -55 9 -53 20 1 11 -7 20 -20 20 -13 1 -30 8 -39 16 -8 8 -30 15 -49 15 -19 0 -50 23 -68 52 -35 52 -30 108 10 108 12 0 16 -8 10 -18z m2360 -113 c-7 -49 -22 -89 -32 -89 -11 0 -17 -7 -15 -15 8 -29 -27 -105 -48 -105 -27 0 -4 123 27 142 12 7 17 23 10 34 -7 11 2 54 20 97 39 91 57 61 38 -64z m-1508 -329 c31 -38 57 -88 57 -110 0 -23 14 -61 32 -86 21 -31 25 -53 12 -70 -11 -13 -27 -68 -35 -122 l-15 -99 -37 99 c-21 54 -85 162 -142 239 -165 223 -194 285 -147 320 44 32 172 -47 275 -171z m3577 93 c0 -13 -64 -93 -142 -178 -78 -85 -161 -192 -185 -237 -47 -89 -86 -98 -78 -18 2 28 7 108 11 178 l6 128 146 106 c146 107 242 115 242 21z m246 22 c7 -20 17 -20 51 0 51 30 63 31 63 5 0 -12 -22 -31 -48 -43 -29 -13 -46 -36 -42 -55 4 -21 -7 -33 -30 -33 -29 0 -33 8 -18 47 25 65 23 68 -22 54 -43 -14 -57 20 -15 37 41 16 51 14 61 -12z m-4229 -152 c4 -30 16 -42 34 -35 15 5 34 0 41 -12 9 -13 5 -17 -9 -8 -13 8 -23 6 -23 -5 0 -24 58 -47 82 -32 10 6 18 3 18 -8 0 -10 23 -25 52 -32 33 -8 48 -23 41 -41 -6 -15 0 -31 13 -35 18 -6 18 -20 0 -60 -28 -60 -15 -81 35 -55 29 16 43 5 79 -65 73 -140 153 -435 117 -435 -9 0 -17 10 -17 22 0 17 -7 17 -26 1 -20 -17 -24 -7 -18 45 6 49 0 65 -23 65 -17 0 -29 -5 -27 -11 2 -7 -5 -12 -16 -12 -11 0 -20 54 -20 123 0 68 -8 131 -18 140 -10 10 -12 -7 -4 -40 8 -32 6 -52 -4 -45 -10 6 -14 -11 -9 -39 6 -29 0 -49 -14 -49 -13 0 -18 8 -12 18 6 9 -3 29 -20 43 -21 17 -27 46 -20 93 8 46 4 64 -10 55 -12 -7 -17 -25 -12 -39 24 -61 -47 -44 -88 21 -23 38 -54 69 -68 69 -16 0 -23 24 -20 70 2 38 -4 65 -13 59 -10 -6 -19 14 -20 45 -2 54 -2 54 -15 8 l-14 -48 -24 53 c-13 29 -37 53 -52 53 -16 0 -39 13 -53 30 -13 16 -33 24 -44 17 -11 -6 -10 7 3 30 12 24 44 48 72 55 27 7 49 21 49 32 0 40 70 3 77 -41z m4243 -45 c0 -36 5 -39 30 -18 18 15 30 17 30 4 0 -11 20 -15 45 -9 29 7 38 4 25 -8 -29 -28 -134 -70 -121 -49 6 10 -2 23 -17 28 -19 8 -24 -1 -18 -27 6 -21 -4 -52 -22 -70 -18 -17 -32 -24 -32 -14 0 9 10 27 22 39 30 30 6 66 -43 66 -52 0 -49 30 5 69 62 43 96 39 96 -11z m-85 -84 c34 12 32 -24 -3 -52 -15 -13 -33 -45 -40 -71 -7 -27 -29 -54 -50 -60 -21 -7 -61 -41 -88 -77 -28 -35 -91 -109 -142 -164 -50 -55 -101 -127 -114 -160 -35 -96 -60 -154 -99 -240 -52 -112 -67 -192 -34 -179 27 10 32 -113 9 -206 -7 -25 -3 -45 7 -45 11 0 19 8 19 19 0 10 26 18 57 17 56 -2 57 -3 38 -79 -11 -42 -28 -77 -37 -77 -10 0 -18 -19 -18 -42 0 -33 -9 -40 -41 -32 -39 10 -41 3 -37 -113 4 -104 -5 -140 -57 -236 -34 -63 -67 -141 -75 -175 -19 -88 -45 -77 -60 24 -17 113 -6 199 26 209 19 7 23 -7 15 -48 -10 -47 -5 -43 27 23 45 92 50 118 22 100 -21 -13 -28 35 -9 55 14 13 29 237 29 415 0 72 14 216 31 320 45 274 52 308 70 330 8 11 21 62 29 113 17 111 103 225 202 266 37 16 68 39 68 51 0 12 9 17 20 10 23 -14 80 35 80 69 0 23 26 28 46 8 8 -7 4 -25 -9 -40 -37 -45 -6 -30 35 16 21 24 28 38 16 31 -12 -7 -21 0 -21 16 0 19 10 23 31 12 18 -9 43 -13 57 -8z m-845 -235 c12 -111 8 -135 -21 -160 -33 -27 -35 -23 -22 74 9 66 6 106 -7 110 -13 5 -16 34 -8 73 19 94 42 55 58 -97z m-1378 67 c8 -40 30 -101 49 -135 37 -64 67 -471 35 -471 -9 0 -17 -29 -18 -65 -2 -42 -6 -51 -12 -25 -19 80 -41 71 -33 -13 l8 -87 -42 80 c-54 105 -111 426 -81 456 16 16 22 15 22 -2 0 -13 13 -24 28 -24 18 0 34 -32 43 -85 7 -47 22 -96 33 -109 11 -13 14 -34 7 -45 -8 -12 -3 -21 10 -21 17 0 18 34 7 125 -9 69 -16 155 -16 193 1 61 -1 64 -25 31 -15 -20 -27 -44 -27 -53 0 -9 -9 -16 -21 -16 -14 0 -14 13 1 40 23 44 6 146 -22 128 -10 -6 -13 -19 -7 -29 6 -11 2 -19 -9 -19 -22 0 -18 67 8 165 20 76 46 69 62 -19z m281 -21 c138 -230 134 -523 -9 -617 -48 -31 -50 -31 -36 5 55 141 42 371 -24 419 -42 31 -37 288 5 288 4 0 33 -43 64 -95z m-1631 -50 c26 -69 45 -137 41 -152 -3 -15 3 -22 14 -15 11 7 38 -40 60 -103 85 -240 113 -305 134 -305 11 0 29 -29 40 -65 11 -36 30 -63 42 -61 12 3 29 -33 36 -80 12 -81 67 -205 72 -164 1 11 1 65 -1 120 -4 127 19 101 77 -85 43 -137 81 -187 85 -110 1 28 3 29 12 5 76 -212 132 -254 104 -78 -10 61 -9 117 2 136 16 27 19 25 19 -12 2 -98 146 -428 175 -399 6 6 0 88 -14 181 -23 167 -12 422 19 403 8 -5 25 -58 38 -117 33 -147 91 -224 74 -97 -12 85 6 293 23 275 6 -5 14 -66 18 -135 10 -133 59 -297 89 -297 9 0 20 62 23 138 l6 137 100 -115 c160 -183 158 -183 286 -47 l110 117 -12 -136 c-14 -152 2 -159 69 -28 26 51 47 137 53 219 17 243 89 228 86 -18 -2 -177 39 -180 77 -5 30 141 27 172 -19 184 -24 6 -40 27 -40 52 0 29 13 42 40 42 27 0 40 -13 40 -40 0 -22 9 -40 20 -40 37 0 19 -318 -32 -558 -11 -53 -8 -65 14 -58 38 12 152 282 185 438 l27 128 16 -77 c8 -42 9 -143 2 -223 -8 -86 -6 -152 5 -158 23 -14 97 131 116 227 13 66 14 67 32 20 25 -69 65 -12 97 139 31 145 68 187 49 55 -20 -141 27 -114 84 48 25 71 40 105 35 75 -18 -95 27 -80 63 22 20 55 41 95 49 91 11 -7 35 48 92 211 8 24 14 22 26 -10 10 -26 6 -48 -12 -62 -22 -18 -23 -45 -5 -147 12 -71 14 -131 5 -138 -10 -7 -19 -74 -20 -148 -1 -75 -12 -171 -25 -215 -13 -44 -31 -114 -41 -155 -10 -41 -29 -120 -42 -175 -38 -154 -41 -185 -16 -125 13 30 32 55 41 55 23 0 -2 -123 -30 -150 -14 -13 -17 -13 -8 3 7 13 -1 28 -17 34 -20 8 -30 39 -30 92 0 112 -32 102 -47 -14 -6 -52 -17 -117 -23 -145 -10 -45 -9 -46 10 -10 16 31 18 14 11 -68 -6 -60 -20 -119 -33 -130 -17 -17 -20 0 -10 68 9 67 7 82 -9 60 -16 -23 -19 -10 -10 50 28 192 -18 207 -65 21 -59 -233 -82 -271 -85 -141 -4 121 -22 193 -49 190 -11 -1 -17 -36 -14 -78 6 -71 -44 -417 -63 -436 -4 -4 -18 35 -31 86 -34 134 -62 82 -37 -68 14 -82 27 -117 38 -100 19 30 24 -263 5 -312 -23 -59 -48 -33 -48 49 0 49 -8 76 -20 69 -11 -7 -20 1 -20 18 0 16 -10 75 -22 131 -30 141 -72 133 -71 -14 0 -70 -21 -188 -55 -303 -46 -153 -54 -210 -45 -310 12 -119 10 -116 -67 118 -152 457 -210 497 -205 140 l4 -240 -35 95 c-18 52 -43 93 -53 90 -22 -6 -114 -270 -152 -432 l-24 -107 -56 173 c-31 96 -66 218 -79 272 -29 118 -49 125 -76 24 -17 -63 -20 -42 -22 140 -3 314 -68 258 -211 -181 -53 -163 -27 -142 40 32 l59 154 6 -107 c3 -59 -3 -135 -15 -168 -11 -34 -21 -83 -21 -109 0 -59 -50 -114 -91 -99 -33 13 -39 64 -10 83 12 7 12 31 -1 66 -43 113 -83 381 -82 544 1 94 -5 183 -15 198 -35 57 -51 -31 -46 -254 4 -149 -2 -222 -15 -214 -11 7 -20 41 -20 76 0 35 -14 131 -31 214 -17 82 -29 201 -27 264 5 120 -13 176 -30 93 -26 -129 -29 -220 -11 -335 11 -70 16 -131 11 -137 -5 -5 -15 26 -21 68 -6 42 -30 154 -53 247 -23 94 -46 238 -51 320 -17 275 -66 335 -68 84 -2 -165 -29 -115 -48 87 -17 186 -28 229 -54 229 -14 0 -18 -26 -10 -75 6 -41 24 -153 39 -247 25 -162 15 -285 -21 -249 -8 8 -21 110 -29 228 -18 281 -37 421 -60 435 -11 7 -14 -58 -9 -165 8 -137 7 -152 -6 -67 -16 114 -59 327 -76 380 -7 24 -13 21 -26 -10 -13 -32 -17 -27 -18 30 -1 39 -11 107 -21 153 -11 45 -21 151 -23 235 -4 150 -36 176 -37 30 0 -120 -24 -258 -44 -258 -11 0 -15 33 -9 75 6 41 17 123 24 181 7 58 24 117 38 130 27 25 17 100 -11 83 -10 -6 -19 27 -19 75 -2 118 -30 254 -45 216 -7 -16 -22 -68 -34 -114 -30 -120 -71 -138 -51 -24 27 162 42 338 28 338 -7 0 -19 -35 -27 -79 -7 -43 -27 -90 -43 -104 -35 -28 -24 68 24 210 14 43 21 90 15 105 -6 16 -6 28 -1 28 6 0 31 -56 57 -125z m290 -50 c15 -19 27 -60 27 -91 1 -76 -54 -26 -72 65 -13 68 5 79 45 26z m2683 -70 c7 -81 6 -83 -25 -45 -30 37 -31 32 -20 -90 l11 -130 -42 78 c-40 72 -41 82 -13 150 17 39 36 89 43 110 17 55 37 24 46 -73z m-3496 -51 c15 -58 37 -84 85 -105 72 -32 212 -282 215 -383 1 -64 32 -88 71 -56 17 14 25 48 19 89 -8 64 35 134 64 104 11 -11 17 -208 9 -293 -2 -16 11 -88 28 -160 17 -71 35 -152 40 -180 35 -183 82 -336 123 -396 28 -41 47 -99 47 -142 0 -40 27 -126 60 -192 59 -118 78 -204 41 -181 -17 11 -167 300 -173 336 -2 8 -5 20 -8 25 -3 6 -6 21 -8 35 -2 14 -19 22 -39 19 -30 -5 -34 4 -23 70 10 62 8 69 -10 40 -31 -48 -79 -10 -82 63 -3 52 -3 51 -17 -7 -13 -53 -16 -46 -30 59 -17 125 -61 203 -76 136 -5 -19 -15 17 -24 80 -9 63 -10 140 -3 170 28 122 28 147 0 123 -20 -17 -29 -10 -39 29 -7 28 -23 46 -36 41 -14 -5 -25 19 -28 63 -4 49 2 67 18 57 25 -15 25 -16 -41 117 -25 52 -55 95 -66 95 -10 0 -13 19 -5 43 9 28 6 38 -9 28 -19 -11 -33 40 -25 93 2 8 -20 39 -47 68 -28 30 -50 70 -50 89 0 20 -5 50 -12 67 -7 18 -7 32 -1 32 6 0 21 -34 32 -76z m2024 -16 c3 -125 -2 -151 -23 -138 -22 14 -28 196 -7 217 22 21 28 4 30 -79z m-1082 -17 c24 14 25 -91 1 -128 -23 -36 -38 -8 -53 99 -9 70 -7 81 11 53 12 -20 31 -31 41 -24z m2303 -134 l-19 -107 -3 129 c-1 93 4 123 20 107 15 -15 16 -54 2 -129z m739 -25 c-33 -72 -75 -151 -94 -177 l-33 -45 12 54 c7 30 23 79 35 110 25 60 31 76 35 103 4 34 90 129 97 108 4 -12 -20 -80 -52 -153z m-1881 5 c-21 -102 -17 -269 7 -293 6 -6 11 4 11 23 0 18 9 33 20 33 25 0 25 -5 -3 -74 -13 -31 -25 -65 -26 -76 -2 -11 -14 -18 -28 -14 -18 3 -22 -8 -12 -39 10 -33 7 -40 -16 -32 -21 9 -26 -1 -20 -37 6 -26 1 -48 -9 -48 -30 0 -17 102 22 177 19 37 30 72 23 78 -6 7 -11 1 -11 -12 0 -12 -13 -23 -30 -23 -32 0 -42 72 -11 83 10 4 24 57 31 117 15 135 19 157 38 217 27 81 36 30 14 -80z m-1265 -93 c-1 -59 -5 -102 -10 -97 -20 20 -67 258 -54 277 24 40 65 -73 64 -180z m2321 61 c-1 -103 -39 -229 -71 -239 -19 -7 0 245 23 309 21 59 50 18 48 -70z m662 60 c-2 -116 -116 -345 -171 -345 -38 0 -37 18 12 148 53 142 160 275 159 197z m-3848 -143 c-14 -90 -42 -117 -69 -67 -17 31 -13 48 19 82 l40 43 -41 0 c-47 0 -52 21 -16 57 39 39 80 -32 67 -115z m599 -11 c-8 -72 -22 -131 -33 -131 -24 0 -23 55 4 180 30 139 46 111 29 -49z m372 -71 c-6 -109 -14 -136 -33 -116 -15 14 -26 274 -13 287 26 25 51 -70 46 -171z m1716 65 c44 -147 9 -438 -61 -514 -27 -28 -22 78 6 139 18 39 18 80 -1 176 -31 159 -41 260 -30 279 24 40 61 6 86 -80z m-1588 -156 c17 -204 4 -231 -39 -82 -46 157 -41 293 9 262 8 -5 22 -86 30 -180z m1781 163 c19 -51 -25 -473 -52 -498 -14 -13 -21 -15 -15 -4 6 11 2 114 -9 229 -13 143 -12 224 2 255 24 52 58 60 74 18z m118 -152 l-31 -70 13 110 c15 131 36 173 44 90 3 -34 -8 -92 -26 -130z m-1592 142 c24 -15 23 -47 -5 -216 -18 -109 -34 -224 -35 -257 l-1 -59 -18 58 c-33 111 -46 429 -19 462 29 35 39 36 78 12z m-197 -98 c15 -106 -7 -389 -25 -334 -11 31 -37 208 -40 270 -9 165 44 217 65 64z m357 -201 c2 -39 -3 -43 -26 -25 -33 28 -60 153 -39 186 16 27 63 -87 65 -161z m2282 111 c0 -15 -17 -45 -39 -68 -21 -23 -33 -47 -26 -54 6 -7 1 -12 -12 -12 -33 0 -29 19 22 94 50 74 55 77 55 40z m-1541 -197 c-22 -77 -31 -87 -45 -50 -9 24 34 113 56 113 4 0 -1 -28 -11 -63z m-1599 -366 c0 -82 -8 -153 -17 -159 -10 -6 -16 61 -15 148 1 88 9 160 17 160 8 0 15 -67 15 -149z m94 -351 c-6 -46 -9 -44 -42 27 -22 50 -31 104 -24 150 6 40 12 96 13 123 2 28 16 -17 31 -100 16 -82 25 -172 22 -200z m2583 190 c-1 -59 -1 -59 -17 -10 -23 73 -23 165 0 110 9 -22 17 -67 17 -100z m-332 -375 c-12 -125 -66 -266 -80 -208 -12 50 56 313 82 313 4 0 3 -47 -2 -105z m-2237 40 c4 -25 9 -67 9 -93 2 -76 -39 -18 -46 65 -6 79 23 101 37 28z m2432 -246 c-27 -129 -66 -148 -50 -24 6 47 12 112 13 145 1 33 12 82 24 108 34 73 43 -85 13 -229z m-330 -124 c-7 -46 -21 -89 -31 -96 -27 -16 -24 132 6 289 l25 132 6 -120 c4 -66 1 -158 -6 -205z m-2012 123 c11 -40 12 -90 3 -114 -21 -55 -34 -24 -47 111 -10 107 15 109 44 3z m211 -108 c37 -177 35 -160 14 -160 -19 0 -63 195 -63 277 0 80 15 43 49 -117z m2013 -101 c-19 -48 -19 -48 -21 -4 0 25 -12 63 -26 85 -20 33 -18 44 15 68 48 35 68 -59 32 -149z m-2077 -89 c14 -22 50 -80 81 -128 43 -66 53 -101 43 -140 -14 -52 -108 97 -109 173 0 14 -11 25 -25 25 -31 1 -95 126 -95 186 0 46 7 39 105 -116z m1972 -2 l6 -58 -42 45 c-24 25 -37 55 -30 66 22 37 59 8 66 -53z m-344 -204 c-8 -163 -40 -275 -73 -254 -30 19 -24 159 14 301 44 165 68 146 59 -47z m239 20 c-33 -34 -33 -27 1 106 l15 60 8 -68 c4 -42 -4 -79 -24 -98z m-526 -199 c65 -205 82 -285 58 -285 -11 0 -24 -18 -30 -40 -14 -54 -51 -51 -73 6 -33 89 -42 474 -11 474 3 0 28 -70 56 -155z m448 64 c-9 -72 -94 -125 -94 -59 0 17 8 30 19 30 10 0 24 18 31 40 18 58 53 49 44 -11z m-135 -284 c-25 -89 -79 -157 -79 -99 0 17 -11 34 -24 39 -17 5 -6 43 34 121 70 133 113 96 69 -61z m-506 40 c39 -180 24 -394 -28 -401 -25 -4 -45 3 -45 16 0 12 -8 17 -18 11 -10 -6 -13 8 -7 32 8 30 4 39 -12 29 -29 -18 -30 -27 17 138 22 77 40 169 40 205 0 96 29 79 53 -30z m-806 -83 c30 -25 23 -91 -7 -72 -29 18 -39 -48 -11 -76 80 -80 67 -491 -15 -440 -12 7 -16 1 -10 -17 8 -18 -2 -30 -26 -32 -21 -1 -38 10 -38 26 0 16 7 29 17 29 9 0 12 27 7 60 -5 33 2 74 16 90 13 16 19 43 13 58 -6 16 -3 32 6 36 33 12 27 108 -16 248 -23 78 -43 168 -42 200 l1 58 38 -71 c20 -40 51 -83 67 -97z m446 43 c14 -87 14 -165 2 -325 -3 -41 -14 -57 -32 -50 -14 5 -38 10 -52 10 -41 0 -52 109 -22 214 15 53 33 130 40 171 18 103 45 94 64 -20z m716 -187 c-7 -35 -30 -91 -51 -126 -36 -62 -39 -166 -13 -490 4 -52 -3 -69 -30 -73 -34 -5 -40 6 -40 74 0 20 -11 29 -28 23 -33 -13 -34 16 -4 83 13 28 19 56 13 62 -17 17 -77 -14 -65 -33 7 -10 -17 -44 -52 -76 -97 -87 -135 -125 -200 -202 l-59 -70 3 137 c5 217 11 233 79 220 38 -8 58 -4 58 12 0 13 7 19 15 14 24 -15 78 33 94 82 7 25 22 41 32 34 22 -13 83 127 74 170 -4 20 -31 -6 -74 -69 -88 -131 -130 -170 -181 -170 -55 0 -140 86 -141 144 -1 39 -6 35 -39 -27 -21 -39 -53 -78 -70 -84 -18 -7 -27 -22 -20 -33 44 -71 -82 -1 -164 91 l-99 111 1 -116 c2 -103 7 -116 43 -117 23 0 73 -20 110 -44 64 -41 71 -42 94 -11 14 18 42 35 64 36 45 4 71 -44 44 -78 -15 -17 -15 -124 0 -250 9 -77 -7 -82 -53 -14 -27 41 -50 87 -50 104 0 18 -10 24 -23 16 -13 -8 -35 2 -50 22 -73 101 -189 128 -172 41 6 -30 -6 -62 -31 -87 -21 -21 -44 -51 -49 -67 -34 -90 -56 100 -24 205 37 122 31 213 -22 358 -63 173 -56 206 27 130 318 -292 324 -294 425 -135 l57 90 25 -57 c79 -185 229 -190 286 -10 6 19 47 55 91 80 44 25 94 71 111 103 40 79 76 77 58 -3z m130 -275 c13 -48 19 -92 13 -98 -14 -14 -50 80 -38 100 4 8 -1 15 -13 15 -11 0 -21 -13 -21 -30 0 -16 -8 -30 -18 -30 -28 0 -40 76 -22 145 51 202 45 195 61 85 8 -55 25 -139 38 -187z"}),s.jsx("path",{d:"M2491 6765 c-14 -55 51 -139 89 -115 9 6 20 0 24 -13 10 -30 56 -4 56 31 0 14 -22 35 -48 48 -27 12 -54 40 -62 63 -18 57 -43 51 -59 -14z"}),s.jsx("path",{d:"M1720 6760 c0 -33 173 -104 235 -96 l54 6 -53 34 c-29 19 -83 38 -121 42 -38 4 -79 14 -92 22 -13 8 -23 4 -23 -8z"}),s.jsx("path",{d:"M1360 5602 c-29 -34 -70 -61 -96 -61 -55 -1 -46 -62 20 -134 56 -61 204 -9 163 58 -18 28 -51 15 -39 -16 6 -17 -2 -35 -19 -42 -43 -17 -59 6 -30 42 13 16 19 38 13 48 -7 11 5 15 26 9 20 -5 44 2 53 15 10 16 7 20 -8 11 -13 -8 -23 -4 -23 9 0 14 17 19 42 13 23 -6 37 -6 31 0 -7 6 -3 28 8 49 14 25 14 37 0 37 -12 0 -21 -9 -21 -20 0 -33 -57 -23 -64 11 -4 24 -19 16 -56 -29z"}),s.jsx("path",{d:"M1203 5375 c-39 -39 -26 -52 45 -49 71 4 75 20 14 53 -24 13 -43 12 -59 -4z"}),s.jsx("path",{d:"M1529 5013 c-19 -49 -2 -102 36 -109 26 -5 35 6 35 42 0 63 -54 113 -71 67z"}),s.jsx("path",{d:"M1913 4885 c-6 -10 -15 -42 -21 -72 -5 -29 -15 -70 -21 -91 -7 -22 -1 -42 16 -48 21 -8 31 17 39 102 12 112 8 143 -13 109z"}),s.jsx("path",{d:"M1400 5956 c0 -48 57 -111 120 -133 60 -21 60 -21 27 23 -55 72 -147 141 -147 110z"}),s.jsx("path",{d:"M4763 6185 c-2 -14 -21 -25 -43 -25 -27 0 -40 -13 -40 -40 0 -22 8 -40 18 -40 10 0 39 -22 65 -50 59 -62 78 -62 146 1 38 35 49 58 35 75 -11 13 -23 42 -28 64 -7 34 -13 31 -43 -25 -18 -36 -47 -65 -62 -65 -17 0 -32 26 -37 65 -4 36 -9 54 -11 40z"}),s.jsx("path",{d:"M751 5211 c37 -28 37 -30 -17 -30 -33 -1 -51 -9 -44 -21 7 -12 20 -16 29 -10 9 5 43 -4 74 -20 81 -42 100 -37 53 15 -22 25 -37 54 -33 66 4 11 -17 22 -47 25 -52 4 -52 3 -15 -25z"}),s.jsx("path",{d:"M962 5230 c36 -81 67 -130 81 -130 9 0 17 -12 17 -28 0 -40 47 -72 118 -81 l63 -8 -40 55 c-34 48 -117 84 -89 39 6 -9 5 -17 -3 -17 -19 0 -88 87 -88 113 -1 12 -16 34 -34 50 -19 15 -30 18 -25 7z"}),s.jsx("path",{d:"M1026 4566 c8 -13 6 -29 -4 -35 -11 -6 -16 -36 -12 -66 4 -30 8 -80 9 -111 0 -31 10 -51 20 -45 11 7 15 24 9 39 -22 58 -18 143 8 163 23 18 22 26 -8 50 -20 16 -29 18 -22 5z"}),s.jsx("path",{d:"M1720 8541 c0 -10 9 -24 20 -31 12 -7 15 -23 7 -35 -9 -14 -2 -17 18 -10 18 7 36 3 40 -9 4 -12 20 -17 36 -12 20 8 13 18 -26 37 -30 14 -55 37 -55 52 0 15 -9 27 -20 27 -11 0 -20 -8 -20 -19z"}),s.jsx("path",{d:"M2913 8079 c-8 -39 -3 -77 15 -102 24 -35 26 -29 17 57 -13 118 -16 124 -32 45z"}),s.jsx("path",{d:"M3274 7915 c-8 -30 -14 -61 -13 -68 1 -7 -8 -19 -21 -27 -18 -11 -18 -19 -2 -29 27 -16 67 79 57 138 -5 35 -8 33 -21 -14z"}),s.jsx("path",{d:"M3192 7686 c-37 -78 -77 -63 -57 21 7 29 4 36 -10 23 -38 -38 -49 -130 -15 -130 38 0 37 -8 -1 -83 -18 -33 -28 -65 -23 -70 5 -5 43 59 84 143 42 83 71 155 66 160 -5 5 -25 -24 -44 -64z"}),s.jsx("path",{d:"M3614 7025 c8 -19 28 -47 45 -61 17 -15 21 -22 10 -17 -14 7 -18 -12 -12 -53 8 -54 11 -58 23 -24 8 22 12 46 8 53 -20 34 49 57 80 26 18 -17 32 -24 32 -13 0 10 29 28 65 39 l65 21 -72 2 c-40 1 -111 16 -158 32 -105 37 -101 37 -86 -5z"}),s.jsx("path",{d:"M2900 6793 c0 -17 8 -35 17 -41 10 -6 16 -48 13 -92 -2 -45 3 -86 12 -91 27 -17 13 199 -16 227 -21 22 -26 22 -26 -3z"}),s.jsx("path",{d:"M4157 6772 c53 -29 24 -52 -65 -52 -67 0 -226 -58 -255 -93 -22 -27 -15 -27 51 1 42 18 93 32 112 32 83 0 239 83 211 112 -16 16 -45 28 -65 27 -30 0 -28 -5 11 -27z"}),s.jsx("path",{d:"M3364 6736 c-13 -13 -24 -17 -24 -9 0 7 -29 -2 -65 -21 -36 -19 -72 -32 -80 -30 -8 2 -15 -4 -15 -13 0 -9 -18 -38 -40 -64 -43 -49 -69 -39 -86 31 -6 27 -10 21 -12 -21 -1 -34 -13 -72 -26 -85 -17 -17 -17 -24 -1 -24 12 0 26 -25 31 -55 7 -47 8 -45 11 15 3 62 13 75 83 105 44 19 80 43 80 53 0 10 23 23 50 30 28 7 50 22 50 34 0 11 8 15 18 9 9 -6 29 3 43 20 30 37 16 58 -17 25z"}),s.jsx("path",{d:"M3710 6720 c7 -11 46 -19 86 -18 66 2 69 4 24 18 -72 23 -124 23 -110 0z"}),s.jsx("path",{d:"M3904 6349 c-25 -18 -69 -36 -98 -41 -29 -6 -63 -16 -75 -24 -22 -14 -46 -17 -236 -32 -117 -9 -155 -22 -155 -51 0 -34 174 -33 310 2 195 50 211 47 135 -25 -81 -75 -185 -276 -185 -356 0 -32 -9 -62 -21 -66 -25 -8 -60 -148 -42 -167 7 -7 13 -57 13 -112 0 -87 8 -108 63 -157 35 -31 58 -63 50 -70 -7 -7 -3 -10 10 -7 12 4 52 -18 90 -48 358 -293 406 -298 458 -50 l26 125 15 -100 c22 -149 21 -290 -2 -290 -11 0 -20 -18 -20 -40 0 -52 34 -52 50 0 7 22 21 35 31 29 11 -6 19 18 19 55 1 36 6 126 13 199 14 153 -6 178 -175 215 -185 42 -248 108 -242 256 0 9 -26 33 -58 53 -61 39 -76 73 -31 73 15 0 37 -20 49 -45 19 -40 21 -37 21 35 0 44 -5 67 -11 52 -7 -18 -24 1 -47 51 -59 128 -21 427 61 477 28 17 65 90 45 90 -9 0 -36 -14 -61 -31z"}),s.jsx("path",{d:"M3614 6016 c-33 -37 -53 -80 -49 -105 5 -32 19 -17 61 64 30 58 52 105 49 104 -3 0 -30 -29 -61 -63z"}),s.jsx("path",{d:"M4080 5715 c1 -57 31 -76 71 -46 38 29 38 29 -5 22 -31 -6 -41 0 -33 20 6 16 1 29 -11 29 -12 0 -22 -11 -22 -25z"}),s.jsx("path",{d:"M4160 5624 c0 -12 14 -30 31 -39 17 -10 32 -37 34 -60 4 -48 25 -41 57 19 17 31 16 37 -1 26 -14 -8 -45 6 -72 31 -27 25 -49 36 -49 23z"}),s.jsx("path",{d:"M4041 5584 c-1 -15 -10 -21 -21 -14 -42 26 -17 -32 44 -102 71 -81 204 -146 320 -158 72 -7 100 13 56 40 -11 7 -20 32 -20 56 -1 35 -5 38 -19 15 -10 -16 -14 -36 -8 -45 5 -9 -5 -16 -22 -16 -39 0 -39 21 -2 71 41 54 38 76 -8 63 -22 -5 -43 1 -47 13 -5 13 -16 16 -25 8 -8 -8 -6 -37 7 -63 17 -39 16 -54 -7 -73 -39 -33 -89 9 -89 75 0 26 -8 44 -17 38 -9 -6 -29 14 -43 44 -15 33 -29 44 -35 28 -7 -19 -16 -17 -36 10 -18 23 -28 27 -28 10z"}),s.jsx("path",{d:"M3542 5120 c0 -5 12 -55 28 -110 26 -97 27 -98 29 -29 0 39 -12 89 -28 110 -17 22 -30 35 -29 29z"}),s.jsx("path",{d:"M3665 5018 c1 -26 11 -60 22 -74 10 -14 19 -102 20 -196 1 -121 6 -157 19 -124 28 76 8 339 -30 394 l-34 48 3 -48z"}),s.jsx("path",{d:"M4318 4788 c-4 -72 -7 -83 -22 -98 -7 -8 -6 -35 4 -60 10 -25 12 -51 5 -58 -6 -7 -2 -12 10 -12 34 0 44 51 33 164 -10 94 -8 102 18 71 37 -45 54 -44 54 3 0 60 -99 51 -102 -10z"}),s.jsx("path",{d:"M5400 3111 c0 -46 4 -49 40 -26 46 28 43 62 -7 71 -24 5 -33 -7 -33 -45z"}),s.jsx("path",{d:"M4948 2428 c9 -24 4 -29 -20 -20 -24 9 -29 4 -20 -19 6 -18 12 -41 12 -52 0 -11 9 -14 20 -7 12 7 15 21 9 31 -10 17 32 28 76 21 8 -1 15 7 15 19 0 11 -16 18 -35 15 -20 -3 -33 5 -30 19 3 14 -5 25 -17 25 -12 0 -17 -15 -10 -32z"}),s.jsx("path",{d:"M5951 801 c-35 -66 -42 -150 -11 -131 11 7 20 41 20 76 1 44 6 55 18 37 12 -19 17 -12 17 25 0 67 -7 65 -44 -7z"})]})]}),kK={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}},exit:{opacity:0,transition:{duration:.5}}},HK={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:1.5,duration:3.5}},exit:{opacity:0,transition:{duration:.5}}},ki={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}},exit:{opacity:0,y:-50,transition:{duration:.5}}},VK=()=>{const r=en(),{signOut:e}=sl();ae.useEffect(()=>{const d=new s_({duration:1.2,easing:g=>g===1?1:1-Math.pow(2,-10*g),direction:"vertical",gestureDirection:"vertical",smooth:!0,smoothTouch:!1});function f(g){d.raf(g),requestAnimationFrame(f)}return requestAnimationFrame(f),()=>{d.destroy()}},[]);const t=()=>{r("/tools")},n=()=>{r("/rules")},i=()=>{r("/characters")},a=()=>{r("/journals")},o=()=>{r("/library")},c=async()=>{const{error:d}=await e();d?console.error("Logout error:",d.message):r("/login",{replace:!0})};return s.jsxs(qn.section,{variants:kK,initial:"hidden",animate:"visible",exit:"exit",className:"min-h-screen min-w-screen flex flex-col text-white",children:[s.jsx(qn.div,{variants:ki,className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Aristilia"})}),s.jsxs(qn.div,{variants:ki,className:"my-auto flex flex-col md:flex-row justify-end items-center",children:[s.jsxs(qn.div,{variants:ki,className:"flex flex-col items-center md:items-end space-y-8 pr-4",children:[s.jsx(qn.h2,{variants:ki,className:"cinzel text-3xl md:text-5xl tracking-widest pb-4",children:"Eldra'Kazhan"}),s.jsx(qn.div,{variants:ki,children:s.jsxs("ul",{className:"text-xl md:text-2xl text-center md:text-right space-y-8 garamond tracking-widest",children:[s.jsx(qn.li,{variants:ki,onClick:n,className:"hover:text-hover:shadow-gray-700 hover:text-shadow-md hover:underline hover:underline-offset-8 cursor-pointer",children:s.jsx("a",{href:"/rules",children:"Reglas"})}),s.jsx(qn.li,{variants:ki,onClick:i,className:"hover:text-hover:shadow-gray-700 hover:text-shadow-md hover:underline hover:underline-offset-8 cursor-pointer",children:s.jsx("a",{href:"/characters",children:"Personajes"})}),s.jsx(qn.li,{variants:ki,onClick:a,className:"hover:text-hover:shadow-gray-700 hover:text-shadow-md hover:underline hover:underline-offset-8 cursor-pointer",children:s.jsx("a",{href:"/journals",children:"Diarios"})}),s.jsx(qn.li,{variants:ki,onClick:o,className:"hover:text-hover:shadow-gray-700 hover:text-shadow-md hover:underline hover:underline-offset-8 cursor-pointer",children:s.jsx("a",{href:"/library",children:"Biblioteca de Mundos"})}),s.jsx(qn.li,{variants:ki,onClick:c,className:"text-red-700 hover:text-shadow-red-900 hover:text-shadow-md hover:underline hover:underline-offset-8 cursor-pointer",children:"Salir"})]})})]}),s.jsx(qn.div,{variants:ki,className:"hidden border border-white rounded-4xl mt-8 p-4",children:s.jsxs("ul",{className:"gap-4 grid grid-cols-4",children:[s.jsx(qn.li,{variants:ki,onClick:t,className:"rounded-full m-1 p-1 hover:shadow-gray-700 hover:shadow-md cursor-pointer",children:s.jsx("a",{href:"/tools",children:s.jsx(Et,{path:LO,size:1.25})})}),s.jsx(qn.li,{variants:ki,className:"rounded-full m-1 p-1 hover:shadow-gray-700 hover:shadow-md cursor-pointer",children:s.jsx(Et,{path:CO,size:1.25})}),s.jsx(qn.li,{variants:ki,className:"rounded-full m-1 p-1 hover:shadow-gray-700 hover:shadow-md cursor-pointer",children:s.jsx(Et,{path:AO,size:1.25})}),s.jsx(qn.li,{variants:ki,className:"rounded-full m-1 p-1 hover:shadow-gray-700 hover:shadow-md cursor-pointer",children:s.jsx(Et,{path:jO,size:1.25})}),s.jsx(qn.li,{variants:ki,className:"rounded-full m-1 p-1 hover:shadow-gray-700 hover:shadow-md cursor-pointer",children:s.jsx(Et,{path:DO,size:1.25})}),s.jsx(qn.li,{variants:ki,className:"rounded-full m-1 p-1 hover:shadow-gray-700 hover:shadow-md cursor-pointer",children:s.jsx(Et,{path:OO,size:1.25})}),s.jsx(qn.li,{variants:ki,className:"rounded-full m-1 p-1 hover:shadow-gray-700 hover:shadow-md cursor-pointer",children:s.jsx(Et,{path:RO,size:1.25})}),s.jsx(qn.li,{variants:ki,className:"rounded-full m-1 p-1 hover:shadow-gray-700 hover:shadow-md cursor-pointer",children:s.jsx(Et,{path:PO,size:1.25})})]})})]}),s.jsx(qn.div,{variants:HK,children:s.jsx(BK,{className:"absolute top-0 bottom-0 left-0 right-0 ml-auto mr-auto mt-auto mb-auto w-100 h-100 z-[-1] opacity-10"})})]})};function FK(){const r=en(),e=()=>{r("/landing")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Herramientas"})}),s.jsx("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 place-items-center gap-4 mt-8 monsterrat font-thin text-md md:text-xl text-center",children:[s.jsx("div",{className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("p",{children:"Turnos de Iniciativa"})}),s.jsx("div",{className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("p",{children:"Turnos de Exploracion"})}),s.jsx("div",{className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("p",{children:"Check de Encuentro"})}),s.jsx("div",{className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("p",{children:"Check de Sorpresa"})}),s.jsx("div",{className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("p",{children:"Check de Reaccion"})}),s.jsx("div",{className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("p",{children:"Check de Morale"})}),s.jsx("div",{className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("p",{children:"Calculadora de Experiencia"})}),s.jsx("div",{className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("p",{children:"Generador de Monstruos"})})]})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function qK(){const r=en(),e=()=>{r("/rules/attributes")},t=()=>{r("/rules/races")},n=()=>{r("/rules/classes")},i=()=>{r("/rules/gear")},a=()=>{r("/rules/game")},o=()=>{r("/rules/magic")},c=()=>{r("/landing")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Reglas"})}),s.jsxs("main",{className:"grid grid-cols-1 md:grid-cols-3 border-white border-1 rounded-xl place-items-center gap-8 w-10/12 mt-8",children:[s.jsx("div",{onClick:e,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-3xl",children:"Atributos"})}),s.jsx("div",{onClick:t,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-3xl",children:"Razas"})}),s.jsx("div",{onClick:n,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-3xl",children:"Clases"})}),s.jsx("div",{onClick:i,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-3xl",children:"Equipo"})}),s.jsx("div",{onClick:a,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-3xl",children:"Juego"})}),s.jsx("div",{onClick:o,className:"w-50 h-50 flex-col border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-3xl",children:"Magia"})})]}),s.jsx("div",{onClick:c,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function GK(){const r=en(),e=()=>{r("/rules")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Atributos"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 p-4",children:[s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Lanzadas Heroicas & Mortales"}),s.jsxs("div",{className:"flex flex-col space-y-6 montserrat",children:[s.jsx("p",{children:"Todo personaje comienza por el mismo lugar, sus Atributos. Los Atributos definen las estadisticas fisicas y mentales de un personaje, y son la forma mas basica de definir los cimientos fundamentales sobre los cuales este se desarrollara; no solo durante el proceso de creacion, si no a lo largo de su vida en la campaña"}),s.jsx("h3",{className:"text-2xl",children:"Lanzada Heroica"}),s.jsxs("p",{children:["Aquellos que decidan definir sus atributos iniciales con una Lanzada Heroica, usaran 4d6 y apuntaran en el Atributo ",s.jsx("span",{className:"underline font-bold",children:"deseado"})," el resultado luego de descartar la ",s.jsx("span",{className:"underline font-bold",children:"lanzada de valor mas baja"}),". Aquellos que utilicen este metodo gozaran de un valor promedio por Atributo mas alto, priorizando los Atributos que deseen destacar. Esto permite comenzar con personajes mas balanceados y fuertes desde el inicio."]}),s.jsx("h3",{className:"text-2xl",children:"Lanzada Mortal"}),s.jsxs("p",{children:["Aquellos que decidan definir sus atributos iniciales con una Lanzada Mortal, usaran 3d6 y apuntaran los valores en ",s.jsx("span",{className:"underline font-bold",children:"orden de lanzada"})," para cada Atributo. Aquellos que utilicen este metodo gozaran de un incremento de +10% a la experiencia recibida, permitiendo una progresion de nivel mas rapida. A largo plazo, los bajos atributos son compensados por items magicos, bendiciones, etc.; por lo que esta opcion es ideal para aquellos que creen poder perdurar y apuntan a los altos niveles del juego donde la experiencia necesaria para progresar es inmensa."]})]}),s.jsx("div",{className:"w-full py-8 mx-auto flex flex-col justify-center items-center",children:s.jsx("img",{className:"rounded-2xl",src:"/assets/image/Anatomy.png",alt:""})}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl mt-4",children:"Modificadores de Atributo"}),s.jsxs("div",{className:"flex flex-col space-y-6 montserrat",children:[s.jsx("p",{children:"El valor de cada Atributo define un modificador, es decir un valor que es utilizado para definir bonificaciones y/o penalidades relacionadas a dicho Atributo. La siguiente guia indica la relacion entre los valores de Atributo y modificador:"}),s.jsxs("table",{class:"w-full md:w-1/2 mx-auto border-collapse text-center",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0",children:"Atributo"}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0",children:"Modificador"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0",children:"-2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0",children:"4 a 6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0",children:"-1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0",children:"7 a 13"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0",children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0",children:"14 a 17"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0",children:"+1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0",children:"18"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0",children:"+2"})]})]})]}),s.jsx("h3",{className:"text-2xl",children:"Fuerza"}),s.jsx("p",{children:"La Fuerza es un atributo que representa la potencia física bruta de un personaje. Afecta directamente la capacidad para realizar hazañas de poder, como levantar o romper objetos pesados, así como el daño que puede infligir en combate cuerpo a cuerpo. Un personaje con alta Fuerza podrá cargar más peso, superar pruebas físicas exigentes y destacar en actividades que requieran vigor muscular."}),s.jsxs("ul",{className:"ml-4 list-inside space-y-2 whitespace-pre-line",children:[s.jsx("li",{className:"list-disc",children:"El modificador es agregado a las lanzadas de ataque y daño de todo ataque cuerpo a cuerpo."}),s.jsx("li",{className:"list-disc",children:"El modificador es agregado a la cantidad de filas de inventario base (5x5) disponibles, si es positivo, o es reducido de estas si es negativo."}),s.jsx("li",{className:"list-disc",children:"El modificador es multiplicado por “5” para calcular el % Bonus de Experiencia de la clase “Guerrero”"})]}),s.jsx("div",{className:"w-full mt-4 mx-auto flex items-center justify-center",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/strength.png",alt:""})}),s.jsx("h3",{className:"text-2xl",children:"Destreza"}),s.jsx("p",{children:"La Destreza es un atributo que representa la agilidad, reflejos y coordinación de un personaje. Influye en la capacidad para esquivar ataques, moverse sigilosamente, manipular objetos delicados y utilizar armas a distancia con precisión. Un personaje con alta Destreza será más difícil de golpear, podrá reaccionar rápidamente ante peligros y destacará en tareas que requieran movimientos precisos o veloces."}),s.jsxs("ul",{className:"ml-4 list-inside space-y-2 whitespace-pre-line",children:[s.jsx("li",{className:"list-disc",children:"El modificador es agregado a las lanzadas de ataque y daño de todo ataque con un arma de proyectil."}),s.jsx("li",{className:"list-disc",children:"El modificador es utilizado como penalización contra las lanzadas de ataque del enemigo en caso de que sea positivo, o como bonus en caso de que sea negativo."}),s.jsx("li",{className:"list-disc",children:"El modificador es multiplicado por “5” para calcular la cantidad de pies a substraer o agregar, según corresponda, de movimiento en espacios cerrados (base = 30) y por “20” para calcular el movimiento en espacios abiertos (base = 120)."})]}),s.jsx("div",{className:"w-full mt-4 mx-auto flex items-center justify-center",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/dexterity.png",alt:""})}),s.jsx("h3",{className:"text-2xl",children:"Constitucion"}),s.jsx("p",{children:"La Constitución es un atributo que representa la resistencia física, salud y capacidad de recuperación de un personaje. Afecta directamente la cantidad de daño que puede soportar, su resistencia a enfermedades, venenos y fatiga, así como su capacidad para recuperarse de heridas o condiciones adversas. Un personaje con alta Constitución podrá sobrevivir en situaciones extremas, resistir efectos debilitantes y mantener su rendimiento durante largos periodos de esfuerzo físico."}),s.jsxs("ul",{className:"ml-4 list-inside space-y-2 whitespace-pre-line",children:[s.jsx("li",{className:"list-disc",children:"El modificador es agregado a las lanzadas de Puntos de Golpe por nivel del personaje."}),s.jsx("li",{className:"list-disc",children:"El modificador es agregado a la cantidad de Puntos de Golpe recuperados por día de descanso."})]}),s.jsx("div",{className:"w-full mt-4 mx-auto flex items-center justify-center",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/constitution.png",alt:""})}),s.jsx("h3",{className:"text-2xl",children:"Inteligencia"}),s.jsx("p",{children:"La Inteligencia es un atributo que representa la capacidad de razonamiento, aprendizaje, memoria y análisis lógico de un personaje. Influye en la habilidad para resolver acertijos, recordar información importante, aprender nuevos conocimientos y lanzar conjuros en el caso de clases mágicas. Un personaje con alta Inteligencia podrá descifrar lenguajes, identificar objetos mágicos y destacar en tareas que requieran pensamiento crítico o erudición."}),s.jsxs("ul",{className:"ml-4 list-inside space-y-2 whitespace-pre-line",children:[s.jsx("li",{className:"list-disc",children:"El modificador indica la cantidad de Ranuras de Competencias adicionales en caso de ser positivo, o penalizadas en caso de ser negativo."}),s.jsx("li",{className:"list-disc",children:"El modificador indica la cantidad de Ranuras de Lenguaje adicionales, en caso de ser positivo. En caso de ser negativo, indica incapacidad para leer o escribir."}),s.jsx("li",{className:"list-disc",children:"El modificador indica la cantidad de hechizos adicionales de un Usuario de Magia en caso de ser positivo."}),s.jsx("li",{className:"list-disc",children:"El modificador es multiplicado por “5” para calcular el % Bonus de Experiencia de la clase “Usuario de Magia”."})]}),s.jsx("div",{className:"w-full mt-4 mx-auto flex items-center justify-center",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/intelligence.png",alt:""})}),s.jsx("h3",{className:"text-2xl",children:"Sabiduria"}),s.jsx("p",{children:"La Sabiduría es un atributo que representa la percepción, intuición, sentido común y fuerza de voluntad de un personaje. Influye en la capacidad para notar detalles importantes, resistir efectos mentales o mágicos, tomar decisiones acertadas bajo presión y comprender el entorno espiritual o sobrenatural. Un personaje con alta Sabiduría será más difícil de engañar, podrá anticipar peligros y destacará en tareas que requieran juicio, empatía o conexión con fuerzas superiores."}),s.jsxs("ul",{className:"ml-4 list-inside space-y-2 whitespace-pre-line",children:[s.jsx("li",{className:"list-disc",children:"El modificador, en caso de ser positivo, es multiplicado por “5” e indica un % de resistencia a la magia."}),s.jsx("li",{className:"list-disc",children:"El modificador es multiplicado por “5” para calcular el % Bonus de Experiencia de cualquier clase."})]}),s.jsx("div",{className:"w-full mt-4 mx-auto flex items-center justify-center",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/wisdom.png",alt:""})}),s.jsx("h3",{className:"text-2xl",children:"Carisma"}),s.jsx("p",{children:"El Carisma es un atributo que representa la capacidad de un personaje para influir, persuadir y liderar a otros, así como su presencia personal y magnetismo social. Afecta directamente las interacciones con NPCs, la habilidad para negociar, comandar seguidores y causar una impresión positiva o negativa en quienes lo rodean. Un personaje con alto Carisma podrá ganarse la confianza de aliados, manipular situaciones sociales a su favor y destacarse en tareas que requieran diplomacia, liderazgo o encanto personal."}),s.jsxs("ul",{className:"ml-4 list-inside space-y-2 whitespace-pre-line",children:[s.jsx("li",{className:"list-disc",children:"El modificador es agregado a las lanzadas de reacción de los PNJ."}),s.jsx("li",{className:"list-disc",children:"El modificador es agregado a las lanzadas de lealtad de los secuaces y mercenarios al servicio del PJ."}),s.jsx("li",{className:"list-disc",children:"El modificador indica la cantidad maxima de secuaces y mercenarios al servicio del PJ. Si el modificador es negativo, puede tener hasta un máximo de 3 PNJ a su servicio; si es “0” hasta un máximo de 5; si es “1” puede tener hasta 6; y si es “2” puede tener hasta 12."})]}),s.jsx("div",{className:"w-full mt-4 mx-auto flex items-center justify-center",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/charisma.png",alt:""})})]})]}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function WK(){const r=en(),e=()=>{r("/rules/races/elf")},t=()=>{r("/rules/races/human")},n=()=>{r("/rules/races/dwarf")},i=()=>{r("/rules/races/beastman")},a=()=>{r("/rules/races/halfling")},o=()=>{r("/rules/races/verdant")},c=()=>{r("/rules")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Razas"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 text-center",children:[s.jsx("div",{className:"garamond text-md md:text-xl mt-4 p-4",children:s.jsx("p",{children:"Las razas son una parte fundamental de la creación de personajes en Eldra'Kazhan. Cada raza ofrece habilidades únicas, bonificaciones a atributos y características especiales que enriquecen la experiencia de juego. Explora las distintas razas disponibles y elige la que mejor se adapte a tu estilo de juego."})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 place-items-center gap-8",children:[s.jsx("div",{onClick:e,className:"w-50 h-50 md:h-100 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-3xl",children:"Elfos"})}),s.jsx("div",{onClick:n,className:"w-50 h-50 md:h-100 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-3xl",children:"Enanos"})}),s.jsx("div",{onClick:i,className:"w-50 h-50 md:h-100 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-3xl",children:"Hombres Bestia"})}),s.jsx("div",{onClick:t,className:"w-50 h-50 md:h-100 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-3xl",children:"Humanos"})}),s.jsx("div",{onClick:a,className:"w-50 h-50 md:h-100 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-3xl",children:"Medianos"})}),s.jsx("div",{onClick:o,className:"w-50 h-50 md:h-100 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-3xl",children:"Verdantes"})})]}),s.jsx("div",{className:"p-4 italic font-thin text-sm",children:s.jsx("p",{children:"En caso de que quieras añadir una raza personalizada, puedes hablar con el DM para discutir las posibilidades y cómo integrarla en la narrativa del juego."})})]}),s.jsx("div",{onClick:c,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function XK(){const r=en(),e=()=>{r("/rules/races")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Elfos"}),s.jsxs("main",{className:"divide-y-1 w-2/3 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:[s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de Atributos:"}),s.jsxs("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center center justify-center",children:[s.jsx("li",{className:"px-2",children:"+1 INT"}),s.jsx("li",{className:"px-2",children:"+1 WIS"}),s.jsx("li",{className:"px-2",children:"-1 STR"}),s.jsx("li",{className:"px-2",children:"-1 CON"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de HP:"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"-"})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de Salvada:"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+2"}),s.jsxs("p",{className:"text-xs",children:["vs. ",s.jsx("span",{className:"font-bold underline underline-offset-2",children:"Encanto, miedo y sueño"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Idiomas:"}),s.jsxs("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center items-center justify-center",children:[s.jsx("li",{className:"px-2",children:"Común"}),s.jsx("li",{className:"px-2",children:"Élfico"}),s.jsx("li",{className:"px-2",children:"+1 Adicional"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Competencias:"}),s.jsx("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center items-center justify-center",children:s.jsx("li",{className:"px-2",children:"+1 Adicional"})})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Vision Elfica:"}),s.jsx("p",{className:"text-md",children:"Pueden ver en los bosques, claros y planicies mas oscuras mejor que cualquier otro; como si fuera de dia. Adicionalmente, en entornos naturales, pueden concentrarse para conocer las propiedades de la flora que los rodea."})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Longevidad:"}),s.jsxs("ul",{className:"text-left list-inside space-y-2",children:[s.jsx("li",{className:"list-disc",children:"Joven (30–100 años). Sin modificadores."}),s.jsx("li",{className:"list-disc",children:"Adulto (101–400 años). +1 Inteligencia, +1 Sabiduría."}),s.jsx("li",{className:"list-disc",children:"Anciano (+400 años). +1 Inteligencia, +2 Sabiduría."})]})]})]})]}),s.jsx("div",{className:"w-2/3 md:w-1/3 mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/elf.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function YK(){const r=en(),e=()=>{r("/rules/races")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Enanos"}),s.jsxs("main",{className:"divide-y-1 w-2/3 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:[s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de Atributos:"}),s.jsxs("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center center justify-center",children:[s.jsx("li",{className:"px-2",children:"+1 STR"}),s.jsx("li",{className:"px-2",children:"+1 CON"}),s.jsx("li",{className:"px-2",children:"-2 CHA"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de HP:"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+2"})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de Salvada:"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+2"}),s.jsxs("p",{className:"text-xs",children:["vs. ",s.jsx("span",{className:"font-bold underline underline-offset-2",children:"Magia"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Idiomas:"}),s.jsxs("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center items-center justify-center",children:[s.jsx("li",{className:"px-2",children:"Común"}),s.jsx("li",{className:"px-2",children:"Enano"}),s.jsx("li",{className:"px-2",children:"+1 Adicional"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Competencias:"}),s.jsx("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center items-center justify-center",children:s.jsx("li",{className:"px-2",children:"+1 Adicional"})})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Vision Enana:"}),s.jsx("p",{className:"text-md",children:"Pueden ver dentro de cavernas naturales o edificaciones subterraneas enanas en escala de grises. Adicionalmente, en entornos naturales, pueden concentrarse para que metales y gemas brillen sobrenaturalmente ante sus ojos; a veces incluso a traves de paredes u objetos, dependiendo de su espesor y material."})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Longevidad:"}),s.jsxs("ul",{className:"text-left list-inside space-y-2",children:[s.jsx("li",{className:"list-disc",children:"Joven (20–50 años). Sin modificadores."}),s.jsx("li",{className:"list-disc",children:"Adulto (51–200 años). +1 Constitución, +1 Fuerza."}),s.jsx("li",{className:"list-disc",children:"Anciano (201–350 años). +1 Constitución, +1 Fuerza, +1 Sabiduría."})]})]})]})]}),s.jsx("div",{className:"w-2/3 md:w-1/3 mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/dwarf.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function ZK(){const r=en(),e=()=>{r("/rules/races")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 w-full mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Humanos"}),s.jsxs("main",{className:"divide-y-1 w-2/3 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:[s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de Atributos:"}),s.jsx("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center center justify-center w-20",children:s.jsx("li",{className:"px-2",children:"-"})})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de HP:"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+1"})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de Salvada:"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"-"}),s.jsxs("p",{className:"text-xs",children:["vs. ",s.jsx("span",{className:"font-bold",children:"-"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Idiomas:"}),s.jsxs("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center items-center justify-center",children:[s.jsx("li",{className:"px-2",children:"Común"}),s.jsx("li",{className:"px-2",children:"+1 Adicional"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Competencias:"}),s.jsx("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center items-center justify-center",children:s.jsx("li",{className:"px-2",children:"+2 Adicionales"})})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Adaptabilidad"}),s.jsx("p",{className:"text-md",children:"+10% a los puntos de experiencia ganados, su adaptabilidad alimentando un crecimiento rápido."})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Longevidad:"}),s.jsxs("ul",{className:"text-left list-inside space-y-2",children:[s.jsx("li",{className:"list-disc",children:"Joven (15–25 años). Sin modificadores."}),s.jsx("li",{className:"list-disc",children:"Adulto (26–50 años). +1 Fuerza, +1 Constitución."}),s.jsx("li",{className:"list-disc",children:"Anciano (51-80 años). +1 Sabiduría, +1 Inteligencia, -1 Fuerza, -1 Destreza."})]})]})]})]}),s.jsx("div",{className:"w-2/3 md:w-1/3 mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/human.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function KK(){const r=en(),e=()=>{r("/rules/races")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Hombres Bestia"}),s.jsxs("main",{className:"divide-y-1 w-2/3 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:[s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de Atributos:"}),s.jsxs("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center center justify-center",children:[s.jsx("li",{className:"px-2",children:"+1 CON"}),s.jsx("li",{className:"px-2",children:"+1 DEX"}),s.jsx("li",{className:"px-2",children:"-1 INT"}),s.jsx("li",{className:"px-2",children:"-1 CHA"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de HP:"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+2"})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de Salvada:"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+2"}),s.jsxs("p",{className:"text-xs",children:["vs. ",s.jsx("span",{className:"font-bold underline underline-offset-2",children:"Veneno y Enfermedades"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Idiomas:"}),s.jsxs("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center items-center justify-center",children:[s.jsx("li",{className:"px-2",children:"Común"}),s.jsx("li",{className:"px-2",children:"Bestial"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Competencias:"}),s.jsx("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center items-center justify-center",children:s.jsx("li",{className:"px-2",children:"+2 Adicionales"})})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Voracidad"}),s.jsx("p",{className:"text-md",children:"En lugar de consumir raciones o alimento normal; pueden optar consumir cadaveres, raciones en mal estado, agua natural contaminada, asi como tambien fauna y flora que podrian resultar venenosas para otras razas (sufriendo levemente sus efectos, dependiendo del caso)."}),s.jsx("p",{className:"mt-2",children:"Habla Bestial"}),s.jsx("p",{className:"text-md",children:"Pueden comunicarse con animales de la misma familia de especie que su herencia bestial."})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Longevidad:"}),s.jsxs("ul",{className:"text-left list-inside space-y-2",children:[s.jsx("li",{className:"list-disc",children:"Joven (10-25 años). Sin modificadores."}),s.jsx("li",{className:"list-disc",children:"Adulto (26-60 años). +1 Constitución, +1 Destreza."}),s.jsx("li",{className:"list-disc",children:"Anciano (61-90 años). +1 Constitución, +1 Sabiduría, -1 Fuerza, -1 Destreza."})]})]})]})]}),s.jsx("div",{className:"w-2/3 md:w-1/3 mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/beastmen.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function JK(){const r=en(),e=()=>{r("/rules/races")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Medianos"}),s.jsxs("main",{className:"divide-y-1 w-full flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:[s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de Atributos:"}),s.jsxs("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center center justify-center",children:[s.jsx("li",{className:"px-2",children:"+1 DEX"}),s.jsx("li",{className:"px-2",children:"+1 CHA"}),s.jsx("li",{className:"px-2",children:"-1 STR"}),s.jsx("li",{className:"px-2",children:"-1 CON"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de HP:"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"-"})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de Salvada:"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"-"}),s.jsxs("p",{className:"text-xs",children:["vs. ",s.jsx("span",{className:"font-bold",children:"-"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Idiomas:"}),s.jsxs("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center items-center justify-center",children:[s.jsx("li",{className:"px-2",children:"Común"}),s.jsx("li",{className:"px-2",children:"Mediano"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Competencias:"}),s.jsx("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center items-center justify-center",children:s.jsx("li",{className:"px-2",children:"+1 Adicional"})})]}),s.jsxs("div",{className:"garamond space-y-2 flex flex-col items-center justify-center py-2 w-full md:w-2/3 ",children:[s.jsx("p",{children:"Pies Ligeros"}),s.jsx("p",{children:"Los medianos gozan de +10 pies de movimiento adicional en combate cercano, y +40 pies de movimiento adicional en combate abierto."}),s.jsx("p",{children:"Cuentan con un bonus permanente de CA +1 debido a su agilidad innata."}),s.jsx("p",{children:"Adicionalmente, pueden montar animales como perros o chanchos."}),s.jsx("p",{className:"mt-2",children:"Mente Pura"}),s.jsx("p",{children:"Los Medianos que no sean malvados, y sean ancianos, tienen la posibilidad de elegir la competencia de Saber Velado."})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Longevidad:"}),s.jsxs("ul",{className:"text-left list-inside space-y-2",children:[s.jsx("li",{className:"list-disc",children:"Joven (8-20 años). Sin modificadores."}),s.jsx("li",{className:"list-disc",children:"Adulto (21-51 años). +1 Destreza, +1 Carisma."}),s.jsx("li",{className:"list-disc",children:"Anciano (51-80 años). +1 Destreza, +1 Sabiduría, -1 Fuerza, -1 Constitución."})]})]})]})]}),s.jsx("div",{className:"w-2/3 md:w-1/3 mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/halfling.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function QK(){const r=en(),e=()=>{r("/rules/races")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Verdantes"}),s.jsxs("main",{className:"divide-y-1 w-2/3 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:[s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de Atributos:"}),s.jsxs("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center center justify-center",children:[s.jsx("li",{className:"px-2",children:"+1 CON"}),s.jsx("li",{className:"px-2",children:"+1 WIS"}),s.jsx("li",{className:"px-2",children:"-1 STR"}),s.jsx("li",{className:"px-2",children:"-1 DEX"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de HP:"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+2"})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonificadores de Salvada:"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+2"}),s.jsxs("p",{className:"text-xs",children:["vs. ",s.jsx("span",{className:"font-bold underline underline-offset-2",children:"Veneno y Desplazamiento"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Idiomas:"}),s.jsxs("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center items-center justify-center",children:[s.jsx("li",{className:"px-2",children:"Común"}),s.jsx("li",{className:"px-2",children:"Silvano"}),s.jsx("li",{className:"px-2",children:"+1 Adicional"})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Competencias:"}),s.jsx("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center items-center justify-center",children:s.jsx("li",{className:"px-2",children:"+1 Adicional"})})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Fotosintesis"}),s.jsx("p",{className:"text-md",children:"Pueden elegir alimentarse mientras descansan en lugar de consumir raciones, dependiendo el tipo de flora en la que esten basados; pueden hacer esto en la superficie o en ambientes subterraneos. Adicionalmente, cuando estan totalmente inmoviles, son completamente indistinguibles de su contraparte vegetal."})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Longevidad:"}),s.jsxs("ul",{className:"text-left list-inside space-y-2",children:[s.jsx("li",{className:"list-disc",children:"Joven (20-80 años). Sin modificadores."}),s.jsx("li",{className:"list-disc",children:"Adulto (81-300 años). +1 Sabiduría, +1 Constitución."}),s.jsx("li",{className:"list-disc",children:"Anciano (+301 años). +2 Sabiduría, +1 Constitución."})]})]})]})]}),s.jsx("div",{className:"w-2/3 md:w-1/3 mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/verdant.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function $K(){const r=en(),e=()=>{r("/rules/classes/warrior")},t=()=>{r("/rules/classes/specialist")},n=()=>{r("/rules/classes/magicuser")},i=()=>{r("/rules/classes/multiclass")},a=()=>{r("/rules")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Clases"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 text-center",children:[s.jsx("div",{className:"garamond text-md md:text-xl mt-4 p-4",children:s.jsx("p",{children:"Las clases son una parte esencial de la creación de personajes en Eldra'Kazhan. Cada clase ofrece habilidades únicas, estilos de combate y roles específicos dentro del grupo. Explora las distintas clases disponibles y elige la que mejor se adapte a tu estilo de juego."})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 place-items-center gap-8",children:[s.jsx("div",{onClick:e,className:"w-50 h-50 md:h-100 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-3xl",children:"Guerrero"})}),s.jsx("div",{onClick:t,className:"w-50 h-50 md:h-100 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-3xl",children:"Especialista"})}),s.jsx("div",{onClick:n,className:"w-50 h-50 md:h-100 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-3xl",children:"Usuario de Magia"})}),s.jsx("div",{onClick:i,className:"w-50 h-50 md:h-100 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-3xl",children:"Multiclase"})})]}),s.jsx("div",{className:"p-4 italic font-thin text-sm",children:s.jsx("p",{children:"La cantidad limitada de clases disponibles en Eldra'Kazhan permite una experiencia de juego más enfocada y equilibrada. Priorizando roleplay sobre y libertad de creación, cada clase está diseñada para ofrecer una experiencia única y enriquecedora."})})]}),s.jsx("div",{onClick:a,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function eJ(){const r=en(),e=()=>{r("/rules/classes")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Guerrero"}),s.jsxs("main",{className:"divide-y-1 w-10/12 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:[s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Hit-Die"}),s.jsx("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center center justify-center w-20",children:s.jsx("li",{className:"px-2",children:"d10"})}),s.jsx("p",{className:"text-xs",children:"Dado de HP por Nivel"})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Competencias en Armas"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"4"})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Competencias en No-Armas"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"3"})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Salvada Base"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+6"}),s.jsxs("p",{className:"text-xs",children:["+1 por ",s.jsx("span",{className:"underline underline-offset-2",children:"cada 2 niveles"})," en la clase."]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonus de Salvadas:"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+2"}),s.jsxs("p",{className:"text-xs",children:["vs. ",s.jsx("span",{className:"font-bold underline underline-offset-2",children:"Veneno, Enfermedades, Desplazamiento y Agotamiento."})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonus al Golpear"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+1"}),s.jsxs("p",{className:"text-xs",children:["Por ",s.jsx("span",{className:"underline underline-offset-2",children:"cada nivel"})," en la clase"]})]}),s.jsx("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:s.jsxs("table",{class:"w-full md:w-1/2 mx-auto border-collapse text-center",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 montserrat",children:"Nivel"}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 montserrat",children:"Experiencia para Ascenso"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2k"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4k"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8k"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"16k"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"32k"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"[...]"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"[...]"})]})]})]})}),s.jsxs("div",{className:"garamond space-y-4 divide-y divide-slate-700 divide-dashed flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Segunda Piel"}),s.jsx("p",{className:"text-md text-left",children:"Vestir una armadura no tiene penalización de espacio o peso, pues los Luchadores llevan acero y cadenas como si fueran carne."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Rompe-Hordas"}),s.jsx("p",{className:"text-md text-left",children:"Cuando no está enfrentado por un enemigo con Dados de Golpe iguales o superiores a su nivel, el Luchador puede realizar múltiples ataques en una ronda, apuntando a cualquier número de enemigos cuyos Dados de Golpe combinados no excedan su nivel. Cada golpe es un testimonio de su dominio sobre los frágiles, abatiendo a los débiles con brutal eficiencia."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Maestría con Armas"}),s.jsx("p",{className:"text-md text-left",children:"En el nivel 1, elige un arma competente para dominarla, ganando +1 al acertar y +1 al daño. En cada nivel impar posterior (3, 5, 7, 9), domina una arma competente adicional, acumulando bonificaciones donde el acero encuentra el hueso, convirtiendo el metal en una extensión de su voluntad."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Golpe Implacable"}),s.jsx("p",{className:"text-md text-left",children:"En el nivel 5, al blandir un arma competente, tira el daño dos veces y suma el total. Para un arma dominada, tira tres veces y conserva los dos resultados más altos, tallando la ruina con una precisión inquebrantable que quiebra incluso a los enemigos más robustos."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Ataque Preciso"}),s.jsx("p",{className:"text-md text-left",children:"En el nivel 7, una vez por combate, el Luchador puede convertir un ataque fallido en un impacto automático, atravesando el velo del destino, o añadir su nivel al daño de un golpe, destrozando enemigos con un solo impacto deliberado que resuena en las ruinas."})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Modificadores por Edad:"}),s.jsxs("ul",{className:"text-left list-inside space-y-2",children:[s.jsx("li",{className:"list-disc",children:"Joven. Sin modificadores."}),s.jsx("li",{className:"list-disc",children:"Adulto. +1 Fuerza, +1 Constitución."}),s.jsx("li",{className:"list-disc",children:"Anciano. +1 Fuerza, +1 Constitución, +1 Sabiduría, -1 Destreza."})]})]})]})]})]}),s.jsx("div",{className:"w-1/2 md:w-1/5 mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/warrior.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function tJ(){const r=en(),e=()=>{r("/rules/classes")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Usuario de Magia"}),s.jsxs("main",{className:"divide-y-1 w-10/12 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:[s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Hit-Die"}),s.jsx("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center center justify-center w-20",children:s.jsx("li",{className:"px-2",children:"d4"})}),s.jsx("p",{className:"text-xs",children:"Dado de HP por Nivel"})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Competencias en Armas"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"1"})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Competencias en No-Armas"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"3"})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Salvada Base"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+4"}),s.jsxs("p",{className:"text-xs",children:["+1 por ",s.jsx("span",{className:"underline underline-offset-2",children:"cada 2 niveles"})," en la clase."]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonus de Salvadas:"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+2"}),s.jsxs("p",{className:"text-xs",children:["vs. ",s.jsx("span",{className:"font-bold underline underline-offset-2",children:"Magia."})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonus al Golpear"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+1"}),s.jsxs("p",{className:"text-xs",children:["Por ",s.jsx("span",{className:"underline underline-offset-2",children:"cada 3 niveles"})," en la clase"]})]}),s.jsx("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:s.jsxs("table",{class:"w-full table-auto mx-auto border-collapse text-center text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 montserrat",children:"Nivel"}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 montserrat",children:"Experiencia para Ascenso"}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 montserrat",children:"Espacios de Hechizo"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2.5k"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5k"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10k"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3 | 1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20k"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3 | 2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"40k"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3 | 3 | 1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"[...]"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"[...]"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"[...]"})]})]})]})}),s.jsxs("div",{className:"garamond space-y-4 divide-y divide-slate-700 divide-dashed flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Afinidad Arcana"}),s.jsx("p",{className:"text-md text-left",children:"Las habilidades no competentes en Astronomía, Astrología, Alquimia, Criptografía, Runología, Runosofía, Nomotética, Magia Gris, Magia Negra y Magia Blanca comienzan en Sabiduría/Intelecto × 3 (a eleccion del jugador). En caso de tomar una proficiencia en una de ellas, comiezan en Sabiduría/Intelecto × 6 (a eleccion del jugador); un destello de perspicacia en las artes veladas que acechan sus sueños."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Lanzamiento de Hechizos"}),s.jsx("p",{className:"text-md text-left",children:"En el nivel 1, ganan 1 espacio de hechizo del primer circulo, aumentando a medida que progresan. Los hechizos se clasifican como magia negra, gris o blanca. Para aprender nuevos hechizos, el Usuario de Magia debera hacer una lanzada de la Competencia relevante al mismo."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Perspicacia de lo Oculto"}),s.jsx("p",{className:"text-md text-left",children:"En el nivel 4, ganan +10% a las tiradas para descifrar textos o artefactos arcanos, desvelando los secretos oscuros del mundo con una claridad peligrosa."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Conocimiento Maldito"}),s.jsx("p",{className:"text-md text-left",children:"En el nivel 9, añaden +20% a las tiradas de Saber Velado, mientras las verdades prohibidas se filtran en el alma. La entropía se ralentiza a un paso de tortuga: el envejecimiento toma diez veces más, una maldición persistente que los ata al mundo y a sus secretos."})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Modificadores por Edad:"}),s.jsxs("ul",{className:"text-left list-inside space-y-2",children:[s.jsx("li",{className:"list-disc",children:"Joven. Sin modificadores."}),s.jsx("li",{className:"list-disc",children:"Adulto. +1 Inteligencia, +1 Sabiduría."}),s.jsx("li",{className:"list-disc",children:"Anciano. +1 Inteligencia, +2 Sabiduría, -1 Constitución."})]})]})]})]})]}),s.jsx("div",{className:"w-1/2 md:w-1/5 mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/magicuser.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function nJ(){const r=en(),e=()=>{r("/rules/classes")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Especialista"}),s.jsxs("main",{className:"divide-y-1 w-10/12 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:[s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Hit-Die"}),s.jsx("ul",{className:"flex flex-row border p-2 rounded-2xl divide-x-1 text-center center justify-center w-20",children:s.jsx("li",{className:"px-2",children:"d6"})}),s.jsx("p",{className:"text-xs",children:"Dado de HP por Nivel"})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Competencias en Armas"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"2"})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Competencias en No-Armas"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"5"})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Salvada Base"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+5"}),s.jsxs("p",{className:"text-xs",children:["+1 por ",s.jsx("span",{className:"underline underline-offset-2",children:"cada 2 niveles"})," en la clase."]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonus de Salvadas:"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+2"}),s.jsxs("p",{className:"text-xs",children:["vs. ",s.jsx("span",{className:"font-bold underline underline-offset-2",children:"Trampas y Peligros Naturales."})]})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Bonus al Golpear"}),s.jsx("p",{className:"flex flex-row border p-2 rounded-2xl justify-center w-20",children:"+1"}),s.jsxs("p",{className:"text-xs",children:["Por ",s.jsx("span",{className:"underline underline-offset-2",children:"cada 2 niveles"})," en la clase"]})]}),s.jsx("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:s.jsxs("table",{class:"w-full md:w-1/2 mx-auto border-collapse text-center",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 montserrat",children:"Nivel"}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 montserrat",children:"Experiencia para Ascenso"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1.25k"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2.5k"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5k"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10k"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20k"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"[...]"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"[...]"})]})]})]})}),s.jsxs("div",{className:"garamond space-y-4 divide-y divide-slate-700 divide-dashed flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Siempre Listo"}),s.jsx("p",{className:"text-md text-left",children:"Pueden cargar en los bultos de herramientas o equipamiento de utilidad el doble que el resto de las clases. Demostrando su habilidad para adaptarse y optimizar los recursos con los que cuentan."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Adaptación de Habilidades"}),s.jsx("p",{className:"text-md text-left",children:"Tira 2d6 y conserva el mayor para la progresión de competencias no relacionadas con armas. En el nivel 8, esto se convierte en 2d8, mientras el Especialista afina su oficio entre las ruinas, transformando fragmentos de conocimiento en supervivencia."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Adaptación de Habilidades"}),s.jsx("p",{className:"text-md text-left",children:"Tira 2d6 y conserva el mayor para la progresión de competencias no relacionadas con armas. En el nivel 8, esto se convierte en 2d8, mientras el Especialista afina su oficio entre las ruinas, transformando fragmentos de conocimiento en supervivencia."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Maestro de Todo"}),s.jsx("p",{className:"text-md text-left",children:"Ganan +10% a todas las competencias no relacionadas con armas no competentes. El tiempo y el costo de entrenamiento se reducen a la mitad, una habilidad de saqueador para doblar fragmentos de conocimiento a su voluntad."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Oportunista"}),s.jsx("p",{className:"text-md text-left",children:"En el nivel 6, una vez por combate, añaden +1d6 de daño a un golpe contra un enemigo distraído o flanqueado. En un golpe crítico, infligen el daño máximo del arma tres veces, una maestría fugaz en la matanza que cambia la marea en la oscuridad."})]}),s.jsxs("div",{className:"garamond space-y-1 flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsx("p",{children:"Modificadores por Edad:"}),s.jsxs("ul",{className:"text-left list-inside space-y-2",children:[s.jsx("li",{className:"list-disc",children:"Joven. Sin modificadores."}),s.jsx("li",{className:"list-disc",children:"Adulto. +1 Destreza, +1 Sabiduría."}),s.jsx("li",{className:"list-disc",children:"Anciano. +1 Destreza, +1 Sabiduría, -1 Fuerza."})]})]})]})]})]}),s.jsx("div",{className:"w-1/2 md:w-1/5 mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/specialist.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function rJ(){const r=en(),e=()=>{r("/rules/classes")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Multiclase"}),s.jsx("main",{className:"divide-y-1 w-10/12 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:s.jsxs("div",{className:"garamond space-y-4 divide-y divide-slate-700 divide-dashed flex flex-col items-center justify-center py-2 w-full md:w-2/3",children:[s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Clases Iniciales Múltiples"}),s.jsx("p",{className:"text-md text-left",children:"Un personaje puede elegir dos o más clases al crearse, encarnando la ambición desesperada de empuñar poderes diversos."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Espacios de Competencia"}),s.jsx("p",{className:"text-md text-left",children:"Al momento de crear el personaje, usa solo los espacios de competencia de la clase con la mayor cantidad inicial de estos."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"División de Experiencia"}),s.jsx("p",{className:"text-md text-left",children:"Divide todos los puntos de experiencia (PE) ganados equitativamente entre todas las clases antes de aplicar los modificadores de % de PE específicos de cada clase (por ejemplo, +10% por atributos altos). Esta división equitativa persiste incluso si una clase alcanza el umbral de subida de nivel. Por ejemplo, 300 PE divididos entre dos clases otorgan 150 PE a cada una, luego modificados por el % de bonificación de cada clase."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Requisitos para Subir de Nivel"}),s.jsx("p",{className:"text-md text-left",children:"Al alcanzar el umbral de PE para un nivel en todas las clase, el personaje debe gastar el tiempo y el dinero requerido por el entrenamiento de cada clase."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Tiradas de HD"}),s.jsx("p",{className:"text-md text-left",children:"Al subir de nivel, tira los HD de cada clase (por ejemplo, d10 para Guerrero, d4 para Mago) y toma el valor más alto para aumentar los puntos de golpe. Por ejemplo, un Guerrero/Mago tira 1d10 (8) y 1d4 (3), ganando 8 HP."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Bonificaciones de Salvación"}),s.jsx("p",{className:"text-md text-left",children:"Usa la bonificación de salvación más alta (y modificadores situacionales, por ejemplo, +2 contra veneno para Guerreros) entre todas las clases para las lanzadas de salvación."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Bonificaciones al Acertar"}),s.jsx("p",{className:"text-md text-left",children:"Usa la bonificación al acertar más alta (para tiradas de ataque Target20) entre todas las clases."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Bonificaciones al Acertar"}),s.jsx("p",{className:"text-md text-left",children:"Usa la bonificación al acertar más alta (para tiradas de ataque Target20) entre todas las clases."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Habilidades de Clase"}),s.jsx("p",{className:"text-md text-left",children:"Obtén acceso a todas las habilidades de cada clase (por ejemplo, las proficiencias de armas del Guerrero, el lanzamiento de hechizos del Mago, el ataque furtivo del Ladrón), sujetas a restricciones de nivel. Esta versatilidad es una de las ventajas mas grandes de aquellos personajes que deseen caminar por la senda de la multiclase."})]}),s.jsxs("div",{className:"pb-2",children:[s.jsx("p",{className:"font-bold",children:"Modificadores por Edad"}),s.jsx("p",{className:"text-md text-left",children:"Aplica todos los modificadores relacionados con la edad de cada clase"})]})]})})]}),s.jsx("div",{className:"w-1/2 md:w-1/5 mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/multiclass.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function iJ(){const r=en(),e=()=>{r("/rules/gear/armor")},t=()=>{r("/rules/gear/weapons")},n=()=>{r("/rules/gear/companions")},i=()=>{r("/rules/gear/magic")},a=()=>{r("/rules/gear/machinery")},o=()=>{r("/rules/gear/apparel")},c=()=>{r("/rules/gear/supplies")},d=()=>{r("/rules")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Equipo"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 text-center",children:[s.jsx("div",{className:"garamond text-md md:text-xl mt-4 p-4",children:s.jsx("p",{children:"El equipamiento es fundamental para la supervivencia y el éxito en Eldra'Kazhan. Desde armas y armaduras hasta suministros mágicos y maquinaria, cada elemento tiene un propósito específico. Explora las diferentes categorías de equipo disponibles y prepárate para enfrentar los desafíos que te esperan."})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 place-items-center gap-8",children:[s.jsx("div",{onClick:e,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Armaduras"})}),s.jsx("div",{onClick:t,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Armas"})}),s.jsx("div",{onClick:n,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Compañeros"})}),s.jsx("div",{onClick:i,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Magia"})}),s.jsx("div",{onClick:a,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Maquinaria"})}),s.jsx("div",{onClick:o,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Ropa"})}),s.jsx("div",{onClick:c,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Suministros"})})]}),s.jsx("div",{className:"p-4 italic font-thin text-sm space-y-4",children:s.jsx("p",{children:"En caso de que quieras añadir una pieza de equipo que no esté listada, puedes hablar con el DM para discutir su inclusión. El equipo puede variar en rareza y poder, y es importante considerar cómo cada pieza se integra en la narrativa de tu personaje y la historia del juego."})})]}),s.jsx("div",{onClick:d,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function sJ(){const r=en(),e=()=>{r("/rules/gear")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Armaduras"}),s.jsx("main",{className:"divide-y-1 w-full md:w-10/12 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:s.jsxs("table",{className:"w-full table-auto md:table-fixed mx-auto border-collapse text-center text-xs md:text-sm",children:[s.jsx("caption",{className:"caption-bottom text-center montserrat text-xs italic py-2",children:"DE = Desgastado, BE = Buen Estado"}),s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:"Armadura"}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel p-1",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:UK,size:1})})}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:pa,size:1})})}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:zO,size:1})})})]})}),s.jsxs("tbody",{className:"text-xs md:text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cuero (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"9"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cuero (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Gambesón (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"9"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Gambesón (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pieles (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pieles (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"7"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cota de Malla (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"7"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cota de Malla (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"100p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cota de Escamas (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"40p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cota de Escamas (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"80p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Brigandina (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"60p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Brigandina (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"120p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Placa (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"200p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Placa (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"400p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Peto de Acero (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"150p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Peto de Acero (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"300p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Placa Completa (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"300p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Placa Completa (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"600p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Escudo (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Escudo (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Escudo Pesado (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Escudo Pesado (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Rodela (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Rodela (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]})]})]})})]}),s.jsx("div",{className:"w-10/12 flex items-center justify-center mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25 p-4",src:"/assets/image/armory.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function aJ(){const r=en(),e=()=>{r("/rules/gear")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Armas"}),s.jsx("main",{className:"divide-y-1 w-full md:w-10/12 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:s.jsxs("table",{className:"w-full table-auto md:table-fixed mx-auto border-collapse text-center text-xs md:text-sm",children:[s.jsx("caption",{className:"caption-bottom text-center montserrat text-xs italic py-2",children:"DE = Desgastado, BE = Buen Estado"}),s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:"Arma"}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel p-1",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:IK,size:1})})}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:pa,size:1})})}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:zO,size:1})})}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:jK,size:1})})})]})}),s.jsxs("tbody",{className:"text-xs md:text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Espada (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Espada (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Hacha (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Hacha (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Maza (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Maza (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Bastón (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4-1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Bastón (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Lanza (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Lanza (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Daga (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4-1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Daga (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Mayal (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"12p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Mayal (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d8"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Martillo de Guerra (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Martillo de Guerra (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d8"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Espada a Dos Manos (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d8"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Espada a Dos Manos (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Estrella Matutina (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Estrella Matutina (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d8"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"30p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Guja (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Guja (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d10"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Alabarda (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d8"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Alabarda (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d10"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"35p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Bastón de Combate (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Bastón de Combate (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Arco (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"80 pies"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Arco (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"40p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"150 pies"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Ballesta (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"100 pies"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Ballesta (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d8"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"120 pies"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Honda (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4-1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50 pies"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Honda (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"80 pies"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Arco Corto (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"60 pies"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Arco Corto (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"100 pies"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Ballesta de Mano (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"40 pies"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Ballesta de Mano (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"40p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"60 pies"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Ballesta Ligera (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"22p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"80 pies"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Ballesta Ligera (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d8"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"35p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"100 pies"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Flechas (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Flechas (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Virotes (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Virotes (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d8"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Piedras (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4-1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"0.1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50 pies"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Piedras (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"0.5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"80 pies"})]})]})]})})]}),s.jsx("div",{className:"w-10/12 flex items-center justify-center mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25 p-4",src:"/assets/image/weaponry.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function oJ(){const r=en(),e=()=>{r("/rules/gear")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Compañeros"}),s.jsx("main",{className:"divide-y-1 w-full md:w-10/12 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:s.jsxs("table",{className:"w-full table-auto md:table-fixed mx-auto border-collapse text-center text-xs md:text-sm",children:[s.jsx("caption",{className:"caption-bottom text-center montserrat text-xs italic py-2",children:"DE = Desgastado, BE = Buen Estado"}),s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:"Compañero"}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel p-1",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:TK,size:1})})}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:pa,size:1})})}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:xo,size:1})})})]})}),s.jsxs("tbody",{className:"text-xs md:text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Mula (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"30p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"12 (3x4)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Mula (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20 (5x4)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Caballo (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"16 (4x4)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Caballo (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"80p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20 (5x4)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Buey (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"40p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20 (5x4)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Buey (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"70p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"30 (6x5)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Perro de Caza (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"6 (3x2)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Perro de Caza (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"40p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8 (4x2)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Paloma/Halcón/Cuervo (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1 (1x1)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Paloma/Halcón/Cuervo (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2 (2x1)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Caballo de Guerra (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"100p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"16 (4x4)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Caballo de Guerra (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"200p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"24 (6x4)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Perro de Guerra (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"6 (3x2)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Perro de Guerra (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8 (4x2)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Lobo Feroz (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"60p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"12 (4x3)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Lobo Feroz (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"120p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20 (5x4)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Lagarto Gigante (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"80p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20 (5x4)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Lagarto Gigante (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"150p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"30 (6x5)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Jabalí (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3 (3x1)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Jabalí (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"100p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"18 (6x3)"})]})]})]})})]}),s.jsx("div",{className:"w-10/12 flex items-center justify-center mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25 p-4",src:"/assets/image/companions.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function lJ(){const r=en(),e=()=>{r("/rules/gear")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Objetos Mágicos"}),s.jsx("main",{className:"divide-y-1 w-full md:w-10/12 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:s.jsxs("table",{className:"w-full table-auto md:table-fixed mx-auto border-collapse text-center text-xs md:text-sm",children:[s.jsx("caption",{className:"caption-bottom text-center montserrat text-xs italic py-2",children:"DE = Desgastado, BE = Buen Estado"}),s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:"Objeto"}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel p-1",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:LK,size:1})})}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:pa,size:1})})}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:xo,size:1})})}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:MK,size:1})})})]})}),s.jsxs("tbody",{className:"text-xs md:text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Talismán (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Talismán (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Varita (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Varita (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"40p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Astrolabio (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Astrolabio (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"75p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Horologium (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Horologium (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"40p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Esfera Armilar (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"30p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Esfera Armilar (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"80p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Telescopio Refractor (Portátil) (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Telescopio Refractor (Portátil) (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"150p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Telescopio Refractor (Estudio) (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"100p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Telescopio Refractor (Estudio) (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"300p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Telescopio Refractor (Observatorio) (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"200p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"40"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Telescopio Refractor (Observatorio) (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"500p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"40"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Códice Estelar (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"0"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"300"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Códice Estelar (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"0"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"500"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Grimorio (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"0"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"150"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Grimorio (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"0"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"200"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Escriptograma (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"0"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Escriptograma (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"0"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"60p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"100"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Tinta de Oro (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1/5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Tinta de Oro (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1/5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pergamino (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1/5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pergamino (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"30p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1/5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Hilo de Oro (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1/5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Hilo de Oro (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1/5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Papiro (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1/10"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Papiro (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"})]})]})]})})]}),s.jsx("div",{className:"w-10/12 flex items-center justify-center mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25 p-4",src:"/assets/image/magicitems.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function cJ(){const r=en(),e=()=>{r("/rules/gear")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Maquinaria"}),s.jsx("main",{className:"divide-y-1 w-full md:w-10/12 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:s.jsxs("table",{className:"w-full table-auto md:table-fixed mx-auto border-collapse text-center text-xs md:text-sm",children:[s.jsx("caption",{className:"caption-bottom text-center montserrat text-xs italic py-2",children:"DE = Desgastado, BE = Buen Estado"}),s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:"Objeto"}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel p-1",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:PK,size:1})})}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:pa,size:1})})}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:xo,size:1})})})]})}),s.jsxs("tbody",{className:"text-xs md:text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Trampa (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Trampa (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d8"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Trampa de Ballesta (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Trampa de Ballesta (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d8"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Trampa de Púas (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Trampa de Púas (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1d6"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"30p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cabrestante (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cabrestante (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"40p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Polea (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Polea (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Linterna (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Linterna (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"-"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"30p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]})]})]})})]}),s.jsx("div",{className:"w-10/12 flex items-center justify-center mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25 p-4",src:"/assets/image/machinery.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function uJ(){const r=en(),e=()=>{r("/rules/gear")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Ropa"}),s.jsx("main",{className:"divide-y-1 w-full md:w-10/12 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:s.jsxs("table",{className:"w-full table-auto md:table-fixed mx-auto border-collapse text-center text-xs md:text-sm",children:[s.jsx("caption",{className:"caption-bottom text-center montserrat text-xs italic py-2",children:"DE = Desgastado, BE = Buen Estado"}),s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:"Objeto"}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:pa,size:1})})}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:xo,size:1})})})]})}),s.jsxs("tbody",{className:"text-xs md:text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Togas (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Togas (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Manto con Capucha (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Manto con Capucha (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Túnica (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Túnica (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Capa (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Capa (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"12p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pantalones (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pantalones (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cinturón (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cinturón (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Botas (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Botas (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Sandalias (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Sandalias (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Guantes (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Guantes (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Envolturas de Brazo (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Envolturas de Brazo (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Gorra (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Gorra (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pañuelo de Cabeza (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pañuelo de Cabeza (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"6p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]})]})]})})]}),s.jsx("div",{className:"w-10/12 flex items-center justify-center mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25 p-4",src:"/assets/image/apparel.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function dJ(){const r=en(),e=()=>{r("/rules/gear")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Suministros"}),s.jsx("main",{className:"divide-y-1 w-full md:w-10/12 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:s.jsxs("table",{className:"w-full table-auto md:table-fixed mx-auto border-collapse text-center text-xs md:text-sm",children:[s.jsx("caption",{className:"caption-bottom text-center montserrat text-xs italic py-2",children:"DE = Desgastado, BE = Buen Estado"}),s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:"Objeto"}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:pa,size:1})})}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex items-center mx-auto justify-center",children:s.jsx(Et,{path:xo,size:1})})})]})}),s.jsxs("tbody",{className:"text-xs md:text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Tienda (Individual) (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Tienda (Individual) (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"15p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Tienda (Mediana) (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Tienda (Mediana) (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Tienda (Grande) (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Tienda (Grande) (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Saco de Dormir (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Saco de Dormir (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Raciones (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"0.5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Raciones (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Raciones de Hierro (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Raciones de Hierro (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Odre (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Odre (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Antorcha (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"0.1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Antorcha (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"0.5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Linterna (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Linterna (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Frasco de Aceite (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Frasco de Aceite (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Mochila (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Mochila (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cuerda (50 pies) (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cuerda (50 pies) (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Gancho de Agarre (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Gancho de Agarre (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Ganzúas (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Ganzúas (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Palanca (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Palanca (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Rodamientos de Bolas (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Rodamientos de Bolas (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Campanas (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Campanas (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Catalejo (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"20p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Catalejo (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Hachuela (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Hachuela (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"6p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cuchillo de Desollar (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cuchillo de Desollar (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Martillo (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Martillo (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Mazo (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Mazo (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"6p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pala (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pala (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pala Pequeña (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pala Pequeña (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"6p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Clavos (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Clavos (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cincel (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cincel (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pico (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pico (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Espejo de Mano (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Espejo de Mano (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Kit de Cirujano (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Kit de Cirujano (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Vial de Vidrio (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"0.5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Vial de Vidrio (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Red de Pesca (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Red de Pesca (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"6p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Mapa (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Mapa (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pergamino (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pergamino (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Carbón (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"0.5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Carbón (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Papiro (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Papiro (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pluma e Tinta (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Pluma e Tinta (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Silbato (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Silbato (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cuerda (10 pies) (DE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cuerda (10 pies) (BE)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2p"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"})]})]})]})})]}),s.jsx("div",{className:"w-10/12 flex items-center justify-center mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25 p-4",src:"/assets/image/supplies.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function hJ(){const r=en(),e=()=>{r("/rules/game/mechanics")},t=()=>{r("/rules/game/combat")},n=()=>{r("/rules/game/maneuvers")},i=()=>{r("/rules/game/weapon-proficiencies")},a=()=>{r("/rules/game/non-weapon-proficiencies")},o=()=>{r("/rules/game/xp-level")},c=()=>{r("/rules/game/life-death")},d=()=>{r("/rules/game/exploration")},f=()=>{r("/rules/game/downtime")},g=()=>{r("/rules")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Reglas"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 text-center",children:[s.jsx("div",{className:"garamond text-md md:text-xl mt-4 p-4",children:s.jsx("p",{children:"Aqui encontraras las reglas para jugar en Eldra'Kazhan. Estas reglas están diseñadas para proporcionar una experiencia de juego fluida y equilibrada, permitiendo a los jugadores sumergirse en la narrativa y el mundo del juego. Desde las mecánicas de resolución hasta el combate, cada aspecto está pensado para enriquecer la experiencia de juego."})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 place-items-center gap-8",children:[s.jsx("div",{onClick:e,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Mecánicas de Resolución"})}),s.jsx("div",{onClick:t,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Combate"})}),s.jsx("div",{onClick:n,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Maniobras"})}),s.jsx("div",{onClick:i,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Competencias de Armas"})}),s.jsx("div",{onClick:a,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Competencias en No-Armas"})}),s.jsx("div",{onClick:o,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Experiencia y Nivel"})}),s.jsx("div",{onClick:c,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Vida & Muerte"})}),s.jsx("div",{onClick:d,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Exploracion"})}),s.jsx("div",{onClick:f,className:"w-50 h-50 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-2xl",children:"Downtime"})})]}),s.jsx("div",{className:"p-4 italic font-thin text-sm space-y-4",children:s.jsx("p",{children:"En caso de que quieras consultar, revisar, simplificar o cambiar una regla puedes hablar con el DM para discutir la posibilidad de hacerlo."})})]}),s.jsx("div",{onClick:g,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function fJ(){const r=en(),e=()=>{r("/rules/game")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Mecanicas de Resolucion"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 p-4",children:[s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Target20"}),s.jsxs("div",{className:"flex flex-col space-y-6 montserrat",children:[s.jsx("p",{className:"text-center text-xl p-2 border-1 w-fit self-center mx-auto rounded-2xl",children:"Tira 1d20 + Modificadores ≥ 20"}),s.jsxs("p",{children:["Si la lanzada ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:'iguala o supera "20"'}),"  luego de agregar los modificadores (como modificador de atributo, bonificación de equipo o modificador situacional o AC del enemigo en un ataque), la acción tiene ",s.jsx("span",{className:"text-emerald-700 text-bold underline underline-offset-4",children:"éxito"}),". El Maestro del Juego (MJ) puede aplicar penalizaciones/bonificaciones según las circunstancias (por ejemplo, -2 por usar una herramienta desgastada, +2 por un objeto bien mantenido)."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Lanzadas Criticas:"})," Una lanzada de dado cuyo valor es 20, llamado 20 natural, siempre tiene ",s.jsx("span",{className:"text-emerald-700 text-bold underline underline-offset-4",children:"éxito"})," (potencialmente con beneficios adicionales, a discreción del MJ). Mientras que una lanzada de dado cuyo valor es 1, conocido como 1 natural, siempre ",s.jsx("span",{className:"text-red-700 text-bold underline underline-offset-4",children:"falla"})," (potencialmente con consecuencias graves)"]})]}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"D100 %"}),s.jsxs("div",{className:"flex flex-col space-y-6 montserrat",children:[s.jsx("p",{className:"text-center text-xl p-2 border-1 w-fit self-center mx-auto rounded-2xl",children:"d100 ≤ Skill"}),s.jsxs("p",{children:["Tira dados percentiles (d100) y compara con una puntuación de competencia (por ejemplo, 60% para una tarea especializada). Tirar ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"igual o debajo"})," de la puntuación tiene ",s.jsx("span",{className:"text-emerald-700 text-bold underline underline-offset-4",children:"éxito"}),"; tirar por encima falla. Las puntuaciones de competencia se determinan por clase de personaje, entrenamiento o equipo (por ejemplo, un Grimorio Dorado puede otorgar +10% a tiradas arcanas)."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Lanzadas Criticas:"})," Una lanzada de dado cuyo valor se encuentra en el rango de 1 a 5, siempre tiene ",s.jsx("span",{className:"text-emerald-700 text-bold underline underline-offset-4",children:"éxito"})," (potencialmente con beneficios adicionales, a discreción del MJ). Mientras que una lanzada de dado cuyo valor se encuentra en el rango de 96 a 100, siempre ",s.jsx("span",{className:"text-red-700 text-bold underline underline-offset-4",children:"falla"})," (potencialmente con consecuencias graves)"]})]}),s.jsxs("div",{className:"w-full md:w-1/2 flex flex-col space-y-2 mx-auto border-1 p-2 rounded-2xl border-dashed",children:[s.jsx("h3",{className:"text-lg",children:"Ejemplo de Juego"}),s.jsx("p",{className:"text-md text-center",children:"Target20"}),s.jsx("p",{className:"text-sm",children:"Un guerrero intenta golpear a un enemigo con una Espada de Acero."}),s.jsx("p",{className:"text-sm",children:"Tira 1d20 (7) + modificador de Fuerza (+2) + bonificación de ataque (+1) + Clase de Armadura del Enemigo (+8) = 18, fallando al no alcanzar el objetivo de 20."}),s.jsx("p",{className:"text-md text-center",children:"d100%"}),s.jsx("p",{className:"text-sm",children:"Más tarde, intenta rastrear una bestia con un Perro de Caza (cuya competencia en rastreo es de 50%)."}),s.jsx("p",{className:"text-sm",children:"Tira 42, teniendo éxito pues 42 ≤ 50%."})]})]}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function mJ(){const r=en(),e=()=>{r("/rules/game")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Combate"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 p-4",children:[s.jsxs("div",{className:"flex flex-col space-y-8 montserrat",children:[s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Reglas"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"mb-8",children:"Antes de definir el combate, es necesario determinar si uno siquiera sucede en primer lugar. Para esto existen las mecanicas de Tirada de Sorpresa y Reaccion."}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Tirada de Sorpresa:"})," Cuando un encuentro sucede, el MJ determina si algún bando está sorprendido. Cada bando tira 1d6: ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"1-2 indica sorpresa"}),", lo que significa que el bando sorprendido ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"pierde una o dos rondas de acciones"})," (aplicando respectivamente al valor de la lanzada)."]}),s.jsx("p",{children:"Una tirada exitosa de competencia de sigilo d100% puede otorgar sorpresa automática, y una lanzada exitosa de competencia para estar alerta puede anular la sorpresa."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Tirada de Reacción:"})," Cuando un encuentro entre los PJ y PNJ sucede (por ejemplo, al encontrar una bestia errante), el MJ tira 2d6 para la reacción del mismo: 2-5 (",s.jsx("span",{className:"text-red-700",children:"hostil, ataca de inmediato"}),"), 6-8 (",s.jsx("span",{className:"text-blue-700",children:"neutral, puede parlamentar, duda"}),"), 9-12 (",s.jsx("span",{className:"text-emerald-700",children:"poco cauteloso o amistoso"}),")."]}),s.jsxs("p",{children:["Algunos ejemplos de modificadores situacionales son: +1 por la presencia de un ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"líder carismático"}),", -1 por blandir un arma ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Gastada"})," (intimidante pero tosca) o +2 por una lanzada de ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"competencia de apropiada"})," exitosa."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Tirada de Iniciativa:"})," Al inicio del combate, y de cada ronda, cada bando (por ejemplo, el grupo de jugadores vs. enemigos) tira 1d6 para la iniciativa. El bando con la tirada más alta actúa primero en la ronda. Los empates resultan en acciones simultáneas, con todos los efectos resueltos después de que todos actúan."]}),s.jsxs("p",{children:[s.jsx("span",{className:"underline underline-offset-4",children:"Modificadores de Iniciativa:"})," Las tiradas de iniciativa ganan una bonificación +1 por cada modificador positivo de Destreza del personaje con mayor Destreza del grupo. Adicionalmente, ganan +1 situacional por cada lanzada de competencia exitosa de las siguientes que sean aplicables: Tácticas, Tácticas de Emboscada y Conciencia de Combate. Para cada ocasión, siempre se prioriza el personaje con mayor cantidad de bonificaciones positivas para realizar la tirada de iniciativa."]})]}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Fases de Combate"}),s.jsx("p",{children:"Descripcion general de la composicion de una ronda de combate."}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("span",{className:"text-yellow-500",children:"Resolver Iniciativa:"})," Tira 1d6 por bando para determinar el orden. El bando ganador resuelve todas las acciones primero (ataques, hechizos, etc.), seguido por el bando perdedor."]}),s.jsxs("li",{children:[s.jsx("span",{className:"text-yellow-500",children:"Declarar Acciones:"})," Los jugadores y el MJ declaran las acciones de su bando (por ejemplo, atacar, lanzar un hechizo, huir). Los objetivos específicos o hechizos deben declararse, pero el movimiento es flexible."]}),s.jsxs("li",{children:[s.jsx("span",{className:"text-yellow-500",children:"Resolver Acciones:"})," Las acciones se resuelven en fases: ",s.jsx("span",{className:"underline underline-offset-4",children:"Fase de Movimiento"})," (utilizando movimiento en Espacios Cerrados o Espacios Abiertos según indique el MJ), ",s.jsx("span",{className:"underline underline-offset-4",children:"Fase de Proyectiles"}),", ",s.jsx("span",{className:"underline underline-offset-4",children:"Fase Cuerpo a Cuerpo"})," y ",s.jsx("span",{className:"underline underline-offset-4",children:"Fase de Hechizos"}),"."]}),s.jsxs("li",{children:[s.jsx("span",{className:"text-yellow-500",children:"Comprobación de Moral:"})," Si los enemigos sufren grandes pérdidas (por ejemplo, la mitad de su número), el MJ tira 2d6 contra una puntuación de moral (por ejemplo, 7 para bandidos): 2-7 (",s.jsx("span",{className:"text-emerald-700 text-bold underline underline-offset-4",children:"siguen luchando"}),"), 8-12 (",s.jsx("span",{className:"text-red-700 text-bold underline underline-offset-4",children:"huyen o se rinden"}),"). Los jugadores pueden forzar una comprobación con una competencia relevante d100% para intimidarlos."]})]}),s.jsxs("div",{className:"border-t-1 border-spacing-60 space-y-8",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"montserrat text-lg md:text-2xl mt-4 text-yellow-500",children:"Determinar Iniciativa"}),s.jsxs("p",{children:["En esta fase inicial del procedimiento de combate, cada bando (jugadores versus enemigos controlados por el MJ) lanza un dado de seis caras (1d6). El bando con el resultado más alto gana la iniciativa y ",s.jsx("span",{className:"underline underline-offset-4",children:"resuelve todas sus acciones declaradas en primer lugar"}),", incluyendo ataques, lanzamientos de hechizos, movimientos y otras interacciones. Posteriormente, el bando perdedor procede con sus acciones. En caso de empate, se recomienda relanzar los dados o resolver simultáneamente, dependiendo de las preferencias del grupo para mantener el flujo del juego. Esta mecánica grupal simplifica el combate en comparación con iniciativas individuales, enfatizando la coordinación de equipo y reduciendo el tiempo de resolución."]}),s.jsx("p",{children:'El bando que pierde la iniciativa declara primero, seguido por el bando ganador, lo que otorga a este último una ventaja estratégica y reactiva al permitirle responder a las acciones anunciadas por el enemigo. Si una acción depende de condiciones variables (por ejemplo, "atacar si el enemigo se acerca"), debe clarificarse para evitar ambigüedades durante la resolución.'})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"montserrat text-lg md:text-2xl mt-4 text-yellow-500",children:"Declarar Acciones"}),s.jsx("p",{children:"Esta del procedimiento de combate es clave, tanto los jugadores como el Maestro del Juego (MJ) deben anunciar las intenciones de sus respectivos bandos de manera explícita y oportuna. Esto incluye especificar acciones como atacar a un objetivo concreto, lanzar un hechizo particular (indicando el tipo de hechizo y su objetivo, si aplica), huir del combate, o realizar otras maniobras como usar un objeto o asistir a un aliado. El movimiento, sin embargo, se mantiene flexible y no requiere una declaración detallada en este momento, permitiendo ajustes basados en el desarrollo del turno. Esta declaración asegura que todas las partes involucradas estén al tanto de las intenciones, promoviendo una resolución justa y estratégica."}),s.jsxs("p",{children:[s.jsx("span",{className:"underline underline-offset-4",children:"El bando que pierde la iniciativa declara primero, seguido por el bando ganador"}),", lo que otorga a este último una ",s.jsx("span",{className:"text-emerald-700",children:"ventaja estratégica y reactiva"}),' al permitirle responder a las acciones anunciadas por el enemigo. Si una acción depende de condiciones variables (por ejemplo, "atacar si el enemigo se acerca"), debe clarificarse para evitar ambigüedades durante la resolución.']})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"montserrat text-lg md:text-2xl mt-4 text-yellow-500",children:"Resolucion de Acciones"}),s.jsx("p",{children:"Las acciones declaradas se ejecutan en un orden estructurado dividido en fases secuenciales, lo que permite una resolución ordenada y predecible. Las fases son las siguientes:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Fase de Movimiento:"})," Los personajes y criaturas utilizan su capacidad de movimiento según el entorno definido por el MJ (Espacios Cerrados o Abiertos)."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Fase de Proyectiles:"})," Se resuelven todos los ataques a distancia, como disparos con arcos, hondas o lanzamientos de objetos. Los tiradores declaran objetivos y realizan tiradas de ataque (típicamente 1d20 + modificadores contra la Clase de Armadura del objetivo). Daños se aplican inmediatamente, y se consideran factores como cobertura o rango."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Fase Cuerpo a Cuerpo:"})," Aquí se ejecutan los ataques melee, como golpes con espadas, garras o puños. Similar a la fase de proyectiles, se usan tiradas de 1d20 + bonificadores contra la Clase de Armadura, aplicando daños en caso de éxito. Los combatientes deben estar adyacentes."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Fase de Hechizos:"})," Finalmente, se lanzan y resuelven los hechizos declarados, incluyendo efectos mágicos como bolas de fuego o curaciones. El lanzador debe verificar si el hechizo se interrumpe (por ejemplo, si recibe daño antes de su turno). Los efectos se aplican según las reglas del hechizo, con tiradas de salvación para objetivos si aplica."]})]}),s.jsx("p",{children:"Todas las fases se completan para el bando ganador antes de pasar al perdedor, asegurando que las acciones de un lado puedan influir en las del otro (por ejemplo, eliminando objetivos antes de que actúen)."})]})]})]}),s.jsxs("div",{className:"w-full md:w-1/2 flex flex-col space-y-2 mx-auto border-1 p-2 rounded-2xl border-dashed",children:[s.jsx("h3",{className:"text-lg",children:"Ejemplo de Juego"}),s.jsxs("div",{className:"text-sm divide-y-1 divide-dashed",children:[s.jsxs("p",{className:"p-2",children:[s.jsx("span",{className:"text-md",children:"Sorpresa"}),":",s.jsx("p",{className:"text-xs",children:"Un grupo de tres (guerrero, mago, ladrón) encuentra bandidos en una cripta en ruinas. El ladrón tira 1d6 (4) para sorpresa, definiendo que no han sido sorprendidos. La tirada de sorpresa de los bandidos fue de 3, por lo que tampoco estan sorprendidos."})]}),s.jsxs("p",{className:"p-2",children:[s.jsx("span",{className:"text-md",children:"Reaccion"}),":",s.jsxs("p",{className:"text-xs",children:["La tirada de reacción de los bandidos es 2d6 (4, ",s.jsx("span",{className:"text-red-700 text-bold underline underline-offset-4",children:"hostil"}),")."]})]}),s.jsxs("p",{className:"p-2",children:[s.jsx("span",{className:"text-md",children:"Iniciativa"}),":",s.jsx("p",{className:"text-xs",children:"El grupo tira 1d6 (6), los bandidos tiran 1d6 (3). El grupo actúa primero."})]}),s.jsxs("p",{className:"p-2",children:[s.jsx("span",{className:"text-md",children:"Declaracion"}),":",s.jsx("p",{className:"text-xs",children:"Tras escuchar la declaracion del MJ y conocer como actuaran los bandidos. El mago declara que utilizara magia. El guerrero declara que correra hasta el bandido mas cercano y atacara, y el ladron aclara que se movera para luego  disparar su arco."})]}),s.jsxs("p",{className:"p-2",children:[s.jsx("span",{className:"text-md",children:"Combate"}),":",s.jsx("p",{className:"text-xs",children:"En la Fase de Movimiento, el ladron y el guerrero se mueven como habian declarado. Luego, el ladrón dispara un Arco Corto (1d20 + 2 Destreza + CA Bandido = 18, falla) en la Fase de Proyectiles. El guerrero ataca con una Espada de Acero (1d20 + 1 Fuerza + 2 Bonus para Golpear + CA del enemigo = 21, acierta) en la Fase de Cuerpo a Cuerpo. Finalmente, en la Fase de Hechizos, el mago lanza el hechizo que estaba conjurando."})]}),s.jsxs("p",{className:"p-2",children:[s.jsx("span",{className:"text-md",children:"Moral"}),":",s.jsx("p",{className:"text-xs",children:"Los bandidos luego atacan, pero al finalizar su turno, uno huye y los otros se rinden tras fallar una comprobación de moral (2d6 = 9 vs. moral 7)."})]})]})]})]}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function pJ(){const r=en(),e=()=>{r("/rules/game")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Maniobras"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 p-4",children:[s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Introducción"}),s.jsxs("div",{className:"flex flex-col space-y-6 montserrat",children:[s.jsx("p",{children:"Las maniobras de combate son las tácticas fugaces, que van mas alla del combate convencional. Ya sea cargando con furia temeraria, fingiendo para exponer la debilidad de un enemigo o canalizando energías prohibidas a costa de la movilidad. Estas maniobras exigen precisión y sacrificio, pues incluso el mejor acero o el hechizo más potente pueden fallar. Desde el astillarse de escudos hasta la lenta acumulación de poder arcano, cada acción es una apuesta."}),s.jsxs("p",{children:["Las maniobras de combate se declaran durante la fase de Declarar Acciones de la ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Iniciativa Clásica"}),". Modifican o reemplazan acciones estándar (como ataques, movimiento, lanzamiento de hechizos) e interactúan con el sistema ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Target20"})," para ataques y salvaciones, o ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"d100%"})," para tareas basadas en habilidades o arcanas."]})]}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Reglas"}),s.jsxs("div",{className:"flex flex-col space-y-6 montserrat",children:[s.jsxs("p",{children:["Cada maniobra tiene requisitos específicos (como equipo, posicionamiento, inmovilidad) y efectos mecánicos, a menudo involucrando tiradas ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Target20"})," para ataques o salvaciones, o tiradas de competencia ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"d100%"})," para habilidades."]}),s.jsxs("p",{children:["Las maniobras de lanzamiento de hechizos (",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Lanzar Hechizo"}),", ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Canalizar Magia Natural"}),") inmovilizan al lanzador, reflejando la intensa concentración requerida para manejar magia en un mundo en decadencia."]})]}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Maniobras"}),s.jsxs("div",{className:"flex flex-col space-y-2 divide-y-1 divide-dashed divide-slate-700 montserrat",children:[s.jsxs("div",{className:"pb-4",children:[s.jsx("h3",{className:"text-xl text-yellow-600 cinzel",children:"Carga"}),s.jsx("p",{children:"Te lanzas hacia un enemigo con abandono temerario, tu impulso alimentando un golpe aplastante pero dejándote expuesto a represalias."}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Requisitos:"})," Mover al menos 20 pies en línea recta hacia el objetivo, sin obstáculos por terreno pesado."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Efecto:"})," Realiza un ataque cuerpo a cuerpo con +2 a la tirada. En caso de acertar, duplica los dados de daño del arma al acertar o los triplica si es una carga con montura. Por una ronda luego de la carga, ataques contra ti tienen una bonificación de +2."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Iniciativa:"})," Resuelta durante la Fase de Movimiento de tu bando."]}),s.jsx("p",{className:"w-full md:w-1/2 border-1 border-dashed p-2 rounded-2xl mx-auto mt-4 text-sm",children:"Un guerrero carga contra un esqueleto con su espada (Fuerza +1, Bonus para Golpear +1, 9 CA enemigo). Tira 1d20 (9) + 1 + 1 + 9 = 20, acertando por 1d6 (daño de arma) + 1d6 (bonus de daño por carga) = (9). Por una ronda completa luego de esta carga, ataques contra el guerrero tendras +2 para acertar."})]}),s.jsxs("div",{className:"pb-4",children:[s.jsx("h3",{className:"text-xl text-yellow-600 cinzel",children:"Preparar contra Carga"}),s.jsx("p",{children:"Preparas un arma de asta para enfrentar a un enemigo que carga, convirtiendo su velocidad en su perdición. Tu postura es resuelta pero inmóvil."}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Requisitos:"})," Empuñar un arma de asta y permanecer inmóvil. No puede usarse si te moviste esta ronda."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Efecto:"})," Si un enemigo que carga te ataca, realiza un ataque cuerpo a cuerpo antes de que su ataque se resuelva. Al acertar, inflige el doble de dados de daño o el triple si el enemigo atacó montado. Un ataque exitoso impone una penalidad de -2 al ataque del que Carga."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Iniciativa:"})," Resuelta cuando el enemigo carga, antes de que realice su ataque."]}),s.jsx("p",{className:"w-full md:w-1/2 border-1 border-dashed p-2 rounded-2xl mx-auto mt-4 text-sm",children:"Un luchador prepara una Lanza (Fuerza +1, Bonus para Golpear +1, 9 CA enemigo) contra un lobo que carga. Tira 1d20 (10) + 1 + 1 + 9 = 21, acertando por 1d6  (daño de arma) + 1d6 (bonus de daño contra carga) = 10, e imponiendo una penalidad de -2 al ataque del lobo cuando resuelva la Carga."})]}),s.jsxs("div",{className:"pb-4",children:[s.jsx("h3",{className:"text-xl text-yellow-600 cinzel",children:"Destrozar Escudo"}),s.jsx("p",{children:"Sacrificas tu escudo para absorber un golpe aplastante, sus fragmentos un baluarte fugaz contra el abrazo de la muerte."}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Requisitos:"})," Empuñar un escudo. No puede usarse si el escudo está destruido."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Efecto:"})," Cuando eres golpeado por un ataque, declara ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Destrozar Escudo"})," antes de que se tire el daño. El escudo absorbe todo el daño pero se destruye (se elimina del inventario). Haz una Lanzada de Salvación para evitar quedar aturdido (-2 a los ataques hasta tu próximo turno). Los escudos en ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Buen Estado"})," otorgan +2 a esta salvada, y en lugar de destruirse, se convierten en su versión desgastada."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Iniciativa:"}),"  Resuelta inmediatamente al ser golpeado."]}),s.jsx("p",{className:"w-full md:w-1/2 border-1 border-dashed p-2 rounded-2xl mx-auto mt-4 text-sm",children:"Un caballero con un escudo pesado desgastado es golpeado por un ogro. Declara Destrozar Escudo, negando el daño pero perdiendo el escudo. Lanzada de Salvación: 1d20 (9) + 6 (Salvada) + 2 (Bonus de Clase) = 17, fallando. Queda aturdido (-2 a los ataques) por una ronda."})]}),s.jsxs("div",{className:"pb-4",children:[s.jsx("h3",{className:"text-xl text-yellow-600 cinzel",children:"Preparar Proyectiles"}),s.jsx("p",{children:"Estabilizas tu puntería, esperando que un enemigo entre en tu mira. La paciencia es un costo amargo, pero un disparo bien colocado puede acabar con una amenaza."}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Requisitos:"})," Empuñar un arma a distancia. No puedes moverte esta ronda antes de disparar."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Efecto:"})," Realiza un ataque a distancia con +2 a la tirada y +2 al daño al acertar. No puedes atacar hasta que un objetivo esté a rango y a la vista, perdiendo la acción si no aparece un objetivo al final de la ronda. Una lanzada de competencia de ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Tácticas de Emboscada"})," d100% (por ejemplo, 50%) otorga +1 a la tirada de ataque y daño si tiene éxito."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Iniciativa:"}),"  Resuelta durante la Fase de Proyectiles de tu bando, retrasada hasta que aparezca un objetivo."]}),s.jsxs("p",{className:"w-full md:w-1/2 border-1 border-dashed p-2 rounded-2xl mx-auto mt-4 text-sm",children:["Un ladrón se prepara con su arco largo (Destreza +1, Bonus para Golpear +4, 7 CA enemigo). Tira d100% de ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Tácticas de Emboscada"})," (50%, tira 40, +1). Dispara: 1d20 (9) + 4 + 2 + 1 + 7 = 23, acertando por 1d6 + 3 (7)."]})]}),s.jsxs("div",{className:"pb-4",children:[s.jsx("h3",{className:"text-xl text-yellow-600 cinzel",children:"Retirada"}),s.jsx("p",{children:"Te deslizas fuera del alcance de un enemigo, priorizando la supervivencia sobre el valor. Cada paso es una retirada calculada en un mundo que castiga a los incautos."}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Requisitos:"})," Estar en combate cuerpo a cuerpo (adyacente a un enemigo)."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Efecto:"})," Desplazate hasta tu movimiento completo sin provocar un ataque de un enemigo en combate. Haz una Lanzada de Salvación para evitar ataques de oportunidad de otros enemigos adyacentes. El éxito permite una retirada segura; el fallo otorga a los enemigos un ataque con una bonificacion de +2."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Iniciativa:"})," Resuelta durante la Fase de Movimiento de tu bando."]}),s.jsx("p",{className:"w-full md:w-1/2 border-1 border-dashed p-2 rounded-2xl mx-auto mt-4 text-sm",children:" Un ladrón se retira de un ghoul (+5 Bonus de Salvada, +2 Bonus de Clase). Mueve 30 pies y tira 1d20 (15) + 5 + 2 = 22, teniendo éxito y evitando ataques de otros dos ghouls cercanos."})]}),s.jsxs("div",{className:"pb-4",children:[s.jsx("h3",{className:"text-xl text-yellow-600 cinzel",children:"Finta"}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Descripción:"})," Engañas a un enemigo con un golpe falso, exponiendo su guardia."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Requisitos:"})," Empuñar un arma cuerpo a cuerpo. Requiere una competencia de intimidación d100% (por ejemplo, 40%)."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Efecto:"})," Tira d100% de intimidación. El éxito otorga +4 a tu próximo ataque cuerpo a cuerpo contra el objetivo esta ronda o la siguiente. El fallo desperdicia la acción, y el objetivo gana +2 a su próximo ataque contra ti."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Iniciativa:"})," Resuelta durante la Fase Cuerpo a Cuerpo de tu bando."]}),s.jsx("p",{className:"w-full md:w-1/2 border-1 border-dashed p-2 rounded-2xl mx-auto mt-4 text-sm",children:"Un ladrón realiza una finta con su daga (intimidación 50%, tira 45, éxito). Su próximo ataque gana +4: 1d20 (10) + 4 (Bonus de Finta) + 1 (Bonus para Golpear) + 7 (CA enemigo) = 22, acertando por 1d4 (3)."})]}),s.jsxs("div",{className:"pb-4",children:[s.jsx("h3",{className:"text-xl text-yellow-600 cinzel",children:"Guardia"}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Descripción:"})," Adoptas una postura defensiva, protegiendo a ti mismo o a un aliado del daño. En un mundo de traición, tal protección es un regalo fugaz."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Requisitos:"})," Empuñar un arma o escudo. No puedes moverte esta ronda tras declarar ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Guardia"}),". En rondas consiguientes, si la postura ha sido mantenida, se puede avanzar (de manera individual o en formacion) hasta la mitad del movimiento sin perder la Guardia."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Efecto:"})," Otorga una penalidad contra ataques de -2. Si estás adyacente a un aliado, puedes reducir en -1 a la CA a ellos, pero sufres +1 a tu CA (neto -1 para ti). Tira una Lanzada de Salvación para mantener la postura si eres golpeado; el fallo termina el bono de CA antes. Una lanzada d100% de ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Tácticas"})," exitosa permite agregar una bonificación de +1 para esta Salvación (hasta un máximo de +5) por aliado adyacente que haya tomado esta maniobra."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Iniciativa:"})," Resuelta durante la Fase de Movimiento de tu bando, el efecto dura hasta el próximo turno."]}),s.jsx("p",{className:"w-full md:w-1/2 border-1 border-dashed p-2 rounded-2xl mx-auto mt-4 text-sm",children:"Un luchador guarda con su escudo robusto, otorgando penalidad -2 contra ataques contra él y -1 a un mago adyacente. Tras ser golpeado, tira 1d20 (12) + 6 (Salvada) + 2 (Bonus de Clase) = 20, manteniendo la postura."})]}),s.jsxs("div",{className:"pb-4",children:[s.jsx("h3",{className:"text-xl text-yellow-600 cinzel",children:"Aplastar"}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Descripción:"})," Desatas un golpe brutal, sacrificando precisión por fuerza cruda."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Requisitos:"})," Empuñar un arma cuerpo a cuerpo. No puede usarse con armas ligeras."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Efecto:"})," Realiza un ataque cuerpo a cuerpo con -2 a la tirada pero +2 al daño al acertar. Si fallas, quedas desequilibrado (+2 para ataques contra ti hasta tu próximo turno)."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Iniciativa:"})," Resuelta durante la Fase Cuerpo a Cuerpo de tu bando."]}),s.jsx("p",{className:"w-full md:w-1/2 border-1 border-dashed p-2 rounded-2xl mx-auto mt-4 text-sm",children:" Un bárbaro aplasta con una hacha de dos manos (Fuerza +2, Bonus para Golpear +2, +4 CA enemigo). Tira 1d20 (13) + 3 - 2 + 4 = 18, fallando. Ataques contra él ganan una bonificación de +2."})]}),s.jsxs("div",{className:"pb-4",children:[s.jsx("h3",{className:"text-xl text-yellow-600 cinzel",children:"Lanzar Hechizo"}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Descripción:"})," Tejes energías arcanas, anclando tu cuerpo al suelo mientras invocas un poder prohibido. En el Ojo Aristilia, la magia es un acto peligroso de voluntad."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Requisitos:"})," Empuñar un foco de lanzamiento de hechizos (por ejemplo, ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Talismán Agrietado"}),", ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Varita de Ébano"}),"). No puedes moverte esta ronda tras declarar el hechizo. Debes conocer el hechizo, tenerlo preparado y tener un Espacio de Hechizo disponible."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Efecto:"})," Empieza a realizar los complejos encantamientos de un hechizo (por ejemplo, nivel 1), sacrificando tu movimiento. Si eres golpeado mientras canalizas, tira una Salvación para mantener el encantamiento."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Iniciativa:"})," Declarada en la Fase de Declaracion. Resuelta durante la Fase de Hechizos de tu bando."]}),s.jsx("p",{className:"w-full md:w-1/2 border-1 border-dashed p-2 rounded-2xl mx-auto mt-4 text-sm",children:"Un mago lanza un hechizo de nivel 1 con una varita tras declarar que esa era su intención, sacrificando su movimiento. Si no recibe daño, y el objetivo del hechizo aún se encuentra disponible, el hechizo es resuelto."})]}),s.jsxs("div",{className:"pb-4",children:[s.jsx("h3",{className:"text-xl text-yellow-600 cinzel",children:"Canalizar Magia Natural"}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Descripción:"})," Viertes tu esencia en un hechizo durante varios momentos, acumulando maná hasta completar la invocación. Cada pulso de poder te ancla a la tierra, vulnerable pero resuelto."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Requisitos:"})," Empuñar un foco de lanzamiento de hechizos. No puedes moverte mientras canalizas o tras declarar. Debes conocer el hechizo. El hechizo tiene un costo de maná (por ejemplo, nivel 1 = 15, nivel 2 = 30, etc)."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Efecto:"})," Cada fase de combate, en cada ronda; tira un dado de maná (d6) y suma el resultado a tu reserva de maná para el hechizo. Continúa hasta que la reserva iguale o supere el costo de maná del hechizo, luego tira d100% de competencia ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Magia Natural"}),". El éxito activa el hechizo; el fallo, mantiene la reserva pero no libera el hechizo. En caso de fallo crítico, se pierde la reserva. Por cada 1d6 Puntos de Golpe propios sacrificados o de un sacrificio vivo, gana un bonus de +10% para esta tirada de competencia. No puedes moverte hasta que el hechizo se lance o falle. Si eres golpeado mientras canalizas, tira una Salvación para mantener el enfoque; el fallo reinicia la reserva de maná a 0."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-purple-500",children:"Iniciativa:"}),"  Tira el dado de maná en cada Fase, resuelve el lanzamiento cuando se alcance el maná."]}),s.jsx("p",{className:"w-full md:w-1/2 border-1 border-dashed p-2 rounded-2xl mx-auto mt-4 text-sm",children:"Un aventurero declara un hechizo de nivel 1 (costo de maná 15). Durante la declaración, calcula en qué ronda este surtirá efecto. Fase de Movimiento: d6 (4). Fase de Proyectiles: d6 (3, total 7). Fase Cuerpo a Cuerpo: d6 (3, total 10), Fase de Hechizos: d6 (5, total 15). Tira d100 (65), teniendo éxito, y definiendo que el hechizo tendrá lugar en la Fase de Hechizos. Luego, en la Fase de Proyectiles, es golpeado por una flecha, tira 1d20 (13) + 2 (Sabiduría) + 5 (Salvada) = 20, teniendo exito la salvación, y manteniendo su reserva de mana. Finalmente, realiza la lanzada de competencia d100% y tiene exito, liberando el hechizo en la Fase de Hechizos."})]})]})]}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function gJ(){const r=en(),e=()=>{r("/rules/game")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Competencia con Armas"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 p-4",children:[s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Introducción"}),s.jsxs("div",{className:"flex flex-col space-y-6 montserrat",children:[s.jsx("p",{children:"Donde la muerte acecha en cada sombra, un arma es más que acero—es un desafío fugaz contra la oscuridad que avanza. La competencia con un arma implica blandirla sin la torpeza que invita al desastre, evitándote la penalización de -4 al golpear que aflige a los no entrenados. Cada arma porta su propio propósito sombrío, moldeado por las necesidades de un mundo que no perdona."}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Espada:"})," Una hoja de elegancia deslustrada, forjada para la precisión. Las espadas cortan carne con la gracia de un duelista, su filo un susurro de control efímero en un reino caótico."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Hacha:"})," Brutal e implacable, las hachas despedazan hueso y tendón. Son herramientas de carniceros y saqueadores, ansiosas por destruir en una tierra que lo exige."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Maza:"})," Un instrumento romo de fuerza aplastante, las mazas destrozan armaduras y huesos por igual. Su peso imparte juicio a los inflexibles, sean hombres o monstruos."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Bastón:"})," Una simple vara de madera nudosa, el bastón es el compañero de los errantes. Repele golpes y canaliza voluntad mística, un aliado humilde en un mundo maldito."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Lanza:"})," Larga y perforante, las lanzas mantienen a raya a los enemigos. Son la elección de quienes golpean desde lejos, cautelosos de los horrores que se acercan demasiado."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Daga:"})," Pequeña y traicionera, las dagas prosperan en las sombras. Se deslizan entre costillas o cortan gargantas, perfectas para los desesperados y los engañosos."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Mangual:"})," Una amenaza encadenada, los manguales azotan el aire con furia impredecible. Aplastan con fuerza errática, un arma para quienes se deleitan en el caos."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Martillo de Guerra:"})," Un martillo colosal de poder despiadado, los martillos de guerra pulverizan enemigos con golpes implacables. Son blandidos por quienes buscan quebrar lo inquebrantable."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Espada a Dos Manos:"})," Una gran hoja de poder ruinoso, las espadas a dos manos cercenan múltiples enemigos. Sus arcos amplios son una danza mortal, exigiendo fuerza y resolución."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Estrella Matutina:"})," Un terror erizado, las estrellas matutinas mutilan con precisión cruel. Sus cabezas brutales desgarran carne y rompen defensas, una promesa sombría de dolor."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Guja:"})," Un arma de asta con una hoja cortante, las gujas golpean desde lejos. Tejen arcos letales, aptas para quienes defienden su terreno contra la marea de ruina."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Alabarda:"})," Un arma de asta versátil, las alabardas combinan hacha y lanza. Cortan, empujan y enganchan, ofreciendo adaptabilidad sombría frente a enemigos implacables."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Vara:"})," Un palo robusto de madera curtida, las varas son engañosamente simples. Bloquean, golpean y hacen tropezar, blandidas por quienes encuentran fuerza en la humildad."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Arco:"})," Un arma de muerte lejana, los arcos disparan flechas para perforar a los desprevenidos. Exigen paciencia y precisión, una herramienta de cazador en una tierra predatoria."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Arco Corto:"})," Compacto y veloz, los arcos cortos disparan con agilidad mortal. Convienen a los veloces, atacando desde las sombras antes de que el enemigo se acerque."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Ballesta:"})," Un heraldo mecánico, las ballestas lanzan virotes con fuerza inmisericorde. Son favorecidas por quienes valoran la fiabilidad sobre la finura en un mundo traicionero."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Ballesta de Mano:"})," Pequeña pero letal, las ballestas de mano escupen virotes con un movimiento de muñeca. Son la elección del asesino, ocultas hasta el momento de la traición."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Ballesta Ligera:"})," Un equilibrio entre poder y portabilidad, las ballestas ligeras golpean con precisión. Arman a quienes pisan ligero pero matan con intención."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Honda:"})," Una herramienta primitiva de cuerda trenzada, las hondas lanzan piedras con sorprendente fuerza. Son el arma de los carroñeros, convirtiendo escombros en ruina."]})]})]}),s.jsx("div",{className:"w-10/12 flex items-center justify-center mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25 p-4",src:"/assets/image/weaponry.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function bJ(){const r=en(),e=()=>{r("/rules/game")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Competencias en No-Armas"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 p-4",children:[s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Introducción"}),s.jsx("div",{className:"flex flex-col space-y-6 montserrat",children:s.jsx("p",{children:"Las Competencias en No-Armas o no armamentísticas son las artes arduamente ganadas por quienes se ganan la vida en el Ojo Aristilia—habilidades para arrancar fuego de podredumbre húmeda, trazar senderos por salvajes malditos o desenterrar secretos de piedra desmoronada. Cada competencia fue forjada con práctica agotadora y pagado con tiempo, plata y determinación. Dominar estas habilidades es robar una ventaja fugaz en una tierra que no perdona, donde cada éxito es una victoria."})}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Habilidades de Exploración Exterior"}),s.jsxs("table",{className:"w-full table-auto mx-auto border-collapse text-center text-xs md:text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:"Habilidad"}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Jd,size:.75})})}),s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:xo,size:.75})})}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:$d,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Qd,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:eh,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:pa,size:.75})})]})]})}),s.jsxs("tbody",{className:"text-xs md:text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Escalada"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"STR"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Simple"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Encender Fuego"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"DEX"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Simple"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Supervivencia (Salvaje)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"CON"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Resistir Elementos"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"CON"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Simple"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Adaptación a Altura"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"CON"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Abrir Caminos"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Navegación (Superficie)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Herboristería"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Forrajeo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Simple"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Rastreo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Sentido del Clima"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Manejo de Animales"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"CHA"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]})]})]}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Habilidades de Exploración de Mazmorras"}),s.jsxs("table",{className:"w-full table-auto mx-auto border-collapse text-center text-xs md:text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:"Habilidad"}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Jd,size:1})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:xo,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:$d,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Qd,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:eh,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:pa,size:.75})})]})]})}),s.jsxs("tbody",{className:"text-xs md:text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Detección de Trampas"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"DEX"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Espeleología"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"DEX"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Supervivencia (Subterránea)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"CON"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Navegación (Subterránea)"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Mampostería"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Gestión de Luz"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Simple"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cartografía"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Audición de Mazmorra"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Sentido de Peligro"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Peligros de Mazmorra"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]})]})]}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Habilidades Físicas y de Movimiento"}),s.jsxs("table",{className:"w-full table-auto mx-auto border-collapse text-center text-xs md:text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:"Habilidad"}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Jd,size:1})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:xo,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:$d,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Qd,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:eh,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:pa,size:.75})})]})]})}),s.jsxs("tbody",{className:"text-xs md:text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Nado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"STR"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Simple"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Atletismo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"STR"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Simple"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Montar"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"DEX"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Sigilo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"DEX"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Resistencia"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"CON"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]})]})]}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Habilidades de Artesanía"}),s.jsxs("table",{className:"w-full table-auto mx-auto border-collapse text-center text-xs md:text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:"Habilidad"}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Jd,size:1})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:xo,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:$d,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Qd,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:eh,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:pa,size:.75})})]})]})}),s.jsxs("tbody",{className:"text-xs md:text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Metalurgia"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"STR"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Navegación Fluvial"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"STR"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Carpintería"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"DEX"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Curtiduría"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"DEX"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Uso de Cuerdas"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"DEX"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Simple"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Reparación de Armas"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Ingeniería"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Raro"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"100p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Cocina"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Simple"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Carroñero"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Simple"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"})]})]})]}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Habilidades Sociales y de Interacción"}),s.jsxs("table",{className:"w-full table-auto mx-auto border-collapse text-center text-xs md:text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:"Habilidad"}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Jd,size:1})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:xo,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:$d,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Qd,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:eh,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:pa,size:.75})})]})]})}),s.jsxs("tbody",{className:"text-xs md:text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Señalización"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Simple"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Persuasión"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"CHA"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Etiqueta"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"CHA"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Intimidación"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"CHA"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Liderazgo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"CHA"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Trueque"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"CHA"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]})]})]}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Habilidades de Conocimiento y Erudición"}),s.jsxs("table",{className:"w-full table-auto mx-auto border-collapse text-center text-xs md:text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:"Habilidad"}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Jd,size:1})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:xo,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:$d,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Qd,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:eh,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:pa,size:.75})})]})]})}),s.jsxs("tbody",{className:"text-xs md:text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Historia"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Lenguajes"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Saber de Mazmorras"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Astronomía"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Astrología"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Alquimia"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Criptografía"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Runología"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Runosofía"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Raro"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"100p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Conocimiento Nomotético"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Raro"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"100p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Ciencias Naturales"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Saber Natural"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Observación"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 mont Montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Saber Oculta"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Raro"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Especial"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"0p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Saber de Monstruos"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Magia Gris"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Raro"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"100p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Magia Negra"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Raro"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"100p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Magia Blanca"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Raro"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"5"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"8s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"100p"})]})]})]}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Habilidades de Combate y Táctica"}),s.jsxs("table",{className:"w-full table-auto mx-auto border-collapse text-center text-xs md:text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:"Habilidad"}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Jd,size:1})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:xo,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:$d,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Qd,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:eh,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:pa,size:.75})})]})]})}),s.jsxs("tbody",{className:"text-xs md:text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Armas Improvisadas"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"DEX"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Simple"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"10p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Tácticas"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Tácticas de Emboscada"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Conciencia de Combate"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Primeros Auxilios"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]})]})]}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Habilidades Misceláneas y Utilitarias"}),s.jsxs("table",{className:"w-full table-auto mx-auto border-collapse text-center text-xs md:text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:"Habilidad"}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Jd,size:1})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:xo,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:$d,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:Qd,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:eh,size:.75})})]}),s.jsxs("th",{className:"border-b-slate-700 border border-x-0 border-t-0 cinzel",children:["                ",s.jsx("div",{className:"flex flex-col items-center justify-center mx-auto",children:s.jsx(Et,{path:pa,size:.75})})]})]})}),s.jsxs("tbody",{className:"text-xs md:text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Minería"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"STR"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Latrocinio"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"DEX"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Camuflaje"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"DEX"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Caligrafía"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"DEX"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Falsificación"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"DEX"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Improvisación de Herramientas"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Tasación"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"INT"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Exploración"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"1"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Moderado"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"3"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"25p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Magia Naturalista"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Voz y Forma"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"WIS"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"2"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"Complejo"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"4s"}),s.jsx("td",{className:"border-b-slate-700 border border-x-0 montserrat",children:"50p"})]})]})]})]}),s.jsx("div",{className:"w-10/12 flex items-center justify-center mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25 p-4",src:"/assets/image/skills.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function xJ(){const r=en(),e=()=>{r("/rules/game")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Puntos de Experiencia"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 p-4",children:[s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Introducción"}),s.jsx("div",{className:"flex flex-col space-y-6 montserrat",children:s.jsx("p",{children:"En un mundo donde la muerte acecha en cada sombra, los puntos de experiencia (XP) miden el crecimiento de un personaje, ganados al superar los horrores que habitan criptas sombrías y tierras salvajes olvidadas. La XP se calcula evaluando los despojos de la supervivencia frente a los peligros enfrentados, ajustada por la fortaleza del personaje y la compañía que lo acompaña."})}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Cálculo de la Experiencia"}),s.jsxs("div",{className:"flex flex-col space-y-6 montserrat",children:[s.jsx("p",{children:"La experiencia se determina en varios pasos:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"XP Base:"})," Comienza sumando los siguientes elementos:",s.jsx("div",{children:s.jsxs("ul",{children:[s.jsx("li",{className:"ml-4 list-inside",children:"- Las piezas de plata (sp) obtenidas de enemigos derrotados o sus guaridas, reflejo del valor sombrío del botín.  "}),s.jsx("li",{className:"ml-4 list-inside",children:"- 100 XP por cada dado de golpe (HD) del enemigo más formidable vencido, como testimonio de su amenaza.  "}),s.jsx("li",{className:"ml-4 list-inside",children:"- XP adicional por monstruos menores abatidos, un triunfo pasajero frente a la oscuridad.  "}),s.jsx("li",{className:"ml-4 list-inside",children:"- Bonificaciones de XP misceláneas, otorgadas por actos ingeniosos o descubrimientos que desafían la malicia del mundo."})]})})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ajuste por Relación de Desafío:"})," La XP base se modifica según la relación entre el dado de golpe del enemigo más fuerte y el nivel del personaje. Si el dado de golpe iguala o supera el nivel del personaje, la XP base se mantiene intacta. Si es inferior, se reduce proporcionalmente, ya que los desafíos menores ofrecen poca enseñanza a los endurecidos."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"División entre el Grupo:"})," La XP ajustada se reparte entre los miembros del grupo, reconociendo que la supervivencia es un esfuerzo colectivo en este reino desolado."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Bonificación Individual:"})," Se aplica un porcentaje de bonificación de XP por proezas excepcionales o favores divinos, aumentando la porción de cada miembro. El resultado final se redondea a dos decimales, representando una chispa de progreso en un mundo que busca extinguirla."]})]}),s.jsx("p",{className:"text-left text-xl montserrat",children:"Fórmulas Clave"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"XP Base"})," = (Tesoro en Piezas de Plata) + (Dado de Golpe Más Alto del Enemigo × 100) + (XP Adicional por Monstruos) + (Bonificaciones de XP Misceláneas)"]}),s.jsxs("li",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Relación de Desafío"})," = Mínimo [(Dado de Golpe Más Alto / Nivel del Personaje), 1]"]}),s.jsxs("li",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"XP de Grupo Ajustada"})," = XP Base × Relación de Desafío"]}),s.jsxs("li",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"XP Individual"})," = (XP de Grupo Ajustada / Número de Miembros del Grupo) × (1 + Porcentaje de Bonificación de XP / 100) (Resultado redondeado a dos decimales para obtener la ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"XP Individual Final"}),")"]})]})]}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Subir de Nivel"}),s.jsxs("div",{className:"flex flex-col space-y-6 montserrat",children:[s.jsx("p",{children:"Al acumular suficiente XP, un personaje debe perfeccionar su conocimiento mediante un entrenamiento riguroso que fortalezca cuerpo y alma contra la decadencia del mundo. Este proceso requiere encontrar un mentor o refugio—un dojo en ruinas, la cueva de un ermitaño o un santuario olvidado—y dedicarse a un camino agotador."}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Costo del Entrenamiento:"})," El costo base es el nivel actual del personaje multiplicado por 1,500 piezas de plata por semana."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Variación por Clase:"})," Para personajes de niveles avanzados, el costo puede variar entre 1,000 y 4,000 piezas de plata por nivel por semana, dependiendo de la clase, debido a la rareza de recursos y la peligrosidad de la instrucción requerida para sus artes especializadas."]})]})]})]}),s.jsx("div",{className:"w-10/12 flex items-center justify-center mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25 p-4",src:"/assets/image/level-up.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function vJ(){const r=en(),e=()=>{r("/rules/game")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Sanación y Muerte"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 p-4",children:[s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Introducción"}),s.jsx("div",{className:"flex flex-col space-y-6 montserrat",children:s.jsx("p",{children:"En el Ojo Aristilia, donde las heridas supuran y la esperanza brilla como una tenue llama, la supervivencia es una lucha diaria contra el vacío que se cierne. La sanación y la muerte son partes inseparables de esta existencia cruel, moldeadas por la resistencia del cuerpo y las decisiones de los vivos."})}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Sanación Natural"}),s.jsx("div",{className:"flex flex-col space-y-6 montserrat",children:s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:["La recuperación natural es un proceso lento y doloroso: un personaje recupera ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"1 punto de golpe por día"})," más su modificador de Constitución (mínimo 1)."]}),s.jsxs("li",{children:["En un ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"refugio seguro"}),"—un raro bastión libre de horrores errantes, donde se permite trabajo ligero, abundan los suministros y se ofrece cuidado—, la sanación se duplica a ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"2 puntos de golpe por día"})," más el modificador de Constitución (mínimo 2), ofreciendo un frágil respiro en una tierra que reclama a los débiles."]})]})}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Muerte y Desangrado"}),s.jsx("div",{className:"flex flex-col space-y-6 montserrat",children:s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"La muerte acecha de cerca, y su umbral está definido por la resistencia del cuerpo: un personaje muere cuando sus puntos de golpe caen a un número negativo igual a su puntuación de Constitución."}),s.jsxs("li",{children:["Por debajo de ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"0 puntos de golpe"}),", el personaje comienza a desangrarse, perdiendo ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"1 punto de golpe por ronda de combate"}),". Debe realizar una ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Tirada de Salvación"})," para mantenerse consciente."]}),s.jsxs("li",{children:["Un compañero (o el propio personaje, si aún está consciente) puede atender las heridas para detener el sangrado, pausando la pérdida de puntos de golpe. Sin embargo, solo sanar y llevar al personaje por encima de ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"0 puntos de golpe"})," lo libera de la necesidad de cuidados constantes."]}),s.jsxs("li",{children:["Si un personaje cae inconsciente durante esta prueba, permanece en un estado de vulnerabilidad durante ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"1d20 Turnos de Mazmorra menos su nivel y modificador de Constitución"})," (mínimo 1), un sueño peligroso en un reino que no ofrece tregua."]})]})}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Entierro y Consecuencias"}),s.jsx("div",{className:"flex flex-col space-y-6 montserrat",children:s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:["Cuando un personaje cae, sus camaradas pueden honrarlo con un ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"entierro ceremonial"}),", permitiendo que su alma descanse en la desolación. La XP total del caído se divide equitativamente entre los miembros sobrevivientes, como un amargo legado de su lucha compartida."]}),s.jsxs("li",{children:["Sin embargo, el Ojo Aristilia castiga la profanación de la muerte. Si la ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"nigromancia"})," u otras artes prohibidas reviven a un personaje tras un entierro ceremonial, se impone una penalización severa: se resta el ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"doble de la XP previamente dividida"})," de la XP individual de cada sobreviviente."]}),s.jsx("li",{children:"Poderes superiores—sean dioses o entidades innombrables—no toleran tales transgresiones, y su ira se manifiesta como una maldición duradera sobre quienes desafían las leyes de la muerte."})]})})]}),s.jsx("div",{className:"w-10/12 flex items-center justify-center mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25 p-4",src:"/assets/image/rip.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function yJ(){const r=en(),e=()=>{r("/rules/game")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Exploración"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 p-4",children:[s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Introducción"}),s.jsx("div",{className:"flex flex-col space-y-6 montserrat",children:s.jsx("p",{children:"En Eldra'Khazan, explorar es adentrarse en el peligro, donde cada paso tienta a la muerte y cada sombra encierra una maldición. Ya sea navegando las profundidades asfixiantes de criptas antiguas o atravesando los salvajes olvidados, la supervivencia exige vigilancia, astucia y un espíritu templado contra la desesperanza. Cada expedición es una apuesta arriesgada, enfrentando a los agotados contra la malicia incesante de la tierra."})}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Exploración de Mazmorras"}),s.jsx("div",{className:"flex flex-col space-y-6 montserrat",children:s.jsxs("ul",{className:"pl-6 space-y-2",children:[s.jsxs("li",{children:["Bajo la tierra, en bóvedas derrumbadas y túneles envueltos en tinieblas, el tiempo se mide en ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Turnos de Mazmorra"}),"—breves intervalos de acción donde un grupo busca, combate o huye. Cada turno equivale a ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"10 minutos dentro del juego"})," y conlleva el riesgo de atraer a ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"monstruos errantes"}),'. Estos tienen una posibilidad de "x en 6" de aparecer, donde "x" representa el rango de valores en un d6 en los que puede aparecer. Mientras mas peligrosa es un lugar, mas posibilidades de aparecer hay. Estos horrores que se deslizan desde la oscuridad, su presencia determinada por el capricho del destino.']}),s.jsxs("li",{children:["Al encontrarlos, una ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"tirada de reacción"})," define su intención: algunos podrían negociar, otros anhelan sangre, y unos pocos huyen, temerosos del acero de los intrusos."]}),s.jsxs("li",{children:["La ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"sorpresa"})," es un enemigo mortal; los desprevenidos pueden ser emboscados por trampas o bestias al acecho, mientras que los atentos podrían invertir la ventaja, atacando primero."]}),s.jsx("li",{children:"Cada decisión—forcejear con una puerta oxidada o escuchar el roce de garras—tiene consecuencias, pues la mazmorra es una entidad viva, hambrienta por devorar a los imprudentes."})]})}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Exploración Salvaje (Hexcrawl)"}),s.jsx("div",{className:"flex flex-col space-y-6 montserrat",children:s.jsxs("ul",{className:"pl-6 space-y-2",children:[s.jsxs("li",{children:["En la superficie, la tierra cicatrizada de Eldra'Khazan se extiende bajo un cielo vacío, dividida en ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"hexágonos"})," que delimitan los confines de la supervivencia. En condiciones ideales—senderos despejados, clima apacible y sin persecución—un grupo puede atravesar un hexágono por día con pasos seguros."]}),s.jsx("li",{children:"Sin embargo, los salvajes rara vez son misericordiosos. Picos afilados, ciénagas enmarañadas o tormentas cargadas de furia sobrenatural pueden reducir el avance a un lento arrastrarse, extendiendo el viaje hasta un hexágono por semana en los peores escenarios."}),s.jsxs("li",{children:[s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Monstruos errantes"})," o colosales horrores acechan en estos yermos, su aparición dictada por el azar y su disposición influida por ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"tiradas de reacción"}),"—algunos negocian, otros atacan, y algunos huyen."]}),s.jsxs("li",{children:["La ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"sorpresa"})," persiste como amenaza constante; un grupo distraído por las trampas de la tierra puede ser sorprendido, mientras que aquellos que interpretan el viento o las huellas podrían ganar la iniciativa."]}),s.jsx("li",{children:"Lo salvaje no es solo un terreno—es un crisol que pone a prueba la resolución de quienes osan enfrentarlo."})]})})]}),s.jsx("div",{className:"w-10/12 flex items-center justify-center mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25 p-4",src:"/assets/image/explore.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function _J(){const r=en(),e=()=>{r("/rules/game")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Downtime"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 p-4",children:[s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Introducción"}),s.jsx("div",{className:"flex flex-col space-y-6 montserrat",children:s.jsx("p",{children:"En Eldra'Khazan, el tiempo de inactividad (Downtime), es un respiro donde los personajes se enfrentan a sus propios límites y ambiciones. Lejos de las mazmorras y los salvajes, este período permite a los jugadores forjar su legado, arriesgarlo todo en juegos de azar, desentrañar secretos arcanos, construir refugios contra la decadencia, entrenar para superar sus debilidades o tejer alianzas con facciones y NPCs. Cada acción es una apuesta contra el vacío, resuelta en colaboración con el Maestro del Juego (MJ), quien arbitra los resultados con un equilibrio de justicia y crueldad."})}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Actividades de Downtime"}),s.jsxs("div",{className:"flex flex-col space-y-6 montserrat",children:[s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Juego de Azar:"})," Los jugadores pueden probar su suerte en tabernas ruinosas o mercados clandestinos, apostando piezas de plata en dados cargados o cartas marcadas. El MJ determina el riesgo y la recompensa. El éxito duplica las apuestas, pero un fallo crítico (96-100) puede llevar a deudas o enemistades."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Investigación de Magia:"})," Los magos pueden sumergirse en grimorios polvorientos o consultar a sabios olvidados, buscando hechizos perdidos."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Construcción:"})," Edificar un refugio, fortaleza o taller demanda materiales y mano de obra."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Entrenamiento:"})," Para subir de nivel o aprender nuevas competencias, los personajes buscan mentores en gremios, en ruinas o santuarios olvidados."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Interacción con Facciones y NPCs:"})," Alianzas o rivalidades se forjan mediante trueques, intimidación o diplomacia. El éxito fortalece lazos, pero un fallo puede desencadenar traiciones o emboscadas."]})]}),s.jsx("p",{className:"text-center text-xs italic",children:"Estas son algunos ejemplos de actividades, a manera ilustrativa."})]}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Resolución con el Maestro del Juego"}),s.jsx("div",{className:"flex flex-col space-y-6 montserrat",children:s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:["Los jugadores presentan sus intenciones al MJ, detallando recursos, tiempo y riesgos asumidos. El MJ establece las tiradas necesarias (generalmente ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"d100%"})," para competencias o ",s.jsx("span",{className:"text-yellow-600 text-bold underline underline-offset-4",children:"Target20"})," para desafíos físicos), ajustando las dificultades según el contexto—por ejemplo, +10% por equipo bien mantenido o -15% por condiciones adversas."]}),s.jsx("li",{children:"Cada actividad requiere un número de éxitos (definido por la dificultad) en un período de tiempo acordado, con fallos parciales que pueden retrasar el progreso o atraer complicaciones."}),s.jsx("li",{children:"El MJ narra los resultados, integrando el azar y la narrativa: un éxito en investigación podría revelar un hechizo pero alertar a un rival, mientras que un fallo en construcción podría debilitar la estructura, invitando a enemigos."})]})})]}),s.jsx("div",{className:"w-10/12 flex items-center justify-center mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-25 p-4",src:"/assets/image/downtime.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function SJ(){const r=en(),e=()=>{r("/rules/magic/astral")},t=()=>{r("/rules/magic/natural")},n=()=>{r("/rules/magic/voice-form")},i=()=>{r("/rules")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Magia"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 text-center",children:[s.jsx("div",{className:"garamond text-md md:text-xl mt-4 p-4",children:s.jsx("p",{children:"La magia en Eldra'Kazhan es una fuerza poderosa y misteriosa, que puede ser utilizada para alterar la realidad, invocar criaturas y manipular el entorno. Existen diferentes tipos de magia, y los hechizos pueden variar en complejidad y efecto. Explora las distintas doctrinas de magia iniciales y descubre cómo pueden enriquecer tu experiencia de juego."})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 place-items-center gap-8",children:[s.jsx("div",{onClick:e,className:"w-50 h-50 md:h-100 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-3xl",children:"Astral"})}),s.jsx("div",{onClick:t,className:"w-50 h-50 md:h-100 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-3xl",children:"Natural"})}),s.jsx("div",{onClick:n,className:"w-50 h-50 md:h-100 border-transparent hover:border-white border-1 rounded-xl m-4 flex justify-center items-center cursor-pointer hover:shadow-lg hover:shadow-gray-700",children:s.jsx("h2",{className:"cinzel text-xl md:text-3xl",children:"Voz & Forma"})})]}),s.jsx("div",{className:"p-4 italic font-thin text-sm",children:s.jsx("p",{children:"Si deseas crear un nuevo hechizo o modificar uno existente, puedes hablar con el DM para discutir su inclusión. La magia puede ser una herramienta poderosa, pero también conlleva riesgos y consecuencias. Es importante considerar cómo cada hechizo se integra en la narrativa de tu personaje y la historia del juego."})})]}),s.jsx("div",{onClick:i,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function wJ(){const r=en(),e=()=>{r("/rules/magic")},t=()=>{r("/rules/magic/astral/spells")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Magia Astral"}),s.jsxs("main",{className:"space-y-8 w-10/12 flex flex-col items-center justify-center text-left mx-auto border-1 rounded-2xl p-2 mt-4",children:[s.jsxs("div",{className:"space-y-2 p-2 w-full",children:[s.jsx("h2",{className:"text-xl md:text-3xl",children:"Introduccion"}),s.jsx("p",{children:"La Magia Astral se origina en el poder oculto que reside entre las estrellas, un vasto y enigmático reservorio de energía cósmica que se manifiesta a través de las constelaciones. Estas formaciones celestiales emanan tres doctrinas fundamentales: la magia blanca, que canaliza fuerzas purificadoras y armónicas para la sanación y el equilibrio; la magia negra, que extrae energías destructivas y caóticas para invocar maldiciones o dominación; y la magia gris, que representa un equilibrio precario entre ambas, permitiendo manipulaciones sutiles de la realidad con consecuencias impredecibles. Para dominar esta disciplina, el practicante debe emprender un estudio meticuloso de los astros y cuerpos celestes, analizando sus trayectorias orbitales, comportamientos cíclicos, relaciones interplanetarias, y sus significados esotéricos, filosóficos y nomotéticos, que revelan leyes universales subyacentes a la existencia."}),s.jsx("p",{children:"Además, la representación escrita de estos elementos  mediante diagramas astrológicos, grimorios estelares y símbolos rúnicos derivados de las alineaciones cósmica; constituye una escuela esencial de conocimiento, ya que sirve como puente para invocar y estabilizar el flujo de poder astral. Sin embargo, no basta con el erudición académica; el adepto debe poseer una inclinación innata hacia esta magia, ya sea por herencia de nacimiento, marcada por alineaciones estelares favorables en su horóscopo natal, o adquirida a través de caminos nefastos, como pactos con entidades interestelares o exposiciones a radiaciones cósmicas prohibidas, que a menudo conllevan riesgos de corrupción espiritual o desequilibrio mental."})]}),s.jsxs("div",{className:"space-y-2 p-2 w-full",children:[s.jsx("h2",{className:"text-xl md:text-3xl",children:"Practicantes"}),s.jsx("p",{children:"La práctica de la magia astral está restringida exclusivamente a la clase de Usuario de Magia, una designación que confiere a sus miembros la capacidad única de canalizar las energías cósmicas derivadas de las estrellas y constelaciones. Un personaje puede acceder a esta clase desde su creación inicial, lo que implica una afinidad inherente con los misterios astrales, posiblemente determinada por factores astrológicos en su concepción o linaje natal. Alternativamente, es posible multiclasear hacia esta disciplina mediante métodos turbios y a menudo peligrosos, que alteran la esencia del individuo de manera irreversible; ejemplos incluyen el consumo ritual del corazón de un elfo o de un ser con Linaje Dracónico, la forja de pactos con entidades interestelares que exigen lealtades absolutas, la exposición deliberada a radiaciones cósmicas que provocan mutaciones impredecibles, o la imposición de maldiciones que vinculan el alma al vacío estelar. Estos caminos, aunque efectivos para desbloquear el potencial astral, conllevan riesgos significativos, tales como corrupción espiritual, inestabilidad mental o repercusiones kármicas, y deben manejarse con extrema precaución en el diseño narrativo del personaje."})]}),s.jsxs("div",{className:"space-y-2 p-2 w-full",children:[s.jsx("h2",{className:"text-xl md:text-3xl",children:"Caracteristicas"}),s.jsxs("ul",{className:"list-disc list-inside",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Tipo de Canalizacion:"})," Espacios de hechizo (determinados por nivel en la clase)."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Repertorio de Hechizos:"})," Variable. Depende de los Hechizos que el Usuario de Magia conozca y haya preparado/memorizado."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Fase de Liberacion:"})," Fase de Hechizos."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Salvada:"})," Solo PJs y PNJ importantes."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Sobrecarga:"})," Lanzar d20 adicional a la salvada de cada objetivo que se desee (incluso la propia si la lanzada es para mantener concentracion en el hechizo). Si el resultado obtenido se prefiere, puede ser elegido por el PJ. En caso de ser elegido, uno de los siguientes efectos sucede (d6):",s.jsxs("ul",{className:"ml-5 md:ml-10",children:[s.jsx("li",{children:"- (1-2) Voces Imposible : El Hechicero oye 1d6 voces por Espacio de Hechizo gastado en cacofonia ininteligible, provocandole una fuerte jaqueca. Notificar el resultado total de la lanzada de d6's al DJ."}),s.jsx("li",{children:"- (3-4) Marca Corrupta : Poco a poco el cuerpo del Hechicero se ira degradando conforme mas se exponga a la Sobrecarga."}),s.jsx("li",{children:"- (5-6) Aberracion Estelar: Existe una infima posibilidad (%5) de llamar la atencion de alguna Aberracion Estelar."})]})]})]})]}),s.jsx("div",{className:"mb-8",children:s.jsx("a",{onClick:t,href:"/rules/magic/astral/spells",className:"bg-purple-700 hover:bg-purple-500 border-white border-1 p-4 rounded-full cursor-pointer",children:s.jsx("button",{className:"cursor-pointer",children:"Ver Hechizos"})})})]})]}),s.jsx("div",{className:"w-2/3 md:w-2/5 mt-4 flex justify-center items-center",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/astral-magic.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function EJ(){const r=en(),e=()=>{r("/rules/magic/astral")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Magia Astral: Hechizos"}),s.jsxs("main",{className:"space-y-8 w-10/12 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:[s.jsxs("div",{className:"text-left w-full p-2 space-y-4",children:[s.jsx("h2",{className:"montserrat text-xl md:text-4xl",children:"Estructura de los Hechizos"}),s.jsxs("ul",{className:"list-decimal list-inside space-y-8",children:[s.jsxs("li",{className:"montserrat",children:["Nombre del Hechizo",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Protection from Evil"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Proposito:"}),"  Identifica el hechizo con su nombre canónico, derivado de las fuentes de Advanced Dungeons & Dragons (AD&D) 1ª o 2ª Edición (por ejemplo, Player’s Handbook, Tome of Magic). El nombre proporciona una etiqueta clara y reconocible que refleja la función principal o el tema del hechizo (por ejemplo, protección, daño, ilusión). Sirve como referencia principal para que los jugadores y el MJ seleccionen o discutan hechizos."]})]})]}),s.jsxs("li",{className:"montserrat",children:["Nivel",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10 ",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Nivel: 1"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Proposito:"})," Indica el nivel de poder del hechizo, determinando el nivel mínimo que un lanzador debe tener para aprenderlo o lanzarlo, así como su complejidad y costo de recursos. En AD&D y sistemas OSR, los niveles de hechizo suelen variar de 1 a 9, siendo los niveles bajos accesibles para lanzadores novatos y los altos reservados para practicantes avanzados. Para Protection from Evil, el Nivel 1 indica que es un hechizo básico adecuado para lanzadores principiantes."]})]})]}),s.jsxs("li",{className:"montserrat",children:["Escuela",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10 ",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Escuela: Abjuración"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Proposito:"})," Especifica la categoría mágica del hechizo, basada en las escuelas de magia de AD&D (por ejemplo, Abjuración, Evocación, Ilusión, Nigromancia, Alteración, Conjuración, Encantamiento, Adivinación). La escuela indica el enfoque mecánico y temático del hechizo: Abjuración para Protection from Evil denota efectos protectores o de rechazo. Esto ayuda a los jugadores a comprender el rol del hechizo dentro del marco mágico y su interacción con otras mecánicas del juego (por ejemplo, resistencia a hechizos, contrahechizos)."]})]})]}),s.jsxs("li",{className:"montserrat",children:["Duración",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10 ",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Duración: 2 turnos/nivel"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Proposito:"}),' Define cuánto tiempo persiste el efecto del hechizo una vez lanzado. Las duraciones pueden ser instantáneas (efecto inmediato sin persistencia), de tiempo fijo (por ejemplo, 1 hora), o escalables según el nivel del lanzador (por ejemplo, 2 turnos por nivel, como en Protection from Evil). En AD&D/OSR, una "ronda" equivale a 1 minuto y un “turno” equivale típicamente a 10 minutos, por lo que este hechizo dura 20 minutos en el Nivel 1, aumentando con el nivel del lanzador. Este componente es crucial para la planificación táctica y la gestión de recursos.']})]})]}),s.jsxs("li",{className:"montserrat",children:["Rango",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10 ",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Rango: Toque"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Proposito:"})," Especifica la distancia a la que se puede lanzar el hechizo o aplicar su efecto. Los rangos comunes incluyen “Toque” (requiere contacto físico), una distancia fija (por ejemplo, 60 yardas), o una distancia escalable (por ejemplo, 10 yardas/nivel). Para Protection from Evil, “Toque” indica que el lanzador debe tocar al objetivo (aliado o a sí mismo) para aplicar el efecto. Este componente define el uso táctico del hechizo y los requisitos de posicionamiento."]})]})]}),s.jsxs("li",{className:"montserrat",children:["Requisito",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10 ",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Requisito: Cielo nocturno"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Proposito:"})," Introduce una condición específica del sistema para lanzar el hechizo potenciado, exclusiva del marco de Magia Astral. Refleja la necesidad de un catalizador celeste o ambiental, como un cielo nocturno despejado, una constelación específica o una alineación planetaria. Para Protection from Evil, el requisito de un cielo nocturno despejado vincula el hechizo al tema cósmico de la Magia Astral, destacando la dependencia del lanzador de las energías estelares."]})]})]}),s.jsxs("li",{className:"montserrat",children:["Descripción",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10 ",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Crea una barrera que otorga +2 a CA y salvaciones contra criaturas malignas"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Proposito:"})," Proporciona un resumen conciso del efecto del hechizo, detallando su impacto mecánico y su rol narrativo. Para Protection from Evil, la descripción indica una barrera protectora que mejora la Clase de Armadura (CA) en +2 y otorga un bono de +2 a las tiradas de salvación contra ataques o efectos de criaturas de alineación maligna. Este componente asegura que los jugadores y el MJ comprendan la aplicación práctica y las limitaciones del hechizo."]})]})]})]}),s.jsx("div",{className:"w-1/2 border-1 border-dashed border-white p-2 rounded-2xl mx-auto mt-8",children:s.jsxs("div",{className:"p-2",children:[s.jsx("h3",{className:"text-md text-left mb-4",children:"Resumen de Composicion de Hechizos:"}),s.jsx("p",{className:"text-sm",children:"Nombre del Hechizo (Nivel: X, Escuela: Y, Duración: Z, Rango: W, Requisito: V)"}),s.jsx("p",{className:"text-xs",children:"Descripción del hechizo y sus efecto."})]})})]}),s.jsx("iframe",{src:"/assets/pdfs/astral_magic_spells.pdf",className:"w-full h-[80vh] md:h-[90vh] border-2 border-gray-300 rounded-2xl p-2",title:"Astral Magic Spells PDF"})]})]}),s.jsx("div",{className:"w-2/3 md:w-2/5 mt-4 flex justify-center items-center",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/astral-magic.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function NJ(){const r=en(),e=()=>{r("/rules/magic/")},t=()=>{r("/rules/magic/natural/spells")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Magia Natural"}),s.jsxs("main",{className:"space-y-8 w-10/12 flex flex-col items-center justify-center text-left mx-auto border-1 rounded-2xl p-2 mt-4",children:[s.jsxs("div",{className:"space-y-2 p-2 w-full",children:[s.jsx("h2",{className:"text-xl md:text-3xl",children:"Introduccion"}),s.jsx("p",{children:"La Magia Natural se deriva de la comunión profunda con los espíritus inherentes a la naturaleza, un vasto entramado de energías vitales que permea el mundo físico y sus elementos fundamentales. A diferencia de la Magia Astral, que se ancla en los misterios cósmicos y requiere una afinidad innata o transformaciones extremas, esta disciplina es accesible mediante el estudio dedicado y la armonización personal con el entorno natural, sin barreras arbitrarias o prohibiciones inherentes. Los practicantes aprenden a sintonizar con espíritus elementales (como los guardianes de ríos, bosques o vientos) a través de rituales, meditaciones y observaciones prolongadas, lo que les permite canalizar mana, la esencia vital del mundo, para manipular elementos como el fuego, el agua, la tierra y el aire, o conceptos afines tales como el crecimiento vegetal, la curación orgánica o el equilibrio ecológico. Este enfoque enfatiza la reciprocidad: el mago no solo extrae poder, sino que debe nutrir y respetar los espíritus para evitar repercusiones como desequilibrios ambientales o rechazos espirituales, promoviendo un camino de integración armónica con el ciclo natural de la existencia."})]}),s.jsxs("div",{className:"space-y-2 p-2 w-full",children:[s.jsx("h2",{className:"text-xl md:text-3xl",children:"Practicantes"}),s.jsx("p",{children:"Los practicantes de la Magia Natural no están limitados a una clase específica, ya que esta disciplina puede ser adoptada por cualquier personaje que invierta tiempo y esfuerzo en su aprendizaje, independientemente de su origen, linaje o alineación previa. El proceso comienza con el desarrollo de la competencia en Magia Natural, adquirida mediante entrenamiento estructurado (como el estudio de herbología, la realización de rituales estacionales o la guia bajo un druida o chaman experimentado) que fomenta una comunión genuina con los espíritus sin restricciones arbitrarias o prohibiciones inherentes. Una vez versados en esta escuela, pueden utilizar su afinidad para canalizar mana y manipular elementos o conceptos relacionados, tales como invocar lluvias para fertilizar tierras o calmar bestias salvajes. Esta accesibilidad universal resalta el énfasis en la dedicación personal y el respeto mutuo, aunque conlleva riesgos como la fatiga espiritual por sobreexplotación o conflictos con espíritus guardianes si se viola el equilibrio natural, lo que exige una práctica ética y sostenible para mantener la efectividad a largo plazo."})]}),s.jsxs("div",{className:"space-y-2 p-2 w-full",children:[s.jsx("h2",{className:"text-xl md:text-3xl",children:"Caracteristicas"}),s.jsxs("ul",{className:"list-disc list-inside",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Tipo de Canalizacion:"})," Concentracion de Mana"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Repertorio de Hechizos:"})," Total (se declara un efecto que se desee, el PJ o DJ busca un hechizo natural que se adecue y resuelve). Con bonificaciones adicionales si se tiene la bendicion con los espiritus afines."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Fase de Liberacion:"})," Fase en la que se haya completado la junta de mana y se haya tenido exito en la lanzada de competencia."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Salvada:"})," Solo PJs y PNJ importantes."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Sobrecarga:"})," Lanzar d6's adicionales para la Concentracion de Mana, o inventir el resultado de la lanzada de competencia (91 se convierte en 19). Si el resultado obtenido se prefiere, puede ser elegido por el PJ. En caso de ser elegido, uno de los siguientes efectos sucede:",s.jsxs("ul",{className:"ml-5 md:ml-10",children:[s.jsx("li",{children:"- (1-2) Profanacion Anti-Natural: El Hechicero corrompe la naturaleza que lo rodea, 1 pie por cada punto de mana requerido para el hechizo lanzado. Esta tierra queda infertil e inerte de manera permanente e incorregible; el agua contaminada; los seres vivos enferman, etc."}),s.jsx("li",{children:"- (3-4) Profanacion Espiritual: El Hechicero no podra canalizar nuevamente ese encantamiento, o ninguno similar pues ha enojado a los espiritus y debe hacer penitencia antes de que se le permita aprovecharse de su mana nuevamente."}),s.jsx("li",{children:"- (5-6) Monstruosidad Elemental: Existe una infima posibilidad (%5) de llamar la atencion de alguna Monstruosidad Elemental."})]})]})]})]}),s.jsx("div",{className:"mb-8",children:s.jsx("a",{onClick:t,href:"/rules/magic/natural/spells",className:"bg-emerald-700 hover:bg-emerald-500 border-white border-1 p-4 rounded-full cursor-pointer",children:s.jsx("button",{className:"cursor-pointer",children:"Ver Hechizos"})})})]})]}),s.jsx("div",{className:"w-2/3 md:w-2/5 mt-4 flex justify-center items-center",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/natural-magic.png",alt:""})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function TJ(){const r=en(),e=()=>{r("/rules/magic/natural")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Magia Natural: Hechizos"}),s.jsxs("main",{className:"space-y-8 w-10/12 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:[s.jsxs("div",{className:"text-left w-full p-2 space-y-4",children:[s.jsx("h2",{className:"montserrat text-xl md:text-4xl",children:"Estructura de los Hechizos"}),s.jsxs("ul",{className:"list-decimal list-inside space-y-8",children:[s.jsxs("li",{className:"montserrat",children:["Nombre del Hechizo",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Entangle"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Propósito:"})," Identifica el hechizo con su nombre canónico, derivado de las fuentes de Advanced Dungeons & Dragons (AD&D) 1ª o 2ª Edición (por ejemplo, Player’s Handbook, Tome of Magic). El nombre proporciona una etiqueta clara y reconocible que refleja la función principal o el tema del hechizo (por ejemplo, control de plantas, invocación de animales, manipulación elemental). Sirve como referencia principal para que los jugadores y el MJ seleccionen o discutan hechizos."]})]})]}),s.jsxs("li",{className:"montserrat",children:["Nivel",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Nivel: 1"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Propósito:"})," Indica el nivel de poder del hechizo, determinando el nivel mínimo que un lanzador debe tener para aprenderlo o lanzarlo, así como su complejidad y costo de recursos. En AD&D y sistemas OSR, los niveles de hechizo suelen variar de 1 a 9, siendo los niveles bajos accesibles para lanzadores novatos y los altos reservados para practicantes avanzados. Para Entangle, el Nivel 1 indica que es un hechizo básico adecuado para lanzadores principiantes."]})]})]}),s.jsxs("li",{className:"montserrat",children:["Escuela",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Escuela: Alteración"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Propósito:"})," Especifica la categoría mágica del hechizo, basada en las escuelas de magia de AD&D (por ejemplo, Abjuración, Evocación, Ilusión, Nigromancia, Alteración, Conjuración, Encantamiento, Adivinación). La escuela indica el enfoque mecánico y temático del hechizo: Alteración para Entangle denota efectos que transforman o manipulan el entorno natural. Esto ayuda a los jugadores a comprender el rol del hechizo dentro del marco mágico y su interacción con otras mecánicas del juego (por ejemplo, resistencia a hechizos, contrahechizos)."]})]})]}),s.jsxs("li",{className:"montserrat",children:["Duración",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Duración: 1 turno"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Propósito:"}),' Define cuánto tiempo persiste el efecto del hechizo una vez lanzado. Las duraciones pueden ser instantáneas (efecto inmediato sin persistencia), de tiempo fijo (por ejemplo, 1 hora), o escalables según el nivel del lanzador (por ejemplo, 1 turno por nivel). En AD&D/OSR, una "ronda" equivale a 1 minuto y un “turno” equivale típicamente a 10 minutos, por lo que Entangle dura 10 minutos. Este componente es crucial para la planificación táctica y la gestión de recursos.']})]})]}),s.jsxs("li",{className:"montserrat",children:["Rango",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Rango: 80 yardas"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Propósito:"})," Especifica la distancia a la que se puede lanzar el hechizo o aplicar su efecto. Los rangos comunes incluyen “Toque” (requiere contacto físico), una distancia fija (por ejemplo, 80 yardas, como en Entangle), o una distancia escalable (por ejemplo, 10 yardas/nivel). Para Entangle, “80 yardas” indica que el lanzador puede afectar un área a distancia considerable. Este componente define el uso táctico del hechizo y los requisitos de posicionamiento."]})]})]}),s.jsxs("li",{className:"montserrat",children:["Requisito",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Requisito: Vegetación presente"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Propósito:"})," Introduce una condición específica del sistema para lanzar el hechizo, exclusiva del marco de Magia Natural. Refleja la necesidad de un catalizador natural, como la presencia de vegetación, un cuerpo de agua, o un entorno específico (por ejemplo, un bosque o río). Para Entangle, el requisito de vegetación presente vincula el hechizo al tema de comunión con los espíritus de la naturaleza, destacando la dependencia del lanzador de elementos naturales."]})]})]}),s.jsxs("li",{className:"montserrat",children:["Descripción",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Enreda a criaturas en un área con vegetación"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Propósito:"})," Proporciona un resumen conciso del efecto del hechizo, detallando su impacto mecánico y su rol narrativo. Para Entangle, la descripción indica que la vegetación en un área se anima para atrapar criaturas, restringiendo su movimiento. Este componente asegura que los jugadores y el MJ comprendan la aplicación práctica y las limitaciones del hechizo."]})]})]})]}),s.jsx("div",{className:"w-1/2 border-1 border-dashed border-white p-2 rounded-2xl mx-auto mt-8",children:s.jsxs("div",{className:"p-2",children:[s.jsx("h3",{className:"text-md text-left mb-4",children:"Resumen de Composición de Hechizos:"}),s.jsx("p",{className:"text-sm",children:"Nombre del Hechizo (Nivel: X, Escuela: Y, Duración: Z, Rango: W, Requisito: V)"}),s.jsx("p",{className:"text-xs",children:"Descripción del hechizo y sus efectos."})]})})]}),s.jsx("iframe",{src:"/assets/pdfs/natural_magic_spells.pdf",className:"w-full h-[80vh] md:h-[90vh] border-2 border-gray-300 rounded-2xl p-2",title:"Natural Magic Spells PDF"})]})]}),s.jsx("div",{className:"w-2/3 md:w-2/5 mt-4 flex justify-center items-center",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/natural-magic.png",alt:"Natural Magic Illustration"})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function MJ(){const r=en(),e=()=>{r("/rules/magic/voice-form/spells")},t=()=>{r("/rules/magic")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Magia de Voz & Forma"}),s.jsxs("main",{className:"space-y-8 w-10/12 flex flex-col items-center justify-center text-left mx-auto border-1 rounded-2xl p-2 mt-4",children:[s.jsxs("div",{className:"space-y-2 p-2 w-full",children:[s.jsx("h2",{className:"text-xl md:text-3xl",children:"Introduccion"}),s.jsx("p",{children:'La Magia de Voz & Forma representa una disciplina arcana accesible y pragmática, centrada en la manipulación de la realidad mediante la combinación precisa de inscripciones rúnicas denominadas "Formas" y comandos verbales conocidos como "Voz". A diferencia de la Magia Natural, que se basa en la comunión con espíritus elementales, o la Magia Astral, que extrae poder de constelaciones cósmicas, esta magia es inherentemente limitada por principios químicos y físicos, requiriendo que todos los efectos sean factibles dentro de las leyes naturales del mundo y dependan de catalizadores disponibles en el entorno inmediato del practicante.'}),s.jsx("p",{children:"El proceso implica inscribir una o más Formas —símbolos rúnicos que representan conceptos como 'Fuego', 'Flecha' o 'Recibir'— en objetos o superficies, seguidas de la activación mediante una o más Voz —palabras de comando como 'Iniciar' o 'Transferir'— para generar resultados versátiles, tales como encender una flecha con Forma 'Fuego' y Voz 'Iniciar', siempre que exista un material inflamable accesible; en ausencia de ello, se podría transferir fuego desde un objeto ignífugo inscripto con Formas 'Flecha' y 'Fuego', y Voz 'Transferir' e 'Iniciar', mientras la flecha porta Forma 'Recibir' y Voz 'Fuego'. Esta restricción asegura que la magia no trascienda lo posible, fomentando la creatividad estratégica y la preparación ambiental, aunque su versatilidad en aplicaciones cotidianas la hace ideal para escenarios de resolución de problemas o combates tácticos."})]}),s.jsxs("div",{className:"space-y-2 p-2 w-full",children:[s.jsx("h2",{className:"text-xl md:text-3xl",children:"Practicantes"}),s.jsx("p",{children:"Los practicantes de la Magia de Voz & Forma no están confinados a una clase específica, ya que esta disciplina puede ser aprendida por cualquier personaje mediante dedicación sistemática, similar a la Magia Natural, sin prohibiciones inherentes o requisitos innatos que limiten su accesibilidad. El aprendizaje implica el dominio de competencias relacionadas, como el conocimiento de runas y verbos, adquirido a través de estudio teórico, práctica repetida en entornos controlados o tutoría bajo un maestro versado, permitiendo la integración en clases existentes. Una vez competentes, los individuos pueden inscribir Formas y activar Voz para efectos limitados a lo químicamente o físicamente viable, utilizando catalizadores al alcance —por ejemplo, requerir proximidad a una fuente de ignición para un efecto de fuego— lo que enfatiza la importancia de la observación ambiental y la improvisación. Aunque su limitación inherente reduce el potencial para hazañas sobrenaturales, esta magia recompensa la precisión y la preparación."})]}),s.jsxs("div",{className:"space-y-2 p-2 w-full",children:[s.jsx("h2",{className:"text-xl md:text-3xl",children:"Caracteristicas"}),s.jsxs("ul",{className:"list-disc list-inside",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Tipo de Canalizacion:"})," Escritura y enunciacion"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Repertorio de Hechizos:"})," Restringido a fenomenos posibles fisica y/o quimicamente."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Fase de Liberacion:"})," Cualquier inscripcion de Forma puede liberarse con enunciar la palabra de Voz que se le asigno. La Voz pueden ser una o mas palabras clave, y la Forma uno o mas efectos posibles fisica y/o quimicamente."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Salvada:"})," Solo PJs y PNJ importantes."]})]})]}),s.jsx("div",{className:"mb-8",children:s.jsx("a",{onClick:e,href:"/rules/magic/voice-form/spells",className:"bg-emerald-700 hover:bg-emerald-500 border-white border-1 p-4 rounded-full cursor-pointer",children:s.jsx("button",{className:"cursor-pointer",children:"Ver Hechizos"})})})]})]}),s.jsx("div",{className:"w-2/3 md:w-2/5 mt-4 flex justify-center items-center",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/voice-form.png",alt:""})}),s.jsx("div",{onClick:t,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function jJ(){const r=en(),e=()=>{r("/rules/magic/voice-form")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsxs("div",{className:"top-0 mx-auto mt-4 text-center",children:[s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Magia de Voz y Forma: Tablas y Ejemplos"}),s.jsxs("main",{className:"space-y-8 w-10/12 flex flex-col items-center justify-center mx-auto border-1 rounded-2xl p-2 mt-4",children:[s.jsxs("div",{className:"text-left w-full p-2 space-y-4",children:[s.jsx("h2",{className:"montserrat text-xl md:text-4xl",children:"Estructura de las Tablas de Voz y Forma"}),s.jsxs("ul",{className:"list-decimal list-inside space-y-8",children:[s.jsxs("li",{className:"montserrat",children:["Voz",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Ignite"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Propósito:"})," Representa un verbo que define la acción mágica a realizar, como encender, mover, transformar o apagar. Cada Voz especifica un proceso físico o químico (por ejemplo, combustión, desplazamiento) que se activa al pronunciarla, siempre limitado a lo posible dentro de las leyes naturales. La tabla de Voz enumera el término, su descripción (qué acción realiza) y el catalizador requerido (por ejemplo, material inflamable para Ignite), asegurando que los jugadores comprendan cómo iniciar un efecto mágico."]})]})]}),s.jsxs("li",{className:"montserrat",children:["Forma",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Fire"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Propósito:"})," Representa un sustantivo o adjetivo que define el objetivo o la naturaleza del efecto, como un material (fuego, agua, metal) o una cualidad (rápido, duro). La Forma se inscribe como una runa en un objeto o superficie, determinando qué se afecta o manipula. La tabla de Formas detalla el término, su descripción (qué representa) y el catalizador requerido (por ejemplo, material inflamable para Fire), proporcionando claridad sobre los elementos necesarios para el efecto."]})]})]}),s.jsxs("li",{className:"montserrat",children:["Catalizador Requerido",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Material inflamable (madera, aceite)"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Propósito:"})," Especifica el componente ambiental o material necesario para que la combinación de Voz y Forma funcione, asegurando que el efecto sea físicamente o químicamente posible. Por ejemplo, para Ignite + Fire, se requiere un material inflamable como madera o aceite. Este componente refuerza la dependencia de la Magia de Voz y Forma en el entorno, fomentando la preparación estratégica y la interacción con el escenario."]})]})]}),s.jsxs("li",{className:"montserrat",children:["Combinación de Voz y Forma",s.jsxs("ul",{className:"text-sm list-disc space-y-2 list-inside ml:5 md:ml-10",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Ejemplo:"})," Ignite + Fire"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:"Propósito:"})," Describe cómo la Voz y la Forma se combinan para producir un efecto específico. La Voz determina la acción (por ejemplo, encender), mientras que la Forma especifica el objetivo o cualidad (por ejemplo, fuego). Juntas, crean efectos como encender una flecha (Ignite + Fire) o mover una piedra (Move + Stone), siempre limitados por las leyes físicas/químicas y la presencia de catalizadores. Los ejemplos ilustran aplicaciones prácticas, incluyendo mecánicas como daño, duración o tiradas de salvación."]})]})]})]}),s.jsx("div",{className:"w-1/2 border-1 border-dashed border-white p-2 rounded-2xl mx-auto mt-8",children:s.jsxs("div",{className:"p-2",children:[s.jsx("h3",{className:"text-md text-left mb-4",children:"Resumen de Composición de Efectos:"}),s.jsx("p",{className:"text-sm",children:"Voz + Forma (Catalizador Requerido: X)"}),s.jsx("p",{className:"text-xs",children:"Descripción del efecto y sus mecánicas."})]})})]}),s.jsx("iframe",{src:"/assets/pdfs/voice_form_magic.pdf",className:"w-full h-[80vh] md:h-[90vh] border-2 border-gray-300 rounded-2xl p-2",title:"Voice and Form Magic PDF"})]})]}),s.jsx("div",{className:"w-2/3 md:w-2/5 mt-4 flex justify-center items-center",children:s.jsx("img",{className:"rounded-2xl opacity-25",src:"/assets/image/voice-form.png",alt:"Voice and Form Magic Illustration"})}),s.jsx("div",{onClick:e,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})}function AJ(){return s.jsx("div",{children:"RulesMagicArchive"})}var d1={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var CJ=d1.exports,o4;function RJ(){return o4||(o4=1,(function(r,e){(function(n,i){r.exports=i()})(typeof self<"u"?self:CJ,function(){return(function(t){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=n,i.d=function(a,o,c){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:c})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=109)})([(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),o=i(18),c=i(19),d=i(45),f=i(46),g=i(47),b=i(48),v=i(49),y=i(12),w=i(32),T=i(33),N=i(31),_=i(1),j={Scope:_.Scope,create:_.create,find:_.find,query:_.query,register:_.register,Container:a.default,Format:o.default,Leaf:c.default,Embed:b.default,Scroll:d.default,Block:g.default,Inline:f.default,Text:v.default,Attributor:{Attribute:y.default,Class:w.default,Style:T.default,Store:N.default}};n.default=j}),(function(t,n,i){var a=this&&this.__extends||(function(){var N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,j){_.__proto__=j}||function(_,j){for(var C in j)j.hasOwnProperty(C)&&(_[C]=j[C])};return function(_,j){N(_,j);function C(){this.constructor=_}_.prototype=j===null?Object.create(j):(C.prototype=j.prototype,new C)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=(function(N){a(_,N);function _(j){var C=this;return j="[Parchment] "+j,C=N.call(this,j)||this,C.message=j,C.name=C.constructor.name,C}return _})(Error);n.ParchmentError=o;var c={},d={},f={},g={};n.DATA_KEY="__blot";var b;(function(N){N[N.TYPE=3]="TYPE",N[N.LEVEL=12]="LEVEL",N[N.ATTRIBUTE=13]="ATTRIBUTE",N[N.BLOT=14]="BLOT",N[N.INLINE=7]="INLINE",N[N.BLOCK=11]="BLOCK",N[N.BLOCK_BLOT=10]="BLOCK_BLOT",N[N.INLINE_BLOT=6]="INLINE_BLOT",N[N.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",N[N.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",N[N.ANY=15]="ANY"})(b=n.Scope||(n.Scope={}));function v(N,_){var j=w(N);if(j==null)throw new o("Unable to create "+N+" blot");var C=j,A=N instanceof Node||N.nodeType===Node.TEXT_NODE?N:C.create(_);return new C(A,_)}n.create=v;function y(N,_){return _===void 0&&(_=!1),N==null?null:N[n.DATA_KEY]!=null?N[n.DATA_KEY].blot:_?y(N.parentNode,_):null}n.find=y;function w(N,_){_===void 0&&(_=b.ANY);var j;if(typeof N=="string")j=g[N]||c[N];else if(N instanceof Text||N.nodeType===Node.TEXT_NODE)j=g.text;else if(typeof N=="number")N&b.LEVEL&b.BLOCK?j=g.block:N&b.LEVEL&b.INLINE&&(j=g.inline);else if(N instanceof HTMLElement){var C=(N.getAttribute("class")||"").split(/\s+/);for(var A in C)if(j=d[C[A]],j)break;j=j||f[N.tagName]}return j==null?null:_&b.LEVEL&j.scope&&_&b.TYPE&j.scope?j:null}n.query=w;function T(){for(var N=[],_=0;_<arguments.length;_++)N[_]=arguments[_];if(N.length>1)return N.map(function(A){return T(A)});var j=N[0];if(typeof j.blotName!="string"&&typeof j.attrName!="string")throw new o("Invalid definition");if(j.blotName==="abstract")throw new o("Cannot register abstract class");if(g[j.blotName||j.attrName]=j,typeof j.keyName=="string")c[j.keyName]=j;else if(j.className!=null&&(d[j.className]=j),j.tagName!=null){Array.isArray(j.tagName)?j.tagName=j.tagName.map(function(A){return A.toUpperCase()}):j.tagName=j.tagName.toUpperCase();var C=Array.isArray(j.tagName)?j.tagName:[j.tagName];C.forEach(function(A){(f[A]==null||j.className==null)&&(f[A]=j)})}return j}n.register=T}),(function(t,n,i){var a=i(51),o=i(11),c=i(3),d=i(20),f="\0",g=function(b){Array.isArray(b)?this.ops=b:b!=null&&Array.isArray(b.ops)?this.ops=b.ops:this.ops=[]};g.prototype.insert=function(b,v){var y={};return b.length===0?this:(y.insert=b,v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(y.attributes=v),this.push(y))},g.prototype.delete=function(b){return b<=0?this:this.push({delete:b})},g.prototype.retain=function(b,v){if(b<=0)return this;var y={retain:b};return v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(y.attributes=v),this.push(y)},g.prototype.push=function(b){var v=this.ops.length,y=this.ops[v-1];if(b=c(!0,{},b),typeof y=="object"){if(typeof b.delete=="number"&&typeof y.delete=="number")return this.ops[v-1]={delete:y.delete+b.delete},this;if(typeof y.delete=="number"&&b.insert!=null&&(v-=1,y=this.ops[v-1],typeof y!="object"))return this.ops.unshift(b),this;if(o(b.attributes,y.attributes)){if(typeof b.insert=="string"&&typeof y.insert=="string")return this.ops[v-1]={insert:y.insert+b.insert},typeof b.attributes=="object"&&(this.ops[v-1].attributes=b.attributes),this;if(typeof b.retain=="number"&&typeof y.retain=="number")return this.ops[v-1]={retain:y.retain+b.retain},typeof b.attributes=="object"&&(this.ops[v-1].attributes=b.attributes),this}}return v===this.ops.length?this.ops.push(b):this.ops.splice(v,0,b),this},g.prototype.chop=function(){var b=this.ops[this.ops.length-1];return b&&b.retain&&!b.attributes&&this.ops.pop(),this},g.prototype.filter=function(b){return this.ops.filter(b)},g.prototype.forEach=function(b){this.ops.forEach(b)},g.prototype.map=function(b){return this.ops.map(b)},g.prototype.partition=function(b){var v=[],y=[];return this.forEach(function(w){var T=b(w)?v:y;T.push(w)}),[v,y]},g.prototype.reduce=function(b,v){return this.ops.reduce(b,v)},g.prototype.changeLength=function(){return this.reduce(function(b,v){return v.insert?b+d.length(v):v.delete?b-v.delete:b},0)},g.prototype.length=function(){return this.reduce(function(b,v){return b+d.length(v)},0)},g.prototype.slice=function(b,v){b=b||0,typeof v!="number"&&(v=1/0);for(var y=[],w=d.iterator(this.ops),T=0;T<v&&w.hasNext();){var N;T<b?N=w.next(b-T):(N=w.next(v-T),y.push(N)),T+=d.length(N)}return new g(y)},g.prototype.compose=function(b){var v=d.iterator(this.ops),y=d.iterator(b.ops),w=[],T=y.peek();if(T!=null&&typeof T.retain=="number"&&T.attributes==null){for(var N=T.retain;v.peekType()==="insert"&&v.peekLength()<=N;)N-=v.peekLength(),w.push(v.next());T.retain-N>0&&y.next(T.retain-N)}for(var _=new g(w);v.hasNext()||y.hasNext();)if(y.peekType()==="insert")_.push(y.next());else if(v.peekType()==="delete")_.push(v.next());else{var j=Math.min(v.peekLength(),y.peekLength()),C=v.next(j),A=y.next(j);if(typeof A.retain=="number"){var P={};typeof C.retain=="number"?P.retain=j:P.insert=C.insert;var U=d.attributes.compose(C.attributes,A.attributes,typeof C.retain=="number");if(U&&(P.attributes=U),_.push(P),!y.hasNext()&&o(_.ops[_.ops.length-1],P)){var B=new g(v.rest());return _.concat(B).chop()}}else typeof A.delete=="number"&&typeof C.retain=="number"&&_.push(A)}return _.chop()},g.prototype.concat=function(b){var v=new g(this.ops.slice());return b.ops.length>0&&(v.push(b.ops[0]),v.ops=v.ops.concat(b.ops.slice(1))),v},g.prototype.diff=function(b,v){if(this.ops===b.ops)return new g;var y=[this,b].map(function(j){return j.map(function(C){if(C.insert!=null)return typeof C.insert=="string"?C.insert:f;var A=j===b?"on":"with";throw new Error("diff() called "+A+" non-document")}).join("")}),w=new g,T=a(y[0],y[1],v),N=d.iterator(this.ops),_=d.iterator(b.ops);return T.forEach(function(j){for(var C=j[1].length;C>0;){var A=0;switch(j[0]){case a.INSERT:A=Math.min(_.peekLength(),C),w.push(_.next(A));break;case a.DELETE:A=Math.min(C,N.peekLength()),N.next(A),w.delete(A);break;case a.EQUAL:A=Math.min(N.peekLength(),_.peekLength(),C);var P=N.next(A),U=_.next(A);o(P.insert,U.insert)?w.retain(A,d.attributes.diff(P.attributes,U.attributes)):w.push(U).delete(A);break}C-=A}}),w.chop()},g.prototype.eachLine=function(b,v){v=v||`
`;for(var y=d.iterator(this.ops),w=new g,T=0;y.hasNext();){if(y.peekType()!=="insert")return;var N=y.peek(),_=d.length(N)-y.peekLength(),j=typeof N.insert=="string"?N.insert.indexOf(v,_)-_:-1;if(j<0)w.push(y.next());else if(j>0)w.push(y.next(j));else{if(b(w,y.next(1).attributes||{},T)===!1)return;T+=1,w=new g}}w.length()>0&&b(w,{},T)},g.prototype.transform=function(b,v){if(v=!!v,typeof b=="number")return this.transformPosition(b,v);for(var y=d.iterator(this.ops),w=d.iterator(b.ops),T=new g;y.hasNext()||w.hasNext();)if(y.peekType()==="insert"&&(v||w.peekType()!=="insert"))T.retain(d.length(y.next()));else if(w.peekType()==="insert")T.push(w.next());else{var N=Math.min(y.peekLength(),w.peekLength()),_=y.next(N),j=w.next(N);if(_.delete)continue;j.delete?T.push(j):T.retain(N,d.attributes.transform(_.attributes,j.attributes,v))}return T.chop()},g.prototype.transformPosition=function(b,v){v=!!v;for(var y=d.iterator(this.ops),w=0;y.hasNext()&&w<=b;){var T=y.peekLength(),N=y.peekType();if(y.next(),N==="delete"){b-=Math.min(T,b-w);continue}else N==="insert"&&(w<b||!v)&&(b+=T);w+=T}return b},t.exports=g}),(function(t,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=function(y){return typeof Array.isArray=="function"?Array.isArray(y):a.call(y)==="[object Array]"},f=function(y){if(!y||a.call(y)!=="[object Object]")return!1;var w=i.call(y,"constructor"),T=y.constructor&&y.constructor.prototype&&i.call(y.constructor.prototype,"isPrototypeOf");if(y.constructor&&!w&&!T)return!1;var N;for(N in y);return typeof N>"u"||i.call(y,N)},g=function(y,w){o&&w.name==="__proto__"?o(y,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):y[w.name]=w.newValue},b=function(y,w){if(w==="__proto__")if(i.call(y,w)){if(c)return c(y,w).value}else return;return y[w]};t.exports=function v(){var y,w,T,N,_,j,C=arguments[0],A=1,P=arguments.length,U=!1;for(typeof C=="boolean"&&(U=C,C=arguments[1]||{},A=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});A<P;++A)if(y=arguments[A],y!=null)for(w in y)T=b(C,w),N=b(y,w),C!==N&&(U&&N&&(f(N)||(_=d(N)))?(_?(_=!1,j=T&&d(T)?T:[]):j=T&&f(T)?T:{},g(C,{name:w,newValue:v(U,j,N)})):typeof N<"u"&&g(C,{name:w,newValue:N}));return C}}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=(function(){function V(X,J){for(var ee=0;ee<J.length;ee++){var te=J[ee];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(X,te.key,te)}}return function(X,J,ee){return J&&V(X.prototype,J),ee&&V(X,ee),X}})(),o=function V(X,J,ee){X===null&&(X=Function.prototype);var te=Object.getOwnPropertyDescriptor(X,J);if(te===void 0){var W=Object.getPrototypeOf(X);return W===null?void 0:V(W,J,ee)}else{if("value"in te)return te.value;var K=te.get;return K===void 0?void 0:K.call(ee)}},c=i(3),d=C(c),f=i(2),g=C(f),b=i(0),v=C(b),y=i(16),w=C(y),T=i(6),N=C(T),_=i(7),j=C(_);function C(V){return V&&V.__esModule?V:{default:V}}function A(V,X){if(!(V instanceof X))throw new TypeError("Cannot call a class as a function")}function P(V,X){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:V}function U(V,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);V.prototype=Object.create(X&&X.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(V,X):V.__proto__=X)}var B=1,F=(function(V){U(X,V);function X(){return A(this,X),P(this,(X.__proto__||Object.getPrototypeOf(X)).apply(this,arguments))}return a(X,[{key:"attach",value:function(){o(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"attach",this).call(this),this.attributes=new v.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new g.default().insert(this.value(),(0,d.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(ee,te){var W=v.default.query(ee,v.default.Scope.BLOCK_ATTRIBUTE);W!=null&&this.attributes.attribute(W,te)}},{key:"formatAt",value:function(ee,te,W,K){this.format(W,K)}},{key:"insertAt",value:function(ee,te,W){if(typeof te=="string"&&te.endsWith(`
`)){var K=v.default.create(k.blotName);this.parent.insertBefore(K,ee===0?this:this.next),K.insertAt(0,te.slice(0,-1))}else o(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"insertAt",this).call(this,ee,te,W)}}]),X})(v.default.Embed);F.scope=v.default.Scope.BLOCK_BLOT;var k=(function(V){U(X,V);function X(J){A(this,X);var ee=P(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,J));return ee.cache={},ee}return a(X,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(v.default.Leaf).reduce(function(ee,te){return te.length()===0?ee:ee.insert(te.value(),z(te))},new g.default).insert(`
`,z(this))),this.cache.delta}},{key:"deleteAt",value:function(ee,te){o(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"deleteAt",this).call(this,ee,te),this.cache={}}},{key:"formatAt",value:function(ee,te,W,K){te<=0||(v.default.query(W,v.default.Scope.BLOCK)?ee+te===this.length()&&this.format(W,K):o(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"formatAt",this).call(this,ee,Math.min(te,this.length()-ee-1),W,K),this.cache={})}},{key:"insertAt",value:function(ee,te,W){if(W!=null)return o(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"insertAt",this).call(this,ee,te,W);if(te.length!==0){var K=te.split(`
`),$=K.shift();$.length>0&&(ee<this.length()-1||this.children.tail==null?o(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"insertAt",this).call(this,Math.min(ee,this.length()-1),$):this.children.tail.insertAt(this.children.tail.length(),$),this.cache={});var oe=this;K.reduce(function(G,Y){return oe=oe.split(G,!0),oe.insertAt(0,Y),Y.length},ee+$.length)}}},{key:"insertBefore",value:function(ee,te){var W=this.children.head;o(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"insertBefore",this).call(this,ee,te),W instanceof w.default&&W.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"length",this).call(this)+B),this.cache.length}},{key:"moveChildren",value:function(ee,te){o(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"moveChildren",this).call(this,ee,te),this.cache={}}},{key:"optimize",value:function(ee){o(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"optimize",this).call(this,ee),this.cache={}}},{key:"path",value:function(ee){return o(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"path",this).call(this,ee,!0)}},{key:"removeChild",value:function(ee){o(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"removeChild",this).call(this,ee),this.cache={}}},{key:"split",value:function(ee){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(te&&(ee===0||ee>=this.length()-B)){var W=this.clone();return ee===0?(this.parent.insertBefore(W,this),this):(this.parent.insertBefore(W,this.next),W)}else{var K=o(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"split",this).call(this,ee,te);return this.cache={},K}}}]),X})(v.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[N.default,v.default.Embed,j.default];function z(V){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return V==null||(typeof V.formats=="function"&&(X=(0,d.default)(X,V.formats())),V.parent==null||V.parent.blotName=="scroll"||V.parent.statics.scope!==V.statics.scope)?X:z(V.parent,X)}n.bubbleFormats=z,n.BlockEmbed=F,n.default=k}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},o=(function(){function oe(G,Y){var ne=[],le=!0,be=!1,ce=void 0;try{for(var ie=G[Symbol.iterator](),ge;!(le=(ge=ie.next()).done)&&(ne.push(ge.value),!(Y&&ne.length===Y));le=!0);}catch(_e){be=!0,ce=_e}finally{try{!le&&ie.return&&ie.return()}finally{if(be)throw ce}}return ne}return function(G,Y){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return oe(G,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function oe(G,Y){for(var ne=0;ne<Y.length;ne++){var le=Y[ne];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(G,le.key,le)}}return function(G,Y,ne){return Y&&oe(G.prototype,Y),ne&&oe(G,ne),G}})();i(50);var d=i(2),f=z(d),g=i(14),b=z(g),v=i(8),y=z(v),w=i(9),T=z(w),N=i(0),_=z(N),j=i(15),C=z(j),A=i(3),P=z(A),U=i(10),B=z(U),F=i(34),k=z(F);function z(oe){return oe&&oe.__esModule?oe:{default:oe}}function V(oe,G,Y){return G in oe?Object.defineProperty(oe,G,{value:Y,enumerable:!0,configurable:!0,writable:!0}):oe[G]=Y,oe}function X(oe,G){if(!(oe instanceof G))throw new TypeError("Cannot call a class as a function")}var J=(0,B.default)("quill"),ee=(function(){c(oe,null,[{key:"debug",value:function(Y){Y===!0&&(Y="log"),B.default.level(Y)}},{key:"find",value:function(Y){return Y.__quill||_.default.find(Y)}},{key:"import",value:function(Y){return this.imports[Y]==null&&J.error("Cannot import "+Y+". Are you sure it was registered?"),this.imports[Y]}},{key:"register",value:function(Y,ne){var le=this,be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof Y!="string"){var ce=Y.attrName||Y.blotName;typeof ce=="string"?this.register("formats/"+ce,Y,ne):Object.keys(Y).forEach(function(ie){le.register(ie,Y[ie],ne)})}else this.imports[Y]!=null&&!be&&J.warn("Overwriting "+Y+" with",ne),this.imports[Y]=ne,(Y.startsWith("blots/")||Y.startsWith("formats/"))&&ne.blotName!=="abstract"?_.default.register(ne):Y.startsWith("modules")&&typeof ne.register=="function"&&ne.register()}}]);function oe(G){var Y=this,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(X(this,oe),this.options=te(G,ne),this.container=this.options.container,this.container==null)return J.error("Invalid Quill container",G);this.options.debug&&oe.debug(this.options.debug);var le=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y.default,this.scroll=_.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new b.default(this.scroll),this.selection=new C.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y.default.events.EDITOR_CHANGE,function(ce){ce===y.default.events.TEXT_CHANGE&&Y.root.classList.toggle("ql-blank",Y.editor.isBlank())}),this.emitter.on(y.default.events.SCROLL_UPDATE,function(ce,ie){var ge=Y.selection.lastRange,_e=ge&&ge.length===0?ge.index:void 0;W.call(Y,function(){return Y.editor.update(null,ie,_e)},ce)});var be=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+le+"<p><br></p></div>");this.setContents(be),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(oe,[{key:"addContainer",value:function(Y){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof Y=="string"){var le=Y;Y=document.createElement("div"),Y.classList.add(le)}return this.container.insertBefore(Y,ne),Y}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(Y,ne,le){var be=this,ce=K(Y,ne,le),ie=o(ce,4);return Y=ie[0],ne=ie[1],le=ie[3],W.call(this,function(){return be.editor.deleteText(Y,ne)},le,Y,-1*ne)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(Y),this.container.classList.toggle("ql-disabled",!Y)}},{key:"focus",value:function(){var Y=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=Y,this.scrollIntoView()}},{key:"format",value:function(Y,ne){var le=this,be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;return W.call(this,function(){var ce=le.getSelection(!0),ie=new f.default;if(ce==null)return ie;if(_.default.query(Y,_.default.Scope.BLOCK))ie=le.editor.formatLine(ce.index,ce.length,V({},Y,ne));else{if(ce.length===0)return le.selection.format(Y,ne),ie;ie=le.editor.formatText(ce.index,ce.length,V({},Y,ne))}return le.setSelection(ce,y.default.sources.SILENT),ie},be)}},{key:"formatLine",value:function(Y,ne,le,be,ce){var ie=this,ge=void 0,_e=K(Y,ne,le,be,ce),Te=o(_e,4);return Y=Te[0],ne=Te[1],ge=Te[2],ce=Te[3],W.call(this,function(){return ie.editor.formatLine(Y,ne,ge)},ce,Y,0)}},{key:"formatText",value:function(Y,ne,le,be,ce){var ie=this,ge=void 0,_e=K(Y,ne,le,be,ce),Te=o(_e,4);return Y=Te[0],ne=Te[1],ge=Te[2],ce=Te[3],W.call(this,function(){return ie.editor.formatText(Y,ne,ge)},ce,Y,0)}},{key:"getBounds",value:function(Y){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,le=void 0;typeof Y=="number"?le=this.selection.getBounds(Y,ne):le=this.selection.getBounds(Y.index,Y.length);var be=this.container.getBoundingClientRect();return{bottom:le.bottom-be.top,height:le.height,left:le.left-be.left,right:le.right-be.left,top:le.top-be.top,width:le.width}}},{key:"getContents",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-Y,le=K(Y,ne),be=o(le,2);return Y=be[0],ne=be[1],this.editor.getContents(Y,ne)}},{key:"getFormat",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof Y=="number"?this.editor.getFormat(Y,ne):this.editor.getFormat(Y.index,Y.length)}},{key:"getIndex",value:function(Y){return Y.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(Y){return this.scroll.leaf(Y)}},{key:"getLine",value:function(Y){return this.scroll.line(Y)}},{key:"getLines",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof Y!="number"?this.scroll.lines(Y.index,Y.length):this.scroll.lines(Y,ne)}},{key:"getModule",value:function(Y){return this.theme.modules[Y]}},{key:"getSelection",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Y&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-Y,le=K(Y,ne),be=o(le,2);return Y=be[0],ne=be[1],this.editor.getText(Y,ne)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(Y,ne,le){var be=this,ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:oe.sources.API;return W.call(this,function(){return be.editor.insertEmbed(Y,ne,le)},ce,Y)}},{key:"insertText",value:function(Y,ne,le,be,ce){var ie=this,ge=void 0,_e=K(Y,0,le,be,ce),Te=o(_e,4);return Y=Te[0],ge=Te[2],ce=Te[3],W.call(this,function(){return ie.editor.insertText(Y,ne,ge)},ce,Y,ne.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(Y,ne,le){this.clipboard.dangerouslyPasteHTML(Y,ne,le)}},{key:"removeFormat",value:function(Y,ne,le){var be=this,ce=K(Y,ne,le),ie=o(ce,4);return Y=ie[0],ne=ie[1],le=ie[3],W.call(this,function(){return be.editor.removeFormat(Y,ne)},le,Y)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(Y){var ne=this,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return W.call(this,function(){Y=new f.default(Y);var be=ne.getLength(),ce=ne.editor.deleteText(0,be),ie=ne.editor.applyDelta(Y),ge=ie.ops[ie.ops.length-1];ge!=null&&typeof ge.insert=="string"&&ge.insert[ge.insert.length-1]===`
`&&(ne.editor.deleteText(ne.getLength()-1,1),ie.delete(1));var _e=ce.compose(ie);return _e},le)}},{key:"setSelection",value:function(Y,ne,le){if(Y==null)this.selection.setRange(null,ne||oe.sources.API);else{var be=K(Y,ne,le),ce=o(be,4);Y=ce[0],ne=ce[1],le=ce[3],this.selection.setRange(new j.Range(Y,ne),le),le!==y.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(Y){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API,le=new f.default().insert(Y);return this.setContents(le,ne)}},{key:"update",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,ne=this.scroll.update(Y);return this.selection.update(Y),ne}},{key:"updateContents",value:function(Y){var ne=this,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return W.call(this,function(){return Y=new f.default(Y),ne.editor.applyDelta(Y,le)},le,!0)}}]),oe})();ee.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},ee.events=y.default.events,ee.sources=y.default.sources,ee.version="1.3.7",ee.imports={delta:f.default,parchment:_.default,"core/module":T.default,"core/theme":k.default};function te(oe,G){if(G=(0,P.default)(!0,{container:oe,modules:{clipboard:!0,keyboard:!0,history:!0}},G),!G.theme||G.theme===ee.DEFAULTS.theme)G.theme=k.default;else if(G.theme=ee.import("themes/"+G.theme),G.theme==null)throw new Error("Invalid theme "+G.theme+". Did you register it?");var Y=(0,P.default)(!0,{},G.theme.DEFAULTS);[Y,G].forEach(function(be){be.modules=be.modules||{},Object.keys(be.modules).forEach(function(ce){be.modules[ce]===!0&&(be.modules[ce]={})})});var ne=Object.keys(Y.modules).concat(Object.keys(G.modules)),le=ne.reduce(function(be,ce){var ie=ee.import("modules/"+ce);return ie==null?J.error("Cannot load "+ce+" module. Are you sure you registered it?"):be[ce]=ie.DEFAULTS||{},be},{});return G.modules!=null&&G.modules.toolbar&&G.modules.toolbar.constructor!==Object&&(G.modules.toolbar={container:G.modules.toolbar}),G=(0,P.default)(!0,{},ee.DEFAULTS,{modules:le},Y,G),["bounds","container","scrollingContainer"].forEach(function(be){typeof G[be]=="string"&&(G[be]=document.querySelector(G[be]))}),G.modules=Object.keys(G.modules).reduce(function(be,ce){return G.modules[ce]&&(be[ce]=G.modules[ce]),be},{}),G}function W(oe,G,Y,ne){if(this.options.strict&&!this.isEnabled()&&G===y.default.sources.USER)return new f.default;var le=Y==null?null:this.getSelection(),be=this.editor.delta,ce=oe();if(le!=null&&(Y===!0&&(Y=le.index),ne==null?le=$(le,ce,G):ne!==0&&(le=$(le,Y,ne,G)),this.setSelection(le,y.default.sources.SILENT)),ce.length()>0){var ie,ge=[y.default.events.TEXT_CHANGE,ce,be,G];if((ie=this.emitter).emit.apply(ie,[y.default.events.EDITOR_CHANGE].concat(ge)),G!==y.default.sources.SILENT){var _e;(_e=this.emitter).emit.apply(_e,ge)}}return ce}function K(oe,G,Y,ne,le){var be={};return typeof oe.index=="number"&&typeof oe.length=="number"?typeof G!="number"?(le=ne,ne=Y,Y=G,G=oe.length,oe=oe.index):(G=oe.length,oe=oe.index):typeof G!="number"&&(le=ne,ne=Y,Y=G,G=0),(typeof Y>"u"?"undefined":a(Y))==="object"?(be=Y,le=ne):typeof Y=="string"&&(ne!=null?be[Y]=ne:le=Y),le=le||y.default.sources.API,[oe,G,be,le]}function $(oe,G,Y,ne){if(oe==null)return null;var le=void 0,be=void 0;if(G instanceof f.default){var ce=[oe.index,oe.index+oe.length].map(function(Te){return G.transformPosition(Te,ne!==y.default.sources.USER)}),ie=o(ce,2);le=ie[0],be=ie[1]}else{var ge=[oe.index,oe.index+oe.length].map(function(Te){return Te<G||Te===G&&ne===y.default.sources.USER?Te:Y>=0?Te+Y:Math.max(G,Te+Y)}),_e=o(ge,2);le=_e[0],be=_e[1]}return new j.Range(le,be-le)}n.expandConfig=te,n.overload=K,n.default=ee}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function N(_,j){for(var C=0;C<j.length;C++){var A=j[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,j,C){return j&&N(_.prototype,j),C&&N(_,C),_}})(),o=function N(_,j,C){_===null&&(_=Function.prototype);var A=Object.getOwnPropertyDescriptor(_,j);if(A===void 0){var P=Object.getPrototypeOf(_);return P===null?void 0:N(P,j,C)}else{if("value"in A)return A.value;var U=A.get;return U===void 0?void 0:U.call(C)}},c=i(7),d=b(c),f=i(0),g=b(f);function b(N){return N&&N.__esModule?N:{default:N}}function v(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function y(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function w(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}var T=(function(N){w(_,N);function _(){return v(this,_),y(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"formatAt",value:function(C,A,P,U){if(_.compare(this.statics.blotName,P)<0&&g.default.query(P,g.default.Scope.BLOT)){var B=this.isolate(C,A);U&&B.wrap(P,U)}else o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,C,A,P,U)}},{key:"optimize",value:function(C){if(o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,C),this.parent instanceof _&&_.compare(this.statics.blotName,this.parent.statics.blotName)>0){var A=this.parent.isolate(this.offset(),this.length());this.moveChildren(A),A.wrap(this)}}}],[{key:"compare",value:function(C,A){var P=_.order.indexOf(C),U=_.order.indexOf(A);return P>=0||U>=0?P-U:C===A?0:C<A?-1:1}}]),_})(g.default.Inline);T.allowedChildren=[T,g.default.Embed,d.default],T.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=T}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function g(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var b=(function(v){g(y,v);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(o.default.Text);n.default=b}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function j(C,A){for(var P=0;P<A.length;P++){var U=A[P];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(C,U.key,U)}}return function(C,A,P){return A&&j(C.prototype,A),P&&j(C,P),C}})(),o=function j(C,A,P){C===null&&(C=Function.prototype);var U=Object.getOwnPropertyDescriptor(C,A);if(U===void 0){var B=Object.getPrototypeOf(C);return B===null?void 0:j(B,A,P)}else{if("value"in U)return U.value;var F=U.get;return F===void 0?void 0:F.call(P)}},c=i(54),d=b(c),f=i(10),g=b(f);function b(j){return j&&j.__esModule?j:{default:j}}function v(j,C){if(!(j instanceof C))throw new TypeError("Cannot call a class as a function")}function y(j,C){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:j}function w(j,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);j.prototype=Object.create(C&&C.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(j,C):j.__proto__=C)}var T=(0,g.default)("quill:events"),N=["selectionchange","mousedown","mouseup","click"];N.forEach(function(j){document.addEventListener(j,function(){for(var C=arguments.length,A=Array(C),P=0;P<C;P++)A[P]=arguments[P];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(U){if(U.__quill&&U.__quill.emitter){var B;(B=U.__quill.emitter).handleDOM.apply(B,A)}})})});var _=(function(j){w(C,j);function C(){v(this,C);var A=y(this,(C.__proto__||Object.getPrototypeOf(C)).call(this));return A.listeners={},A.on("error",T.error),A}return a(C,[{key:"emit",value:function(){T.log.apply(T,arguments),o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(P){for(var U=arguments.length,B=Array(U>1?U-1:0),F=1;F<U;F++)B[F-1]=arguments[F];(this.listeners[P.type]||[]).forEach(function(k){var z=k.node,V=k.handler;(P.target===z||z.contains(P.target))&&V.apply(void 0,[P].concat(B))})}},{key:"listenDOM",value:function(P,U,B){this.listeners[P]||(this.listeners[P]=[]),this.listeners[P].push({node:U,handler:B})}}]),C})(d.default);_.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},_.sources={API:"api",SILENT:"silent",USER:"user"},n.default=_}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function c(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,c),this.quill=d,this.options=f};o.DEFAULTS={},n.default=o}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function c(f){if(a.indexOf(f)<=a.indexOf(o)){for(var g,b=arguments.length,v=Array(b>1?b-1:0),y=1;y<b;y++)v[y-1]=arguments[y];(g=console)[f].apply(g,v)}}function d(f){return a.reduce(function(g,b){return g[b]=c.bind(console,b,f),g},{})}c.level=d.level=function(f){o=f},n.default=d}),(function(t,n,i){var a=Array.prototype.slice,o=i(52),c=i(53),d=t.exports=function(v,y,w){return w||(w={}),v===y?!0:v instanceof Date&&y instanceof Date?v.getTime()===y.getTime():!v||!y||typeof v!="object"&&typeof y!="object"?w.strict?v===y:v==y:b(v,y,w)};function f(v){return v==null}function g(v){return!(!v||typeof v!="object"||typeof v.length!="number"||typeof v.copy!="function"||typeof v.slice!="function"||v.length>0&&typeof v[0]!="number")}function b(v,y,w){var T,N;if(f(v)||f(y)||v.prototype!==y.prototype)return!1;if(c(v))return c(y)?(v=a.call(v),y=a.call(y),d(v,y,w)):!1;if(g(v)){if(!g(y)||v.length!==y.length)return!1;for(T=0;T<v.length;T++)if(v[T]!==y[T])return!1;return!0}try{var _=o(v),j=o(y)}catch{return!1}if(_.length!=j.length)return!1;for(_.sort(),j.sort(),T=_.length-1;T>=0;T--)if(_[T]!=j[T])return!1;for(T=_.length-1;T>=0;T--)if(N=_[T],!d(v[N],y[N],w))return!1;return typeof v==typeof y}}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=(function(){function c(d,f,g){g===void 0&&(g={}),this.attrName=d,this.keyName=f;var b=a.Scope.TYPE&a.Scope.ATTRIBUTE;g.scope!=null?this.scope=g.scope&a.Scope.LEVEL|b:this.scope=a.Scope.ATTRIBUTE,g.whitelist!=null&&(this.whitelist=g.whitelist)}return c.keys=function(d){return[].map.call(d.attributes,function(f){return f.name})},c.prototype.add=function(d,f){return this.canAdd(d,f)?(d.setAttribute(this.keyName,f),!0):!1},c.prototype.canAdd=function(d,f){var g=a.query(d,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return g==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},c.prototype.remove=function(d){d.removeAttribute(this.keyName)},c.prototype.value=function(d){var f=d.getAttribute(this.keyName);return this.canAdd(d,f)&&f?f:""},c})();n.default=o}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=(function(){function F(k,z){var V=[],X=!0,J=!1,ee=void 0;try{for(var te=k[Symbol.iterator](),W;!(X=(W=te.next()).done)&&(V.push(W.value),!(z&&V.length===z));X=!0);}catch(K){J=!0,ee=K}finally{try{!X&&te.return&&te.return()}finally{if(J)throw ee}}return V}return function(k,z){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return F(k,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function F(k,z){for(var V=0;V<z.length;V++){var X=z[V];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(k,X.key,X)}}return function(k,z,V){return z&&F(k.prototype,z),V&&F(k,V),k}})(),c=function F(k,z,V){k===null&&(k=Function.prototype);var X=Object.getOwnPropertyDescriptor(k,z);if(X===void 0){var J=Object.getPrototypeOf(k);return J===null?void 0:F(J,z,V)}else{if("value"in X)return X.value;var ee=X.get;return ee===void 0?void 0:ee.call(V)}},d=i(2),f=j(d),g=i(0),b=j(g),v=i(4),y=j(v),w=i(6),T=j(w),N=i(7),_=j(N);function j(F){return F&&F.__esModule?F:{default:F}}function C(F,k){if(!(F instanceof k))throw new TypeError("Cannot call a class as a function")}function A(F,k){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:F}function P(F,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);F.prototype=Object.create(k&&k.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(F,k):F.__proto__=k)}var U=(function(F){P(k,F);function k(){return C(this,k),A(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k})(T.default);U.blotName="code",U.tagName="CODE";var B=(function(F){P(k,F);function k(){return C(this,k),A(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"delta",value:function(){var V=this,X=this.domNode.textContent;return X.endsWith(`
`)&&(X=X.slice(0,-1)),X.split(`
`).reduce(function(J,ee){return J.insert(ee).insert(`
`,V.formats())},new f.default)}},{key:"format",value:function(V,X){if(!(V===this.statics.blotName&&X)){var J=this.descendant(_.default,this.length()-1),ee=a(J,1),te=ee[0];te?.deleteAt(te.length()-1,1),c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,V,X)}}},{key:"formatAt",value:function(V,X,J,ee){if(X!==0&&!(b.default.query(J,b.default.Scope.BLOCK)==null||J===this.statics.blotName&&ee===this.statics.formats(this.domNode))){var te=this.newlineIndex(V);if(!(te<0||te>=V+X)){var W=this.newlineIndex(V,!0)+1,K=te-W+1,$=this.isolate(W,K),oe=$.next;$.format(J,ee),oe instanceof k&&oe.formatAt(0,V-W+X-K,J,ee)}}}},{key:"insertAt",value:function(V,X,J){if(J==null){var ee=this.descendant(_.default,V),te=a(ee,2),W=te[0],K=te[1];W.insertAt(K,X)}}},{key:"length",value:function(){var V=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?V:V+1}},{key:"newlineIndex",value:function(V){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(X)return this.domNode.textContent.slice(0,V).lastIndexOf(`
`);var J=this.domNode.textContent.slice(V).indexOf(`
`);return J>-1?V+J:-1}},{key:"optimize",value:function(V){this.domNode.textContent.endsWith(`
`)||this.appendChild(b.default.create("text",`
`)),c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,V);var X=this.next;X!=null&&X.prev===this&&X.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===X.statics.formats(X.domNode)&&(X.optimize(V),X.moveChildren(this),X.remove())}},{key:"replace",value:function(V){c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,V),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(X){var J=b.default.find(X);J==null?X.parentNode.removeChild(X):J instanceof b.default.Embed?J.remove():J.unwrap()})}}],[{key:"create",value:function(V){var X=c(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,V);return X.setAttribute("spellcheck",!1),X}},{key:"formats",value:function(){return!0}}]),k})(y.default);B.blotName="code-block",B.tagName="PRE",B.TAB="  ",n.Code=U,n.default=B}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},o=(function(){function oe(G,Y){var ne=[],le=!0,be=!1,ce=void 0;try{for(var ie=G[Symbol.iterator](),ge;!(le=(ge=ie.next()).done)&&(ne.push(ge.value),!(Y&&ne.length===Y));le=!0);}catch(_e){be=!0,ce=_e}finally{try{!le&&ie.return&&ie.return()}finally{if(be)throw ce}}return ne}return function(G,Y){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return oe(G,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function oe(G,Y){for(var ne=0;ne<Y.length;ne++){var le=Y[ne];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(G,le.key,le)}}return function(G,Y,ne){return Y&&oe(G.prototype,Y),ne&&oe(G,ne),G}})(),d=i(2),f=X(d),g=i(20),b=X(g),v=i(0),y=X(v),w=i(13),T=X(w),N=i(24),_=X(N),j=i(4),C=X(j),A=i(16),P=X(A),U=i(21),B=X(U),F=i(11),k=X(F),z=i(3),V=X(z);function X(oe){return oe&&oe.__esModule?oe:{default:oe}}function J(oe,G,Y){return G in oe?Object.defineProperty(oe,G,{value:Y,enumerable:!0,configurable:!0,writable:!0}):oe[G]=Y,oe}function ee(oe,G){if(!(oe instanceof G))throw new TypeError("Cannot call a class as a function")}var te=/^[ -~]*$/,W=(function(){function oe(G){ee(this,oe),this.scroll=G,this.delta=this.getDelta()}return c(oe,[{key:"applyDelta",value:function(Y){var ne=this,le=!1;this.scroll.update();var be=this.scroll.length();return this.scroll.batchStart(),Y=$(Y),Y.reduce(function(ce,ie){var ge=ie.retain||ie.delete||ie.insert.length||1,_e=ie.attributes||{};if(ie.insert!=null){if(typeof ie.insert=="string"){var Te=ie.insert;Te.endsWith(`
`)&&le&&(le=!1,Te=Te.slice(0,-1)),ce>=be&&!Te.endsWith(`
`)&&(le=!0),ne.scroll.insertAt(ce,Te);var Ee=ne.scroll.line(ce),$e=o(Ee,2),tt=$e[0],xe=$e[1],ke=(0,V.default)({},(0,j.bubbleFormats)(tt));if(tt instanceof C.default){var Ve=tt.descendant(y.default.Leaf,xe),nt=o(Ve,1),Xe=nt[0];ke=(0,V.default)(ke,(0,j.bubbleFormats)(Xe))}_e=b.default.attributes.diff(ke,_e)||{}}else if(a(ie.insert)==="object"){var je=Object.keys(ie.insert)[0];if(je==null)return ce;ne.scroll.insertAt(ce,je,ie.insert[je])}be+=ge}return Object.keys(_e).forEach(function(de){ne.scroll.formatAt(ce,ge,de,_e[de])}),ce+ge},0),Y.reduce(function(ce,ie){return typeof ie.delete=="number"?(ne.scroll.deleteAt(ce,ie.delete),ce):ce+(ie.retain||ie.insert.length||1)},0),this.scroll.batchEnd(),this.update(Y)}},{key:"deleteText",value:function(Y,ne){return this.scroll.deleteAt(Y,ne),this.update(new f.default().retain(Y).delete(ne))}},{key:"formatLine",value:function(Y,ne){var le=this,be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(be).forEach(function(ce){if(!(le.scroll.whitelist!=null&&!le.scroll.whitelist[ce])){var ie=le.scroll.lines(Y,Math.max(ne,1)),ge=ne;ie.forEach(function(_e){var Te=_e.length();if(!(_e instanceof T.default))_e.format(ce,be[ce]);else{var Ee=Y-_e.offset(le.scroll),$e=_e.newlineIndex(Ee+ge)-Ee+1;_e.formatAt(Ee,$e,ce,be[ce])}ge-=Te})}}),this.scroll.optimize(),this.update(new f.default().retain(Y).retain(ne,(0,B.default)(be)))}},{key:"formatText",value:function(Y,ne){var le=this,be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(be).forEach(function(ce){le.scroll.formatAt(Y,ne,ce,be[ce])}),this.update(new f.default().retain(Y).retain(ne,(0,B.default)(be)))}},{key:"getContents",value:function(Y,ne){return this.delta.slice(Y,Y+ne)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(Y,ne){return Y.concat(ne.delta())},new f.default)}},{key:"getFormat",value:function(Y){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,le=[],be=[];ne===0?this.scroll.path(Y).forEach(function(ie){var ge=o(ie,1),_e=ge[0];_e instanceof C.default?le.push(_e):_e instanceof y.default.Leaf&&be.push(_e)}):(le=this.scroll.lines(Y,ne),be=this.scroll.descendants(y.default.Leaf,Y,ne));var ce=[le,be].map(function(ie){if(ie.length===0)return{};for(var ge=(0,j.bubbleFormats)(ie.shift());Object.keys(ge).length>0;){var _e=ie.shift();if(_e==null)return ge;ge=K((0,j.bubbleFormats)(_e),ge)}return ge});return V.default.apply(V.default,ce)}},{key:"getText",value:function(Y,ne){return this.getContents(Y,ne).filter(function(le){return typeof le.insert=="string"}).map(function(le){return le.insert}).join("")}},{key:"insertEmbed",value:function(Y,ne,le){return this.scroll.insertAt(Y,ne,le),this.update(new f.default().retain(Y).insert(J({},ne,le)))}},{key:"insertText",value:function(Y,ne){var le=this,be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ne=ne.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(Y,ne),Object.keys(be).forEach(function(ce){le.scroll.formatAt(Y,ne.length,ce,be[ce])}),this.update(new f.default().retain(Y).insert(ne,(0,B.default)(be)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var Y=this.scroll.children.head;return Y.statics.blotName!==C.default.blotName||Y.children.length>1?!1:Y.children.head instanceof P.default}},{key:"removeFormat",value:function(Y,ne){var le=this.getText(Y,ne),be=this.scroll.line(Y+ne),ce=o(be,2),ie=ce[0],ge=ce[1],_e=0,Te=new f.default;ie!=null&&(ie instanceof T.default?_e=ie.newlineIndex(ge)-ge+1:_e=ie.length()-ge,Te=ie.delta().slice(ge,ge+_e-1).insert(`
`));var Ee=this.getContents(Y,ne+_e),$e=Ee.diff(new f.default().insert(le).concat(Te)),tt=new f.default().retain(Y).concat($e);return this.applyDelta(tt)}},{key:"update",value:function(Y){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,be=this.delta;if(ne.length===1&&ne[0].type==="characterData"&&ne[0].target.data.match(te)&&y.default.find(ne[0].target)){var ce=y.default.find(ne[0].target),ie=(0,j.bubbleFormats)(ce),ge=ce.offset(this.scroll),_e=ne[0].oldValue.replace(_.default.CONTENTS,""),Te=new f.default().insert(_e),Ee=new f.default().insert(ce.value()),$e=new f.default().retain(ge).concat(Te.diff(Ee,le));Y=$e.reduce(function(tt,xe){return xe.insert?tt.insert(xe.insert,ie):tt.push(xe)},new f.default),this.delta=be.compose(Y)}else this.delta=this.getDelta(),(!Y||!(0,k.default)(be.compose(Y),this.delta))&&(Y=be.diff(this.delta,le));return Y}}]),oe})();function K(oe,G){return Object.keys(G).reduce(function(Y,ne){return oe[ne]==null||(G[ne]===oe[ne]?Y[ne]=G[ne]:Array.isArray(G[ne])?G[ne].indexOf(oe[ne])<0&&(Y[ne]=G[ne].concat([oe[ne]])):Y[ne]=[G[ne],oe[ne]]),Y},{})}function $(oe){return oe.reduce(function(G,Y){if(Y.insert===1){var ne=(0,B.default)(Y.attributes);return delete ne.image,G.insert({image:Y.attributes.image},ne)}if(Y.attributes!=null&&(Y.attributes.list===!0||Y.attributes.bullet===!0)&&(Y=(0,B.default)(Y),Y.attributes.list?Y.attributes.list="ordered":(Y.attributes.list="bullet",delete Y.attributes.bullet)),typeof Y.insert=="string"){var le=Y.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return G.insert(le,Y.attributes)}return G.push(Y)},new f.default)}n.default=W}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=(function(){function F(k,z){var V=[],X=!0,J=!1,ee=void 0;try{for(var te=k[Symbol.iterator](),W;!(X=(W=te.next()).done)&&(V.push(W.value),!(z&&V.length===z));X=!0);}catch(K){J=!0,ee=K}finally{try{!X&&te.return&&te.return()}finally{if(J)throw ee}}return V}return function(k,z){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return F(k,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function F(k,z){for(var V=0;V<z.length;V++){var X=z[V];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(k,X.key,X)}}return function(k,z,V){return z&&F(k.prototype,z),V&&F(k,V),k}})(),c=i(0),d=_(c),f=i(21),g=_(f),b=i(11),v=_(b),y=i(8),w=_(y),T=i(10),N=_(T);function _(F){return F&&F.__esModule?F:{default:F}}function j(F){if(Array.isArray(F)){for(var k=0,z=Array(F.length);k<F.length;k++)z[k]=F[k];return z}else return Array.from(F)}function C(F,k){if(!(F instanceof k))throw new TypeError("Cannot call a class as a function")}var A=(0,N.default)("quill:selection"),P=function F(k){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;C(this,F),this.index=k,this.length=z},U=(function(){function F(k,z){var V=this;C(this,F),this.emitter=z,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=d.default.create("cursor",this),this.lastRange=this.savedRange=new P(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){V.mouseDown||setTimeout(V.update.bind(V,w.default.sources.USER),1)}),this.emitter.on(w.default.events.EDITOR_CHANGE,function(X,J){X===w.default.events.TEXT_CHANGE&&J.length()>0&&V.update(w.default.sources.SILENT)}),this.emitter.on(w.default.events.SCROLL_BEFORE_UPDATE,function(){if(V.hasFocus()){var X=V.getNativeRange();X!=null&&X.start.node!==V.cursor.textNode&&V.emitter.once(w.default.events.SCROLL_UPDATE,function(){try{V.setNativeRange(X.start.node,X.start.offset,X.end.node,X.end.offset)}catch{}})}}),this.emitter.on(w.default.events.SCROLL_OPTIMIZE,function(X,J){if(J.range){var ee=J.range,te=ee.startNode,W=ee.startOffset,K=ee.endNode,$=ee.endOffset;V.setNativeRange(te,W,K,$)}}),this.update(w.default.sources.SILENT)}return o(F,[{key:"handleComposition",value:function(){var z=this;this.root.addEventListener("compositionstart",function(){z.composing=!0}),this.root.addEventListener("compositionend",function(){if(z.composing=!1,z.cursor.parent){var V=z.cursor.restore();if(!V)return;setTimeout(function(){z.setNativeRange(V.startNode,V.startOffset,V.endNode,V.endOffset)},1)}})}},{key:"handleDragging",value:function(){var z=this;this.emitter.listenDOM("mousedown",document.body,function(){z.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){z.mouseDown=!1,z.update(w.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(z,V){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[z])){this.scroll.update();var X=this.getNativeRange();if(!(X==null||!X.native.collapsed||d.default.query(z,d.default.Scope.BLOCK))){if(X.start.node!==this.cursor.textNode){var J=d.default.find(X.start.node,!1);if(J==null)return;if(J instanceof d.default.Leaf){var ee=J.split(X.start.offset);J.parent.insertBefore(this.cursor,ee)}else J.insertBefore(this.cursor,X.start.node);this.cursor.attach()}this.cursor.format(z,V),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(z){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,X=this.scroll.length();z=Math.min(z,X-1),V=Math.min(z+V,X-1)-z;var J=void 0,ee=this.scroll.leaf(z),te=a(ee,2),W=te[0],K=te[1];if(W==null)return null;var $=W.position(K,!0),oe=a($,2);J=oe[0],K=oe[1];var G=document.createRange();if(V>0){G.setStart(J,K);var Y=this.scroll.leaf(z+V),ne=a(Y,2);if(W=ne[0],K=ne[1],W==null)return null;var le=W.position(K,!0),be=a(le,2);return J=be[0],K=be[1],G.setEnd(J,K),G.getBoundingClientRect()}else{var ce="left",ie=void 0;return J instanceof Text?(K<J.data.length?(G.setStart(J,K),G.setEnd(J,K+1)):(G.setStart(J,K-1),G.setEnd(J,K),ce="right"),ie=G.getBoundingClientRect()):(ie=W.domNode.getBoundingClientRect(),K>0&&(ce="right")),{bottom:ie.top+ie.height,height:ie.height,left:ie[ce],right:ie[ce],top:ie.top,width:0}}}},{key:"getNativeRange",value:function(){var z=document.getSelection();if(z==null||z.rangeCount<=0)return null;var V=z.getRangeAt(0);if(V==null)return null;var X=this.normalizeNative(V);return A.info("getNativeRange",X),X}},{key:"getRange",value:function(){var z=this.getNativeRange();if(z==null)return[null,null];var V=this.normalizedToRange(z);return[V,z]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(z){var V=this,X=[[z.start.node,z.start.offset]];z.native.collapsed||X.push([z.end.node,z.end.offset]);var J=X.map(function(W){var K=a(W,2),$=K[0],oe=K[1],G=d.default.find($,!0),Y=G.offset(V.scroll);return oe===0?Y:G instanceof d.default.Container?Y+G.length():Y+G.index($,oe)}),ee=Math.min(Math.max.apply(Math,j(J)),this.scroll.length()-1),te=Math.min.apply(Math,[ee].concat(j(J)));return new P(te,ee-te)}},{key:"normalizeNative",value:function(z){if(!B(this.root,z.startContainer)||!z.collapsed&&!B(this.root,z.endContainer))return null;var V={start:{node:z.startContainer,offset:z.startOffset},end:{node:z.endContainer,offset:z.endOffset},native:z};return[V.start,V.end].forEach(function(X){for(var J=X.node,ee=X.offset;!(J instanceof Text)&&J.childNodes.length>0;)if(J.childNodes.length>ee)J=J.childNodes[ee],ee=0;else if(J.childNodes.length===ee)J=J.lastChild,ee=J instanceof Text?J.data.length:J.childNodes.length+1;else break;X.node=J,X.offset=ee}),V}},{key:"rangeToNative",value:function(z){var V=this,X=z.collapsed?[z.index]:[z.index,z.index+z.length],J=[],ee=this.scroll.length();return X.forEach(function(te,W){te=Math.min(ee-1,te);var K=void 0,$=V.scroll.leaf(te),oe=a($,2),G=oe[0],Y=oe[1],ne=G.position(Y,W!==0),le=a(ne,2);K=le[0],Y=le[1],J.push(K,Y)}),J.length<2&&(J=J.concat(J)),J}},{key:"scrollIntoView",value:function(z){var V=this.lastRange;if(V!=null){var X=this.getBounds(V.index,V.length);if(X!=null){var J=this.scroll.length()-1,ee=this.scroll.line(Math.min(V.index,J)),te=a(ee,1),W=te[0],K=W;if(V.length>0){var $=this.scroll.line(Math.min(V.index+V.length,J)),oe=a($,1);K=oe[0]}if(!(W==null||K==null)){var G=z.getBoundingClientRect();X.top<G.top?z.scrollTop-=G.top-X.top:X.bottom>G.bottom&&(z.scrollTop+=X.bottom-G.bottom)}}}}},{key:"setNativeRange",value:function(z,V){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:z,J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:V,ee=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(A.info("setNativeRange",z,V,X,J),!(z!=null&&(this.root.parentNode==null||z.parentNode==null||X.parentNode==null))){var te=document.getSelection();if(te!=null)if(z!=null){this.hasFocus()||this.root.focus();var W=(this.getNativeRange()||{}).native;if(W==null||ee||z!==W.startContainer||V!==W.startOffset||X!==W.endContainer||J!==W.endOffset){z.tagName=="BR"&&(V=[].indexOf.call(z.parentNode.childNodes,z),z=z.parentNode),X.tagName=="BR"&&(J=[].indexOf.call(X.parentNode.childNodes,X),X=X.parentNode);var K=document.createRange();K.setStart(z,V),K.setEnd(X,J),te.removeAllRanges(),te.addRange(K)}}else te.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(z){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof V=="string"&&(X=V,V=!1),A.info("setRange",z),z!=null){var J=this.rangeToNative(z);this.setNativeRange.apply(this,j(J).concat([V]))}else this.setNativeRange(null);this.update(X)}},{key:"update",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.default.sources.USER,V=this.lastRange,X=this.getRange(),J=a(X,2),ee=J[0],te=J[1];if(this.lastRange=ee,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,v.default)(V,this.lastRange)){var W;!this.composing&&te!=null&&te.native.collapsed&&te.start.node!==this.cursor.textNode&&this.cursor.restore();var K=[w.default.events.SELECTION_CHANGE,(0,g.default)(this.lastRange),(0,g.default)(V),z];if((W=this.emitter).emit.apply(W,[w.default.events.EDITOR_CHANGE].concat(K)),z!==w.default.sources.SILENT){var $;($=this.emitter).emit.apply($,K)}}}}]),F})();function B(F,k){try{k.parentNode}catch{return!1}return k instanceof Text&&(k=k.parentNode),F.contains(k)}n.Range=P,n.default=U}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function w(T,N){for(var _=0;_<N.length;_++){var j=N[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(T,j.key,j)}}return function(T,N,_){return N&&w(T.prototype,N),_&&w(T,_),T}})(),o=function w(T,N,_){T===null&&(T=Function.prototype);var j=Object.getOwnPropertyDescriptor(T,N);if(j===void 0){var C=Object.getPrototypeOf(T);return C===null?void 0:w(C,N,_)}else{if("value"in j)return j.value;var A=j.get;return A===void 0?void 0:A.call(_)}},c=i(0),d=f(c);function f(w){return w&&w.__esModule?w:{default:w}}function g(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function b(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function v(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var y=(function(w){v(T,w);function T(){return g(this,T),b(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"insertInto",value:function(_,j){_.children.length===0?o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertInto",this).call(this,_,j):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),T})(d.default.Embed);y.blotName="break",y.tagName="BR",n.default=y}),(function(t,n,i){var a=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var w in y)y.hasOwnProperty(w)&&(v[w]=y[w])};return function(v,y){b(v,y);function w(){this.constructor=v}v.prototype=y===null?Object.create(y):(w.prototype=y.prototype,new w)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=i(44),c=i(30),d=i(1),f=(function(b){a(v,b);function v(y){var w=b.call(this,y)||this;return w.build(),w}return v.prototype.appendChild=function(y){this.insertBefore(y)},v.prototype.attach=function(){b.prototype.attach.call(this),this.children.forEach(function(y){y.attach()})},v.prototype.build=function(){var y=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(w){try{var T=g(w);y.insertBefore(T,y.children.head||void 0)}catch(N){if(N instanceof d.ParchmentError)return;throw N}})},v.prototype.deleteAt=function(y,w){if(y===0&&w===this.length())return this.remove();this.children.forEachAt(y,w,function(T,N,_){T.deleteAt(N,_)})},v.prototype.descendant=function(y,w){var T=this.children.find(w),N=T[0],_=T[1];return y.blotName==null&&y(N)||y.blotName!=null&&N instanceof y?[N,_]:N instanceof v?N.descendant(y,_):[null,-1]},v.prototype.descendants=function(y,w,T){w===void 0&&(w=0),T===void 0&&(T=Number.MAX_VALUE);var N=[],_=T;return this.children.forEachAt(w,T,function(j,C,A){(y.blotName==null&&y(j)||y.blotName!=null&&j instanceof y)&&N.push(j),j instanceof v&&(N=N.concat(j.descendants(y,C,_))),_-=A}),N},v.prototype.detach=function(){this.children.forEach(function(y){y.detach()}),b.prototype.detach.call(this)},v.prototype.formatAt=function(y,w,T,N){this.children.forEachAt(y,w,function(_,j,C){_.formatAt(j,C,T,N)})},v.prototype.insertAt=function(y,w,T){var N=this.children.find(y),_=N[0],j=N[1];if(_)_.insertAt(j,w,T);else{var C=T==null?d.create("text",w):d.create(w,T);this.appendChild(C)}},v.prototype.insertBefore=function(y,w){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(T){return y instanceof T}))throw new d.ParchmentError("Cannot insert "+y.statics.blotName+" into "+this.statics.blotName);y.insertInto(this,w)},v.prototype.length=function(){return this.children.reduce(function(y,w){return y+w.length()},0)},v.prototype.moveChildren=function(y,w){this.children.forEach(function(T){y.insertBefore(T,w)})},v.prototype.optimize=function(y){if(b.prototype.optimize.call(this,y),this.children.length===0)if(this.statics.defaultChild!=null){var w=d.create(this.statics.defaultChild);this.appendChild(w),w.optimize(y)}else this.remove()},v.prototype.path=function(y,w){w===void 0&&(w=!1);var T=this.children.find(y,w),N=T[0],_=T[1],j=[[this,y]];return N instanceof v?j.concat(N.path(_,w)):(N!=null&&j.push([N,_]),j)},v.prototype.removeChild=function(y){this.children.remove(y)},v.prototype.replace=function(y){y instanceof v&&y.moveChildren(this),b.prototype.replace.call(this,y)},v.prototype.split=function(y,w){if(w===void 0&&(w=!1),!w){if(y===0)return this;if(y===this.length())return this.next}var T=this.clone();return this.parent.insertBefore(T,this.next),this.children.forEachAt(y,this.length(),function(N,_,j){N=N.split(_,w),T.appendChild(N)}),T},v.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},v.prototype.update=function(y,w){var T=this,N=[],_=[];y.forEach(function(j){j.target===T.domNode&&j.type==="childList"&&(N.push.apply(N,j.addedNodes),_.push.apply(_,j.removedNodes))}),_.forEach(function(j){if(!(j.parentNode!=null&&j.tagName!=="IFRAME"&&document.body.compareDocumentPosition(j)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var C=d.find(j);C!=null&&(C.domNode.parentNode==null||C.domNode.parentNode===T.domNode)&&C.detach()}}),N.filter(function(j){return j.parentNode==T.domNode}).sort(function(j,C){return j===C?0:j.compareDocumentPosition(C)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(j){var C=null;j.nextSibling!=null&&(C=d.find(j.nextSibling));var A=g(j);(A.next!=C||A.next==null)&&(A.parent!=null&&A.parent.removeChild(T),T.insertBefore(A,C||void 0))})},v})(c.default);function g(b){var v=d.find(b);if(v==null)try{v=d.create(b)}catch{v=d.create(d.Scope.INLINE),[].slice.call(b.childNodes).forEach(function(w){v.domNode.appendChild(w)}),b.parentNode&&b.parentNode.replaceChild(v.domNode,b),v.attach()}return v}n.default=f}),(function(t,n,i){var a=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var w in y)y.hasOwnProperty(w)&&(v[w]=y[w])};return function(v,y){b(v,y);function w(){this.constructor=v}v.prototype=y===null?Object.create(y):(w.prototype=y.prototype,new w)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),c=i(31),d=i(17),f=i(1),g=(function(b){a(v,b);function v(y){var w=b.call(this,y)||this;return w.attributes=new c.default(w.domNode),w}return v.formats=function(y){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return y.tagName.toLowerCase()},v.prototype.format=function(y,w){var T=f.query(y);T instanceof o.default?this.attributes.attribute(T,w):w&&T!=null&&(y!==this.statics.blotName||this.formats()[y]!==w)&&this.replaceWith(y,w)},v.prototype.formats=function(){var y=this.attributes.values(),w=this.statics.formats(this.domNode);return w!=null&&(y[this.statics.blotName]=w),y},v.prototype.replaceWith=function(y,w){var T=b.prototype.replaceWith.call(this,y,w);return this.attributes.copy(T),T},v.prototype.update=function(y,w){var T=this;b.prototype.update.call(this,y,w),y.some(function(N){return N.target===T.domNode&&N.type==="attributes"})&&this.attributes.build()},v.prototype.wrap=function(y,w){var T=b.prototype.wrap.call(this,y,w);return T instanceof v&&T.statics.scope===this.statics.scope&&this.attributes.move(T),T},v})(d.default);n.default=g}),(function(t,n,i){var a=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var v in b)b.hasOwnProperty(v)&&(g[v]=b[v])};return function(g,b){f(g,b);function v(){this.constructor=g}g.prototype=b===null?Object.create(b):(v.prototype=b.prototype,new v)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=i(30),c=i(1),d=(function(f){a(g,f);function g(){return f!==null&&f.apply(this,arguments)||this}return g.value=function(b){return!0},g.prototype.index=function(b,v){return this.domNode===b||this.domNode.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(v,1):-1},g.prototype.position=function(b,v){var y=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return b>0&&(y+=1),[this.parent.domNode,y]},g.prototype.value=function(){var b;return b={},b[this.statics.blotName]=this.statics.value(this.domNode)||!0,b},g.scope=c.Scope.INLINE_BLOT,g})(o.default);n.default=d}),(function(t,n,i){var a=i(11),o=i(3),c={attributes:{compose:function(f,g,b){typeof f!="object"&&(f={}),typeof g!="object"&&(g={});var v=o(!0,{},g);b||(v=Object.keys(v).reduce(function(w,T){return v[T]!=null&&(w[T]=v[T]),w},{}));for(var y in f)f[y]!==void 0&&g[y]===void 0&&(v[y]=f[y]);return Object.keys(v).length>0?v:void 0},diff:function(f,g){typeof f!="object"&&(f={}),typeof g!="object"&&(g={});var b=Object.keys(f).concat(Object.keys(g)).reduce(function(v,y){return a(f[y],g[y])||(v[y]=g[y]===void 0?null:g[y]),v},{});return Object.keys(b).length>0?b:void 0},transform:function(f,g,b){if(typeof f!="object")return g;if(typeof g=="object"){if(!b)return g;var v=Object.keys(g).reduce(function(y,w){return f[w]===void 0&&(y[w]=g[w]),y},{});return Object.keys(v).length>0?v:void 0}}},iterator:function(f){return new d(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function d(f){this.ops=f,this.index=0,this.offset=0}d.prototype.hasNext=function(){return this.peekLength()<1/0},d.prototype.next=function(f){f||(f=1/0);var g=this.ops[this.index];if(g){var b=this.offset,v=c.length(g);if(f>=v-b?(f=v-b,this.index+=1,this.offset=0):this.offset+=f,typeof g.delete=="number")return{delete:f};var y={};return g.attributes&&(y.attributes=g.attributes),typeof g.retain=="number"?y.retain=f:typeof g.insert=="string"?y.insert=g.insert.substr(b,f):y.insert=g.insert,y}else return{retain:1/0}},d.prototype.peek=function(){return this.ops[this.index]},d.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},d.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},d.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,g=this.index,b=this.next(),v=this.ops.slice(this.index);return this.offset=f,this.index=g,[b].concat(v)}else return[]},t.exports=c}),(function(t,n){var i=(function(){function a(T,N){return N!=null&&T instanceof N}var o;try{o=Map}catch{o=function(){}}var c;try{c=Set}catch{c=function(){}}var d;try{d=Promise}catch{d=function(){}}function f(T,N,_,j,C){typeof N=="object"&&(_=N.depth,j=N.prototype,C=N.includeNonEnumerable,N=N.circular);var A=[],P=[],U=typeof Buffer<"u";typeof N>"u"&&(N=!0),typeof _>"u"&&(_=1/0);function B(F,k){if(F===null)return null;if(k===0)return F;var z,V;if(typeof F!="object")return F;if(a(F,o))z=new o;else if(a(F,c))z=new c;else if(a(F,d))z=new d(function(G,Y){F.then(function(ne){G(B(ne,k-1))},function(ne){Y(B(ne,k-1))})});else if(f.__isArray(F))z=[];else if(f.__isRegExp(F))z=new RegExp(F.source,w(F)),F.lastIndex&&(z.lastIndex=F.lastIndex);else if(f.__isDate(F))z=new Date(F.getTime());else{if(U&&Buffer.isBuffer(F))return Buffer.allocUnsafe?z=Buffer.allocUnsafe(F.length):z=new Buffer(F.length),F.copy(z),z;a(F,Error)?z=Object.create(F):typeof j>"u"?(V=Object.getPrototypeOf(F),z=Object.create(V)):(z=Object.create(j),V=j)}if(N){var X=A.indexOf(F);if(X!=-1)return P[X];A.push(F),P.push(z)}a(F,o)&&F.forEach(function(G,Y){var ne=B(Y,k-1),le=B(G,k-1);z.set(ne,le)}),a(F,c)&&F.forEach(function(G){var Y=B(G,k-1);z.add(Y)});for(var J in F){var ee;V&&(ee=Object.getOwnPropertyDescriptor(V,J)),!(ee&&ee.set==null)&&(z[J]=B(F[J],k-1))}if(Object.getOwnPropertySymbols)for(var te=Object.getOwnPropertySymbols(F),J=0;J<te.length;J++){var W=te[J],K=Object.getOwnPropertyDescriptor(F,W);K&&!K.enumerable&&!C||(z[W]=B(F[W],k-1),K.enumerable||Object.defineProperty(z,W,{enumerable:!1}))}if(C)for(var $=Object.getOwnPropertyNames(F),J=0;J<$.length;J++){var oe=$[J],K=Object.getOwnPropertyDescriptor(F,oe);K&&K.enumerable||(z[oe]=B(F[oe],k-1),Object.defineProperty(z,oe,{enumerable:!1}))}return z}return B(T,_)}f.clonePrototype=function(N){if(N===null)return null;var _=function(){};return _.prototype=N,new _};function g(T){return Object.prototype.toString.call(T)}f.__objToStr=g;function b(T){return typeof T=="object"&&g(T)==="[object Date]"}f.__isDate=b;function v(T){return typeof T=="object"&&g(T)==="[object Array]"}f.__isArray=v;function y(T){return typeof T=="object"&&g(T)==="[object RegExp]"}f.__isRegExp=y;function w(T){var N="";return T.global&&(N+="g"),T.ignoreCase&&(N+="i"),T.multiline&&(N+="m"),N}return f.__getRegExpFlags=w,f})();typeof t=="object"&&t.exports&&(t.exports=i)}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function z(V,X){var J=[],ee=!0,te=!1,W=void 0;try{for(var K=V[Symbol.iterator](),$;!(ee=($=K.next()).done)&&(J.push($.value),!(X&&J.length===X));ee=!0);}catch(oe){te=!0,W=oe}finally{try{!ee&&K.return&&K.return()}finally{if(te)throw W}}return J}return function(V,X){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return z(V,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function z(V,X){for(var J=0;J<X.length;J++){var ee=X[J];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(V,ee.key,ee)}}return function(V,X,J){return X&&z(V.prototype,X),J&&z(V,J),V}})(),c=function z(V,X,J){V===null&&(V=Function.prototype);var ee=Object.getOwnPropertyDescriptor(V,X);if(ee===void 0){var te=Object.getPrototypeOf(V);return te===null?void 0:z(te,X,J)}else{if("value"in ee)return ee.value;var W=ee.get;return W===void 0?void 0:W.call(J)}},d=i(0),f=A(d),g=i(8),b=A(g),v=i(4),y=A(v),w=i(16),T=A(w),N=i(13),_=A(N),j=i(25),C=A(j);function A(z){return z&&z.__esModule?z:{default:z}}function P(z,V){if(!(z instanceof V))throw new TypeError("Cannot call a class as a function")}function U(z,V){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:z}function B(z,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);z.prototype=Object.create(V&&V.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(z,V):z.__proto__=V)}function F(z){return z instanceof y.default||z instanceof v.BlockEmbed}var k=(function(z){B(V,z);function V(X,J){P(this,V);var ee=U(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,X));return ee.emitter=J.emitter,Array.isArray(J.whitelist)&&(ee.whitelist=J.whitelist.reduce(function(te,W){return te[W]=!0,te},{})),ee.domNode.addEventListener("DOMNodeInserted",function(){}),ee.optimize(),ee.enable(),ee}return o(V,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(J,ee){var te=this.line(J),W=a(te,2),K=W[0],$=W[1],oe=this.line(J+ee),G=a(oe,1),Y=G[0];if(c(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"deleteAt",this).call(this,J,ee),Y!=null&&K!==Y&&$>0){if(K instanceof v.BlockEmbed||Y instanceof v.BlockEmbed){this.optimize();return}if(K instanceof _.default){var ne=K.newlineIndex(K.length(),!0);if(ne>-1&&(K=K.split(ne+1),K===Y)){this.optimize();return}}else if(Y instanceof _.default){var le=Y.newlineIndex(0);le>-1&&Y.split(le+1)}var be=Y.children.head instanceof T.default?null:Y.children.head;K.moveChildren(Y,be),K.remove()}this.optimize()}},{key:"enable",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",J)}},{key:"formatAt",value:function(J,ee,te,W){this.whitelist!=null&&!this.whitelist[te]||(c(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"formatAt",this).call(this,J,ee,te,W),this.optimize())}},{key:"insertAt",value:function(J,ee,te){if(!(te!=null&&this.whitelist!=null&&!this.whitelist[ee])){if(J>=this.length())if(te==null||f.default.query(ee,f.default.Scope.BLOCK)==null){var W=f.default.create(this.statics.defaultChild);this.appendChild(W),te==null&&ee.endsWith(`
`)&&(ee=ee.slice(0,-1)),W.insertAt(0,ee,te)}else{var K=f.default.create(ee,te);this.appendChild(K)}else c(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"insertAt",this).call(this,J,ee,te);this.optimize()}}},{key:"insertBefore",value:function(J,ee){if(J.statics.scope===f.default.Scope.INLINE_BLOT){var te=f.default.create(this.statics.defaultChild);te.appendChild(J),J=te}c(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"insertBefore",this).call(this,J,ee)}},{key:"leaf",value:function(J){return this.path(J).pop()||[null,-1]}},{key:"line",value:function(J){return J===this.length()?this.line(J-1):this.descendant(F,J)}},{key:"lines",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,te=function W(K,$,oe){var G=[],Y=oe;return K.children.forEachAt($,oe,function(ne,le,be){F(ne)?G.push(ne):ne instanceof f.default.Container&&(G=G.concat(W(ne,le,Y))),Y-=be}),G};return te(this,J,ee)}},{key:"optimize",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"optimize",this).call(this,J,ee),J.length>0&&this.emitter.emit(b.default.events.SCROLL_OPTIMIZE,J,ee))}},{key:"path",value:function(J){return c(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"path",this).call(this,J).slice(1)}},{key:"update",value:function(J){if(this.batch!==!0){var ee=b.default.sources.USER;typeof J=="string"&&(ee=J),Array.isArray(J)||(J=this.observer.takeRecords()),J.length>0&&this.emitter.emit(b.default.events.SCROLL_BEFORE_UPDATE,ee,J),c(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"update",this).call(this,J.concat([])),J.length>0&&this.emitter.emit(b.default.events.SCROLL_UPDATE,ee,J)}}}]),V})(f.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[y.default,v.BlockEmbed,C.default],n.default=k}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},o=(function(){function ie(ge,_e){var Te=[],Ee=!0,$e=!1,tt=void 0;try{for(var xe=ge[Symbol.iterator](),ke;!(Ee=(ke=xe.next()).done)&&(Te.push(ke.value),!(_e&&Te.length===_e));Ee=!0);}catch(Ve){$e=!0,tt=Ve}finally{try{!Ee&&xe.return&&xe.return()}finally{if($e)throw tt}}return Te}return function(ge,_e){if(Array.isArray(ge))return ge;if(Symbol.iterator in Object(ge))return ie(ge,_e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function ie(ge,_e){for(var Te=0;Te<_e.length;Te++){var Ee=_e[Te];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(ge,Ee.key,Ee)}}return function(ge,_e,Te){return _e&&ie(ge.prototype,_e),Te&&ie(ge,Te),ge}})(),d=i(21),f=z(d),g=i(11),b=z(g),v=i(3),y=z(v),w=i(2),T=z(w),N=i(20),_=z(N),j=i(0),C=z(j),A=i(5),P=z(A),U=i(10),B=z(U),F=i(9),k=z(F);function z(ie){return ie&&ie.__esModule?ie:{default:ie}}function V(ie,ge,_e){return ge in ie?Object.defineProperty(ie,ge,{value:_e,enumerable:!0,configurable:!0,writable:!0}):ie[ge]=_e,ie}function X(ie,ge){if(!(ie instanceof ge))throw new TypeError("Cannot call a class as a function")}function J(ie,ge){if(!ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ge&&(typeof ge=="object"||typeof ge=="function")?ge:ie}function ee(ie,ge){if(typeof ge!="function"&&ge!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ge);ie.prototype=Object.create(ge&&ge.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),ge&&(Object.setPrototypeOf?Object.setPrototypeOf(ie,ge):ie.__proto__=ge)}var te=(0,B.default)("quill:keyboard"),W=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",K=(function(ie){ee(ge,ie),c(ge,null,[{key:"match",value:function(Te,Ee){return Ee=ce(Ee),["altKey","ctrlKey","metaKey","shiftKey"].some(function($e){return!!Ee[$e]!==Te[$e]&&Ee[$e]!==null})?!1:Ee.key===(Te.which||Te.keyCode)}}]);function ge(_e,Te){X(this,ge);var Ee=J(this,(ge.__proto__||Object.getPrototypeOf(ge)).call(this,_e,Te));return Ee.bindings={},Object.keys(Ee.options.bindings).forEach(function($e){$e==="list autofill"&&_e.scroll.whitelist!=null&&!_e.scroll.whitelist.list||Ee.options.bindings[$e]&&Ee.addBinding(Ee.options.bindings[$e])}),Ee.addBinding({key:ge.keys.ENTER,shiftKey:null},ne),Ee.addBinding({key:ge.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Ee.addBinding({key:ge.keys.BACKSPACE},{collapsed:!0},oe),Ee.addBinding({key:ge.keys.DELETE},{collapsed:!0},G)):(Ee.addBinding({key:ge.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},oe),Ee.addBinding({key:ge.keys.DELETE},{collapsed:!0,suffix:/^.?$/},G)),Ee.addBinding({key:ge.keys.BACKSPACE},{collapsed:!1},Y),Ee.addBinding({key:ge.keys.DELETE},{collapsed:!1},Y),Ee.addBinding({key:ge.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},oe),Ee.listen(),Ee}return c(ge,[{key:"addBinding",value:function(Te){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tt=ce(Te);if(tt==null||tt.key==null)return te.warn("Attempted to add invalid keyboard binding",tt);typeof Ee=="function"&&(Ee={handler:Ee}),typeof $e=="function"&&($e={handler:$e}),tt=(0,y.default)(tt,Ee,$e),this.bindings[tt.key]=this.bindings[tt.key]||[],this.bindings[tt.key].push(tt)}},{key:"listen",value:function(){var Te=this;this.quill.root.addEventListener("keydown",function(Ee){if(!Ee.defaultPrevented){var $e=Ee.which||Ee.keyCode,tt=(Te.bindings[$e]||[]).filter(function(ot){return ge.match(Ee,ot)});if(tt.length!==0){var xe=Te.quill.getSelection();if(!(xe==null||!Te.quill.hasFocus())){var ke=Te.quill.getLine(xe.index),Ve=o(ke,2),nt=Ve[0],Xe=Ve[1],je=Te.quill.getLeaf(xe.index),de=o(je,2),ye=de[0],Be=de[1],Oe=xe.length===0?[ye,Be]:Te.quill.getLeaf(xe.index+xe.length),he=o(Oe,2),se=he[0],Me=he[1],qe=ye instanceof C.default.Text?ye.value().slice(0,Be):"",Ge=se instanceof C.default.Text?se.value().slice(Me):"",ze={collapsed:xe.length===0,empty:xe.length===0&&nt.length()<=1,format:Te.quill.getFormat(xe),offset:Xe,prefix:qe,suffix:Ge},St=tt.some(function(ot){if(ot.collapsed!=null&&ot.collapsed!==ze.collapsed||ot.empty!=null&&ot.empty!==ze.empty||ot.offset!=null&&ot.offset!==ze.offset)return!1;if(Array.isArray(ot.format)){if(ot.format.every(function(wt){return ze.format[wt]==null}))return!1}else if(a(ot.format)==="object"&&!Object.keys(ot.format).every(function(wt){return ot.format[wt]===!0?ze.format[wt]!=null:ot.format[wt]===!1?ze.format[wt]==null:(0,b.default)(ot.format[wt],ze.format[wt])}))return!1;return ot.prefix!=null&&!ot.prefix.test(ze.prefix)||ot.suffix!=null&&!ot.suffix.test(ze.suffix)?!1:ot.handler.call(Te,xe,ze)!==!0});St&&Ee.preventDefault()}}}})}}]),ge})(k.default);K.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},K.DEFAULTS={bindings:{bold:be("bold"),italic:be("italic"),underline:be("underline"),indent:{key:K.keys.TAB,format:["blockquote","indent","list"],handler:function(ge,_e){if(_e.collapsed&&_e.offset!==0)return!0;this.quill.format("indent","+1",P.default.sources.USER)}},outdent:{key:K.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(ge,_e){if(_e.collapsed&&_e.offset!==0)return!0;this.quill.format("indent","-1",P.default.sources.USER)}},"outdent backspace":{key:K.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(ge,_e){_e.format.indent!=null?this.quill.format("indent","-1",P.default.sources.USER):_e.format.list!=null&&this.quill.format("list",!1,P.default.sources.USER)}},"indent code-block":le(!0),"outdent code-block":le(!1),"remove tab":{key:K.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(ge){this.quill.deleteText(ge.index-1,1,P.default.sources.USER)}},tab:{key:K.keys.TAB,handler:function(ge){this.quill.history.cutoff();var _e=new T.default().retain(ge.index).delete(ge.length).insert("	");this.quill.updateContents(_e,P.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ge.index+1,P.default.sources.SILENT)}},"list empty enter":{key:K.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(ge,_e){this.quill.format("list",!1,P.default.sources.USER),_e.format.indent&&this.quill.format("indent",!1,P.default.sources.USER)}},"checklist enter":{key:K.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(ge){var _e=this.quill.getLine(ge.index),Te=o(_e,2),Ee=Te[0],$e=Te[1],tt=(0,y.default)({},Ee.formats(),{list:"checked"}),xe=new T.default().retain(ge.index).insert(`
`,tt).retain(Ee.length()-$e-1).retain(1,{list:"unchecked"});this.quill.updateContents(xe,P.default.sources.USER),this.quill.setSelection(ge.index+1,P.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:K.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(ge,_e){var Te=this.quill.getLine(ge.index),Ee=o(Te,2),$e=Ee[0],tt=Ee[1],xe=new T.default().retain(ge.index).insert(`
`,_e.format).retain($e.length()-tt-1).retain(1,{header:null});this.quill.updateContents(xe,P.default.sources.USER),this.quill.setSelection(ge.index+1,P.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(ge,_e){var Te=_e.prefix.length,Ee=this.quill.getLine(ge.index),$e=o(Ee,2),tt=$e[0],xe=$e[1];if(xe>Te)return!0;var ke=void 0;switch(_e.prefix.trim()){case"[]":case"[ ]":ke="unchecked";break;case"[x]":ke="checked";break;case"-":case"*":ke="bullet";break;default:ke="ordered"}this.quill.insertText(ge.index," ",P.default.sources.USER),this.quill.history.cutoff();var Ve=new T.default().retain(ge.index-xe).delete(Te+1).retain(tt.length()-2-xe).retain(1,{list:ke});this.quill.updateContents(Ve,P.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ge.index-Te,P.default.sources.SILENT)}},"code exit":{key:K.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(ge){var _e=this.quill.getLine(ge.index),Te=o(_e,2),Ee=Te[0],$e=Te[1],tt=new T.default().retain(ge.index+Ee.length()-$e-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(tt,P.default.sources.USER)}},"embed left":$(K.keys.LEFT,!1),"embed left shift":$(K.keys.LEFT,!0),"embed right":$(K.keys.RIGHT,!1),"embed right shift":$(K.keys.RIGHT,!0)}};function $(ie,ge){var _e,Te=ie===K.keys.LEFT?"prefix":"suffix";return _e={key:ie,shiftKey:ge,altKey:null},V(_e,Te,/^$/),V(_e,"handler",function($e){var tt=$e.index;ie===K.keys.RIGHT&&(tt+=$e.length+1);var xe=this.quill.getLeaf(tt),ke=o(xe,1),Ve=ke[0];return Ve instanceof C.default.Embed?(ie===K.keys.LEFT?ge?this.quill.setSelection($e.index-1,$e.length+1,P.default.sources.USER):this.quill.setSelection($e.index-1,P.default.sources.USER):ge?this.quill.setSelection($e.index,$e.length+1,P.default.sources.USER):this.quill.setSelection($e.index+$e.length+1,P.default.sources.USER),!1):!0}),_e}function oe(ie,ge){if(!(ie.index===0||this.quill.getLength()<=1)){var _e=this.quill.getLine(ie.index),Te=o(_e,1),Ee=Te[0],$e={};if(ge.offset===0){var tt=this.quill.getLine(ie.index-1),xe=o(tt,1),ke=xe[0];if(ke!=null&&ke.length()>1){var Ve=Ee.formats(),nt=this.quill.getFormat(ie.index-1,1);$e=_.default.attributes.diff(Ve,nt)||{}}}var Xe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ge.prefix)?2:1;this.quill.deleteText(ie.index-Xe,Xe,P.default.sources.USER),Object.keys($e).length>0&&this.quill.formatLine(ie.index-Xe,Xe,$e,P.default.sources.USER),this.quill.focus()}}function G(ie,ge){var _e=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ge.suffix)?2:1;if(!(ie.index>=this.quill.getLength()-_e)){var Te={},Ee=0,$e=this.quill.getLine(ie.index),tt=o($e,1),xe=tt[0];if(ge.offset>=xe.length()-1){var ke=this.quill.getLine(ie.index+1),Ve=o(ke,1),nt=Ve[0];if(nt){var Xe=xe.formats(),je=this.quill.getFormat(ie.index,1);Te=_.default.attributes.diff(Xe,je)||{},Ee=nt.length()}}this.quill.deleteText(ie.index,_e,P.default.sources.USER),Object.keys(Te).length>0&&this.quill.formatLine(ie.index+Ee-1,_e,Te,P.default.sources.USER)}}function Y(ie){var ge=this.quill.getLines(ie),_e={};if(ge.length>1){var Te=ge[0].formats(),Ee=ge[ge.length-1].formats();_e=_.default.attributes.diff(Ee,Te)||{}}this.quill.deleteText(ie,P.default.sources.USER),Object.keys(_e).length>0&&this.quill.formatLine(ie.index,1,_e,P.default.sources.USER),this.quill.setSelection(ie.index,P.default.sources.SILENT),this.quill.focus()}function ne(ie,ge){var _e=this;ie.length>0&&this.quill.scroll.deleteAt(ie.index,ie.length);var Te=Object.keys(ge.format).reduce(function(Ee,$e){return C.default.query($e,C.default.Scope.BLOCK)&&!Array.isArray(ge.format[$e])&&(Ee[$e]=ge.format[$e]),Ee},{});this.quill.insertText(ie.index,`
`,Te,P.default.sources.USER),this.quill.setSelection(ie.index+1,P.default.sources.SILENT),this.quill.focus(),Object.keys(ge.format).forEach(function(Ee){Te[Ee]==null&&(Array.isArray(ge.format[Ee])||Ee!=="link"&&_e.quill.format(Ee,ge.format[Ee],P.default.sources.USER))})}function le(ie){return{key:K.keys.TAB,shiftKey:!ie,format:{"code-block":!0},handler:function(_e){var Te=C.default.query("code-block"),Ee=_e.index,$e=_e.length,tt=this.quill.scroll.descendant(Te,Ee),xe=o(tt,2),ke=xe[0],Ve=xe[1];if(ke!=null){var nt=this.quill.getIndex(ke),Xe=ke.newlineIndex(Ve,!0)+1,je=ke.newlineIndex(nt+Ve+$e),de=ke.domNode.textContent.slice(Xe,je).split(`
`);Ve=0,de.forEach(function(ye,Be){ie?(ke.insertAt(Xe+Ve,Te.TAB),Ve+=Te.TAB.length,Be===0?Ee+=Te.TAB.length:$e+=Te.TAB.length):ye.startsWith(Te.TAB)&&(ke.deleteAt(Xe+Ve,Te.TAB.length),Ve-=Te.TAB.length,Be===0?Ee-=Te.TAB.length:$e-=Te.TAB.length),Ve+=ye.length+1}),this.quill.update(P.default.sources.USER),this.quill.setSelection(Ee,$e,P.default.sources.SILENT)}}}}function be(ie){return{key:ie[0].toUpperCase(),shortKey:!0,handler:function(_e,Te){this.quill.format(ie,!Te.format[ie],P.default.sources.USER)}}}function ce(ie){if(typeof ie=="string"||typeof ie=="number")return ce({key:ie});if((typeof ie>"u"?"undefined":a(ie))==="object"&&(ie=(0,f.default)(ie,!1)),typeof ie.key=="string")if(K.keys[ie.key.toUpperCase()]!=null)ie.key=K.keys[ie.key.toUpperCase()];else if(ie.key.length===1)ie.key=ie.key.toUpperCase().charCodeAt(0);else return null;return ie.shortKey&&(ie[W]=ie.shortKey,delete ie.shortKey),ie}n.default=K,n.SHORTKEY=W}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function _(j,C){var A=[],P=!0,U=!1,B=void 0;try{for(var F=j[Symbol.iterator](),k;!(P=(k=F.next()).done)&&(A.push(k.value),!(C&&A.length===C));P=!0);}catch(z){U=!0,B=z}finally{try{!P&&F.return&&F.return()}finally{if(U)throw B}}return A}return function(j,C){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return _(j,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=function _(j,C,A){j===null&&(j=Function.prototype);var P=Object.getOwnPropertyDescriptor(j,C);if(P===void 0){var U=Object.getPrototypeOf(j);return U===null?void 0:_(U,C,A)}else{if("value"in P)return P.value;var B=P.get;return B===void 0?void 0:B.call(A)}},c=(function(){function _(j,C){for(var A=0;A<C.length;A++){var P=C[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(j,P.key,P)}}return function(j,C,A){return C&&_(j.prototype,C),A&&_(j,A),j}})(),d=i(0),f=v(d),g=i(7),b=v(g);function v(_){return _&&_.__esModule?_:{default:_}}function y(_,j){if(!(_ instanceof j))throw new TypeError("Cannot call a class as a function")}function w(_,j){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:_}function T(_,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);_.prototype=Object.create(j&&j.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(_,j):_.__proto__=j)}var N=(function(_){T(j,_),c(j,null,[{key:"value",value:function(){}}]);function j(C,A){y(this,j);var P=w(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,C));return P.selection=A,P.textNode=document.createTextNode(j.CONTENTS),P.domNode.appendChild(P.textNode),P._length=0,P}return c(j,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(A,P){if(this._length!==0)return o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,A,P);for(var U=this,B=0;U!=null&&U.statics.scope!==f.default.Scope.BLOCK_BLOT;)B+=U.offset(U.parent),U=U.parent;U!=null&&(this._length=j.CONTENTS.length,U.optimize(),U.formatAt(B,j.CONTENTS.length,A,P),this._length=0)}},{key:"index",value:function(A,P){return A===this.textNode?0:o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"index",this).call(this,A,P)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var A=this.textNode,P=this.selection.getNativeRange(),U=void 0,B=void 0,F=void 0;if(P!=null&&P.start.node===A&&P.end.node===A){var k=[A,P.start.offset,P.end.offset];U=k[0],B=k[1],F=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==j.CONTENTS){var z=this.textNode.data.split(j.CONTENTS).join("");this.next instanceof b.default?(U=this.next.domNode,this.next.insertAt(0,z),this.textNode.data=j.CONTENTS):(this.textNode.data=z,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(j.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),B!=null){var V=[B,F].map(function(J){return Math.max(0,Math.min(U.data.length,J-1))}),X=a(V,2);return B=X[0],F=X[1],{startNode:U,startOffset:B,endNode:U,endOffset:F}}}}},{key:"update",value:function(A,P){var U=this;if(A.some(function(F){return F.type==="characterData"&&F.target===U.textNode})){var B=this.restore();B&&(P.range=B)}}},{key:"value",value:function(){return""}}]),j})(f.default.Embed);N.blotName="cursor",N.className="ql-cursor",N.tagName="span",N.CONTENTS="\uFEFF",n.default=N}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=f(a),c=i(4),d=f(c);function f(w){return w&&w.__esModule?w:{default:w}}function g(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function b(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function v(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var y=(function(w){v(T,w);function T(){return g(this,T),b(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return T})(o.default.Container);y.allowedChildren=[d.default,c.BlockEmbed,y],n.default=y}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=(function(){function N(_,j){for(var C=0;C<j.length;C++){var A=j[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,j,C){return j&&N(_.prototype,j),C&&N(_,C),_}})(),o=function N(_,j,C){_===null&&(_=Function.prototype);var A=Object.getOwnPropertyDescriptor(_,j);if(A===void 0){var P=Object.getPrototypeOf(_);return P===null?void 0:N(P,j,C)}else{if("value"in A)return A.value;var U=A.get;return U===void 0?void 0:U.call(C)}},c=i(0),d=f(c);function f(N){return N&&N.__esModule?N:{default:N}}function g(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function b(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function v(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}var y=(function(N){v(_,N);function _(){return g(this,_),b(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"value",value:function(C){var A=o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,C);return A.startsWith("rgb(")?(A=A.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+A.split(",").map(function(P){return("00"+parseInt(P).toString(16)).slice(-2)}).join("")):A}}]),_})(d.default.Attributor.Style),w=new d.default.Attributor.Class("color","ql-color",{scope:d.default.Scope.INLINE}),T=new y("color","color",{scope:d.default.Scope.INLINE});n.ColorAttributor=y,n.ColorClass=w,n.ColorStyle=T}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=(function(){function T(N,_){for(var j=0;j<_.length;j++){var C=_[j];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(N,C.key,C)}}return function(N,_,j){return _&&T(N.prototype,_),j&&T(N,j),N}})(),o=function T(N,_,j){N===null&&(N=Function.prototype);var C=Object.getOwnPropertyDescriptor(N,_);if(C===void 0){var A=Object.getPrototypeOf(N);return A===null?void 0:T(A,_,j)}else{if("value"in C)return C.value;var P=C.get;return P===void 0?void 0:P.call(j)}},c=i(6),d=f(c);function f(T){return T&&T.__esModule?T:{default:T}}function g(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}function b(T,N){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:T}function v(T,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(T,N):T.__proto__=N)}var y=(function(T){v(N,T);function N(){return g(this,N),b(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,[{key:"format",value:function(j,C){if(j!==this.statics.blotName||!C)return o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,j,C);C=this.constructor.sanitize(C),this.domNode.setAttribute("href",C)}}],[{key:"create",value:function(j){var C=o(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,j);return j=this.sanitize(j),C.setAttribute("href",j),C.setAttribute("rel","noopener noreferrer"),C.setAttribute("target","_blank"),C}},{key:"formats",value:function(j){return j.getAttribute("href")}},{key:"sanitize",value:function(j){return w(j,this.PROTOCOL_WHITELIST)?j:this.SANITIZED_URL}}]),N})(d.default);y.blotName="link",y.tagName="A",y.SANITIZED_URL="about:blank",y.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function w(T,N){var _=document.createElement("a");_.href=T;var j=_.href.slice(0,_.href.indexOf(":"));return N.indexOf(j)>-1}n.default=y,n.sanitize=w}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},o=(function(){function N(_,j){for(var C=0;C<j.length;C++){var A=j[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,j,C){return j&&N(_.prototype,j),C&&N(_,C),_}})(),c=i(23),d=b(c),f=i(107),g=b(f);function b(N){return N&&N.__esModule?N:{default:N}}function v(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}var y=0;function w(N,_){N.setAttribute(_,N.getAttribute(_)!=="true")}var T=(function(){function N(_){var j=this;v(this,N),this.select=_,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){j.togglePicker()}),this.label.addEventListener("keydown",function(C){switch(C.keyCode){case d.default.keys.ENTER:j.togglePicker();break;case d.default.keys.ESCAPE:j.escape(),C.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(N,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),w(this.label,"aria-expanded"),w(this.options,"aria-hidden")}},{key:"buildItem",value:function(j){var C=this,A=document.createElement("span");return A.tabIndex="0",A.setAttribute("role","button"),A.classList.add("ql-picker-item"),j.hasAttribute("value")&&A.setAttribute("data-value",j.getAttribute("value")),j.textContent&&A.setAttribute("data-label",j.textContent),A.addEventListener("click",function(){C.selectItem(A,!0)}),A.addEventListener("keydown",function(P){switch(P.keyCode){case d.default.keys.ENTER:C.selectItem(A,!0),P.preventDefault();break;case d.default.keys.ESCAPE:C.escape(),P.preventDefault();break}}),A}},{key:"buildLabel",value:function(){var j=document.createElement("span");return j.classList.add("ql-picker-label"),j.innerHTML=g.default,j.tabIndex="0",j.setAttribute("role","button"),j.setAttribute("aria-expanded","false"),this.container.appendChild(j),j}},{key:"buildOptions",value:function(){var j=this,C=document.createElement("span");C.classList.add("ql-picker-options"),C.setAttribute("aria-hidden","true"),C.tabIndex="-1",C.id="ql-picker-options-"+y,y+=1,this.label.setAttribute("aria-controls",C.id),this.options=C,[].slice.call(this.select.options).forEach(function(A){var P=j.buildItem(A);C.appendChild(P),A.selected===!0&&j.selectItem(P)}),this.container.appendChild(C)}},{key:"buildPicker",value:function(){var j=this;[].slice.call(this.select.attributes).forEach(function(C){j.container.setAttribute(C.name,C.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var j=this;this.close(),setTimeout(function(){return j.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(j){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=this.container.querySelector(".ql-selected");if(j!==A&&(A?.classList.remove("ql-selected"),j!=null&&(j.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(j.parentNode.children,j),j.hasAttribute("data-value")?this.label.setAttribute("data-value",j.getAttribute("data-value")):this.label.removeAttribute("data-value"),j.hasAttribute("data-label")?this.label.setAttribute("data-label",j.getAttribute("data-label")):this.label.removeAttribute("data-label"),C))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var P=document.createEvent("Event");P.initEvent("change",!0,!0),this.select.dispatchEvent(P)}this.close()}}},{key:"update",value:function(){var j=void 0;if(this.select.selectedIndex>-1){var C=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];j=this.select.options[this.select.selectedIndex],this.selectItem(C)}else this.selectItem(null);var A=j!=null&&j!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",A)}}]),N})();n.default=T}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=te(a),c=i(5),d=te(c),f=i(4),g=te(f),b=i(16),v=te(b),y=i(25),w=te(y),T=i(24),N=te(T),_=i(35),j=te(_),C=i(6),A=te(C),P=i(22),U=te(P),B=i(7),F=te(B),k=i(55),z=te(k),V=i(42),X=te(V),J=i(23),ee=te(J);function te(W){return W&&W.__esModule?W:{default:W}}d.default.register({"blots/block":g.default,"blots/block/embed":f.BlockEmbed,"blots/break":v.default,"blots/container":w.default,"blots/cursor":N.default,"blots/embed":j.default,"blots/inline":A.default,"blots/scroll":U.default,"blots/text":F.default,"modules/clipboard":z.default,"modules/history":X.default,"modules/keyboard":ee.default}),o.default.register(g.default,v.default,N.default,A.default,U.default,F.default),n.default=d.default}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=(function(){function c(d){this.domNode=d,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(d){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof d=="string"&&(d=d.toUpperCase(),parseInt(d).toString()===d&&(d=parseInt(d))),typeof d=="number"?f=document.createElement(this.tagName[d-1]):this.tagName.indexOf(d)>-1?f=document.createElement(d):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var d=this.domNode.cloneNode(!1);return a.create(d)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},c.prototype.deleteAt=function(d,f){var g=this.isolate(d,f);g.remove()},c.prototype.formatAt=function(d,f,g,b){var v=this.isolate(d,f);if(a.query(g,a.Scope.BLOT)!=null&&b)v.wrap(g,b);else if(a.query(g,a.Scope.ATTRIBUTE)!=null){var y=a.create(this.statics.scope);v.wrap(y),y.format(g,b)}},c.prototype.insertAt=function(d,f,g){var b=g==null?a.create("text",f):a.create(f,g),v=this.split(d);this.parent.insertBefore(b,v)},c.prototype.insertInto=function(d,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var g=null;d.children.insertBefore(this,f),f!=null&&(g=f.domNode),(this.domNode.parentNode!=d.domNode||this.domNode.nextSibling!=g)&&d.domNode.insertBefore(this.domNode,g),this.parent=d,this.attach()},c.prototype.isolate=function(d,f){var g=this.split(d);return g.split(f),g},c.prototype.length=function(){return 1},c.prototype.offset=function(d){return d===void 0&&(d=this.parent),this.parent==null||this==d?0:this.parent.children.offset(this)+this.parent.offset(d)},c.prototype.optimize=function(d){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(d){d.parent!=null&&(d.parent.insertBefore(this,d.next),d.remove())},c.prototype.replaceWith=function(d,f){var g=typeof d=="string"?a.create(d,f):d;return g.replace(this),g},c.prototype.split=function(d,f){return d===0?this:this.next},c.prototype.update=function(d,f){},c.prototype.wrap=function(d,f){var g=typeof d=="string"?a.create(d,f):d;return this.parent!=null&&this.parent.insertBefore(g,this.next),g.appendChild(this),g},c.blotName="abstract",c})();n.default=o}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),o=i(32),c=i(33),d=i(1),f=(function(){function g(b){this.attributes={},this.domNode=b,this.build()}return g.prototype.attribute=function(b,v){v?b.add(this.domNode,v)&&(b.value(this.domNode)!=null?this.attributes[b.attrName]=b:delete this.attributes[b.attrName]):(b.remove(this.domNode),delete this.attributes[b.attrName])},g.prototype.build=function(){var b=this;this.attributes={};var v=a.default.keys(this.domNode),y=o.default.keys(this.domNode),w=c.default.keys(this.domNode);v.concat(y).concat(w).forEach(function(T){var N=d.query(T,d.Scope.ATTRIBUTE);N instanceof a.default&&(b.attributes[N.attrName]=N)})},g.prototype.copy=function(b){var v=this;Object.keys(this.attributes).forEach(function(y){var w=v.attributes[y].value(v.domNode);b.format(y,w)})},g.prototype.move=function(b){var v=this;this.copy(b),Object.keys(this.attributes).forEach(function(y){v.attributes[y].remove(v.domNode)}),this.attributes={}},g.prototype.values=function(){var b=this;return Object.keys(this.attributes).reduce(function(v,y){return v[y]=b.attributes[y].value(b.domNode),v},{})},g})();n.default=f}),(function(t,n,i){var a=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var v in b)b.hasOwnProperty(v)&&(g[v]=b[v])};return function(g,b){f(g,b);function v(){this.constructor=g}g.prototype=b===null?Object.create(b):(v.prototype=b.prototype,new v)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function c(f,g){var b=f.getAttribute("class")||"";return b.split(/\s+/).filter(function(v){return v.indexOf(g+"-")===0})}var d=(function(f){a(g,f);function g(){return f!==null&&f.apply(this,arguments)||this}return g.keys=function(b){return(b.getAttribute("class")||"").split(/\s+/).map(function(v){return v.split("-").slice(0,-1).join("-")})},g.prototype.add=function(b,v){return this.canAdd(b,v)?(this.remove(b),b.classList.add(this.keyName+"-"+v),!0):!1},g.prototype.remove=function(b){var v=c(b,this.keyName);v.forEach(function(y){b.classList.remove(y)}),b.classList.length===0&&b.removeAttribute("class")},g.prototype.value=function(b){var v=c(b,this.keyName)[0]||"",y=v.slice(this.keyName.length+1);return this.canAdd(b,y)?y:""},g})(o.default);n.default=d}),(function(t,n,i){var a=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var v in b)b.hasOwnProperty(v)&&(g[v]=b[v])};return function(g,b){f(g,b);function v(){this.constructor=g}g.prototype=b===null?Object.create(b):(v.prototype=b.prototype,new v)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function c(f){var g=f.split("-"),b=g.slice(1).map(function(v){return v[0].toUpperCase()+v.slice(1)}).join("");return g[0]+b}var d=(function(f){a(g,f);function g(){return f!==null&&f.apply(this,arguments)||this}return g.keys=function(b){return(b.getAttribute("style")||"").split(";").map(function(v){var y=v.split(":");return y[0].trim()})},g.prototype.add=function(b,v){return this.canAdd(b,v)?(b.style[c(this.keyName)]=v,!0):!1},g.prototype.remove=function(b){b.style[c(this.keyName)]="",b.getAttribute("style")||b.removeAttribute("style")},g.prototype.value=function(b){var v=b.style[c(this.keyName)];return this.canAdd(b,v)?v:""},g})(o.default);n.default=d}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function d(f,g){for(var b=0;b<g.length;b++){var v=g[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(f,v.key,v)}}return function(f,g,b){return g&&d(f.prototype,g),b&&d(f,b),f}})();function o(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var c=(function(){function d(f,g){o(this,d),this.quill=f,this.options=g,this.modules={}}return a(d,[{key:"init",value:function(){var g=this;Object.keys(this.options.modules).forEach(function(b){g.modules[b]==null&&g.addModule(b)})}},{key:"addModule",value:function(g){var b=this.quill.constructor.import("modules/"+g);return this.modules[g]=new b(this.quill,this.options.modules[g]||{}),this.modules[g]}}]),d})();c.DEFAULTS={modules:{}},c.themes={default:c},n.default=c}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function _(j,C){for(var A=0;A<C.length;A++){var P=C[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(j,P.key,P)}}return function(j,C,A){return C&&_(j.prototype,C),A&&_(j,A),j}})(),o=function _(j,C,A){j===null&&(j=Function.prototype);var P=Object.getOwnPropertyDescriptor(j,C);if(P===void 0){var U=Object.getPrototypeOf(j);return U===null?void 0:_(U,C,A)}else{if("value"in P)return P.value;var B=P.get;return B===void 0?void 0:B.call(A)}},c=i(0),d=b(c),f=i(7),g=b(f);function b(_){return _&&_.__esModule?_:{default:_}}function v(_,j){if(!(_ instanceof j))throw new TypeError("Cannot call a class as a function")}function y(_,j){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:_}function w(_,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);_.prototype=Object.create(j&&j.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(_,j):_.__proto__=j)}var T="\uFEFF",N=(function(_){w(j,_);function j(C){v(this,j);var A=y(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,C));return A.contentNode=document.createElement("span"),A.contentNode.setAttribute("contenteditable",!1),[].slice.call(A.domNode.childNodes).forEach(function(P){A.contentNode.appendChild(P)}),A.leftGuard=document.createTextNode(T),A.rightGuard=document.createTextNode(T),A.domNode.appendChild(A.leftGuard),A.domNode.appendChild(A.contentNode),A.domNode.appendChild(A.rightGuard),A}return a(j,[{key:"index",value:function(A,P){return A===this.leftGuard?0:A===this.rightGuard?1:o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"index",this).call(this,A,P)}},{key:"restore",value:function(A){var P=void 0,U=void 0,B=A.data.split(T).join("");if(A===this.leftGuard)if(this.prev instanceof g.default){var F=this.prev.length();this.prev.insertAt(F,B),P={startNode:this.prev.domNode,startOffset:F+B.length}}else U=document.createTextNode(B),this.parent.insertBefore(d.default.create(U),this),P={startNode:U,startOffset:B.length};else A===this.rightGuard&&(this.next instanceof g.default?(this.next.insertAt(0,B),P={startNode:this.next.domNode,startOffset:B.length}):(U=document.createTextNode(B),this.parent.insertBefore(d.default.create(U),this.next),P={startNode:U,startOffset:B.length}));return A.data=T,P}},{key:"update",value:function(A,P){var U=this;A.forEach(function(B){if(B.type==="characterData"&&(B.target===U.leftGuard||B.target===U.rightGuard)){var F=U.restore(B.target);F&&(P.range=F)}})}}]),j})(d.default.Embed);n.default=N}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),o=c(a);function c(v){return v&&v.__esModule?v:{default:v}}var d={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new o.default.Attributor.Attribute("align","align",d),g=new o.default.Attributor.Class("align","ql-align",d),b=new o.default.Attributor.Style("align","text-align",d);n.AlignAttribute=f,n.AlignClass=g,n.AlignStyle=b}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),o=d(a),c=i(26);function d(b){return b&&b.__esModule?b:{default:b}}var f=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),g=new c.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=f,n.BackgroundStyle=g}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),o=c(a);function c(v){return v&&v.__esModule?v:{default:v}}var d={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},f=new o.default.Attributor.Attribute("direction","dir",d),g=new o.default.Attributor.Class("direction","ql-direction",d),b=new o.default.Attributor.Style("direction","direction",d);n.DirectionAttribute=f,n.DirectionClass=g,n.DirectionStyle=b}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=(function(){function _(j,C){for(var A=0;A<C.length;A++){var P=C[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(j,P.key,P)}}return function(j,C,A){return C&&_(j.prototype,C),A&&_(j,A),j}})(),o=function _(j,C,A){j===null&&(j=Function.prototype);var P=Object.getOwnPropertyDescriptor(j,C);if(P===void 0){var U=Object.getPrototypeOf(j);return U===null?void 0:_(U,C,A)}else{if("value"in P)return P.value;var B=P.get;return B===void 0?void 0:B.call(A)}},c=i(0),d=f(c);function f(_){return _&&_.__esModule?_:{default:_}}function g(_,j){if(!(_ instanceof j))throw new TypeError("Cannot call a class as a function")}function b(_,j){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:_}function v(_,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);_.prototype=Object.create(j&&j.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(_,j):_.__proto__=j)}var y={scope:d.default.Scope.INLINE,whitelist:["serif","monospace"]},w=new d.default.Attributor.Class("font","ql-font",y),T=(function(_){v(j,_);function j(){return g(this,j),b(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return a(j,[{key:"value",value:function(A){return o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"value",this).call(this,A).replace(/["']/g,"")}}]),j})(d.default.Attributor.Style),N=new T("font","font-family",y);n.FontStyle=N,n.FontClass=w}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),o=c(a);function c(g){return g&&g.__esModule?g:{default:g}}var d=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=d,n.SizeStyle=f}),(function(t,n,i){t.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=(function(){function C(A,P){for(var U=0;U<P.length;U++){var B=P[U];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}return function(A,P,U){return P&&C(A.prototype,P),U&&C(A,U),A}})(),o=i(0),c=v(o),d=i(5),f=v(d),g=i(9),b=v(g);function v(C){return C&&C.__esModule?C:{default:C}}function y(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")}function w(C,A){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:C}function T(C,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);C.prototype=Object.create(A&&A.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(C,A):C.__proto__=A)}var N=(function(C){T(A,C);function A(P,U){y(this,A);var B=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P,U));return B.lastRecorded=0,B.ignoreChange=!1,B.clear(),B.quill.on(f.default.events.EDITOR_CHANGE,function(F,k,z,V){F!==f.default.events.TEXT_CHANGE||B.ignoreChange||(!B.options.userOnly||V===f.default.sources.USER?B.record(k,z):B.transform(k))}),B.quill.keyboard.addBinding({key:"Z",shortKey:!0},B.undo.bind(B)),B.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},B.redo.bind(B)),/Win/i.test(navigator.platform)&&B.quill.keyboard.addBinding({key:"Y",shortKey:!0},B.redo.bind(B)),B}return a(A,[{key:"change",value:function(U,B){if(this.stack[U].length!==0){var F=this.stack[U].pop();this.stack[B].push(F),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(F[U],f.default.sources.USER),this.ignoreChange=!1;var k=j(F[U]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(U,B){if(U.ops.length!==0){this.stack.redo=[];var F=this.quill.getContents().diff(B),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var z=this.stack.undo.pop();F=F.compose(z.undo),U=z.redo.compose(U)}else this.lastRecorded=k;this.stack.undo.push({redo:U,undo:F}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(U){this.stack.undo.forEach(function(B){B.undo=U.transform(B.undo,!0),B.redo=U.transform(B.redo,!0)}),this.stack.redo.forEach(function(B){B.undo=U.transform(B.undo,!0),B.redo=U.transform(B.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),A})(b.default);N.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function _(C){var A=C.ops[C.ops.length-1];return A==null?!1:A.insert!=null?typeof A.insert=="string"&&A.insert.endsWith(`
`):A.attributes!=null?Object.keys(A.attributes).some(function(P){return c.default.query(P,c.default.Scope.BLOCK)!=null}):!1}function j(C){var A=C.reduce(function(U,B){return U+=B.delete||0,U},0),P=C.length()-A;return _(C)&&(P-=1),P}n.default=N,n.getLastChangeIndex=j}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=(function(){function ne(le,be){for(var ce=0;ce<be.length;ce++){var ie=be[ce];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(le,ie.key,ie)}}return function(le,be,ce){return be&&ne(le.prototype,be),ce&&ne(le,ce),le}})(),o=function ne(le,be,ce){le===null&&(le=Function.prototype);var ie=Object.getOwnPropertyDescriptor(le,be);if(ie===void 0){var ge=Object.getPrototypeOf(le);return ge===null?void 0:ne(ge,be,ce)}else{if("value"in ie)return ie.value;var _e=ie.get;return _e===void 0?void 0:_e.call(ce)}},c=i(3),d=k(c),f=i(2),g=k(f),b=i(8),v=k(b),y=i(23),w=k(y),T=i(34),N=k(T),_=i(59),j=k(_),C=i(60),A=k(C),P=i(28),U=k(P),B=i(61),F=k(B);function k(ne){return ne&&ne.__esModule?ne:{default:ne}}function z(ne,le){if(!(ne instanceof le))throw new TypeError("Cannot call a class as a function")}function V(ne,le){if(!ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le&&(typeof le=="object"||typeof le=="function")?le:ne}function X(ne,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof le);ne.prototype=Object.create(le&&le.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),le&&(Object.setPrototypeOf?Object.setPrototypeOf(ne,le):ne.__proto__=le)}var J=[!1,"center","right","justify"],ee=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],te=[!1,"serif","monospace"],W=["1","2","3",!1],K=["small",!1,"large","huge"],$=(function(ne){X(le,ne);function le(be,ce){z(this,le);var ie=V(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,be,ce)),ge=function _e(Te){if(!document.body.contains(be.root))return document.body.removeEventListener("click",_e);ie.tooltip!=null&&!ie.tooltip.root.contains(Te.target)&&document.activeElement!==ie.tooltip.textbox&&!ie.quill.hasFocus()&&ie.tooltip.hide(),ie.pickers!=null&&ie.pickers.forEach(function(Ee){Ee.container.contains(Te.target)||Ee.close()})};return be.emitter.listenDOM("click",document.body,ge),ie}return a(le,[{key:"addModule",value:function(ce){var ie=o(le.prototype.__proto__||Object.getPrototypeOf(le.prototype),"addModule",this).call(this,ce);return ce==="toolbar"&&this.extendToolbar(ie),ie}},{key:"buildButtons",value:function(ce,ie){ce.forEach(function(ge){var _e=ge.getAttribute("class")||"";_e.split(/\s+/).forEach(function(Te){if(Te.startsWith("ql-")&&(Te=Te.slice(3),ie[Te]!=null))if(Te==="direction")ge.innerHTML=ie[Te][""]+ie[Te].rtl;else if(typeof ie[Te]=="string")ge.innerHTML=ie[Te];else{var Ee=ge.value||"";Ee!=null&&ie[Te][Ee]&&(ge.innerHTML=ie[Te][Ee])}})})}},{key:"buildPickers",value:function(ce,ie){var ge=this;this.pickers=ce.map(function(Te){if(Te.classList.contains("ql-align"))return Te.querySelector("option")==null&&Y(Te,J),new A.default(Te,ie.align);if(Te.classList.contains("ql-background")||Te.classList.contains("ql-color")){var Ee=Te.classList.contains("ql-background")?"background":"color";return Te.querySelector("option")==null&&Y(Te,ee,Ee==="background"?"#ffffff":"#000000"),new j.default(Te,ie[Ee])}else return Te.querySelector("option")==null&&(Te.classList.contains("ql-font")?Y(Te,te):Te.classList.contains("ql-header")?Y(Te,W):Te.classList.contains("ql-size")&&Y(Te,K)),new U.default(Te)});var _e=function(){ge.pickers.forEach(function(Ee){Ee.update()})};this.quill.on(v.default.events.EDITOR_CHANGE,_e)}}]),le})(N.default);$.DEFAULTS=(0,d.default)(!0,{},N.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var le=this,be=this.container.querySelector("input.ql-image[type=file]");be==null&&(be=document.createElement("input"),be.setAttribute("type","file"),be.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),be.classList.add("ql-image"),be.addEventListener("change",function(){if(be.files!=null&&be.files[0]!=null){var ce=new FileReader;ce.onload=function(ie){var ge=le.quill.getSelection(!0);le.quill.updateContents(new g.default().retain(ge.index).delete(ge.length).insert({image:ie.target.result}),v.default.sources.USER),le.quill.setSelection(ge.index+1,v.default.sources.SILENT),be.value=""},ce.readAsDataURL(be.files[0])}}),this.container.appendChild(be)),be.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var oe=(function(ne){X(le,ne);function le(be,ce){z(this,le);var ie=V(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,be,ce));return ie.textbox=ie.root.querySelector('input[type="text"]'),ie.listen(),ie}return a(le,[{key:"listen",value:function(){var ce=this;this.textbox.addEventListener("keydown",function(ie){w.default.match(ie,"enter")?(ce.save(),ie.preventDefault()):w.default.match(ie,"escape")&&(ce.cancel(),ie.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),ie!=null?this.textbox.value=ie:ce!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+ce)||""),this.root.setAttribute("data-mode",ce)}},{key:"restoreFocus",value:function(){var ce=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=ce}},{key:"save",value:function(){var ce=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var ie=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",ce,v.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",ce,v.default.sources.USER)),this.quill.root.scrollTop=ie;break}case"video":ce=G(ce);case"formula":{if(!ce)break;var ge=this.quill.getSelection(!0);if(ge!=null){var _e=ge.index+ge.length;this.quill.insertEmbed(_e,this.root.getAttribute("data-mode"),ce,v.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(_e+1," ",v.default.sources.USER),this.quill.setSelection(_e+2,v.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),le})(F.default);function G(ne){var le=ne.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||ne.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return le?(le[1]||"https")+"://www.youtube.com/embed/"+le[2]+"?showinfo=0":(le=ne.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(le[1]||"https")+"://player.vimeo.com/video/"+le[2]+"/":ne}function Y(ne,le){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;le.forEach(function(ce){var ie=document.createElement("option");ce===be?ie.setAttribute("selected","selected"):ie.setAttribute("value",ce),ne.appendChild(ie)})}n.BaseTooltip=oe,n.default=$}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},o.prototype.contains=function(c){for(var d,f=this.iterator();d=f();)if(d===c)return!0;return!1},o.prototype.insertBefore=function(c,d){c&&(c.next=d,d!=null?(c.prev=d.prev,d.prev!=null&&(d.prev.next=c),d.prev=c,d===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},o.prototype.offset=function(c){for(var d=0,f=this.head;f!=null;){if(f===c)return d;d+=f.length(),f=f.next}return-1},o.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},o.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var d=c;return c!=null&&(c=c.next),d}},o.prototype.find=function(c,d){d===void 0&&(d=!1);for(var f,g=this.iterator();f=g();){var b=f.length();if(c<b||d&&c===b&&(f.next==null||f.next.length()!==0))return[f,c];c-=b}return[null,0]},o.prototype.forEach=function(c){for(var d,f=this.iterator();d=f();)c(d)},o.prototype.forEachAt=function(c,d,f){if(!(d<=0))for(var g=this.find(c),b=g[0],v=g[1],y,w=c-v,T=this.iterator(b);(y=T())&&w<c+d;){var N=y.length();c>w?f(y,c-w,Math.min(d,w+N-c)):f(y,0,Math.min(N,c+d-w)),w+=N}},o.prototype.map=function(c){return this.reduce(function(d,f){return d.push(c(f)),d},[])},o.prototype.reduce=function(c,d){for(var f,g=this.iterator();f=g();)d=c(d,f);return d},o})();n.default=a}),(function(t,n,i){var a=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var w in y)y.hasOwnProperty(w)&&(v[w]=y[w])};return function(v,y){b(v,y);function w(){this.constructor=v}v.prototype=y===null?Object.create(y):(w.prototype=y.prototype,new w)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),c=i(1),d={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,g=(function(b){a(v,b);function v(y){var w=b.call(this,y)||this;return w.scroll=w,w.observer=new MutationObserver(function(T){w.update(T)}),w.observer.observe(w.domNode,d),w.attach(),w}return v.prototype.detach=function(){b.prototype.detach.call(this),this.observer.disconnect()},v.prototype.deleteAt=function(y,w){this.update(),y===0&&w===this.length()?this.children.forEach(function(T){T.remove()}):b.prototype.deleteAt.call(this,y,w)},v.prototype.formatAt=function(y,w,T,N){this.update(),b.prototype.formatAt.call(this,y,w,T,N)},v.prototype.insertAt=function(y,w,T){this.update(),b.prototype.insertAt.call(this,y,w,T)},v.prototype.optimize=function(y,w){var T=this;y===void 0&&(y=[]),w===void 0&&(w={}),b.prototype.optimize.call(this,w);for(var N=[].slice.call(this.observer.takeRecords());N.length>0;)y.push(N.pop());for(var _=function(P,U){U===void 0&&(U=!0),!(P==null||P===T)&&P.domNode.parentNode!=null&&(P.domNode[c.DATA_KEY].mutations==null&&(P.domNode[c.DATA_KEY].mutations=[]),U&&_(P.parent))},j=function(P){P.domNode[c.DATA_KEY]==null||P.domNode[c.DATA_KEY].mutations==null||(P instanceof o.default&&P.children.forEach(j),P.optimize(w))},C=y,A=0;C.length>0;A+=1){if(A>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(C.forEach(function(P){var U=c.find(P.target,!0);U!=null&&(U.domNode===P.target&&(P.type==="childList"?(_(c.find(P.previousSibling,!1)),[].forEach.call(P.addedNodes,function(B){var F=c.find(B,!1);_(F,!1),F instanceof o.default&&F.children.forEach(function(k){_(k,!1)})})):P.type==="attributes"&&_(U.prev)),_(U))}),this.children.forEach(j),C=[].slice.call(this.observer.takeRecords()),N=C.slice();N.length>0;)y.push(N.pop())}},v.prototype.update=function(y,w){var T=this;w===void 0&&(w={}),y=y||this.observer.takeRecords(),y.map(function(N){var _=c.find(N.target,!0);return _==null?null:_.domNode[c.DATA_KEY].mutations==null?(_.domNode[c.DATA_KEY].mutations=[N],_):(_.domNode[c.DATA_KEY].mutations.push(N),null)}).forEach(function(N){N==null||N===T||N.domNode[c.DATA_KEY]==null||N.update(N.domNode[c.DATA_KEY].mutations||[],w)}),this.domNode[c.DATA_KEY].mutations!=null&&b.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,w),this.optimize(y,w)},v.blotName="scroll",v.defaultChild="block",v.scope=c.Scope.BLOCK_BLOT,v.tagName="DIV",v})(o.default);n.default=g}),(function(t,n,i){var a=this&&this.__extends||(function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,v){b.__proto__=v}||function(b,v){for(var y in v)v.hasOwnProperty(y)&&(b[y]=v[y])};return function(b,v){g(b,v);function y(){this.constructor=b}b.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),c=i(1);function d(g,b){if(Object.keys(g).length!==Object.keys(b).length)return!1;for(var v in g)if(g[v]!==b[v])return!1;return!0}var f=(function(g){a(b,g);function b(){return g!==null&&g.apply(this,arguments)||this}return b.formats=function(v){if(v.tagName!==b.tagName)return g.formats.call(this,v)},b.prototype.format=function(v,y){var w=this;v===this.statics.blotName&&!y?(this.children.forEach(function(T){T instanceof o.default||(T=T.wrap(b.blotName,!0)),w.attributes.copy(T)}),this.unwrap()):g.prototype.format.call(this,v,y)},b.prototype.formatAt=function(v,y,w,T){if(this.formats()[w]!=null||c.query(w,c.Scope.ATTRIBUTE)){var N=this.isolate(v,y);N.format(w,T)}else g.prototype.formatAt.call(this,v,y,w,T)},b.prototype.optimize=function(v){g.prototype.optimize.call(this,v);var y=this.formats();if(Object.keys(y).length===0)return this.unwrap();var w=this.next;w instanceof b&&w.prev===this&&d(y,w.formats())&&(w.moveChildren(this),w.remove())},b.blotName="inline",b.scope=c.Scope.INLINE_BLOT,b.tagName="SPAN",b})(o.default);n.default=f}),(function(t,n,i){var a=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var v in b)b.hasOwnProperty(v)&&(g[v]=b[v])};return function(g,b){f(g,b);function v(){this.constructor=g}g.prototype=b===null?Object.create(b):(v.prototype=b.prototype,new v)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),c=i(1),d=(function(f){a(g,f);function g(){return f!==null&&f.apply(this,arguments)||this}return g.formats=function(b){var v=c.query(g.blotName).tagName;if(b.tagName!==v)return f.formats.call(this,b)},g.prototype.format=function(b,v){c.query(b,c.Scope.BLOCK)!=null&&(b===this.statics.blotName&&!v?this.replaceWith(g.blotName):f.prototype.format.call(this,b,v))},g.prototype.formatAt=function(b,v,y,w){c.query(y,c.Scope.BLOCK)!=null?this.format(y,w):f.prototype.formatAt.call(this,b,v,y,w)},g.prototype.insertAt=function(b,v,y){if(y==null||c.query(v,c.Scope.INLINE)!=null)f.prototype.insertAt.call(this,b,v,y);else{var w=this.split(b),T=c.create(v,y);w.parent.insertBefore(T,w)}},g.prototype.update=function(b,v){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,b,v)},g.blotName="block",g.scope=c.Scope.BLOCK_BLOT,g.tagName="P",g})(o.default);n.default=d}),(function(t,n,i){var a=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var b in g)g.hasOwnProperty(b)&&(f[b]=g[b])};return function(f,g){d(f,g);function b(){this.constructor=f}f.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),c=(function(d){a(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(g){},f.prototype.format=function(g,b){d.prototype.formatAt.call(this,0,this.length(),g,b)},f.prototype.formatAt=function(g,b,v,y){g===0&&b===this.length()?this.format(v,y):d.prototype.formatAt.call(this,g,b,v,y)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f})(o.default);n.default=c}),(function(t,n,i){var a=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var v in b)b.hasOwnProperty(v)&&(g[v]=b[v])};return function(g,b){f(g,b);function v(){this.constructor=g}g.prototype=b===null?Object.create(b):(v.prototype=b.prototype,new v)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),c=i(1),d=(function(f){a(g,f);function g(b){var v=f.call(this,b)||this;return v.text=v.statics.value(v.domNode),v}return g.create=function(b){return document.createTextNode(b)},g.value=function(b){var v=b.data;return v.normalize&&(v=v.normalize()),v},g.prototype.deleteAt=function(b,v){this.domNode.data=this.text=this.text.slice(0,b)+this.text.slice(b+v)},g.prototype.index=function(b,v){return this.domNode===b?v:-1},g.prototype.insertAt=function(b,v,y){y==null?(this.text=this.text.slice(0,b)+v+this.text.slice(b),this.domNode.data=this.text):f.prototype.insertAt.call(this,b,v,y)},g.prototype.length=function(){return this.text.length},g.prototype.optimize=function(b){f.prototype.optimize.call(this,b),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof g&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},g.prototype.position=function(b,v){return[this.domNode,b]},g.prototype.split=function(b,v){if(v===void 0&&(v=!1),!v){if(b===0)return this;if(b===this.length())return this.next}var y=c.create(this.domNode.splitText(b));return this.parent.insertBefore(y,this.next),this.text=this.statics.value(this.domNode),y},g.prototype.update=function(b,v){var y=this;b.some(function(w){return w.type==="characterData"&&w.target===y.domNode})&&(this.text=this.statics.value(this.domNode))},g.prototype.value=function(){return this.text},g.blotName="text",g.scope=c.Scope.INLINE_BLOT,g})(o.default);n.default=d}),(function(t,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,d){return arguments.length>1&&!this.contains(c)==!d?d:o.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,d){return d=d||0,this.substr(d,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,d){var f=this.toString();(typeof d!="number"||!isFinite(d)||Math.floor(d)!==d||d>f.length)&&(d=f.length),d-=c.length;var g=f.indexOf(c,d);return g!==-1&&g===d}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(d){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof d!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),g=f.length>>>0,b=arguments[1],v,y=0;y<g;y++)if(v=f[y],d.call(b,v,y,f))return v}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(t,n){var i=-1,a=1,o=0;function c(A,P,U){if(A==P)return A?[[o,A]]:[];(U<0||A.length<U)&&(U=null);var B=b(A,P),F=A.substring(0,B);A=A.substring(B),P=P.substring(B),B=v(A,P);var k=A.substring(A.length-B);A=A.substring(0,A.length-B),P=P.substring(0,P.length-B);var z=d(A,P);return F&&z.unshift([o,F]),k&&z.push([o,k]),w(z),U!=null&&(z=_(z,U)),z=j(z),z}function d(A,P){var U;if(!A)return[[a,P]];if(!P)return[[i,A]];var B=A.length>P.length?A:P,F=A.length>P.length?P:A,k=B.indexOf(F);if(k!=-1)return U=[[a,B.substring(0,k)],[o,F],[a,B.substring(k+F.length)]],A.length>P.length&&(U[0][0]=U[2][0]=i),U;if(F.length==1)return[[i,A],[a,P]];var z=y(A,P);if(z){var V=z[0],X=z[1],J=z[2],ee=z[3],te=z[4],W=c(V,J),K=c(X,ee);return W.concat([[o,te]],K)}return f(A,P)}function f(A,P){for(var U=A.length,B=P.length,F=Math.ceil((U+B)/2),k=F,z=2*F,V=new Array(z),X=new Array(z),J=0;J<z;J++)V[J]=-1,X[J]=-1;V[k+1]=0,X[k+1]=0;for(var ee=U-B,te=ee%2!=0,W=0,K=0,$=0,oe=0,G=0;G<F;G++){for(var Y=-G+W;Y<=G-K;Y+=2){var ne=k+Y,le;Y==-G||Y!=G&&V[ne-1]<V[ne+1]?le=V[ne+1]:le=V[ne-1]+1;for(var be=le-Y;le<U&&be<B&&A.charAt(le)==P.charAt(be);)le++,be++;if(V[ne]=le,le>U)K+=2;else if(be>B)W+=2;else if(te){var ce=k+ee-Y;if(ce>=0&&ce<z&&X[ce]!=-1){var ie=U-X[ce];if(le>=ie)return g(A,P,le,be)}}}for(var ge=-G+$;ge<=G-oe;ge+=2){var ce=k+ge,ie;ge==-G||ge!=G&&X[ce-1]<X[ce+1]?ie=X[ce+1]:ie=X[ce-1]+1;for(var _e=ie-ge;ie<U&&_e<B&&A.charAt(U-ie-1)==P.charAt(B-_e-1);)ie++,_e++;if(X[ce]=ie,ie>U)oe+=2;else if(_e>B)$+=2;else if(!te){var ne=k+ee-ge;if(ne>=0&&ne<z&&V[ne]!=-1){var le=V[ne],be=k+le-ne;if(ie=U-ie,le>=ie)return g(A,P,le,be)}}}}return[[i,A],[a,P]]}function g(A,P,U,B){var F=A.substring(0,U),k=P.substring(0,B),z=A.substring(U),V=P.substring(B),X=c(F,k),J=c(z,V);return X.concat(J)}function b(A,P){if(!A||!P||A.charAt(0)!=P.charAt(0))return 0;for(var U=0,B=Math.min(A.length,P.length),F=B,k=0;U<F;)A.substring(k,F)==P.substring(k,F)?(U=F,k=U):B=F,F=Math.floor((B-U)/2+U);return F}function v(A,P){if(!A||!P||A.charAt(A.length-1)!=P.charAt(P.length-1))return 0;for(var U=0,B=Math.min(A.length,P.length),F=B,k=0;U<F;)A.substring(A.length-F,A.length-k)==P.substring(P.length-F,P.length-k)?(U=F,k=U):B=F,F=Math.floor((B-U)/2+U);return F}function y(A,P){var U=A.length>P.length?A:P,B=A.length>P.length?P:A;if(U.length<4||B.length*2<U.length)return null;function F(K,$,oe){for(var G=K.substring(oe,oe+Math.floor(K.length/4)),Y=-1,ne="",le,be,ce,ie;(Y=$.indexOf(G,Y+1))!=-1;){var ge=b(K.substring(oe),$.substring(Y)),_e=v(K.substring(0,oe),$.substring(0,Y));ne.length<_e+ge&&(ne=$.substring(Y-_e,Y)+$.substring(Y,Y+ge),le=K.substring(0,oe-_e),be=K.substring(oe+ge),ce=$.substring(0,Y-_e),ie=$.substring(Y+ge))}return ne.length*2>=K.length?[le,be,ce,ie,ne]:null}var k=F(U,B,Math.ceil(U.length/4)),z=F(U,B,Math.ceil(U.length/2)),V;if(!k&&!z)return null;z?k?V=k[4].length>z[4].length?k:z:V=z:V=k;var X,J,ee,te;A.length>P.length?(X=V[0],J=V[1],ee=V[2],te=V[3]):(ee=V[0],te=V[1],X=V[2],J=V[3]);var W=V[4];return[X,J,ee,te,W]}function w(A){A.push([o,""]);for(var P=0,U=0,B=0,F="",k="",z;P<A.length;)switch(A[P][0]){case a:B++,k+=A[P][1],P++;break;case i:U++,F+=A[P][1],P++;break;case o:U+B>1?(U!==0&&B!==0&&(z=b(k,F),z!==0&&(P-U-B>0&&A[P-U-B-1][0]==o?A[P-U-B-1][1]+=k.substring(0,z):(A.splice(0,0,[o,k.substring(0,z)]),P++),k=k.substring(z),F=F.substring(z)),z=v(k,F),z!==0&&(A[P][1]=k.substring(k.length-z)+A[P][1],k=k.substring(0,k.length-z),F=F.substring(0,F.length-z))),U===0?A.splice(P-B,U+B,[a,k]):B===0?A.splice(P-U,U+B,[i,F]):A.splice(P-U-B,U+B,[i,F],[a,k]),P=P-U-B+(U?1:0)+(B?1:0)+1):P!==0&&A[P-1][0]==o?(A[P-1][1]+=A[P][1],A.splice(P,1)):P++,B=0,U=0,F="",k="";break}A[A.length-1][1]===""&&A.pop();var V=!1;for(P=1;P<A.length-1;)A[P-1][0]==o&&A[P+1][0]==o&&(A[P][1].substring(A[P][1].length-A[P-1][1].length)==A[P-1][1]?(A[P][1]=A[P-1][1]+A[P][1].substring(0,A[P][1].length-A[P-1][1].length),A[P+1][1]=A[P-1][1]+A[P+1][1],A.splice(P-1,1),V=!0):A[P][1].substring(0,A[P+1][1].length)==A[P+1][1]&&(A[P-1][1]+=A[P+1][1],A[P][1]=A[P][1].substring(A[P+1][1].length)+A[P+1][1],A.splice(P+1,1),V=!0)),P++;V&&w(A)}var T=c;T.INSERT=a,T.DELETE=i,T.EQUAL=o,t.exports=T;function N(A,P){if(P===0)return[o,A];for(var U=0,B=0;B<A.length;B++){var F=A[B];if(F[0]===i||F[0]===o){var k=U+F[1].length;if(P===k)return[B+1,A];if(P<k){A=A.slice();var z=P-U,V=[F[0],F[1].slice(0,z)],X=[F[0],F[1].slice(z)];return A.splice(B,1,V,X),[B+1,A]}else U=k}}throw new Error("cursor_pos is out of bounds!")}function _(A,P){var U=N(A,P),B=U[1],F=U[0],k=B[F],z=B[F+1];if(k==null)return A;if(k[0]!==o)return A;if(z!=null&&k[1]+z[1]===z[1]+k[1])return B.splice(F,2,z,k),C(B,F,2);if(z!=null&&z[1].indexOf(k[1])===0){B.splice(F,2,[z[0],k[1]],[0,k[1]]);var V=z[1].slice(k[1].length);return V.length>0&&B.splice(F+2,0,[z[0],V]),C(B,F,3)}else return A}function j(A){for(var P=!1,U=function(z){return z.charCodeAt(0)>=56320&&z.charCodeAt(0)<=57343},B=function(z){return z.charCodeAt(z.length-1)>=55296&&z.charCodeAt(z.length-1)<=56319},F=2;F<A.length;F+=1)A[F-2][0]===o&&B(A[F-2][1])&&A[F-1][0]===i&&U(A[F-1][1])&&A[F][0]===a&&U(A[F][1])&&(P=!0,A[F-1][1]=A[F-2][1].slice(-1)+A[F-1][1],A[F][1]=A[F-2][1].slice(-1)+A[F][1],A[F-2][1]=A[F-2][1].slice(0,-1));if(!P)return A;for(var k=[],F=0;F<A.length;F+=1)A[F][1].length>0&&k.push(A[F]);return k}function C(A,P,U){for(var B=P+U-1;B>=0&&B>=P-1;B--)if(B+1<A.length){var F=A[B],k=A[B+1];F[0]===k[1]&&A.splice(B,2,[F[0],F[1]+k[1]])}return A}}),(function(t,n){n=t.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var o=[];for(var c in a)o.push(c);return o}}),(function(t,n){var i=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";n=t.exports=i?a:o,n.supported=a;function a(c){return Object.prototype.toString.call(c)=="[object Arguments]"}n.unsupported=o;function o(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}}),(function(t,n){var i=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function c(f,g,b){this.fn=f,this.context=g,this.once=b||!1}function d(){this._events=new o,this._eventsCount=0}d.prototype.eventNames=function(){var g=[],b,v;if(this._eventsCount===0)return g;for(v in b=this._events)i.call(b,v)&&g.push(a?v.slice(1):v);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(b)):g},d.prototype.listeners=function(g,b){var v=a?a+g:g,y=this._events[v];if(b)return!!y;if(!y)return[];if(y.fn)return[y.fn];for(var w=0,T=y.length,N=new Array(T);w<T;w++)N[w]=y[w].fn;return N},d.prototype.emit=function(g,b,v,y,w,T){var N=a?a+g:g;if(!this._events[N])return!1;var _=this._events[N],j=arguments.length,C,A;if(_.fn){switch(_.once&&this.removeListener(g,_.fn,void 0,!0),j){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,b),!0;case 3:return _.fn.call(_.context,b,v),!0;case 4:return _.fn.call(_.context,b,v,y),!0;case 5:return _.fn.call(_.context,b,v,y,w),!0;case 6:return _.fn.call(_.context,b,v,y,w,T),!0}for(A=1,C=new Array(j-1);A<j;A++)C[A-1]=arguments[A];_.fn.apply(_.context,C)}else{var P=_.length,U;for(A=0;A<P;A++)switch(_[A].once&&this.removeListener(g,_[A].fn,void 0,!0),j){case 1:_[A].fn.call(_[A].context);break;case 2:_[A].fn.call(_[A].context,b);break;case 3:_[A].fn.call(_[A].context,b,v);break;case 4:_[A].fn.call(_[A].context,b,v,y);break;default:if(!C)for(U=1,C=new Array(j-1);U<j;U++)C[U-1]=arguments[U];_[A].fn.apply(_[A].context,C)}}return!0},d.prototype.on=function(g,b,v){var y=new c(b,v||this),w=a?a+g:g;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],y]:this._events[w].push(y):(this._events[w]=y,this._eventsCount++),this},d.prototype.once=function(g,b,v){var y=new c(b,v||this,!0),w=a?a+g:g;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],y]:this._events[w].push(y):(this._events[w]=y,this._eventsCount++),this},d.prototype.removeListener=function(g,b,v,y){var w=a?a+g:g;if(!this._events[w])return this;if(!b)return--this._eventsCount===0?this._events=new o:delete this._events[w],this;var T=this._events[w];if(T.fn)T.fn===b&&(!y||T.once)&&(!v||T.context===v)&&(--this._eventsCount===0?this._events=new o:delete this._events[w]);else{for(var N=0,_=[],j=T.length;N<j;N++)(T[N].fn!==b||y&&!T[N].once||v&&T[N].context!==v)&&_.push(T[N]);_.length?this._events[w]=_.length===1?_[0]:_:--this._eventsCount===0?this._events=new o:delete this._events[w]}return this},d.prototype.removeAllListeners=function(g){var b;return g?(b=a?a+g:g,this._events[b]&&(--this._eventsCount===0?this._events=new o:delete this._events[b])):(this._events=new o,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prototype.setMaxListeners=function(){return this},d.prefixed=a,d.EventEmitter=d,typeof t<"u"&&(t.exports=d)}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(je){return typeof je}:function(je){return je&&typeof Symbol=="function"&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je},o=(function(){function je(de,ye){var Be=[],Oe=!0,he=!1,se=void 0;try{for(var Me=de[Symbol.iterator](),qe;!(Oe=(qe=Me.next()).done)&&(Be.push(qe.value),!(ye&&Be.length===ye));Oe=!0);}catch(Ge){he=!0,se=Ge}finally{try{!Oe&&Me.return&&Me.return()}finally{if(he)throw se}}return Be}return function(de,ye){if(Array.isArray(de))return de;if(Symbol.iterator in Object(de))return je(de,ye);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function je(de,ye){for(var Be=0;Be<ye.length;Be++){var Oe=ye[Be];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(de,Oe.key,Oe)}}return function(de,ye,Be){return ye&&je(de.prototype,ye),Be&&je(de,Be),de}})(),d=i(3),f=X(d),g=i(2),b=X(g),v=i(0),y=X(v),w=i(5),T=X(w),N=i(10),_=X(N),j=i(9),C=X(j),A=i(36),P=i(37),U=i(13),B=X(U),F=i(26),k=i(38),z=i(39),V=i(40);function X(je){return je&&je.__esModule?je:{default:je}}function J(je,de,ye){return de in je?Object.defineProperty(je,de,{value:ye,enumerable:!0,configurable:!0,writable:!0}):je[de]=ye,je}function ee(je,de){if(!(je instanceof de))throw new TypeError("Cannot call a class as a function")}function te(je,de){if(!je)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de&&(typeof de=="object"||typeof de=="function")?de:je}function W(je,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof de);je.prototype=Object.create(de&&de.prototype,{constructor:{value:je,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(je,de):je.__proto__=de)}var K=(0,_.default)("quill:clipboard"),$="__ql-matcher",oe=[[Node.TEXT_NODE,Xe],[Node.TEXT_NODE,ke],["br",$e],[Node.ELEMENT_NODE,ke],[Node.ELEMENT_NODE,Ee],[Node.ELEMENT_NODE,Ve],[Node.ELEMENT_NODE,Te],[Node.ELEMENT_NODE,nt],["li",xe],["b",_e.bind(_e,"bold")],["i",_e.bind(_e,"italic")],["style",tt]],G=[A.AlignAttribute,k.DirectionAttribute].reduce(function(je,de){return je[de.keyName]=de,je},{}),Y=[A.AlignStyle,P.BackgroundStyle,F.ColorStyle,k.DirectionStyle,z.FontStyle,V.SizeStyle].reduce(function(je,de){return je[de.keyName]=de,je},{}),ne=(function(je){W(de,je);function de(ye,Be){ee(this,de);var Oe=te(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,ye,Be));return Oe.quill.root.addEventListener("paste",Oe.onPaste.bind(Oe)),Oe.container=Oe.quill.addContainer("ql-clipboard"),Oe.container.setAttribute("contenteditable",!0),Oe.container.setAttribute("tabindex",-1),Oe.matchers=[],oe.concat(Oe.options.matchers).forEach(function(he){var se=o(he,2),Me=se[0],qe=se[1];!Be.matchVisual&&qe===Ve||Oe.addMatcher(Me,qe)}),Oe}return c(de,[{key:"addMatcher",value:function(Be,Oe){this.matchers.push([Be,Oe])}},{key:"convert",value:function(Be){if(typeof Be=="string")return this.container.innerHTML=Be.replace(/\>\r?\n +\</g,"><"),this.convert();var Oe=this.quill.getFormat(this.quill.selection.savedRange.index);if(Oe[B.default.blotName]){var he=this.container.innerText;return this.container.innerHTML="",new b.default().insert(he,J({},B.default.blotName,Oe[B.default.blotName]))}var se=this.prepareMatching(),Me=o(se,2),qe=Me[0],Ge=Me[1],ze=ge(this.container,qe,Ge);return ce(ze,`
`)&&ze.ops[ze.ops.length-1].attributes==null&&(ze=ze.compose(new b.default().retain(ze.length()-1).delete(1))),K.log("convert",this.container.innerHTML,ze),this.container.innerHTML="",ze}},{key:"dangerouslyPasteHTML",value:function(Be,Oe){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.default.sources.API;if(typeof Be=="string")this.quill.setContents(this.convert(Be),Oe),this.quill.setSelection(0,T.default.sources.SILENT);else{var se=this.convert(Oe);this.quill.updateContents(new b.default().retain(Be).concat(se),he),this.quill.setSelection(Be+se.length(),T.default.sources.SILENT)}}},{key:"onPaste",value:function(Be){var Oe=this;if(!(Be.defaultPrevented||!this.quill.isEnabled())){var he=this.quill.getSelection(),se=new b.default().retain(he.index),Me=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(T.default.sources.SILENT),setTimeout(function(){se=se.concat(Oe.convert()).delete(he.length),Oe.quill.updateContents(se,T.default.sources.USER),Oe.quill.setSelection(se.length()-he.length,T.default.sources.SILENT),Oe.quill.scrollingContainer.scrollTop=Me,Oe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Be=this,Oe=[],he=[];return this.matchers.forEach(function(se){var Me=o(se,2),qe=Me[0],Ge=Me[1];switch(qe){case Node.TEXT_NODE:he.push(Ge);break;case Node.ELEMENT_NODE:Oe.push(Ge);break;default:[].forEach.call(Be.container.querySelectorAll(qe),function(ze){ze[$]=ze[$]||[],ze[$].push(Ge)});break}}),[Oe,he]}}]),de})(C.default);ne.DEFAULTS={matchers:[],matchVisual:!0};function le(je,de,ye){return(typeof de>"u"?"undefined":a(de))==="object"?Object.keys(de).reduce(function(Be,Oe){return le(Be,Oe,de[Oe])},je):je.reduce(function(Be,Oe){return Oe.attributes&&Oe.attributes[de]?Be.push(Oe):Be.insert(Oe.insert,(0,f.default)({},J({},de,ye),Oe.attributes))},new b.default)}function be(je){if(je.nodeType!==Node.ELEMENT_NODE)return{};var de="__ql-computed-style";return je[de]||(je[de]=window.getComputedStyle(je))}function ce(je,de){for(var ye="",Be=je.ops.length-1;Be>=0&&ye.length<de.length;--Be){var Oe=je.ops[Be];if(typeof Oe.insert!="string")break;ye=Oe.insert+ye}return ye.slice(-1*de.length)===de}function ie(je){if(je.childNodes.length===0)return!1;var de=be(je);return["block","list-item"].indexOf(de.display)>-1}function ge(je,de,ye){return je.nodeType===je.TEXT_NODE?ye.reduce(function(Be,Oe){return Oe(je,Be)},new b.default):je.nodeType===je.ELEMENT_NODE?[].reduce.call(je.childNodes||[],function(Be,Oe){var he=ge(Oe,de,ye);return Oe.nodeType===je.ELEMENT_NODE&&(he=de.reduce(function(se,Me){return Me(Oe,se)},he),he=(Oe[$]||[]).reduce(function(se,Me){return Me(Oe,se)},he)),Be.concat(he)},new b.default):new b.default}function _e(je,de,ye){return le(ye,je,!0)}function Te(je,de){var ye=y.default.Attributor.Attribute.keys(je),Be=y.default.Attributor.Class.keys(je),Oe=y.default.Attributor.Style.keys(je),he={};return ye.concat(Be).concat(Oe).forEach(function(se){var Me=y.default.query(se,y.default.Scope.ATTRIBUTE);Me!=null&&(he[Me.attrName]=Me.value(je),he[Me.attrName])||(Me=G[se],Me!=null&&(Me.attrName===se||Me.keyName===se)&&(he[Me.attrName]=Me.value(je)||void 0),Me=Y[se],Me!=null&&(Me.attrName===se||Me.keyName===se)&&(Me=Y[se],he[Me.attrName]=Me.value(je)||void 0))}),Object.keys(he).length>0&&(de=le(de,he)),de}function Ee(je,de){var ye=y.default.query(je);if(ye==null)return de;if(ye.prototype instanceof y.default.Embed){var Be={},Oe=ye.value(je);Oe!=null&&(Be[ye.blotName]=Oe,de=new b.default().insert(Be,ye.formats(je)))}else typeof ye.formats=="function"&&(de=le(de,ye.blotName,ye.formats(je)));return de}function $e(je,de){return ce(de,`
`)||de.insert(`
`),de}function tt(){return new b.default}function xe(je,de){var ye=y.default.query(je);if(ye==null||ye.blotName!=="list-item"||!ce(de,`
`))return de;for(var Be=-1,Oe=je.parentNode;!Oe.classList.contains("ql-clipboard");)(y.default.query(Oe)||{}).blotName==="list"&&(Be+=1),Oe=Oe.parentNode;return Be<=0?de:de.compose(new b.default().retain(de.length()-1).retain(1,{indent:Be}))}function ke(je,de){return ce(de,`
`)||(ie(je)||de.length()>0&&je.nextSibling&&ie(je.nextSibling))&&de.insert(`
`),de}function Ve(je,de){if(ie(je)&&je.nextElementSibling!=null&&!ce(de,`

`)){var ye=je.offsetHeight+parseFloat(be(je).marginTop)+parseFloat(be(je).marginBottom);je.nextElementSibling.offsetTop>je.offsetTop+ye*1.5&&de.insert(`
`)}return de}function nt(je,de){var ye={},Be=je.style||{};return Be.fontStyle&&be(je).fontStyle==="italic"&&(ye.italic=!0),Be.fontWeight&&(be(je).fontWeight.startsWith("bold")||parseInt(be(je).fontWeight)>=700)&&(ye.bold=!0),Object.keys(ye).length>0&&(de=le(de,ye)),parseFloat(Be.textIndent||0)>0&&(de=new b.default().insert("	").concat(de)),de}function Xe(je,de){var ye=je.data;if(je.parentNode.tagName==="O:P")return de.insert(ye.trim());if(ye.trim().length===0&&je.parentNode.classList.contains("ql-clipboard"))return de;if(!be(je.parentNode).whiteSpace.startsWith("pre")){var Be=function(he,se){return se=se.replace(/[^\u00a0]/g,""),se.length<1&&he?" ":se};ye=ye.replace(/\r\n/g," ").replace(/\n/g," "),ye=ye.replace(/\s\s+/g,Be.bind(Be,!0)),(je.previousSibling==null&&ie(je.parentNode)||je.previousSibling!=null&&ie(je.previousSibling))&&(ye=ye.replace(/^\s+/,Be.bind(Be,!1))),(je.nextSibling==null&&ie(je.parentNode)||je.nextSibling!=null&&ie(je.nextSibling))&&(ye=ye.replace(/\s+$/,Be.bind(Be,!1)))}return de.insert(ye)}n.default=ne,n.matchAttributor=Te,n.matchBlot=Ee,n.matchNewline=ke,n.matchSpacing=Ve,n.matchText=Xe}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function w(T,N){for(var _=0;_<N.length;_++){var j=N[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(T,j.key,j)}}return function(T,N,_){return N&&w(T.prototype,N),_&&w(T,_),T}})(),o=function w(T,N,_){T===null&&(T=Function.prototype);var j=Object.getOwnPropertyDescriptor(T,N);if(j===void 0){var C=Object.getPrototypeOf(T);return C===null?void 0:w(C,N,_)}else{if("value"in j)return j.value;var A=j.get;return A===void 0?void 0:A.call(_)}},c=i(6),d=f(c);function f(w){return w&&w.__esModule?w:{default:w}}function g(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function b(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function v(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var y=(function(w){v(T,w);function T(){return g(this,T),b(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"optimize",value:function(_){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,_),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),T})(d.default);y.blotName="bold",y.tagName=["STRONG","B"],n.default=y}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=(function(){function V(X,J){var ee=[],te=!0,W=!1,K=void 0;try{for(var $=X[Symbol.iterator](),oe;!(te=(oe=$.next()).done)&&(ee.push(oe.value),!(J&&ee.length===J));te=!0);}catch(G){W=!0,K=G}finally{try{!te&&$.return&&$.return()}finally{if(W)throw K}}return ee}return function(X,J){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return V(X,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function V(X,J){for(var ee=0;ee<J.length;ee++){var te=J[ee];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(X,te.key,te)}}return function(X,J,ee){return J&&V(X.prototype,J),ee&&V(X,ee),X}})(),c=i(2),d=_(c),f=i(0),g=_(f),b=i(5),v=_(b),y=i(10),w=_(y),T=i(9),N=_(T);function _(V){return V&&V.__esModule?V:{default:V}}function j(V,X,J){return X in V?Object.defineProperty(V,X,{value:J,enumerable:!0,configurable:!0,writable:!0}):V[X]=J,V}function C(V,X){if(!(V instanceof X))throw new TypeError("Cannot call a class as a function")}function A(V,X){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:V}function P(V,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);V.prototype=Object.create(X&&X.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(V,X):V.__proto__=X)}var U=(0,w.default)("quill:toolbar"),B=(function(V){P(X,V);function X(J,ee){C(this,X);var te=A(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,J,ee));if(Array.isArray(te.options.container)){var W=document.createElement("div");k(W,te.options.container),J.container.parentNode.insertBefore(W,J.container),te.container=W}else typeof te.options.container=="string"?te.container=document.querySelector(te.options.container):te.container=te.options.container;if(!(te.container instanceof HTMLElement)){var K;return K=U.error("Container required for toolbar",te.options),A(te,K)}return te.container.classList.add("ql-toolbar"),te.controls=[],te.handlers={},Object.keys(te.options.handlers).forEach(function($){te.addHandler($,te.options.handlers[$])}),[].forEach.call(te.container.querySelectorAll("button, select"),function($){te.attach($)}),te.quill.on(v.default.events.EDITOR_CHANGE,function($,oe){$===v.default.events.SELECTION_CHANGE&&te.update(oe)}),te.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){var $=te.quill.selection.getRange(),oe=a($,1),G=oe[0];te.update(G)}),te}return o(X,[{key:"addHandler",value:function(ee,te){this.handlers[ee]=te}},{key:"attach",value:function(ee){var te=this,W=[].find.call(ee.classList,function($){return $.indexOf("ql-")===0});if(W){if(W=W.slice(3),ee.tagName==="BUTTON"&&ee.setAttribute("type","button"),this.handlers[W]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[W]==null){U.warn("ignoring attaching to disabled format",W,ee);return}if(g.default.query(W)==null){U.warn("ignoring attaching to nonexistent format",W,ee);return}}var K=ee.tagName==="SELECT"?"change":"click";ee.addEventListener(K,function($){var oe=void 0;if(ee.tagName==="SELECT"){if(ee.selectedIndex<0)return;var G=ee.options[ee.selectedIndex];G.hasAttribute("selected")?oe=!1:oe=G.value||!1}else ee.classList.contains("ql-active")?oe=!1:oe=ee.value||!ee.hasAttribute("value"),$.preventDefault();te.quill.focus();var Y=te.quill.selection.getRange(),ne=a(Y,1),le=ne[0];if(te.handlers[W]!=null)te.handlers[W].call(te,oe);else if(g.default.query(W).prototype instanceof g.default.Embed){if(oe=prompt("Enter "+W),!oe)return;te.quill.updateContents(new d.default().retain(le.index).delete(le.length).insert(j({},W,oe)),v.default.sources.USER)}else te.quill.format(W,oe,v.default.sources.USER);te.update(le)}),this.controls.push([W,ee])}}},{key:"update",value:function(ee){var te=ee==null?{}:this.quill.getFormat(ee);this.controls.forEach(function(W){var K=a(W,2),$=K[0],oe=K[1];if(oe.tagName==="SELECT"){var G=void 0;if(ee==null)G=null;else if(te[$]==null)G=oe.querySelector("option[selected]");else if(!Array.isArray(te[$])){var Y=te[$];typeof Y=="string"&&(Y=Y.replace(/\"/g,'\\"')),G=oe.querySelector('option[value="'+Y+'"]')}G==null?(oe.value="",oe.selectedIndex=-1):G.selected=!0}else if(ee==null)oe.classList.remove("ql-active");else if(oe.hasAttribute("value")){var ne=te[$]===oe.getAttribute("value")||te[$]!=null&&te[$].toString()===oe.getAttribute("value")||te[$]==null&&!oe.getAttribute("value");oe.classList.toggle("ql-active",ne)}else oe.classList.toggle("ql-active",te[$]!=null)})}}]),X})(N.default);B.DEFAULTS={};function F(V,X,J){var ee=document.createElement("button");ee.setAttribute("type","button"),ee.classList.add("ql-"+X),J!=null&&(ee.value=J),V.appendChild(ee)}function k(V,X){Array.isArray(X[0])||(X=[X]),X.forEach(function(J){var ee=document.createElement("span");ee.classList.add("ql-formats"),J.forEach(function(te){if(typeof te=="string")F(ee,te);else{var W=Object.keys(te)[0],K=te[W];Array.isArray(K)?z(ee,W,K):F(ee,W,K)}}),V.appendChild(ee)})}function z(V,X,J){var ee=document.createElement("select");ee.classList.add("ql-"+X),J.forEach(function(te){var W=document.createElement("option");te!==!1?W.setAttribute("value",te):W.setAttribute("selected","selected"),ee.appendChild(W)}),V.appendChild(ee)}B.DEFAULTS={container:null,handlers:{clean:function(){var X=this,J=this.quill.getSelection();if(J!=null)if(J.length==0){var ee=this.quill.getFormat();Object.keys(ee).forEach(function(te){g.default.query(te,g.default.Scope.INLINE)!=null&&X.quill.format(te,!1)})}else this.quill.removeFormat(J,v.default.sources.USER)},direction:function(X){var J=this.quill.getFormat().align;X==="rtl"&&J==null?this.quill.format("align","right",v.default.sources.USER):!X&&J==="right"&&this.quill.format("align",!1,v.default.sources.USER),this.quill.format("direction",X,v.default.sources.USER)},indent:function(X){var J=this.quill.getSelection(),ee=this.quill.getFormat(J),te=parseInt(ee.indent||0);if(X==="+1"||X==="-1"){var W=X==="+1"?1:-1;ee.direction==="rtl"&&(W*=-1),this.quill.format("indent",te+W,v.default.sources.USER)}},link:function(X){X===!0&&(X=prompt("Enter link URL:")),this.quill.format("link",X,v.default.sources.USER)},list:function(X){var J=this.quill.getSelection(),ee=this.quill.getFormat(J);X==="check"?ee.list==="checked"||ee.list==="unchecked"?this.quill.format("list",!1,v.default.sources.USER):this.quill.format("list","unchecked",v.default.sources.USER):this.quill.format("list",X,v.default.sources.USER)}}},n.default=B,n.addControls=k}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function w(T,N){for(var _=0;_<N.length;_++){var j=N[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(T,j.key,j)}}return function(T,N,_){return N&&w(T.prototype,N),_&&w(T,_),T}})(),o=function w(T,N,_){T===null&&(T=Function.prototype);var j=Object.getOwnPropertyDescriptor(T,N);if(j===void 0){var C=Object.getPrototypeOf(T);return C===null?void 0:w(C,N,_)}else{if("value"in j)return j.value;var A=j.get;return A===void 0?void 0:A.call(_)}},c=i(28),d=f(c);function f(w){return w&&w.__esModule?w:{default:w}}function g(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function b(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function v(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var y=(function(w){v(T,w);function T(N,_){g(this,T);var j=b(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,N));return j.label.innerHTML=_,j.container.classList.add("ql-color-picker"),[].slice.call(j.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(C){C.classList.add("ql-primary")}),j}return a(T,[{key:"buildItem",value:function(_){var j=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"buildItem",this).call(this,_);return j.style.backgroundColor=_.getAttribute("value")||"",j}},{key:"selectItem",value:function(_,j){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"selectItem",this).call(this,_,j);var C=this.label.querySelector(".ql-color-label"),A=_&&_.getAttribute("data-value")||"";C&&(C.tagName==="line"?C.style.stroke=A:C.style.fill=A)}}]),T})(d.default);n.default=y}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function w(T,N){for(var _=0;_<N.length;_++){var j=N[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(T,j.key,j)}}return function(T,N,_){return N&&w(T.prototype,N),_&&w(T,_),T}})(),o=function w(T,N,_){T===null&&(T=Function.prototype);var j=Object.getOwnPropertyDescriptor(T,N);if(j===void 0){var C=Object.getPrototypeOf(T);return C===null?void 0:w(C,N,_)}else{if("value"in j)return j.value;var A=j.get;return A===void 0?void 0:A.call(_)}},c=i(28),d=f(c);function f(w){return w&&w.__esModule?w:{default:w}}function g(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function b(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function v(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var y=(function(w){v(T,w);function T(N,_){g(this,T);var j=b(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,N));return j.container.classList.add("ql-icon-picker"),[].forEach.call(j.container.querySelectorAll(".ql-picker-item"),function(C){C.innerHTML=_[C.getAttribute("data-value")||""]}),j.defaultItem=j.container.querySelector(".ql-selected"),j.selectItem(j.defaultItem),j}return a(T,[{key:"selectItem",value:function(_,j){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"selectItem",this).call(this,_,j),_=_||this.defaultItem,this.label.innerHTML=_.innerHTML}}]),T})(d.default);n.default=y}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function d(f,g){for(var b=0;b<g.length;b++){var v=g[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(f,v.key,v)}}return function(f,g,b){return g&&d(f.prototype,g),b&&d(f,b),f}})();function o(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var c=(function(){function d(f,g){var b=this;o(this,d),this.quill=f,this.boundsContainer=g||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){b.root.style.marginTop=-1*b.quill.root.scrollTop+"px"}),this.hide()}return a(d,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(g){var b=g.left+g.width/2-this.root.offsetWidth/2,v=g.bottom+this.quill.root.scrollTop;this.root.style.left=b+"px",this.root.style.top=v+"px",this.root.classList.remove("ql-flip");var y=this.boundsContainer.getBoundingClientRect(),w=this.root.getBoundingClientRect(),T=0;if(w.right>y.right&&(T=y.right-w.right,this.root.style.left=b+T+"px"),w.left<y.left&&(T=y.left-w.left,this.root.style.left=b+T+"px"),w.bottom>y.bottom){var N=w.bottom-w.top,_=g.bottom-g.top+N;this.root.style.top=v-_+"px",this.root.classList.add("ql-flip")}return T}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),d})();n.default=c}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function z(V,X){var J=[],ee=!0,te=!1,W=void 0;try{for(var K=V[Symbol.iterator](),$;!(ee=($=K.next()).done)&&(J.push($.value),!(X&&J.length===X));ee=!0);}catch(oe){te=!0,W=oe}finally{try{!ee&&K.return&&K.return()}finally{if(te)throw W}}return J}return function(V,X){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return z(V,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=function z(V,X,J){V===null&&(V=Function.prototype);var ee=Object.getOwnPropertyDescriptor(V,X);if(ee===void 0){var te=Object.getPrototypeOf(V);return te===null?void 0:z(te,X,J)}else{if("value"in ee)return ee.value;var W=ee.get;return W===void 0?void 0:W.call(J)}},c=(function(){function z(V,X){for(var J=0;J<X.length;J++){var ee=X[J];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(V,ee.key,ee)}}return function(V,X,J){return X&&z(V.prototype,X),J&&z(V,J),V}})(),d=i(3),f=C(d),g=i(8),b=C(g),v=i(43),y=C(v),w=i(27),T=C(w),N=i(15),_=i(41),j=C(_);function C(z){return z&&z.__esModule?z:{default:z}}function A(z,V){if(!(z instanceof V))throw new TypeError("Cannot call a class as a function")}function P(z,V){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:z}function U(z,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);z.prototype=Object.create(V&&V.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(z,V):z.__proto__=V)}var B=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],F=(function(z){U(V,z);function V(X,J){A(this,V),J.modules.toolbar!=null&&J.modules.toolbar.container==null&&(J.modules.toolbar.container=B);var ee=P(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,X,J));return ee.quill.container.classList.add("ql-snow"),ee}return c(V,[{key:"extendToolbar",value:function(J){J.container.classList.add("ql-snow"),this.buildButtons([].slice.call(J.container.querySelectorAll("button")),j.default),this.buildPickers([].slice.call(J.container.querySelectorAll("select")),j.default),this.tooltip=new k(this.quill,this.options.bounds),J.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(ee,te){J.handlers.link.call(J,!te.format.link)})}}]),V})(y.default);F.DEFAULTS=(0,f.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(V){if(V){var X=this.quill.getSelection();if(X==null||X.length==0)return;var J=this.quill.getText(X);/^\S+@\S+\.\S+$/.test(J)&&J.indexOf("mailto:")!==0&&(J="mailto:"+J);var ee=this.quill.theme.tooltip;ee.edit("link",J)}else this.quill.format("link",!1)}}}}});var k=(function(z){U(V,z);function V(X,J){A(this,V);var ee=P(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,X,J));return ee.preview=ee.root.querySelector("a.ql-preview"),ee}return c(V,[{key:"listen",value:function(){var J=this;o(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(ee){J.root.classList.contains("ql-editing")?J.save():J.edit("link",J.preview.textContent),ee.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(ee){if(J.linkRange!=null){var te=J.linkRange;J.restoreFocus(),J.quill.formatText(te,"link",!1,b.default.sources.USER),delete J.linkRange}ee.preventDefault(),J.hide()}),this.quill.on(b.default.events.SELECTION_CHANGE,function(ee,te,W){if(ee!=null){if(ee.length===0&&W===b.default.sources.USER){var K=J.quill.scroll.descendant(T.default,ee.index),$=a(K,2),oe=$[0],G=$[1];if(oe!=null){J.linkRange=new N.Range(ee.index-G,oe.length());var Y=T.default.formats(oe.domNode);J.preview.textContent=Y,J.preview.setAttribute("href",Y),J.show(),J.position(J.quill.getBounds(J.linkRange));return}}else delete J.linkRange;J.hide()}})}},{key:"show",value:function(){o(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),V})(v.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=F}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),o=Oe(a),c=i(36),d=i(38),f=i(64),g=i(65),b=Oe(g),v=i(66),y=Oe(v),w=i(67),T=Oe(w),N=i(37),_=i(26),j=i(39),C=i(40),A=i(56),P=Oe(A),U=i(68),B=Oe(U),F=i(27),k=Oe(F),z=i(69),V=Oe(z),X=i(70),J=Oe(X),ee=i(71),te=Oe(ee),W=i(72),K=Oe(W),$=i(73),oe=Oe($),G=i(13),Y=Oe(G),ne=i(74),le=Oe(ne),be=i(75),ce=Oe(be),ie=i(57),ge=Oe(ie),_e=i(41),Te=Oe(_e),Ee=i(28),$e=Oe(Ee),tt=i(59),xe=Oe(tt),ke=i(60),Ve=Oe(ke),nt=i(61),Xe=Oe(nt),je=i(108),de=Oe(je),ye=i(62),Be=Oe(ye);function Oe(he){return he&&he.__esModule?he:{default:he}}o.default.register({"attributors/attribute/direction":d.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":N.BackgroundClass,"attributors/class/color":_.ColorClass,"attributors/class/direction":d.DirectionClass,"attributors/class/font":j.FontClass,"attributors/class/size":C.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":N.BackgroundStyle,"attributors/style/color":_.ColorStyle,"attributors/style/direction":d.DirectionStyle,"attributors/style/font":j.FontStyle,"attributors/style/size":C.SizeStyle},!0),o.default.register({"formats/align":c.AlignClass,"formats/direction":d.DirectionClass,"formats/indent":f.IndentClass,"formats/background":N.BackgroundStyle,"formats/color":_.ColorStyle,"formats/font":j.FontClass,"formats/size":C.SizeClass,"formats/blockquote":b.default,"formats/code-block":Y.default,"formats/header":y.default,"formats/list":T.default,"formats/bold":P.default,"formats/code":G.Code,"formats/italic":B.default,"formats/link":k.default,"formats/script":V.default,"formats/strike":J.default,"formats/underline":te.default,"formats/image":K.default,"formats/video":oe.default,"formats/list/item":w.ListItem,"modules/formula":le.default,"modules/syntax":ce.default,"modules/toolbar":ge.default,"themes/bubble":de.default,"themes/snow":Be.default,"ui/icons":Te.default,"ui/picker":$e.default,"ui/icon-picker":Ve.default,"ui/color-picker":xe.default,"ui/tooltip":Xe.default},!0),n.default=o.default}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=(function(){function T(N,_){for(var j=0;j<_.length;j++){var C=_[j];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(N,C.key,C)}}return function(N,_,j){return _&&T(N.prototype,_),j&&T(N,j),N}})(),o=function T(N,_,j){N===null&&(N=Function.prototype);var C=Object.getOwnPropertyDescriptor(N,_);if(C===void 0){var A=Object.getPrototypeOf(N);return A===null?void 0:T(A,_,j)}else{if("value"in C)return C.value;var P=C.get;return P===void 0?void 0:P.call(j)}},c=i(0),d=f(c);function f(T){return T&&T.__esModule?T:{default:T}}function g(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}function b(T,N){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:T}function v(T,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(T,N):T.__proto__=N)}var y=(function(T){v(N,T);function N(){return g(this,N),b(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,[{key:"add",value:function(j,C){if(C==="+1"||C==="-1"){var A=this.value(j)||0;C=C==="+1"?A+1:A-1}return C===0?(this.remove(j),!0):o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"add",this).call(this,j,C)}},{key:"canAdd",value:function(j,C){return o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"canAdd",this).call(this,j,C)||o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"canAdd",this).call(this,j,parseInt(C))}},{key:"value",value:function(j){return parseInt(o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"value",this).call(this,j))||void 0}}]),N})(d.default.Attributor.Class),w=new y("indent","ql-indent",{scope:d.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=w}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),o=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function g(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var b=(function(v){g(y,v);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(o.default);b.blotName="blockquote",b.tagName="blockquote",n.default=b}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function y(w,T){for(var N=0;N<T.length;N++){var _=T[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,T,N){return T&&y(w.prototype,T),N&&y(w,N),w}})(),o=i(4),c=d(o);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function g(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function b(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var v=(function(y){b(w,y);function w(){return f(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,null,[{key:"formats",value:function(N){return this.tagName.indexOf(N.tagName)+1}}]),w})(c.default);v.blotName="header",v.tagName=["H1","H2","H3","H4","H5","H6"],n.default=v}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=(function(){function A(P,U){for(var B=0;B<U.length;B++){var F=U[B];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,U,B){return U&&A(P.prototype,U),B&&A(P,B),P}})(),o=function A(P,U,B){P===null&&(P=Function.prototype);var F=Object.getOwnPropertyDescriptor(P,U);if(F===void 0){var k=Object.getPrototypeOf(P);return k===null?void 0:A(k,U,B)}else{if("value"in F)return F.value;var z=F.get;return z===void 0?void 0:z.call(B)}},c=i(0),d=y(c),f=i(4),g=y(f),b=i(25),v=y(b);function y(A){return A&&A.__esModule?A:{default:A}}function w(A,P,U){return P in A?Object.defineProperty(A,P,{value:U,enumerable:!0,configurable:!0,writable:!0}):A[P]=U,A}function T(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function N(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:A}function _(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}var j=(function(A){_(P,A);function P(){return T(this,P),N(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return a(P,[{key:"format",value:function(B,F){B===C.blotName&&!F?this.replaceWith(d.default.create(this.statics.scope)):o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,B,F)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(B,F){return this.parent.isolate(this.offset(this.parent),this.length()),B===this.parent.statics.blotName?(this.parent.replaceWith(B,F),this):(this.parent.unwrap(),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replaceWith",this).call(this,B,F))}}],[{key:"formats",value:function(B){return B.tagName===this.tagName?void 0:o(P.__proto__||Object.getPrototypeOf(P),"formats",this).call(this,B)}}]),P})(g.default);j.blotName="list-item",j.tagName="LI";var C=(function(A){_(P,A),a(P,null,[{key:"create",value:function(B){var F=B==="ordered"?"OL":"UL",k=o(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,F);return(B==="checked"||B==="unchecked")&&k.setAttribute("data-checked",B==="checked"),k}},{key:"formats",value:function(B){if(B.tagName==="OL")return"ordered";if(B.tagName==="UL")return B.hasAttribute("data-checked")?B.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function P(U){T(this,P);var B=N(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,U)),F=function(z){if(z.target.parentNode===U){var V=B.statics.formats(U),X=d.default.find(z.target);V==="checked"?X.format("list","unchecked"):V==="unchecked"&&X.format("list","checked")}};return U.addEventListener("touchstart",F),U.addEventListener("mousedown",F),B}return a(P,[{key:"format",value:function(B,F){this.children.length>0&&this.children.tail.format(B,F)}},{key:"formats",value:function(){return w({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(B,F){if(B instanceof j)o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,B,F);else{var k=F==null?this.length():F.offset(this),z=this.split(k);z.parent.insertBefore(B,z)}}},{key:"optimize",value:function(B){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,B);var F=this.next;F!=null&&F.prev===this&&F.statics.blotName===this.statics.blotName&&F.domNode.tagName===this.domNode.tagName&&F.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(F.moveChildren(this),F.remove())}},{key:"replace",value:function(B){if(B.statics.blotName!==this.statics.blotName){var F=d.default.create(this.statics.defaultChild);B.moveChildren(F),this.appendChild(F)}o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,B)}}]),P})(v.default);C.blotName="list",C.scope=d.default.Scope.BLOCK_BLOT,C.tagName=["OL","UL"],C.defaultChild="list-item",C.allowedChildren=[j],n.ListItem=j,n.default=C}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),o=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function g(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var b=(function(v){g(y,v);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(o.default);b.blotName="italic",b.tagName=["EM","I"],n.default=b}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function w(T,N){for(var _=0;_<N.length;_++){var j=N[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(T,j.key,j)}}return function(T,N,_){return N&&w(T.prototype,N),_&&w(T,_),T}})(),o=function w(T,N,_){T===null&&(T=Function.prototype);var j=Object.getOwnPropertyDescriptor(T,N);if(j===void 0){var C=Object.getPrototypeOf(T);return C===null?void 0:w(C,N,_)}else{if("value"in j)return j.value;var A=j.get;return A===void 0?void 0:A.call(_)}},c=i(6),d=f(c);function f(w){return w&&w.__esModule?w:{default:w}}function g(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function b(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function v(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var y=(function(w){v(T,w);function T(){return g(this,T),b(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,null,[{key:"create",value:function(_){return _==="super"?document.createElement("sup"):_==="sub"?document.createElement("sub"):o(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,_)}},{key:"formats",value:function(_){if(_.tagName==="SUB")return"sub";if(_.tagName==="SUP")return"super"}}]),T})(d.default);y.blotName="script",y.tagName=["SUB","SUP"],n.default=y}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function g(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var b=(function(v){g(y,v);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(o.default);b.blotName="strike",b.tagName="S",n.default=b}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function g(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var b=(function(v){g(y,v);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(o.default);b.blotName="underline",b.tagName="U",n.default=b}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function N(_,j){for(var C=0;C<j.length;C++){var A=j[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,j,C){return j&&N(_.prototype,j),C&&N(_,C),_}})(),o=function N(_,j,C){_===null&&(_=Function.prototype);var A=Object.getOwnPropertyDescriptor(_,j);if(A===void 0){var P=Object.getPrototypeOf(_);return P===null?void 0:N(P,j,C)}else{if("value"in A)return A.value;var U=A.get;return U===void 0?void 0:U.call(C)}},c=i(0),d=g(c),f=i(27);function g(N){return N&&N.__esModule?N:{default:N}}function b(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function v(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function y(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}var w=["alt","height","width"],T=(function(N){y(_,N);function _(){return b(this,_),v(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(C,A){w.indexOf(C)>-1?A?this.domNode.setAttribute(C,A):this.domNode.removeAttribute(C):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,C,A)}}],[{key:"create",value:function(C){var A=o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,C);return typeof C=="string"&&A.setAttribute("src",this.sanitize(C)),A}},{key:"formats",value:function(C){return w.reduce(function(A,P){return C.hasAttribute(P)&&(A[P]=C.getAttribute(P)),A},{})}},{key:"match",value:function(C){return/\.(jpe?g|gif|png)$/.test(C)||/^data:image\/.+;base64/.test(C)}},{key:"sanitize",value:function(C){return(0,f.sanitize)(C,["http","https","data"])?C:"//:0"}},{key:"value",value:function(C){return C.getAttribute("src")}}]),_})(d.default.Embed);T.blotName="image",T.tagName="IMG",n.default=T}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function N(_,j){for(var C=0;C<j.length;C++){var A=j[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,j,C){return j&&N(_.prototype,j),C&&N(_,C),_}})(),o=function N(_,j,C){_===null&&(_=Function.prototype);var A=Object.getOwnPropertyDescriptor(_,j);if(A===void 0){var P=Object.getPrototypeOf(_);return P===null?void 0:N(P,j,C)}else{if("value"in A)return A.value;var U=A.get;return U===void 0?void 0:U.call(C)}},c=i(4),d=i(27),f=g(d);function g(N){return N&&N.__esModule?N:{default:N}}function b(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function v(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function y(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}var w=["height","width"],T=(function(N){y(_,N);function _(){return b(this,_),v(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(C,A){w.indexOf(C)>-1?A?this.domNode.setAttribute(C,A):this.domNode.removeAttribute(C):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,C,A)}}],[{key:"create",value:function(C){var A=o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,C);return A.setAttribute("frameborder","0"),A.setAttribute("allowfullscreen",!0),A.setAttribute("src",this.sanitize(C)),A}},{key:"formats",value:function(C){return w.reduce(function(A,P){return C.hasAttribute(P)&&(A[P]=C.getAttribute(P)),A},{})}},{key:"sanitize",value:function(C){return f.default.sanitize(C)}},{key:"value",value:function(C){return C.getAttribute("src")}}]),_})(c.BlockEmbed);T.blotName="video",T.className="ql-video",T.tagName="IFRAME",n.default=T}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=(function(){function C(A,P){for(var U=0;U<P.length;U++){var B=P[U];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}return function(A,P,U){return P&&C(A.prototype,P),U&&C(A,U),A}})(),o=function C(A,P,U){A===null&&(A=Function.prototype);var B=Object.getOwnPropertyDescriptor(A,P);if(B===void 0){var F=Object.getPrototypeOf(A);return F===null?void 0:C(F,P,U)}else{if("value"in B)return B.value;var k=B.get;return k===void 0?void 0:k.call(U)}},c=i(35),d=y(c),f=i(5),g=y(f),b=i(9),v=y(b);function y(C){return C&&C.__esModule?C:{default:C}}function w(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")}function T(C,A){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:C}function N(C,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);C.prototype=Object.create(A&&A.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(C,A):C.__proto__=A)}var _=(function(C){N(A,C);function A(){return w(this,A),T(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,null,[{key:"create",value:function(U){var B=o(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,U);return typeof U=="string"&&(window.katex.render(U,B,{throwOnError:!1,errorColor:"#f00"}),B.setAttribute("data-value",U)),B}},{key:"value",value:function(U){return U.getAttribute("data-value")}}]),A})(d.default);_.blotName="formula",_.className="ql-formula",_.tagName="SPAN";var j=(function(C){N(A,C),a(A,null,[{key:"register",value:function(){g.default.register(_,!0)}}]);function A(){w(this,A);var P=T(this,(A.__proto__||Object.getPrototypeOf(A)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return P}return A})(v.default);n.FormulaBlot=_,n.default=j}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=(function(){function U(B,F){for(var k=0;k<F.length;k++){var z=F[k];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(B,z.key,z)}}return function(B,F,k){return F&&U(B.prototype,F),k&&U(B,k),B}})(),o=function U(B,F,k){B===null&&(B=Function.prototype);var z=Object.getOwnPropertyDescriptor(B,F);if(z===void 0){var V=Object.getPrototypeOf(B);return V===null?void 0:U(V,F,k)}else{if("value"in z)return z.value;var X=z.get;return X===void 0?void 0:X.call(k)}},c=i(0),d=T(c),f=i(5),g=T(f),b=i(9),v=T(b),y=i(13),w=T(y);function T(U){return U&&U.__esModule?U:{default:U}}function N(U,B){if(!(U instanceof B))throw new TypeError("Cannot call a class as a function")}function _(U,B){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:U}function j(U,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);U.prototype=Object.create(B&&B.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(U,B):U.__proto__=B)}var C=(function(U){j(B,U);function B(){return N(this,B),_(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return a(B,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),o(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var z=this.domNode.textContent;this.cachedText!==z&&((z.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(z),this.domNode.normalize(),this.attach()),this.cachedText=z)}}]),B})(w.default);C.className="ql-syntax";var A=new d.default.Attributor.Class("token","hljs",{scope:d.default.Scope.INLINE}),P=(function(U){j(B,U),a(B,null,[{key:"register",value:function(){g.default.register(A,!0),g.default.register(C,!0)}}]);function B(F,k){N(this,B);var z=_(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,F,k));if(typeof z.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var V=null;return z.quill.on(g.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(V),V=setTimeout(function(){z.highlight(),V=null},z.options.interval)}),z.highlight(),z}return a(B,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(g.default.sources.USER);var z=this.quill.getSelection();this.quill.scroll.descendants(C).forEach(function(V){V.highlight(k.options.highlight)}),this.quill.update(g.default.sources.SILENT),z!=null&&this.quill.setSelection(z,g.default.sources.SILENT)}}}]),B})(v.default);P.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(U){var B=window.hljs.highlightAuto(U);return B.value}})(),interval:1e3},n.CodeBlock=C,n.CodeToken=A,n.default=P}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function B(F,k,z){F===null&&(F=Function.prototype);var V=Object.getOwnPropertyDescriptor(F,k);if(V===void 0){var X=Object.getPrototypeOf(F);return X===null?void 0:B(X,k,z)}else{if("value"in V)return V.value;var J=V.get;return J===void 0?void 0:J.call(z)}},o=(function(){function B(F,k){for(var z=0;z<k.length;z++){var V=k[z];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(F,V.key,V)}}return function(F,k,z){return k&&B(F.prototype,k),z&&B(F,z),F}})(),c=i(3),d=N(c),f=i(8),g=N(f),b=i(43),v=N(b),y=i(15),w=i(41),T=N(w);function N(B){return B&&B.__esModule?B:{default:B}}function _(B,F){if(!(B instanceof F))throw new TypeError("Cannot call a class as a function")}function j(B,F){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:B}function C(B,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);B.prototype=Object.create(F&&F.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(B,F):B.__proto__=F)}var A=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],P=(function(B){C(F,B);function F(k,z){_(this,F),z.modules.toolbar!=null&&z.modules.toolbar.container==null&&(z.modules.toolbar.container=A);var V=j(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,k,z));return V.quill.container.classList.add("ql-bubble"),V}return o(F,[{key:"extendToolbar",value:function(z){this.tooltip=new U(this.quill,this.options.bounds),this.tooltip.root.appendChild(z.container),this.buildButtons([].slice.call(z.container.querySelectorAll("button")),T.default),this.buildPickers([].slice.call(z.container.querySelectorAll("select")),T.default)}}]),F})(v.default);P.DEFAULTS=(0,d.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(F){F?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var U=(function(B){C(F,B);function F(k,z){_(this,F);var V=j(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,k,z));return V.quill.on(g.default.events.EDITOR_CHANGE,function(X,J,ee,te){if(X===g.default.events.SELECTION_CHANGE)if(J!=null&&J.length>0&&te===g.default.sources.USER){V.show(),V.root.style.left="0px",V.root.style.width="",V.root.style.width=V.root.offsetWidth+"px";var W=V.quill.getLines(J.index,J.length);if(W.length===1)V.position(V.quill.getBounds(J));else{var K=W[W.length-1],$=V.quill.getIndex(K),oe=Math.min(K.length()-1,J.index+J.length-$),G=V.quill.getBounds(new y.Range($,oe));V.position(G)}}else document.activeElement!==V.textbox&&V.quill.hasFocus()&&V.hide()}),V}return o(F,[{key:"listen",value:function(){var z=this;a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){z.root.classList.remove("ql-editing")}),this.quill.on(g.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!z.root.classList.contains("ql-hidden")){var V=z.quill.getSelection();V!=null&&z.position(z.quill.getBounds(V))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(z){var V=a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"position",this).call(this,z),X=this.root.querySelector(".ql-tooltip-arrow");if(X.style.marginLeft="",V===0)return V;X.style.marginLeft=-1*V-X.offsetWidth/2+"px"}}]),F})(b.BaseTooltip);U.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=U,n.default=P}),(function(t,n,i){t.exports=i(63)})]).default})})(d1)),d1.exports}var OJ=RJ();const UO=ed(OJ);function fy(r){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(r)}function Vf(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ya(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}function Qc(r){ya(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||fy(r)==="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function DJ(r,e){ya(2,arguments);var t=Qc(r).getTime(),n=Vf(e);return new Date(t+n)}var PJ={};function o_(){return PJ}function LJ(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}function zJ(r){return ya(1,arguments),r instanceof Date||fy(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function UJ(r){if(ya(1,arguments),!zJ(r)&&typeof r!="number")return!1;var e=Qc(r);return!isNaN(Number(e))}function IJ(r,e){ya(2,arguments);var t=Vf(e);return DJ(r,-t)}var BJ=864e5;function kJ(r){ya(1,arguments);var e=Qc(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=t-n;return Math.floor(i/BJ)+1}function my(r){ya(1,arguments);var e=1,t=Qc(r),n=t.getUTCDay(),i=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function IO(r){ya(1,arguments);var e=Qc(r),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var i=my(n),a=new Date(0);a.setUTCFullYear(t,0,4),a.setUTCHours(0,0,0,0);var o=my(a);return e.getTime()>=i.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function HJ(r){ya(1,arguments);var e=IO(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=my(t);return n}var VJ=6048e5;function FJ(r){ya(1,arguments);var e=Qc(r),t=my(e).getTime()-HJ(e).getTime();return Math.round(t/VJ)+1}function py(r,e){var t,n,i,a,o,c,d,f;ya(1,arguments);var g=o_(),b=Vf((t=(n=(i=(a=e?.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:g.weekStartsOn)!==null&&n!==void 0?n:(d=g.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&t!==void 0?t:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Qc(r),y=v.getUTCDay(),w=(y<b?7:0)+y-b;return v.setUTCDate(v.getUTCDate()-w),v.setUTCHours(0,0,0,0),v}function BO(r,e){var t,n,i,a,o,c,d,f;ya(1,arguments);var g=Qc(r),b=g.getUTCFullYear(),v=o_(),y=Vf((t=(n=(i=(a=e?.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:v.firstWeekContainsDate)!==null&&n!==void 0?n:(d=v.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(b+1,0,y),w.setUTCHours(0,0,0,0);var T=py(w,e),N=new Date(0);N.setUTCFullYear(b,0,y),N.setUTCHours(0,0,0,0);var _=py(N,e);return g.getTime()>=T.getTime()?b+1:g.getTime()>=_.getTime()?b:b-1}function qJ(r,e){var t,n,i,a,o,c,d,f;ya(1,arguments);var g=o_(),b=Vf((t=(n=(i=(a=e?.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:g.firstWeekContainsDate)!==null&&n!==void 0?n:(d=g.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1),v=BO(r,e),y=new Date(0);y.setUTCFullYear(v,0,b),y.setUTCHours(0,0,0,0);var w=py(y,e);return w}var GJ=6048e5;function WJ(r,e){ya(1,arguments);var t=Qc(r),n=py(t,e).getTime()-qJ(t,e).getTime();return Math.round(n/GJ)+1}function vr(r,e){for(var t=r<0?"-":"",n=Math.abs(r).toString();n.length<e;)n="0"+n;return t+n}var th={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return vr(t==="yy"?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return t==="M"?String(n+1):vr(n+1,2)},d:function(e,t){return vr(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,t){return vr(e.getUTCHours()%12||12,t.length)},H:function(e,t){return vr(e.getUTCHours(),t.length)},m:function(e,t){return vr(e.getUTCMinutes(),t.length)},s:function(e,t){return vr(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return vr(a,t.length)}},Sp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XJ={G:function(e,t,n){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return th.y(e,t)},Y:function(e,t,n,i){var a=BO(e,i),o=a>0?a:1-a;if(t==="YY"){var c=o%100;return vr(c,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):vr(o,t.length)},R:function(e,t){var n=IO(e);return vr(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return vr(n,t.length)},Q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return vr(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return vr(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return th.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return vr(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){var a=WJ(e,i);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):vr(a,t.length)},I:function(e,t,n){var i=FJ(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):vr(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):th.d(e,t)},D:function(e,t,n){var i=kJ(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):vr(i,t.length)},E:function(e,t,n){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return vr(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return vr(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var i=e.getUTCDay(),a=i===0?7:i;switch(t){case"i":return String(a);case"ii":return vr(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){var i=e.getUTCHours(),a;switch(i===12?a=Sp.noon:i===0?a=Sp.midnight:a=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){var i=e.getUTCHours(),a;switch(i>=17?a=Sp.evening:i>=12?a=Sp.afternoon:i>=4?a=Sp.morning:a=Sp.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return th.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):th.H(e,t)},K:function(e,t,n){var i=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):vr(i,t.length)},k:function(e,t,n){var i=e.getUTCHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):vr(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):th.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):th.s(e,t)},S:function(e,t){return th.S(e,t)},X:function(e,t,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return c4(o);case"XXXX":case"XX":return Nf(o);case"XXXXX":case"XXX":default:return Nf(o,":")}},x:function(e,t,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(t){case"x":return c4(o);case"xxxx":case"xx":return Nf(o);case"xxxxx":case"xxx":default:return Nf(o,":")}},O:function(e,t,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+l4(o,":");case"OOOO":default:return"GMT"+Nf(o,":")}},z:function(e,t,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+l4(o,":");case"zzzz":default:return"GMT"+Nf(o,":")}},t:function(e,t,n,i){var a=i._originalDate||e,o=Math.floor(a.getTime()/1e3);return vr(o,t.length)},T:function(e,t,n,i){var a=i._originalDate||e,o=a.getTime();return vr(o,t.length)}};function l4(r,e){var t=r>0?"-":"+",n=Math.abs(r),i=Math.floor(n/60),a=n%60;if(a===0)return t+String(i);var o=e;return t+String(i)+o+vr(a,2)}function c4(r,e){if(r%60===0){var t=r>0?"-":"+";return t+vr(Math.abs(r)/60,2)}return Nf(r,e)}function Nf(r,e){var t=e||"",n=r>0?"-":"+",i=Math.abs(r),a=vr(Math.floor(i/60),2),o=vr(i%60,2);return n+a+t+o}var u4=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},kO=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},YJ=function(e,t){var n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return u4(e,t);var o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",u4(i,t)).replace("{{time}}",kO(a,t))},ZJ={p:kO,P:YJ},KJ=["D","DD"],JJ=["YY","YYYY"];function QJ(r){return KJ.indexOf(r)!==-1}function $J(r){return JJ.indexOf(r)!==-1}function d4(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var eQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tQ=function(e,t,n){var i,a=eQ[e];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Bp(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,n=r.formats[t]||r.formats[r.defaultWidth];return n}}var nQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sQ={date:Bp({formats:nQ,defaultWidth:"full"}),time:Bp({formats:rQ,defaultWidth:"full"}),dateTime:Bp({formats:iQ,defaultWidth:"full"})},aQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oQ=function(e,t,n,i){return aQ[e]};function kc(r){return function(e,t){var n=t!=null&&t.context?String(t.context):"standalone",i;if(n==="formatting"&&r.formattingValues){var a=r.defaultFormattingWidth||r.defaultWidth,o=t!=null&&t.width?String(t.width):a;i=r.formattingValues[o]||r.formattingValues[a]}else{var c=r.defaultWidth,d=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[d]||r.values[c]}var f=r.argumentCallback?r.argumentCallback(e):e;return i[f]}}var lQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mQ=function(e,t){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pQ={ordinalNumber:mQ,era:kc({values:lQ,defaultWidth:"wide"}),quarter:kc({values:cQ,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:kc({values:uQ,defaultWidth:"wide"}),day:kc({values:dQ,defaultWidth:"wide"}),dayPeriod:kc({values:hQ,defaultWidth:"wide",formattingValues:fQ,defaultFormattingWidth:"wide"})};function Hc(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(c)?bQ(c,function(b){return b.test(o)}):gQ(c,function(b){return b.test(o)}),f;f=r.valueCallback?r.valueCallback(d):d,f=t.valueCallback?t.valueCallback(f):f;var g=e.slice(o.length);return{value:f,rest:g}}}function gQ(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function bQ(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}function HO(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(r.matchPattern);if(!n)return null;var i=n[0],a=e.match(r.parsePattern);if(!a)return null;var o=r.valueCallback?r.valueCallback(a[0]):a[0];o=t.valueCallback?t.valueCallback(o):o;var c=e.slice(i.length);return{value:o,rest:c}}}var xQ=/^(\d+)(th|st|nd|rd)?/i,vQ=/\d+/i,yQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_Q={any:[/^b/i,/^(a|c)/i]},SQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wQ={any:[/1/i,/2/i,/3/i,/4/i]},EQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},TQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},MQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CQ={ordinalNumber:HO({matchPattern:xQ,parsePattern:vQ,valueCallback:function(e){return parseInt(e,10)}}),era:Hc({matchPatterns:yQ,defaultMatchWidth:"wide",parsePatterns:_Q,defaultParseWidth:"any"}),quarter:Hc({matchPatterns:SQ,defaultMatchWidth:"wide",parsePatterns:wQ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Hc({matchPatterns:EQ,defaultMatchWidth:"wide",parsePatterns:NQ,defaultParseWidth:"any"}),day:Hc({matchPatterns:TQ,defaultMatchWidth:"wide",parsePatterns:MQ,defaultParseWidth:"any"}),dayPeriod:Hc({matchPatterns:jQ,defaultMatchWidth:"any",parsePatterns:AQ,defaultParseWidth:"any"})},RQ={code:"en-US",formatDistance:tQ,formatLong:sQ,formatRelative:oQ,localize:pQ,match:CQ,options:{weekStartsOn:0,firstWeekContainsDate:1}},OQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PQ=/^'([^]*?)'?$/,LQ=/''/g,zQ=/[a-zA-Z]/;function UQ(r,e,t){var n,i,a,o,c,d,f,g,b,v,y,w,T,N,_,j,C,A;ya(2,arguments);var P=String(e),U=o_(),B=(n=(i=t?.locale)!==null&&i!==void 0?i:U.locale)!==null&&n!==void 0?n:RQ,F=Vf((a=(o=(c=(d=t?.firstWeekContainsDate)!==null&&d!==void 0?d:t==null||(f=t.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&c!==void 0?c:U.firstWeekContainsDate)!==null&&o!==void 0?o:(b=U.locale)===null||b===void 0||(v=b.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Vf((y=(w=(T=(N=t?.weekStartsOn)!==null&&N!==void 0?N:t==null||(_=t.locale)===null||_===void 0||(j=_.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&T!==void 0?T:U.weekStartsOn)!==null&&w!==void 0?w:(C=U.locale)===null||C===void 0||(A=C.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&y!==void 0?y:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!B.localize)throw new RangeError("locale must contain localize property");if(!B.formatLong)throw new RangeError("locale must contain formatLong property");var z=Qc(r);if(!UJ(z))throw new RangeError("Invalid time value");var V=LJ(z),X=IJ(z,V),J={firstWeekContainsDate:F,weekStartsOn:k,locale:B,_originalDate:z},ee=P.match(DQ).map(function(te){var W=te[0];if(W==="p"||W==="P"){var K=ZJ[W];return K(te,B.formatLong)}return te}).join("").match(OQ).map(function(te){if(te==="''")return"'";var W=te[0];if(W==="'")return IQ(te);var K=XJ[W];if(K)return!(t!=null&&t.useAdditionalWeekYearTokens)&&$J(te)&&d4(te,e,String(r)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&QJ(te)&&d4(te,e,String(r)),K(X,te,B.localize,J);if(W.match(zQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return te}).join("");return ee}function IQ(r){var e=r.match(PQ);return e?e[1].replace(LQ,"'"):r}/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VO=(...r)=>r.filter((e,t,n)=>!!e&&n.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=ae.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...c},d)=>ae.createElement("svg",{ref:d,...kQ,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:VO("lucide",i),...c},[...o.map(([f,g])=>ae.createElement(f,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=(r,e)=>{const t=ae.forwardRef(({className:n,...i},a)=>ae.createElement(HQ,{ref:a,iconNode:e,className:VO(`lucide-${BQ(r)}`,n),...i}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=g0("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=g0("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=g0("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=g0("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=g0("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=g0("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var WQ={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},XQ=function(e,t,n){var i,a=WQ[e];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+i:"hace "+i:i},YQ={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},ZQ={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},KQ={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JQ={date:Bp({formats:YQ,defaultWidth:"full"}),time:Bp({formats:ZQ,defaultWidth:"full"}),dateTime:Bp({formats:KQ,defaultWidth:"full"})},QQ={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},$Q={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},e$=function(e,t,n,i){return t.getUTCHours()!==1?$Q[e]:QQ[e]},t$={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},n$={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},r$={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},i$={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},s$={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},a$={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},o$=function(e,t){var n=Number(e);return n+"º"},l$={ordinalNumber:o$,era:kc({values:t$,defaultWidth:"wide"}),quarter:kc({values:n$,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:kc({values:r$,defaultWidth:"wide"}),day:kc({values:i$,defaultWidth:"wide"}),dayPeriod:kc({values:s$,defaultWidth:"wide",formattingValues:a$,defaultFormattingWidth:"wide"})},c$=/^(\d+)(º)?/i,u$=/\d+/i,d$={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},h$={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},f$={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},m$={any:[/1/i,/2/i,/3/i,/4/i]},p$={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},g$={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},b$={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},x$={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},v$={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},y$={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},_$={ordinalNumber:HO({matchPattern:c$,parsePattern:u$,valueCallback:function(e){return parseInt(e,10)}}),era:Hc({matchPatterns:d$,defaultMatchWidth:"wide",parsePatterns:h$,defaultParseWidth:"any"}),quarter:Hc({matchPatterns:f$,defaultMatchWidth:"wide",parsePatterns:m$,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Hc({matchPatterns:p$,defaultMatchWidth:"wide",parsePatterns:g$,defaultParseWidth:"any"}),day:Hc({matchPatterns:b$,defaultMatchWidth:"wide",parsePatterns:x$,defaultParseWidth:"any"}),dayPeriod:Hc({matchPatterns:v$,defaultMatchWidth:"any",parsePatterns:y$,defaultParseWidth:"any"})},S$={code:"es",formatDistance:XQ,formatLong:JQ,formatRelative:e$,localize:l$,match:_$,options:{weekStartsOn:1,firstWeekContainsDate:1}};const w$=()=>{const r=en(),{user:e}=sl(),[t,n]=ae.useState(""),[i,a]=ae.useState(""),[o,c]=ae.useState(""),[d,f]=ae.useState([]),[g,b]=ae.useState([]),[v,y]=ae.useState(null),[w,T]=ae.useState(!1),[N,_]=ae.useState(null),[j,C]=ae.useState(null),[A,P]=ae.useState(""),[U,B]=ae.useState(!1),F=ae.useRef(null),k=ae.useRef(null);ae.useEffect(()=>{if(k.current&&!F.current&&U){F.current=new UO(k.current,{theme:"snow",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]}}),F.current.on("text-change",()=>{n(F.current.root.innerHTML)});const K=k.current.querySelector(".ql-editor"),$=k.current.previousSibling;K&&(K.style.backgroundColor="#000000",K.style.color="#ffffff",K.style.borderRadius="0.5rem",K.style.margin="12px",K.style.padding="12px",K.style.minHeight="200px",K.style.fontFamily="Montserrat, sans-serif"),$&&($.style.backgroundColor="#ffffff",$.style.borderRadius="0.5rem 0.5rem 0 0",$.style.borderBottom="none")}return()=>{F.current&&(F.current.off("text-change"),F.current=null)}},[U]),ae.useEffect(()=>{F.current&&t!==F.current.root.innerHTML&&(F.current.root.innerHTML=t)},[t,U]),ae.useEffect(()=>{if(!e)return;(async()=>{try{const{data:$,error:oe}=await Jt.from("characters").select("id, name").eq("user_id",e.id).order("name");if(oe)throw oe;f($||[]);const{data:G,error:Y}=await Jt.from("journals").select("*, characters(name)").eq("user_id",e.id).order("created_at",{ascending:!1});if(Y)throw Y;b(G||[])}catch($){C("No se pudo cargar los datos: "+$.message),console.error($)}})()},[e]);const z=async K=>{if(K.preventDefault(),!i.trim()){C("Debes ingresar un título.");return}if(!F.current.getText().trim()){C("El contenido no puede estar vacío.");return}try{if(C(null),v){const{error:G}=await Jt.from("journals").update({title:i,content:t,character_id:o||null,updated_at:new Date().toISOString()}).eq("id",v).eq("user_id",e.id);if(G)throw G}else{const{error:G}=await Jt.from("journals").insert({user_id:e.id,title:i,content:t,character_id:o||null});if(G)throw G}const{data:$,error:oe}=await Jt.from("journals").select("*, characters(name)").eq("user_id",e.id).order("created_at",{ascending:!1});if(oe)throw oe;b($||[]),n(""),a(""),c(""),y(null),B(!1)}catch($){C("No se pudo guardar el diario: "+$.message),console.error($)}},V=K=>{a(K.title||""),n(K.content||""),c(K.character_id||""),y(K.id),C(null),B(!0)},X=async()=>{try{const{error:K}=await Jt.from("journals").delete().eq("id",N.id).eq("user_id",e.id);if(K)throw K;b(g.filter($=>$.id!==N.id)),T(!1),_(null)}catch(K){C("No se pudo eliminar el diario: "+K.message),console.error(K)}},J=g.filter(K=>K.title.toLowerCase().includes(A.toLowerCase())||K.characters?.name?.toLowerCase().includes(A.toLowerCase())),ee=d.reduce((K,$)=>(K[$.id]=J.filter(oe=>oe.character_id===$.id),K),{}),te=J.filter(K=>!K.character_id),W=()=>{r("/landing")};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white bg-black",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Diarios"})}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 p-4",children:[j&&s.jsx("p",{className:"text-red-600 text-sm mb-4 text-center montserrat animate-pulse",children:j}),s.jsx("div",{className:"mb-8",children:s.jsx("input",{type:"text",value:A,onChange:K=>P(K.target.value),placeholder:"Buscar en tus diarios por titulo o autor...",className:"w-full p-2 bg-slate-800 text-white rounded montserrat focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-300","aria-label":"Buscar diarios"})}),s.jsx("button",{onClick:()=>B(!0),className:"montserrat text-xl bg-slate-800 hover:bg-slate-600 p-2 rounded-2xl border-1 border-white cursor-pointer w-fit self-center",children:"Crear Diario"}),d.map(K=>ee[K.id]?.length>0&&s.jsxs("div",{children:[s.jsxs("h2",{className:"cinzel text-2xl md:text-4xl",children:["Crónicas de ",K.name]}),s.jsx("div",{className:"my-4"}),ee[K.id].map($=>s.jsx(h4,{entry:$,onEdit:V,onDelete:oe=>{_(oe),T(!0)}},$.id))]},K.id)),te.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Crónicas Perdidas"}),te.map(K=>s.jsx(h4,{entry:K,onEdit:V,onDelete:$=>{_($),T(!0)}},K.id))]}),J.length===0&&s.jsx("p",{className:"text-white text-center montserrat text-lg",children:"No se encontraron diarios."})]}),s.jsx("div",{onClick:W,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})}),U&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-black p-4 rounded-lg border-1 border-white w-11/12 md:w-1/2 max-w-4xl relative flex flex-col",children:[s.jsx("h2",{className:"cinzel text-2xl mb-4",children:v?"Editar Diario":"Crear Diario"}),j&&s.jsx("p",{className:"text-red-600 text-sm mb-4 montserrat animate-pulse",children:j}),s.jsxs("form",{onSubmit:z,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white text-sm montserrat mb-2",children:"Título"}),s.jsx("input",{type:"text",value:i,onChange:K=>a(K.target.value),placeholder:"Título del diario...",className:"w-full p-2 bg-black text-white rounded montserrat border-1 border-white focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-300",required:!0,"aria-label":"Título del diario"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white text-sm montserrat mb-2",children:"Contenido"}),s.jsx("div",{ref:k,className:"bg-black border-1 p-1 m-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white text-sm montserrat mb-2",children:"Vinculado a Personaje"}),s.jsxs("select",{value:o,onChange:K=>c(K.target.value),className:"w-full p-2 bg-black text-white rounded montserrat border-1 border-white focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-300","aria-label":"Seleccionar personaje",children:[s.jsx("option",{value:"",children:"Sin Personaje"}),d.map(K=>s.jsx("option",{value:K.id,children:K.name},K.id))]})]}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{type:"submit",className:"p-2 bg-slate-600 text-white rounded montserrat hover:bg-slate-500 transition-all duration-300","aria-label":v?"Actualizar diario":"Crear diario",children:v?"Actualizar":"Crear"}),s.jsx("button",{type:"button",onClick:()=>{n(""),a(""),c(""),y(null),C(null),B(!1)},className:"p-2 bg-slate-600 text-white rounded montserrat hover:bg-slate-500 transition-all duration-300","aria-label":"Cancelar",children:"Cancelar"})]})]})]})}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg border-1 border-white max-w-sm w-full text-center",children:[s.jsx("h2",{className:"cinzel text-2xl mb-4",children:"Eliminar Diario"}),s.jsxs("p",{className:"text-white montserrat mb-6",children:['¿Estás seguro de que deseas eliminar "',N.title,'"?']}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:()=>T(!1),className:"p-2 bg-slate-600 text-white rounded montserrat hover:bg-slate-500 transition-all duration-300","aria-label":"Cancelar eliminación",children:"Cancelar"}),s.jsx("button",{onClick:X,className:"p-2 bg-red-800 text-white rounded montserrat hover:bg-red-600 transition-all duration-300","aria-label":"Confirmar eliminación",children:"Eliminar"})]})]})})]})},h4=({entry:r,onEdit:e,onDelete:t})=>{const n=(i,a=200)=>{const o=i.replace(/<[^>]+>/g,"");return o.length>a?o.substring(0,a)+"...":o};return s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between cursor-pointer my-4 p-4 rounded-xl border-transparent border-1 hover:border-white hover:shadow-lg hover:shadow-gray-700",children:[s.jsx("ul",{className:"mb-4",children:s.jsx("li",{children:s.jsxs("div",{className:"flex flex-row space-x-4 items-center",children:[s.jsx("div",{children:s.jsx("div",{className:"rounded-full w-25 h-25 md:w-45 md:h-45",children:s.jsx("img",{className:"rounded-full",src:"/assets/image/journal.png",alt:"Journal Image"})})}),s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("h3",{className:"montserrat text-xl px-2 py-2 font-thin",children:["Título: ",r.title]}),r.characters?.name&&s.jsxs("h3",{className:"montserrat text-xl px-2 py-2 font-thin",children:["Autor: ",r.characters.name]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("p",{className:"montserrat text-md font-thin px-2",children:["Fecha: ",UQ(new Date(r.created_at),"d MMMM yyyy",{locale:S$})]}),s.jsx("p",{className:"montserrat text-md font-thin px-2",children:"Resumen:"}),s.jsx("p",{className:"montserrat italic text-xs font-thin py-2 px-2",children:n(r.content)})]})]})]})})}),s.jsxs("div",{className:"flex flex-wrap flex-row md:flex-col items-center justify-center space-x-4 md:space-x-0 md:space-y-4",children:[s.jsx("button",{className:"w-25 bg-slate-800 hover:bg-slate-600 p-2 rounded-2xl border-1 border-white cursor-pointer montserrat",onClick:()=>e(r),children:"Editar"}),s.jsx("button",{className:"w-25 bg-red-800 hover:bg-red-600 p-2 rounded-2xl border-1 border-white cursor-pointer montserrat",onClick:()=>t(r),children:"Eliminar"})]})]})},E$=()=>{const r=en(),{user:e}=sl(),[t,n]=ae.useState([]),[i,a]=ae.useState(!1),[o,c]=ae.useState(null),[d,f]=ae.useState(null),[g,b]=ae.useState(null);ae.useEffect(()=>{e&&(async()=>{try{const{data:C,error:A}=await Jt.from("characters").select("*").eq("user_id",e.id);if(A)throw A;n(C||[])}catch(C){b("No se pudo cargar los personajes: "+C.message),console.error("Error fetching characters:",C)}})()},[e]);const v=(j,C)=>{c(j),f(C),a(!0),b(null)},y=()=>{a(!1),c(null),f(null),b(null)},w=async()=>{try{if(o==="delete"){const{error:j}=await Jt.from("characters").delete().eq("id",d.id);if(j)throw j;n(t.filter(C=>C.id!==d.id))}else if(o==="toggleStatus"){const j={...d.data,status:d.data?.status==="deceased"?"alive":"deceased",deathDate:d.data?.status==="deceased"?null:new Date().toISOString().split("T")[0]},{error:C}=await Jt.from("characters").update({data:j}).eq("id",d.id);if(C)throw C;n(t.map(A=>A.id===d.id?{...A,data:j}:A))}y()}catch(j){b("No se pudo completar la acción: "+j.message),console.error("Error:",j)}},T=()=>{r("/landing")},N=t.filter(j=>j.data?.status!=="deceased"),_=t.filter(j=>j.data?.status==="deceased");return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white bg-black overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Personajes"})}),s.jsxs("div",{className:"mt-8 flex space-x-4",children:[s.jsx(Xu,{to:"/characters/new/pc",className:"montserrat text-xl bg-emerald-800 hover:bg-emerald-600 p-2 rounded-2xl border-1 border-white cursor-pointer","aria-label":"Crear personaje jugable",children:"Crear PC"}),s.jsx(Xu,{to:"/characters/new/npc",className:"montserrat text-xl bg-emerald-800 hover:bg-emerald-600 p-2 rounded-2xl border-1 border-white cursor-pointer","aria-label":"Crear personaje no jugable",children:"Crear NPC"})]}),s.jsxs("main",{className:"flex flex-col border-white border-1 rounded-xl w-10/12 mt-8 space-y-8 p-4",children:[g&&s.jsx("p",{className:"text-red-600 text-sm mb-4 text-center montserrat animate-pulse",children:g}),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Vivos"}),N.length===0?s.jsx("p",{className:"text-white text-center montserrat text-lg",children:"No hay almas vivas en el reino."}):N.map(j=>s.jsx(f4,{char:j,openModal:v},j.id)),s.jsx("h2",{className:"cinzel text-2xl md:text-4xl",children:"Fallecidos"}),_.length===0?s.jsx("p",{className:"text-white text-center montserrat text-lg",children:"Ningún alma ha perecido aún."}):_.map(j=>s.jsx(f4,{char:j,openModal:v},j.id))]}),s.jsx("div",{onClick:T,className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:y,children:s.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg border-1 border-white max-w-sm w-full text-center",onClick:j=>j.stopPropagation(),children:[s.jsx("h2",{className:"cinzel text-2xl mb-4",children:o==="delete"?"Eliminar Personaje":o==="toggleStatus"&&d.data?.status==="deceased"?"Revivir Personaje":"Marcar como Fallecido"}),g&&s.jsx("p",{className:"text-red-600 text-sm mb-4 montserrat animate-pulse",children:g}),s.jsx("p",{className:"text-white montserrat mb-6",children:o==="delete"?`¿Estás seguro de que deseas eliminar a ${d.name}?`:d.data?.status==="deceased"?`¿Estás seguro de que deseas revivir a ${d.name}?`:`¿Estás seguro de que deseas marcar a ${d.name} como fallecido?`}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:w,className:"p-2 bg-red-800 text-white rounded montserrat hover:bg-red-600 transition-all duration-300","aria-label":"Confirmar acción",children:"Confirmar"}),s.jsx("button",{onClick:y,className:"p-2 bg-slate-600 text-white rounded montserrat hover:bg-slate-500 transition-all duration-300","aria-label":"Cancelar acción",children:"Cancelar"})]})]})})]})},f4=({char:r,openModal:e})=>{const t=r.data?.status||"alive";return s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between cursor-pointer my-4 p-4 rounded-xl border-transparent border-1 hover:border-white hover:shadow-lg hover:shadow-gray-700",children:[s.jsx("ul",{className:"mb-4",children:s.jsx("li",{children:s.jsxs("div",{className:"flex flex-row space-x-4 items-center",children:[s.jsx("div",{children:s.jsx("div",{className:"w-25 h-25 md:w-45 md:h-45 border-white border-1 flex items-center justify-center rounded-full overflow-clip",children:r.data?.picture?s.jsx("img",{className:"object-cover w-full h-full",src:r.data.picture,alt:r.name}):s.jsx(FO,{className:"w-25 h-25 md:w-45 md:h-45 text-white"})})}),s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row text-yellow-500",children:[s.jsx("h3",{className:"cinzel text-xl md:border-r-1 px-2 py-2 font-thin",children:r.name}),s.jsxs("p",{className:"cinzel text-xl md:border-r-1 px-2 py-2 font-thin capitalize",children:[r.data?.ageStage||""," ",r.data?.race||"Desconocida"]}),s.jsx("p",{className:"cinzel text-xl px-2 py-2 font-thin",children:r.data?.alignment||"Desconocido"})]}),r.type==="PC"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"hidden md:flex md:flex-row",children:[s.jsxs("p",{className:"montserrat text-md border-r-1 px-2 font-thin",children:["STR: ",r.data?.abilityScores.strength||"N/A"]}),s.jsxs("p",{className:"montserrat text-md border-r-1 px-2 font-thin",children:["DEX: ",r.data?.abilityScores.dexterity||"N/A"]}),s.jsxs("p",{className:"montserrat text-md border-r-1 px-2 font-thin",children:["CON: ",r.data?.abilityScores.constitution||"N/A"]}),s.jsxs("p",{className:"montserrat text-md border-r-1 px-2 font-thin",children:["INT: ",r.data?.abilityScores.intelligence||"N/A"]}),s.jsxs("p",{className:"montserrat text-md border-r-1 px-2 font-thin",children:["WIS: ",r.data?.abilityScores.wisdom||"N/A"]}),s.jsxs("p",{className:"montserrat text-md px-2 font-thin",children:["CHA: ",r.data?.abilityScores.charisma||"N/A"]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsxs("p",{className:"montserrat text-md md:border-r-1 px-2 font-thin",children:["Clase: ",r.data?.class||"Desconocida"]}),s.jsxs("p",{className:"montserrat text-md md:border-r-1 px-2 font-thin",children:["Nivel: ",r.data?.level||"N/A"]}),s.jsxs("p",{className:"montserrat text-md px-2 font-thin",children:["Exp: ",r.data?.xp||"N/A"]})]})]}),t==="deceased"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("p",{className:"montserrat text-md font-thin px-2",children:"Epitafio:"}),s.jsx("p",{className:"montserrat italic text-xs font-thin py-2 px-2",children:r.data?.deathDescription||"Descansa en paz."}),s.jsx("p",{className:"montserrat text-md font-thin px-2",children:"Lugar de Descanso:"}),s.jsx("p",{className:"montserrat italic text-xs font-thin py-2 px-2",children:r.data?.restingSite||"Desconocido."})]})]})]})})}),s.jsxs("div",{className:"flex flex-row md:flex-col items-center justify-center space-x-4 md:space-x-0 md:space-y-4",children:[s.jsx(Xu,{to:`/characters/edit/${r.id}`,className:"w-25 bg-slate-800 hover:bg-slate-600 p-2 rounded-2xl border-1 border-white cursor-pointer montserrat text-center","aria-label":`Ver ${r.name}`,children:"Ver"}),s.jsx("button",{className:"w-25 p-2 rounded-2xl border-1 border-white cursor-pointer montserrat bg-purple-800 hover:bg-purple-600",onClick:()=>e("toggleStatus",r),"aria-label":t==="deceased"?`Revivir ${r.name}`:`Matar ${r.name}`,children:t==="deceased"?"Revivir":"Matar"}),s.jsx("button",{className:`w-25 p-2 rounded-2xl border-1 border-white cursor-pointer montserrat ${t==="deceased"?"bg-red-800 hover:bg-red-600":"hidden"}`,onClick:()=>e("delete",r),"aria-label":`Eliminar ${r.name}`,children:"Eliminar"})]})]})},qO=ae.createContext({dragDropManager:void 0});function Qo(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var m4=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),p4=function(){return Math.random().toString(36).substring(7).split("").join(".")},g4={INIT:"@@redux/INIT"+p4(),REPLACE:"@@redux/REPLACE"+p4()};function N$(r){if(typeof r!="object"||r===null)return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function GO(r,e,t){var n;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Qo(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Qo(1));return t(GO)(r,e)}if(typeof r!="function")throw new Error(Qo(2));var i=r,a=e,o=[],c=o,d=!1;function f(){c===o&&(c=o.slice())}function g(){if(d)throw new Error(Qo(3));return a}function b(T){if(typeof T!="function")throw new Error(Qo(4));if(d)throw new Error(Qo(5));var N=!0;return f(),c.push(T),function(){if(N){if(d)throw new Error(Qo(6));N=!1,f();var j=c.indexOf(T);c.splice(j,1),o=null}}}function v(T){if(!N$(T))throw new Error(Qo(7));if(typeof T.type>"u")throw new Error(Qo(8));if(d)throw new Error(Qo(9));try{d=!0,a=i(a,T)}finally{d=!1}for(var N=o=c,_=0;_<N.length;_++){var j=N[_];j()}return T}function y(T){if(typeof T!="function")throw new Error(Qo(10));i=T,v({type:g4.REPLACE})}function w(){var T,N=b;return T={subscribe:function(j){if(typeof j!="object"||j===null)throw new Error(Qo(11));function C(){j.next&&j.next(g())}C();var A=N(C);return{unsubscribe:A}}},T[m4]=function(){return this},T}return v({type:g4.INIT}),n={dispatch:v,subscribe:b,getState:g,replaceReducer:y},n[m4]=w,n}function On(r,e,...t){if(T$()&&e===void 0)throw new Error("invariant requires an error message argument");if(!r){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return t[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function T$(){return typeof process<"u"&&!0}function M$(r,e,t){return e.split(".").reduce((n,i)=>n&&n[i]?n[i]:t||null,r)}function j$(r,e){return r.filter(t=>t!==e)}function WO(r){return typeof r=="object"}function A$(r,e){const t=new Map,n=a=>{t.set(a,t.has(a)?t.get(a)+1:1)};r.forEach(n),e.forEach(n);const i=[];return t.forEach((a,o)=>{a===1&&i.push(o)}),i}function C$(r,e){return r.filter(t=>e.indexOf(t)>-1)}const Z3="dnd-core/INIT_COORDS",l_="dnd-core/BEGIN_DRAG",K3="dnd-core/PUBLISH_DRAG_SOURCE",c_="dnd-core/HOVER",u_="dnd-core/DROP",d_="dnd-core/END_DRAG";function b4(r,e){return{type:Z3,payload:{sourceClientOffset:e||null,clientOffset:r||null}}}const R$={type:Z3,payload:{clientOffset:null,sourceClientOffset:null}};function O$(r){return function(t=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:a,getSourceClientOffset:o}=n,c=r.getMonitor(),d=r.getRegistry();r.dispatch(b4(a)),D$(t,c,d);const f=z$(t,c);if(f==null){r.dispatch(R$);return}let g=null;if(a){if(!o)throw new Error("getSourceClientOffset must be defined");P$(o),g=o(f)}r.dispatch(b4(a,g));const v=d.getSource(f).beginDrag(c,f);if(v==null)return;L$(v),d.pinSource(f);const y=d.getSourceType(f);return{type:l_,payload:{itemType:y,item:v,sourceId:f,clientOffset:a||null,sourceClientOffset:g||null,isSourcePublic:!!i}}}}function D$(r,e,t){On(!e.isDragging(),"Cannot call beginDrag while dragging."),r.forEach(function(n){On(t.getSource(n),"Expected sourceIds to be registered.")})}function P$(r){On(typeof r=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function L$(r){On(WO(r),"Item must be an object.")}function z$(r,e){let t=null;for(let n=r.length-1;n>=0;n--)if(e.canDragSource(r[n])){t=r[n];break}return t}function U$(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function I$(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){U$(r,i,t[i])})}return r}function B$(r){return function(t={}){const n=r.getMonitor(),i=r.getRegistry();k$(n),F$(n).forEach((o,c)=>{const d=H$(o,c,i,n),f={type:u_,payload:{dropResult:I$({},t,d)}};r.dispatch(f)})}}function k$(r){On(r.isDragging(),"Cannot call drop while not dragging."),On(!r.didDrop(),"Cannot call drop twice during one drag operation.")}function H$(r,e,t,n){const i=t.getTarget(r);let a=i?i.drop(n,r):void 0;return V$(a),typeof a>"u"&&(a=e===0?{}:n.getDropResult()),a}function V$(r){On(typeof r>"u"||WO(r),"Drop result must either be an object or undefined.")}function F$(r){const e=r.getTargetIds().filter(r.canDropOnTarget,r);return e.reverse(),e}function q$(r){return function(){const t=r.getMonitor(),n=r.getRegistry();G$(t);const i=t.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(t,i),n.unpinSource()),{type:d_}}}function G$(r){On(r.isDragging(),"Cannot call endDrag while not dragging.")}function rE(r,e){return e===null?r===null:Array.isArray(r)?r.some(t=>t===e):r===e}function W$(r){return function(t,{clientOffset:n}={}){X$(t);const i=t.slice(0),a=r.getMonitor(),o=r.getRegistry(),c=a.getItemType();return Z$(i,o,c),Y$(i,a,o),K$(i,a,o),{type:c_,payload:{targetIds:i,clientOffset:n||null}}}}function X$(r){On(Array.isArray(r),"Expected targetIds to be an array.")}function Y$(r,e,t){On(e.isDragging(),"Cannot call hover while not dragging."),On(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<r.length;n++){const i=r[n];On(r.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const a=t.getTarget(i);On(a,"Expected targetIds to be registered.")}}function Z$(r,e,t){for(let n=r.length-1;n>=0;n--){const i=r[n],a=e.getTargetType(i);rE(a,t)||r.splice(n,1)}}function K$(r,e,t){r.forEach(function(n){t.getTarget(n).hover(e,n)})}function J$(r){return function(){if(r.getMonitor().isDragging())return{type:K3}}}function Q$(r){return{beginDrag:O$(r),publishDragSource:J$(r),hover:W$(r),drop:B$(r),endDrag:q$(r)}}class $${receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;function n(a){return(...o)=>{const c=a.apply(e,o);typeof c<"u"&&t(c)}}const i=Q$(this);return Object.keys(i).reduce((a,o)=>{const c=i[o];return a[o]=n(c),a},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function eee(r,e){return{x:r.x+e.x,y:r.y+e.y}}function XO(r,e){return{x:r.x-e.x,y:r.y-e.y}}function tee(r){const{clientOffset:e,initialClientOffset:t,initialSourceClientOffset:n}=r;return!e||!t||!n?null:XO(eee(e,n),t)}function nee(r){const{clientOffset:e,initialClientOffset:t}=r;return!e||!t?null:XO(e,t)}const Zg=[],J3=[];Zg.__IS_NONE__=!0;J3.__IS_ALL__=!0;function ree(r,e){return r===Zg?!1:r===J3||typeof e>"u"?!0:C$(e,r).length>0}class iee{subscribeToStateChange(e,t={}){const{handlerIds:n}=t;On(typeof e=="function","listener must be a function."),On(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const a=()=>{const o=this.store.getState(),c=o.stateId;try{c===i||c===i+1&&!ree(o.dirtyHandlerIds,n)||e()}finally{i=c}};return this.store.subscribe(a)}subscribeToOffsetChange(e){On(typeof e=="function","listener must be a function.");let t=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==t&&(t=i,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return On(t,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(On(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return rE(n,i)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(On(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),i=this.getItemType();return n!==i?!1:t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),a=this.getItemType();if(a&&!rE(i,a))return!1;const o=this.getTargetIds();if(!o.length)return!1;const c=o.indexOf(e);return n?c===o.length-1:c>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return tee(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return nee(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const x4=typeof global<"u"?global:self,YO=x4.MutationObserver||x4.WebKitMutationObserver;function ZO(r){return function(){const t=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(t),clearInterval(n),r()}}}function see(r){let e=1;const t=new YO(r),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const aee=typeof YO=="function"?see:ZO;class oee{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=aee(this.flush),this.requestErrorThrow=ZO(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class lee{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class cee{create(e){const t=this.freeTasks,n=t.length?t.pop():new lee(this.onError,i=>t[t.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const KO=new oee,uee=new cee(KO.registerPendingError);function dee(r){KO.enqueueTask(uee.create(r))}const Q3="dnd-core/ADD_SOURCE",$3="dnd-core/ADD_TARGET",eN="dnd-core/REMOVE_SOURCE",h_="dnd-core/REMOVE_TARGET";function hee(r){return{type:Q3,payload:{sourceId:r}}}function fee(r){return{type:$3,payload:{targetId:r}}}function mee(r){return{type:eN,payload:{sourceId:r}}}function pee(r){return{type:h_,payload:{targetId:r}}}function gee(r){On(typeof r.canDrag=="function","Expected canDrag to be a function."),On(typeof r.beginDrag=="function","Expected beginDrag to be a function."),On(typeof r.endDrag=="function","Expected endDrag to be a function.")}function bee(r){On(typeof r.canDrop=="function","Expected canDrop to be a function."),On(typeof r.hover=="function","Expected hover to be a function."),On(typeof r.drop=="function","Expected beginDrag to be a function.")}function iE(r,e){if(e&&Array.isArray(r)){r.forEach(t=>iE(t,!1));return}On(typeof r=="string"||typeof r=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var tl;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(tl||(tl={}));let xee=0;function vee(){return xee++}function yee(r){const e=vee().toString();switch(r){case tl.SOURCE:return`S${e}`;case tl.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function v4(r){switch(r[0]){case"S":return tl.SOURCE;case"T":return tl.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function y4(r,e){const t=r.entries();let n=!1;do{const{done:i,value:[,a]}=t.next();if(a===e)return!0;n=!!i}while(!n);return!1}class _ee{addSource(e,t){iE(e),gee(t);const n=this.addHandler(tl.SOURCE,e,t);return this.store.dispatch(hee(n)),n}addTarget(e,t){iE(e,!0),bee(t);const n=this.addHandler(tl.TARGET,e,t);return this.store.dispatch(fee(n)),n}containsHandler(e){return y4(this.dragSources,e)||y4(this.dropTargets,e)}getSource(e,t=!1){return On(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return On(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return On(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return On(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return v4(e)===tl.SOURCE}isTargetId(e){return v4(e)===tl.TARGET}removeSource(e){On(this.getSource(e),"Expected an existing source."),this.store.dispatch(mee(e)),dee(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){On(this.getTarget(e),"Expected an existing target."),this.store.dispatch(pee(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);On(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){On(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const i=yee(e);return this.types.set(i,t),e===tl.SOURCE?this.dragSources.set(i,n):e===tl.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const See=(r,e)=>r===e;function wee(r,e){return!r&&!e?!0:!r||!e?!1:r.x===e.x&&r.y===e.y}function Eee(r,e,t=See){if(r.length!==e.length)return!1;for(let n=0;n<r.length;++n)if(!t(r[n],e[n]))return!1;return!0}function Nee(r=Zg,e){switch(e.type){case c_:break;case Q3:case $3:case h_:case eN:return Zg;case l_:case K3:case d_:case u_:default:return J3}const{targetIds:t=[],prevTargetIds:n=[]}=e.payload,i=A$(t,n);if(!(i.length>0||!Eee(t,n)))return Zg;const o=n[n.length-1],c=t[t.length-1];return o!==c&&(o&&i.push(o),c&&i.push(c)),i}function Tee(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Mee(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){Tee(r,i,t[i])})}return r}const _4={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function jee(r=_4,e){const{payload:t}=e;switch(e.type){case Z3:case l_:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case c_:return wee(r.clientOffset,t.clientOffset)?r:Mee({},r,{clientOffset:t.clientOffset});case d_:case u_:return _4;default:return r}}function Aee(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function wp(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){Aee(r,i,t[i])})}return r}const Cee={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Ree(r=Cee,e){const{payload:t}=e;switch(e.type){case l_:return wp({},r,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case K3:return wp({},r,{isSourcePublic:!0});case c_:return wp({},r,{targetIds:t.targetIds});case h_:return r.targetIds.indexOf(t.targetId)===-1?r:wp({},r,{targetIds:j$(r.targetIds,t.targetId)});case u_:return wp({},r,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case d_:return wp({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}}function Oee(r=0,e){switch(e.type){case Q3:case $3:return r+1;case eN:case h_:return r-1;default:return r}}function Dee(r=0){return r+1}function Pee(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Lee(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){Pee(r,i,t[i])})}return r}function zee(r={},e){return{dirtyHandlerIds:Nee(r.dirtyHandlerIds,{type:e.type,payload:Lee({},e.payload,{prevTargetIds:M$(r,"dragOperation.targetIds",[])})}),dragOffset:jee(r.dragOffset,e),refCount:Oee(r.refCount,e),dragOperation:Ree(r.dragOperation,e),stateId:Dee(r.stateId)}}function Uee(r,e=void 0,t={},n=!1){const i=Iee(n),a=new iee(i,new _ee(i)),o=new $$(i,a),c=r(o,e,t);return o.receiveBackend(c),o}function Iee(r){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return GO(zee,r&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Bee(r,e){if(r==null)return{};var t=kee(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function kee(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}let S4=0;const h1=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Hee=ae.memo(function(e){var{children:t}=e,n=Bee(e,["children"]);const[i,a]=Vee(n);return ae.useEffect(()=>{if(a){const o=JO();return++S4,()=>{--S4===0&&(o[h1]=null)}}},[]),s.jsx(qO.Provider,{value:i,children:t})});function Vee(r){if("manager"in r)return[{dragDropManager:r.manager},!1];const e=Fee(r.backend,r.context,r.options,r.debugMode),t=!r.context;return[e,t]}function Fee(r,e=JO(),t,n){const i=e;return i[h1]||(i[h1]={dragDropManager:Uee(r,e,t,n)}),i[h1]}function JO(){return typeof global<"u"?global:window}var kS,w4;function qee(){return w4||(w4=1,kS=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!r(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=n;i--!==0;){var o=a[i];if(!r(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}),kS}var Gee=qee();const Wee=ed(Gee),Ff=typeof window<"u"?ae.useLayoutEffect:ae.useEffect;function Xee(r,e,t){const[n,i]=ae.useState(()=>e(r)),a=ae.useCallback(()=>{const o=e(r);Wee(n,o)||(i(o),t&&t())},[n,r,t]);return Ff(a),[n,a]}function Yee(r,e,t){const[n,i]=Xee(r,e,t);return Ff(function(){const o=r.getHandlerId();if(o!=null)return r.subscribeToStateChange(i,{handlerIds:[o]})},[r,i]),n}function QO(r,e,t){return Yee(e,r||(()=>({})),()=>t.reconnect())}function $O(r,e){const t=[];return typeof r!="function"&&t.push(r),ae.useMemo(()=>typeof r=="function"?r():r,t)}function Zee(r){return ae.useMemo(()=>r.hooks.dragSource(),[r])}function Kee(r){return ae.useMemo(()=>r.hooks.dragPreview(),[r])}let HS=!1,VS=!1;class Jee{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){On(!HS,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return HS=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{HS=!1}}isDragging(){if(!this.sourceId)return!1;On(!VS,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return VS=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{VS=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let FS=!1;class Qee{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;On(!FS,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return FS=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{FS=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function $ee(r,e,t){const n=t.getRegistry(),i=n.addTarget(r,e);return[i,()=>n.removeTarget(i)]}function ete(r,e,t){const n=t.getRegistry(),i=n.addSource(r,e);return[i,()=>n.removeSource(i)]}function sE(r,e,t,n){let i;if(i!==void 0)return!!i;if(r===e)return!0;if(typeof r!="object"||!r||typeof e!="object"||!e)return!1;const a=Object.keys(r),o=Object.keys(e);if(a.length!==o.length)return!1;const c=Object.prototype.hasOwnProperty.bind(e);for(let d=0;d<a.length;d++){const f=a[d];if(!c(f))return!1;const g=r[f],b=e[f];if(i=void 0,i===!1||i===void 0&&g!==b)return!1}return!0}function aE(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function tte(r){if(typeof r.type=="string")return;const e=r.type.displayName||r.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function nte(r){return(e=null,t=null)=>{if(!ae.isValidElement(e)){const a=e;return r(a,t),a}const n=e;return tte(n),rte(n,t?a=>r(a,t):r)}}function eD(r){const e={};return Object.keys(r).forEach(t=>{const n=r[t];if(t.endsWith("Ref"))e[t]=r[t];else{const i=nte(n);e[t]=()=>i}}),e}function E4(r,e){typeof r=="function"?r(e):r.current=e}function rte(r,e){const t=r.ref;return On(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?ae.cloneElement(r,{ref:n=>{E4(t,n),E4(e,n)}}):ae.cloneElement(r,{ref:e})}class ite{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!sE(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!sE(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=eD({dragSource:(t,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,aE(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,aE(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class ste{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!sE(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=eD({dropTarget:(t,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,aE(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function b0(){const{dragDropManager:r}=ae.useContext(qO);return On(r!=null,"Expected drag drop context"),r}function ate(r,e){const t=b0(),n=ae.useMemo(()=>new ite(t.getBackend()),[t]);return Ff(()=>(n.dragSourceOptions=r||null,n.reconnect(),()=>n.disconnectDragSource()),[n,r]),Ff(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function ote(){const r=b0();return ae.useMemo(()=>new Jee(r),[r])}class lte{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(t):n={},n??null}canDrag(){const e=this.spec,t=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(t):!0}isDragging(e,t){const n=this.spec,i=this.monitor,{isDragging:a}=n;return a?a(i):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:i}=e;i&&i(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function cte(r,e,t){const n=ae.useMemo(()=>new lte(r,e,t),[e,t]);return ae.useEffect(()=>{n.spec=r},[r]),n}function ute(r){return ae.useMemo(()=>{const e=r.type;return On(e!=null,"spec.type must be defined"),e},[r])}function dte(r,e,t){const n=b0(),i=cte(r,e,t),a=ute(r);Ff(function(){if(a!=null){const[c,d]=ete(a,i,n);return e.receiveHandlerId(c),t.receiveHandlerId(c),d}},[n,e,t,i,a])}function hte(r,e){const t=$O(r);On(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=ote(),i=ate(t.options,t.previewOptions);return dte(t,n,i),[QO(t.collect,n,i),Zee(i),Kee(i)]}function fte(r){return ae.useMemo(()=>r.hooks.dropTarget(),[r])}function mte(r){const e=b0(),t=ae.useMemo(()=>new ste(e.getBackend()),[e]);return Ff(()=>(t.dropTargetOptions=r||null,t.reconnect(),()=>t.disconnectDropTarget()),[r]),t}function pte(){const r=b0();return ae.useMemo(()=>new Qee(r),[r])}function gte(r){const{accept:e}=r;return ae.useMemo(()=>(On(r.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class bte{canDrop(){const e=this.spec,t=this.monitor;return e.canDrop?e.canDrop(t.getItem(),t):!0}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function xte(r,e){const t=ae.useMemo(()=>new bte(r,e),[e]);return ae.useEffect(()=>{t.spec=r},[r]),t}function vte(r,e,t){const n=b0(),i=xte(r,e),a=gte(r);Ff(function(){const[c,d]=$ee(a,i,n);return e.receiveHandlerId(c),t.receiveHandlerId(c),d},[n,e,i,t,a.map(o=>o.toString()).join("|")])}function yte(r,e){const t=$O(r),n=pte(),i=mte(t.options);return vte(t,n,i),[QO(t.collect,n,i),fte(i)]}function tD(r){let e=null;return()=>(e==null&&(e=r()),e)}function _te(r,e){return r.filter(t=>t!==e)}function Ste(r,e){const t=new Set,n=a=>t.add(a);r.forEach(n),e.forEach(n);const i=[];return t.forEach(a=>i.push(a)),i}class wte{enter(e){const t=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=Ste(this.entered.filter(n),[e]),t===0&&this.entered.length>0}leave(e){const t=this.entered.length;return this.entered=_te(this.entered.filter(this.isNodeInDocument),e),t>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Ete{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(t[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const nD="__NATIVE_FILE__",rD="__NATIVE_URL__",iD="__NATIVE_TEXT__",sD="__NATIVE_HTML__",N4=Object.freeze(Object.defineProperty({__proto__:null,FILE:nD,HTML:sD,TEXT:iD,URL:rD},Symbol.toStringTag,{value:"Module"}));function qS(r,e,t){const n=e.reduce((i,a)=>i||r.getData(a),"");return n??t}const oE={[nD]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[sD]:{exposeProperties:{html:(r,e)=>qS(r,e,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[rD]:{exposeProperties:{urls:(r,e)=>qS(r,e,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[iD]:{exposeProperties:{text:(r,e)=>qS(r,e,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};function Nte(r,e){const t=oE[r];if(!t)throw new Error(`native type ${r} has no configuration`);const n=new Ete(t);return n.loadDataTransfer(e),n}function GS(r){if(!r)return null;const e=Array.prototype.slice.call(r.types||[]);return Object.keys(oE).filter(t=>{const n=oE[t];return n?.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const Tte=tD(()=>/firefox/i.test(navigator.userAgent)),aD=tD(()=>!!window.safari);class T4{interpolate(e){const{xs:t,ys:n,c1s:i,c2s:a,c3s:o}=this;let c=t.length-1;if(e===t[c])return n[c];let d=0,f=o.length-1,g;for(;d<=f;){g=Math.floor(.5*(d+f));const y=t[g];if(y<e)d=g+1;else if(y>e)f=g-1;else return n[g]}c=Math.max(0,f);const b=e-t[c],v=b*b;return n[c]+i[c]*b+a[c]*v+o[c]*b*v}constructor(e,t){const{length:n}=e,i=[];for(let y=0;y<n;y++)i.push(y);i.sort((y,w)=>e[y]<e[w]?-1:1);const a=[],o=[];let c,d;for(let y=0;y<n-1;y++)c=e[y+1]-e[y],d=t[y+1]-t[y],a.push(c),o.push(d/c);const f=[o[0]];for(let y=0;y<a.length-1;y++){const w=o[y],T=o[y+1];if(w*T<=0)f.push(0);else{c=a[y];const N=a[y+1],_=c+N;f.push(3*_/((_+N)/w+(_+c)/T))}}f.push(o[o.length-1]);const g=[],b=[];let v;for(let y=0;y<f.length-1;y++){v=o[y];const w=f[y],T=1/a[y],N=w+f[y+1]-v-v;g.push((v-w-N)*T),b.push(N*T*T)}this.xs=e,this.ys=t,this.c1s=f,this.c2s=g,this.c3s=b}}const Mte=1;function oD(r){const e=r.nodeType===Mte?r:r.parentElement;if(!e)return null;const{top:t,left:n}=e.getBoundingClientRect();return{x:n,y:t}}function Jv(r){return{x:r.clientX,y:r.clientY}}function jte(r){var e;return r.nodeName==="IMG"&&(Tte()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(r)))}function Ate(r,e,t,n){let i=r?e.width:t,a=r?e.height:n;return aD()&&r&&(a/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:a}}function Cte(r,e,t,n,i){const a=jte(e),c=oD(a?r:e),d={x:t.x-c.x,y:t.y-c.y},{offsetWidth:f,offsetHeight:g}=r,{anchorX:b,anchorY:v}=n,{dragPreviewWidth:y,dragPreviewHeight:w}=Ate(a,e,f,g),T=()=>{let U=new T4([0,.5,1],[d.y,d.y/g*w,d.y+w-g]).interpolate(v);return aD()&&a&&(U+=(window.devicePixelRatio-1)*w),U},N=()=>new T4([0,.5,1],[d.x,d.x/f*y,d.x+y-f]).interpolate(b),{offsetX:_,offsetY:j}=i,C=_===0||_,A=j===0||j;return{x:C?_:N(),y:A?j:T()}}class Rte{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function Ote(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function M4(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){Ote(r,i,t[i])})}return r}class Dte{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;(t=this.window)===null||t===void 0||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const i=o=>this.handleDragStart(o,e),a=o=>this.handleSelectStart(o);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",a),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=o=>this.handleDragEnter(o,e),i=o=>this.handleDragOver(o,e),a=o=>this.handleDrop(o,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",i),t.addEventListener("drop",a),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",i),t.removeEventListener("drop",a)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return M4({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return M4({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(N4).some(t=>N4[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=Nte(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const t=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},t)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const a=this.sourceNodes.get(i);return a&&oD(a)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:a}=this;this.dragStartSourceIds=null;const o=Jv(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:c}=i,d=GS(c);if(this.monitor.isDragging()){if(c&&typeof c.setDragImage=="function"){const g=this.monitor.getSourceId(),b=this.sourceNodes.get(g),v=this.sourcePreviewNodes.get(g)||b;if(v){const{anchorX:y,anchorY:w,offsetX:T,offsetY:N}=this.getCurrentSourcePreviewNodeOptions(),C=Cte(b,v,o,{anchorX:y,anchorY:w},{offsetX:T,offsetY:N});c.setDragImage(v,C.x,C.y)}}try{c?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:f}=this.getCurrentSourcePreviewNodeOptions();f?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(d)this.beginDragNativeItem(d);else{if(c&&!c.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:c}=i,d=GS(c);d&&this.beginDragNativeItem(d,c)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:a}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,a.length>0&&this.actions.hover(a,{clientOffset:Jv(i)}),a.some(c=>this.monitor.canDropOnTarget(c))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:a}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=Jv(i),this.scheduleHover(a),(a||[]).some(c=>this.monitor.canDropOnTarget(c))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var a;i.preventDefault(),(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(i.dataTransfer)}else GS(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:a}=this;this.dropTargetIds=[],this.actions.hover(a,{clientOffset:Jv(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const a=i.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(i.preventDefault(),a.dragDrop()))},this.options=new Rte(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new wte(this.isNodeInDocument)}}const Pte=function(e,t,n){return new Dte(e,t,n)},Ns=[];for(let r=0;r<256;++r)Ns.push((r+256).toString(16).slice(1));function Lte(r,e=0){return(Ns[r[e+0]]+Ns[r[e+1]]+Ns[r[e+2]]+Ns[r[e+3]]+"-"+Ns[r[e+4]]+Ns[r[e+5]]+"-"+Ns[r[e+6]]+Ns[r[e+7]]+"-"+Ns[r[e+8]]+Ns[r[e+9]]+"-"+Ns[r[e+10]]+Ns[r[e+11]]+Ns[r[e+12]]+Ns[r[e+13]]+Ns[r[e+14]]+Ns[r[e+15]]).toLowerCase()}let WS;const zte=new Uint8Array(16);function Ute(){if(!WS){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");WS=crypto.getRandomValues.bind(crypto)}return WS(zte)}const Ite=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),j4={randomUUID:Ite};function kp(r,e,t){if(j4.randomUUID&&!r)return j4.randomUUID();r=r||{};const n=r.random??r.rng?.()??Ute();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Lte(n)}const A4={ITEM:"item"},Bte=100,yf=5,nh=5,rh=5,XS=({initialCellSize:r=Bte})=>{const{user:e}=sl(),t=en(),{id:n,type:i}=wb(),[a,o]=ae.useState(f(r)),c=!!n,d=i==="pc"||c&&!i;function f(de){const ye=window.innerWidth;let Be=Math.floor(ye*.1);return Be=Math.max(50,Math.min(200,Be)),Be||de}ae.useEffect(()=>{const de=()=>{const ye=f(r);o(ye)};return window.addEventListener("resize",de),de(),()=>{window.removeEventListener("resize",de)}},[]);const g=()=>{const de=f(r);o(de)},[b,v]=ae.useState({id:null,type:d?"PC":"NPC",name:"",data:{picture:"",race:"Human",class:d?"Fighter":"",level:d?1:null,xp:d?0:null,alignment:"Neutral",ageStage:"adult",abilityScores:d?{strength:3,dexterity:3,constitution:3,intelligence:3,wisdom:3,charisma:3}:null,npcType:d?null:"Monster",hd:d?null:1,hp:d?null:0,save:d?null:0,bonusToHit:d?null:0,ac:d?null:0,closeQuarterMovement:d?null:0,openFieldMovement:d?null:0,weaponProficiencies:[],nonWeaponProficiencies:[],status:"alive",deathDate:null,deathDescription:"",restingSite:"",description:""}}),[y,w]=ae.useState(null),[T,N]=ae.useState(null),[_,j]=ae.useState(!1),[C,A]=ae.useState(null),[P,U]=ae.useState(""),[B,F]=ae.useState(!1),[k,z]=ae.useState([]),[V,X]=ae.useState(""),[J,ee]=ae.useState(null),te=["Beastmen","Dwarf","Elf","Halfling","Human","Verdant"],W=["Fighter","Magic User","Specialist"],K=["Lawful","Neutral","Chaotic"],$=["young","adult","elder"],oe=["Monster","Humanoid","Beast","Vehicle"],G=["Sword","Axe","Mace","Staff","Spear","Dagger","Flail","Warhammer","Two-Handed Sword","Morning Star","Glaive","Halberd","Quarterstaff","Bow","Shortbow","Crossbow","Hand Crossbow","Light Crossbow","Sling"];ae.useEffect(()=>{c&&e&&(async()=>{j(!0);try{const{data:ye,error:Be}=await Jt.from("characters").select("*").eq("id",n).eq("user_id",e.id).single();if(Be)throw Be;if(!ye)throw new Error("Personaje no encontrado");v({id:ye.id,type:ye.type,name:ye.name,data:{...ye.data,abilityScores:ye.type==="PC"?ye.data.abilityScores||{strength:3,dexterity:3,constitution:3,intelligence:3,wisdom:3,charisma:3}:null,class:ye.type==="PC"?ye.data.class||"Fighter":"",level:ye.type==="PC"?ye.data.level||1:null,xp:ye.type==="PC"?ye.data.xp||0:null,xpBonus:ye.type==="PC"?ye.data.xpBonus||0:null,npcType:ye.type==="NPC"?ye.data.npcType||"Monster":null,hd:ye.data.hitPoints||1,hp:ye.data.currentHP||0,save:ye.data.bonusToSave||0,bonusToHit:ye.data.bonusToHit||0,ac:ye.data.equippedArmor||"",acs:ye.data.equippedShield||"",closeQuarterMovement:ye.data.closeQuarterMovement||0,openFieldMovement:ye.data.openFieldMovement||0,weaponProficiencies:ye.data.weaponProficiencies||[],nonWeaponProficiencies:ye.data.nonWeaponProficiencies||[]}}),U(ye.data.picture||"");const{data:Oe,error:he}=await Jt.from("inventory_items").select("*").eq("character_id",n);if(he)throw he;z(Oe.map(se=>({id:se.id,name:se.name||"",gridX:se.slot_position?.gridX||1,gridY:se.slot_position?.gridY||1,w:se.slot_position?.w||1,h:se.slot_position?.h||1})))}catch(ye){w("No se pudo cargar el personaje: "+ye.message),console.error("Error fetching data:",ye)}finally{j(!1)}})()},[c,n,e]),ae.useEffect(()=>(C&&U(URL.createObjectURL(C)),()=>{C&&P&&URL.revokeObjectURL(P)}),[C]);const Y=de=>{const ye=de.target.files[0];if(ye){if(ye.size>2*1024*1024){N("La imagen debe ser menor a 2MB");return}if(!["image/png","image/jpeg"].includes(ye.type)){N("Solo se permiten imágenes PNG y JPEG");return}N(null),A(ye)}else A(null),U(b.data.picture||""),N(null)},ne=(de,ye,Be)=>{const{name:Oe,value:he}=de.target,se=["level","xp","hd","hp","save","bonusToHit","ac","closeQuarterMovement","openFieldMovement"];v(ye?Me=>({...Me,data:{...Me.data,[ye]:{...Me.data[ye],[Be]:Number(he)||he}}}):Me=>({...Me,[Oe==="name"?Oe:"data"]:Oe==="name"?he:{...Me.data,[Oe]:se.includes(Oe)?Number(he)||0:he}}))},le=de=>{const ye=de.target.value;ye&&!b.data.weaponProficiencies.includes(ye)&&v(Be=>({...Be,data:{...Be.data,weaponProficiencies:[...Be.data.weaponProficiencies,ye]}}))},be=de=>{v(ye=>({...ye,data:{...ye.data,weaponProficiencies:ye.data.weaponProficiencies.filter(Be=>Be!==de)}}))},ce=de=>{v(ye=>({...ye,data:{...ye.data,nonWeaponProficiencies:ye.data.nonWeaponProficiencies.filter(Be=>Be.name!==de)}}))},ie=async de=>{const{name:ye,value:Be}=de.target;if(v(Oe=>({...Oe,data:{...Oe.data,[ye]:Be}})),b.id)try{await Jt.from("characters").update({data:{...b.data,[ye]:Be}}).eq("id",b.id)}catch(Oe){w("No se pudo actualizar detalles de muerte: "+Oe.message),console.error("Error updating death details:",Oe)}},ge=async de=>{try{const ye=de.name.split(".").pop(),Be=`${e.id}/${Date.now()}.${ye}`,{error:Oe}=await Jt.storage.from("character-images").upload(Be,de);if(Oe)throw Oe;const{data:he}=Jt.storage.from("character-images").getPublicUrl(Be);return he.publicUrl}catch(ye){throw new Error("Error al subir la imagen: "+ye.message)}},_e=async()=>{try{const de={...b.data,status:"alive",deathDate:null,deathDescription:"",restingSite:""};await Jt.from("characters").update({data:de}).eq("id",b.id),v(ye=>({...ye,data:de})),F(!1)}catch(de){w("No se pudo revivir el personaje: "+de.message),console.error("Error reviving character:",de)}},Te=async de=>{if(de.preventDefault(),!e){w("Debes estar conectado para crear/editar un personaje.");return}if(!b.name){w("El nombre del personaje es requerido.");return}j(!0),w(null);try{let ye=b.data.picture||"";C&&(ye=await ge(C));const Be={user_id:e.id,type:b.type,name:b.name,data:{...b.data,picture:ye}};let Oe=b.id;if(c){const{error:Ge}=await Jt.from("characters").update(Be).eq("id",Oe);if(Ge)throw Ge}else{const{data:Ge,error:ze}=await Jt.from("characters").insert(Be).select("id").single();if(ze)throw ze;Oe=Ge.id}const he=k.map(Ge=>Ge.id),{error:se}=await Jt.from("inventory_items").delete().eq("character_id",Oe).not("id","in",`(${he.join(",")})`);if(se)throw se;const Me=k.map(Ge=>({id:Ge.id,character_id:Oe,name:Ge.name,slot_position:{gridX:Ge.gridX,gridY:Ge.gridY,w:Ge.w,h:Ge.h}})),{error:qe}=await Jt.from("inventory_items").upsert(Me,{onConflict:"id"});if(qe)throw qe;t("/characters")}catch(ye){w("No se pudo guardar el personaje: "+ye.message),console.error("Error saving character:",ye)}finally{j(!1)}},Ee=()=>{if(!V.trim()){w("Por favor, ingrese un nombre para el ítem.");return}const de=tt();if(!de){w(`No hay espacio en la grilla de ${nh}x${rh}`);return}const ye={id:kp(),name:V.trim(),gridX:de.x,gridY:de.y,w:1,h:1};z(Be=>[...Be,ye]),X(""),w(null)},$e=()=>{if(!J){w("Por favor, seleccione un ítem para eliminar.");return}z(de=>de.filter(ye=>ye.id!==J)),ee(null),w(null)},tt=()=>{for(let de=1;de<=rh;de++)for(let ye=1;ye<=nh;ye++)if(!k.some(Oe=>ye>=Oe.gridX&&ye<Oe.gridX+Oe.w&&de>=Oe.gridY&&de<Oe.gridY+Oe.h))return{x:ye,y:de};return null},xe=(de,ye,Be)=>{const Oe=k.find(se=>se.id===de);!Oe||ye<1||ye+Oe.w-1>nh||Be<1||Be+Oe.h-1>rh||k.some(se=>se.id===de?!1:!(ye+Oe.w-1<se.gridX||ye>se.gridX+se.w-1||Be+Oe.h-1<se.gridY||Be>se.gridY+se.h-1))||z(se=>se.map(Me=>Me.id===de?{...Me,gridX:ye,gridY:Be}:Me))},ke=(de,ye,Be)=>{z(Oe=>{const he=Oe.find(Ge=>Ge.id===de);if(!he)return Oe;const se=Math.max(1,Math.min(he.w+ye,nh-he.gridX+1)),Me=Math.max(1,Math.min(he.h+Be,rh-he.gridY+1));return Oe.some(Ge=>Ge.id===de?!1:!(he.gridX+se-1<Ge.gridX||he.gridX>Ge.gridX+Ge.w-1||he.gridY+Me-1<Ge.gridY||he.gridY>Ge.gridY+Ge.h-1))?Oe:Oe.map(Ge=>Ge.id===de?{...Ge,w:se,h:Me}:Ge)})},Ve=()=>{t("/characters")},nt=({x:de,y:ye})=>{const[,Be]=yte({accept:A4.ITEM,drop:Oe=>xe(Oe.id,de,ye)});return s.jsx("div",{ref:Be,className:"bg-gray-800 border border-gray-600",style:{width:a,height:a}})},Xe=({item:de,isSelected:ye,onSelect:Be})=>{const[{isDragging:Oe},he]=hte({type:A4.ITEM,item:{id:de.id},collect:ze=>({isDragging:ze.isDragging()}),canDrag:!_}),se=(de.gridX-1)*(a+yf),Me=(de.gridY-1)*(a+yf),qe=de.w*a+(de.w-1)*yf,Ge=de.h*a+(de.h-1)*yf;return s.jsxs("div",{ref:he,style:{transform:`translate(${se}px, ${Me}px)`,width:qe,height:Ge,opacity:Oe?.5:1,zIndex:Oe?10:1},onClick:()=>Be(de.id),className:`absolute bg-yellow-500 text-black montserrat text-xs flex items-center justify-center cursor-move border ${ye?"border-white":"border-gray-600"}`,children:[s.jsx("span",{className:"text-center px-2 truncate",children:de.name}),s.jsx("button",{onClick:ze=>{ze.stopPropagation(),ke(de.id,1,0)},className:"absolute bottom-1 right-1 text-xs bg-gray-800 hover:bg-gray-600 text-white px-1 rounded",children:"➔"}),s.jsx("button",{onClick:ze=>{ze.stopPropagation(),ke(de.id,0,1)},className:"absolute bottom-1 left-1 text-xs bg-gray-800 hover:bg-gray-600 text-white px-1 rounded",children:"↓"}),s.jsx("button",{onClick:ze=>{ze.stopPropagation(),ke(de.id,-1,0)},className:"absolute top-1 left-1 text-xs bg-gray-800 hover:bg-gray-600 text-white px-1 rounded",children:"←"}),s.jsx("button",{onClick:ze=>{ze.stopPropagation(),ke(de.id,0,-1)},className:"absolute top-1 right-1 text-xs bg-gray-800 hover:bg-gray-600 text-white px-1 rounded",children:"↑"})]})},je=de=>de.replace(/([A-Z])/g," $1").trim();return s.jsx(Hee,{backend:Pte,children:s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white bg-black overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:c?"Editar Personaje":`Crear ${d?"PC":"NPC"}`})}),y&&s.jsx("p",{className:"text-red-600 text-sm mt-4 text-center montserrat animate-pulse",children:y}),_&&s.jsx("p",{className:"text-yellow-500 text-sm mt-4 text-center montserrat animate-pulse",children:"Cargando..."}),s.jsxs("form",{onSubmit:Te,className:"w-10/12 max-w-4xl mx-auto mt-8 p-4 border border-white rounded-xl space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"cinzel text-2xl text-yellow-500",children:"Personaje"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Nombre"}),s.jsx("input",{type:"text",name:"name",value:b.name,onChange:ne,className:"w-full p-2 bg-gray-800 text-white border border-gray-300 rounded",required:!0,disabled:_,"aria-label":"Nombre del personaje"})]}),d?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Raza"}),s.jsx("select",{name:"race",value:b.data.race,onChange:ne,className:"w-full p-2 bg-gray-800 text-white border border-gray-300 rounded",disabled:_,"aria-label":"Raza del personaje",children:te.map(de=>s.jsx("option",{value:de,children:de},de))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Clase"}),s.jsx("select",{name:"class",value:b.data.class,onChange:ne,className:"w-full p-2 bg-gray-800 text-white border border-gray-300 rounded",disabled:_,"aria-label":"Clase del personaje",children:W.map(de=>s.jsx("option",{value:de,children:de},de))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Nivel"}),s.jsx("input",{type:"number",name:"level",value:b.data.level,onChange:ne,min:"1",className:"w-15 h-15 text-center bg-gray-800 text-white border border-gray-300 rounded-full [-moz-appearance:textfield] [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none",disabled:_,"aria-label":"Nivel del personaje"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Bonus XP"}),s.jsx("input",{type:"number",name:"xp",value:b.data.xpBonus,onChange:ne,min:"0",className:"w-15 h-15 text-center bg-gray-800 text-white border border-gray-300 rounded-full [-moz-appearance:textfield] [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none",disabled:_,"aria-label":"XP del personaje"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"XP Total"}),s.jsx("input",{type:"number",name:"xp",value:b.data.xp,onChange:ne,min:"0",className:"w-full p-2 bg-gray-800 text-white border border-gray-300 rounded",disabled:_,"aria-label":"XP del personaje"})]})]}):s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Tipo"}),s.jsx("select",{name:"npcType",value:b.data.npcType,onChange:ne,className:"w-full p-2 bg-gray-800 text-white border border-gray-300 rounded",disabled:_,"aria-label":"Tipo de NPC",children:oe.map(de=>s.jsx("option",{value:de,children:de},de))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Alineamiento"}),s.jsx("select",{name:"alignment",value:b.data.alignment,onChange:ne,className:"w-full p-2 bg-gray-800 text-white border border-gray-300 rounded",disabled:_,"aria-label":"Alineamiento del personaje",children:K.map(de=>s.jsx("option",{value:de,children:de},de))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Etapa de Edad"}),s.jsx("select",{name:"ageStage",value:b.data.ageStage,onChange:ne,className:"w-full p-2 bg-gray-800 text-white border border-gray-300 rounded",disabled:_,"aria-label":"Etapa de edad del personaje",children:$.map(de=>s.jsx("option",{value:de,children:de.charAt(0).toUpperCase()+de.slice(1)},de))})]}),!d&&b.data.npcType==="Humanoid"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Clase"}),s.jsx("input",{type:"text",name:"class",value:b.data.class,onChange:ne,className:"w-full p-2 bg-gray-800 text-white border border-gray-300 rounded",disabled:_,"aria-label":"Clase del NPC"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"XP"}),s.jsx("input",{type:"number",name:"xp",value:b.data.xp,onChange:ne,min:"0",className:"w-full p-2 bg-gray-800 text-white border border-gray-300 rounded",disabled:_,"aria-label":"XP del NPC"})]})]})]})]}),d&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"cinzel text-2xl text-yellow-500",children:"Atributos"}),s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"flex flex-row text-center w-full",children:["strength","dexterity","constitution"].map(de=>s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:de.charAt(0).toUpperCase()+de.slice(1)}),s.jsx("input",{type:"number",name:de,value:b.data.abilityScores[de],onChange:ye=>ne(ye,"abilityScores",de),min:"3",max:"18",className:"w-15 h-15 text-center bg-gray-800 text-white border border-gray-300 rounded-full [-moz-appearance:textfield] [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none",disabled:_,"aria-label":`Atributo ${de}`})]},de))}),s.jsx("div",{className:"flex flex-row text-center w-full md:text-md",children:["intelligence","wisdom","charisma"].map(de=>s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:de.charAt(0).toUpperCase()+de.slice(1)}),s.jsx("input",{type:"number",name:de,value:b.data.abilityScores[de],onChange:ye=>ne(ye,"abilityScores",de),min:"3",max:"18",className:"w-15 h-15 text-center bg-gray-800 text-white border border-gray-300 rounded-full [-moz-appearance:textfield] [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none",disabled:_,"aria-label":`Atributo ${de}`})]},de))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"cinzel text-2xl text-yellow-500",children:"Estadísticas de Combate"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 items-center text-center gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"HP Total"}),s.jsx("input",{type:"number",name:"hd",value:b.data.hd,onChange:ne,min:"1",className:"w-15 h-15 text-center bg-gray-800 text-white border border-gray-300 rounded-full [-moz-appearance:textfield] [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none",disabled:_,"aria-label":"Dados de golpe"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"HP Actual"}),s.jsx("input",{type:"number",name:"hp",value:b.data.hp,onChange:ne,min:"0",className:"w-15 h-15 text-center bg-gray-800 text-white border border-gray-300 rounded-full [-moz-appearance:textfield] [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none",disabled:_,"aria-label":"Puntos de vida"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Salvación"}),s.jsx("input",{type:"number",name:"save",value:b.data.save,onChange:ne,className:"w-15 h-15 text-center bg-gray-800 text-white border border-gray-300 rounded-full [-moz-appearance:textfield] [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none",disabled:_,"aria-label":"Salvación"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Bono al Golpe"}),s.jsx("input",{type:"number",name:"bonusToHit",value:b.data.bonusToHit,onChange:ne,className:"w-15 h-15 text-center bg-gray-800 text-white border border-gray-300 rounded-full [-moz-appearance:textfield] [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none",disabled:_,"aria-label":"Bono al golpe"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Clase de Armadura (AC)"}),s.jsx("input",{name:"ac",value:b.data.ac,onChange:ne,className:"w-36 p-2 bg-gray-800 text-white border border-gray-300 rounded",disabled:_,"aria-label":"Clase de armadura"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Clase de Armadura (AC) + Escudo"}),s.jsx("input",{name:"ac",value:b.data.acs,onChange:ne,className:"w-36 p-2 bg-gray-800 text-white border border-gray-300 rounded",disabled:_,"aria-label":"Clase de armadura"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Movimiento en Espacios Cerrados"}),s.jsx("input",{type:"number",name:"closeQuarterMovement",value:b.data.closeQuarterMovement,onChange:ne,min:"0",className:"w-15 h-15 text-center bg-gray-800 text-white border border-gray-300 rounded-full [-moz-appearance:textfield] [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none",disabled:_,"aria-label":"Movimiento en espacios cerrados"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Movimiento en Campo Abierto"}),s.jsx("input",{type:"number",name:"openFieldMovement",value:b.data.openFieldMovement,onChange:ne,min:"0",className:"w-15 h-15 text-center bg-gray-800 text-white border border-gray-300 rounded-full [-moz-appearance:textfield] [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none",disabled:_,"aria-label":"Movimiento en campo abierto"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"cinzel text-2xl text-yellow-500",children:"Habilidades con Armas"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:b.data.weaponProficiencies.map(de=>s.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-gray-800 text-white border border-gray-300 rounded montserrat text-sm",onClick:()=>be(de),children:[de,s.jsx(nE,{className:"ml-2 w-4 h-4 text-red-600"})]},de))}),s.jsxs("select",{onChange:le,className:"w-full p-2 bg-gray-800 text-white border border-gray-300 rounded",disabled:_,"aria-label":"Añadir habilidad con arma",children:[s.jsx("option",{value:"",children:"Añadir Habilidad con Arma"}),G.filter(de=>!b.data.weaponProficiencies.includes(de)).map(de=>s.jsx("option",{value:de,children:de},de))]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"cinzel text-2xl text-yellow-500",children:"Competencias"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:b.data.nonWeaponProficiencies.length===0?s.jsx("p",{className:"text-gray-400 text-sm montserrat",children:"No hay competencias seleccionadas"}):b.data.nonWeaponProficiencies.map(de=>s.jsxs("span",{className:"inline-flex items-center px-3 py-1 mb-4 bg-gray-800 text-white border border-gray-300 rounded montserrat text-sm",onClick:()=>ce(de.name),children:[je(de.name)," (",de.value,"%)",s.jsx(nE,{className:"ml-2 w-4 h-4 text-red-600"})]},de.name))}),c?s.jsx(Xu,{to:`/characters/edit/${b.id}/non-weapon-proficiencies`,state:{character:b,imagePreview:P},className:`bg-emerald-800 hover:bg-emerald-600 text-white montserrat font-bold py-2 px-4 rounded-2xl border border-white ${_?"opacity-50 cursor-not-allowed":""}`,"aria-label":"Editar habilidades sin armas",onClick:de=>{_&&de.preventDefault()},children:"Editar Competencias"}):s.jsx("p",{className:"text-gray-400 text-sm montserrat",children:"Las competencias pueden editarse después de guardar el personaje."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"cinzel text-2xl text-yellow-500",children:"Inventario"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Nombre del Ítem"}),s.jsx("input",{type:"text",value:V,onChange:de=>X(de.target.value),onKeyDown:de=>de.key==="Enter"&&Ee(),className:"w-full p-2 bg-gray-800 text-white border border-gray-300 rounded",disabled:_,placeholder:"Ingrese el nombre del ítem","aria-label":"Nombre del ítem"})]}),s.jsxs("div",{className:"flex space-x-4 space-y-4 md:space-y-0",children:[s.jsx("button",{type:"button",onClick:Ee,disabled:_||!V.trim(),className:"bg-emerald-800 hover:bg-emerald-600 h-full text-white montserrat font-bold py-2 px-4 rounded-2xl border border-white","aria-label":"Añadir ítem",children:"Agregar Ítem"}),s.jsx("button",{type:"button",onClick:$e,disabled:_||!J,className:"bg-red-800 hover:bg-red-600 h-full text-white montserrat font-bold py-2 px-4 rounded-2xl border border-white","aria-label":"Eliminar ítem seleccionado",children:"Borrar Ítem"})]})]}),s.jsxs("div",{className:"grid gap-[5px] bg-gray-900 relative",style:{display:"grid",gridTemplateColumns:`repeat(${nh}, ${a}px)`,gridTemplateRows:`repeat(${rh}, ${a}px)`,gap:`${yf}px`,width:`${nh*a+(nh-1)*yf}px`,height:`${rh*a+(rh-1)*yf}px`},children:[[...Array(rh)].map((de,ye)=>[...Array(nh)].map((Be,Oe)=>s.jsx(nt,{x:Oe+1,y:ye+1},`cell-${Oe}-${ye}`))),k.map(de=>s.jsx(Xe,{item:de,isSelected:J===de.id,onSelect:ee},de.id))]}),s.jsxs("div",{children:[s.jsx("button",{type:"button",onClick:g,className:"hover:bg-blue-700 text-white border text-xs font-bold py-1 px-2 rounded","aria-label":"Refresh Grid Size",children:"Refrescar Grid"}),s.jsx("p",{className:"text-xs text-slate-700 mt-1",children:"En caso de bug en el tamaño"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"cinzel text-2xl text-yellow-500",children:"Apariencia y Lore"}),s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"profile-image",className:"cursor-pointer",children:s.jsx("div",{className:"w-40 h-40 rounded-full bg-gray-800 border border-white flex items-center justify-center overflow-hidden",children:P||b.data.picture?s.jsx("img",{src:P||b.data.picture,alt:"Vista previa del personaje",className:"w-full h-full object-cover"}):s.jsx(FO,{className:"w-8 h-8 text-white"})})}),s.jsx("input",{id:"profile-image",type:"file",accept:"image/png,image/jpeg",onChange:Y,className:"hidden",disabled:_,"aria-label":"Subir imagen del personaje"}),T&&s.jsx("p",{className:"text-red-600 text-sm mt-2 text-center montserrat",children:T})]}),s.jsx("textarea",{name:"description",value:b.data.description,onChange:ne,className:"w-full p-2 bg-gray-800 text-white border border-gray-300 rounded h-32",placeholder:"Describe la leyenda de tu personaje...",disabled:_,"aria-label":"Descripción del personaje"})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"submit",disabled:_,className:"bg-emerald-800 hover:bg-emerald-600 text-white montserrat font-bold py-2 px-4 rounded-2xl border border-white","aria-label":"Guardar personaje",children:_?"Guardando...":"Guardar Personaje"})})]}),b.data.status==="deceased"&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg border border-white max-w-md w-full text-center",children:[s.jsx("h1",{className:"cinzel text-4xl text-yellow-500 mb-4",children:"FALLECIDO"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Historia de la Muerte"}),s.jsx("textarea",{name:"deathDescription",value:b.data.deathDescription,onChange:ie,className:"w-full p-2 bg-gray-800 text-white border border-gray-300 rounded h-24",placeholder:"Relata el trágico destino que les sobrevivió...","aria-label":"Descripción de la muerte"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white montserrat text-sm mb-1",children:"Lugar de Descanso"}),s.jsx("input",{type:"text",name:"restingSite",value:b.data.restingSite,onChange:ie,className:"w-full p-2 bg-gray-800 text-white border border-gray-300 rounded",placeholder:"Donde reposan sus cenizas...","aria-label":"Lugar de descanso"})]})]}),s.jsxs("div",{className:"flex justify-center space-x-4 mt-4",children:[s.jsx("button",{onClick:Ve,className:"bg-slate-600 hover:bg-slate-500 text-white montserrat font-bold py-2 px-4 rounded-2xl border border-white","aria-label":"Volver a personajes",children:"Volver"}),s.jsx("button",{onClick:()=>F(!0),className:"bg-purple-800 hover:bg-purple-600 text-white montserrat font-bold py-2 px-4 rounded-2xl border border-white","aria-label":"Revivir personaje",children:"Desafiar la Muerte"})]})]})}),B&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg border border-white max-w-sm w-full text-center",children:[s.jsx("h2",{className:"cinzel text-2xl text-yellow-500 mb-4",children:"Desafiar el Velo"}),s.jsxs("p",{className:"text-white montserrat mb-4",children:["¿Osas arrancar a ",b.name," del abismo? Tal desafío a la muerte podría alterar los hilos del destino."]}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:()=>F(!1),className:"bg-slate-600 hover:bg-slate-500 text-white montserrat font-bold py-2 px-4 rounded-2xl border border-white","aria-label":"Cancelar resurrección",children:"Cancelar"}),s.jsx("button",{onClick:_e,className:"bg-purple-800 hover:bg-purple-600 text-white montserrat font-bold py-2 px-4 rounded-2xl border border-white","aria-label":"Confirmar resurrección",children:"Resucitar"})]})]})}),s.jsx("div",{onClick:Ve,className:"bottom-0 relative my-8 mx-auto w-fit cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})})};var kte=MO();const Or=ed(kte),At={Simple:{successesNeeded:2,trainingTime:"1 week",trainingCost:10},Moderate:{successesNeeded:3,trainingTime:"2 weeks",trainingCost:25},Complex:{successesNeeded:4,trainingTime:"1 month",trainingCost:50},Rare:{successesNeeded:5,trainingTime:"2 months",trainingCost:100},Special:{successesNeeded:5,trainingTime:"Special",trainingCost:0}},YS="Magic Users only; non-proficient: Attribute * 3, proficient: 0. Roll to learn spells, cast via slots.",Hte="Non-proficient: Attribute * 2; proficient: roll Wis * 5%, 1d6 mana, 10 points to cast.",Vte="Non-proficient: Attribute * 2; proficient: roll Wis * 5%, takes minutes to hours.",lE={"Wilderness Exploration Skills":{Strength:{Climbing:{slots:1,description:"Scale crumbling cliffs or gnarled husks, defying the yawning dark below.",difficulty:At.Simple}},Dexterity:{Firecraft:{slots:1,description:"Wrest fleeting flames from damp rot or sparse twigs in a forsaken wild.",difficulty:At.Simple}},Constitution:{SurvivalWilderness:{slots:2,description:"Endure the wild’s cruel embrace, clawing shelter from a land eager to kill.",difficulty:At.Complex},EndureElements:{slots:1,description:"Stand firm against howling gales or blistering heat in a world without mercy.",difficulty:At.Simple},AltitudeAdaptation:{slots:1,description:"Breathe thin, frigid air atop jagged peaks, where even hope thins.",difficulty:At.Moderate}},Intelligence:{Trailblazing:{slots:1,description:"Carve paths through tangled decay, leaving marks swallowed by time.",difficulty:At.Moderate},NavigationSurface:{slots:1,description:"Find bearings under a hollow sky, guided by faded stars or broken stone.",difficulty:At.Moderate},Herbalism:{slots:2,description:"Harvest twisted roots for salves or poisons from a blighted, uncaring earth.",difficulty:At.Complex}},Wisdom:{Foraging:{slots:1,description:"Scrounge bitter weeds or gaunt prey from a wild that starves its own.",difficulty:At.Simple},Tracking:{slots:2,description:"Follow faint scars of blood or tread, hunting through a cursed expanse.",difficulty:At.Complex},WeatherSense:{slots:1,description:"Read the sky’s grim portents—storms or frost—to brace for its wrath.",difficulty:At.Moderate}},Charisma:{AnimalHandling:{slots:1,description:"Tame feral beasts or weary mules, binding them to your doomed path.",difficulty:At.Moderate}}},"Dungeon Exploration Skills":{Dexterity:{TrapDetection:{slots:1,description:"Spot rusted snares or hidden blades lurking in the dungeon’s gloom.",difficulty:At.Moderate},Caving:{slots:1,description:"Wriggle through jagged chasms, where stone bites and darkness swallows.",difficulty:At.Moderate}},Constitution:{SurvivalUnderground:{slots:2,description:"Thrive in cramped, airless depths, scavenging life from rot and stone.",difficulty:At.Complex}},Intelligence:{NavigationUnderground:{slots:1,description:"Thread twisting crypts and caves, where landmarks crumble to dust.",difficulty:At.Moderate},Stonecraft:{slots:1,description:"Read the dungeon’s bones for secrets or collapse, a faint edge in the dark.",difficulty:At.Moderate},LightManagement:{slots:1,description:"Stretch guttering flames or dim sparks to pierce the dungeon’s night.",difficulty:At.Simple},Mapping:{slots:1,description:"Scrawl crude maps on tattered scraps, a frail shield against oblivion.",difficulty:At.Moderate}},Wisdom:{DungeonHearing:{slots:1,description:"Hear the dungeon’s whispers—distant claws or dripping doom—in silence.",difficulty:At.Moderate},HazardSense:{slots:2,description:"Sense the unseen—shifting walls or ambushes—in a world that betrays.",difficulty:At.Complex},DungeonHazards:{slots:1,description:"Know the crypt’s cruel gifts—gas or floods—and evade their grasp.",difficulty:At.Moderate}}},"Physical & Movement Skills":{Strength:{Swimming:{slots:1,description:"Battle murky tides or flooded tombs, where the drowned hunger.",difficulty:At.Simple},Athletics:{slots:1,description:"Leap rifts or heave debris, defying a land that craves your fall.",difficulty:At.Simple}},Dexterity:{Riding:{slots:1,description:"Master skeletal mounts or weary beasts across a realm of ash and ruin.",difficulty:At.Moderate},Stealth:{slots:2,description:"Fade into shadow or bracken, unseen by the hollow and the cursed.",difficulty:At.Moderate}},Constitution:{Endurance:{slots:2,description:"Outlast endless marches through mire and ruin, unbent by despair.",difficulty:At.Complex}}},"Crafting & Trade Skills":{Strength:{Metalworking:{slots:2,description:"Forge jagged steel from rust and fire, a bulwark against the dark.",difficulty:At.Complex},Boating:{slots:1,description:"Paddle frail craft through black waters, fleeing shores of despair.",difficulty:At.Moderate}},Dexterity:{Carpentry:{slots:1,description:"Hammer splintered wood into fleeting shelters amid a crumbling world.",difficulty:At.Moderate},Leatherworking:{slots:1,description:"Stitch ragged hides into gear, flayed from the silent dead.",difficulty:At.Moderate},RopeUse:{slots:1,description:"Knot frayed ropes into lifelines, a thread against the abyss.",difficulty:At.Simple}},Intelligence:{WeaponRepair:{slots:1,description:"Mend notched blades or bent hafts, delaying their final ruin.",difficulty:At.Moderate},Engineering:{slots:2,description:"Craft crude machines or mend relics, bending them to grim purpose.",difficulty:At.Rare}},Wisdom:{Cooking:{slots:1,description:"Turn foul scraps into meager meals, staving off the gnaw of hunger.",difficulty:At.Simple},Scavenging:{slots:1,description:"Pry rusted tools or scraps from bones, a scavenger’s grim harvest.",difficulty:At.Simple}}},"Social & Interaction Skills":{Intelligence:{Signaling:{slots:1,description:"Send faint cries or flickers through gloom, a call to the lost.",difficulty:At.Simple}},Charisma:{Persuasion:{slots:1,description:"Wring aid or secrets from hollowed souls with a silvered tongue.",difficulty:At.Moderate},Etiquette:{slots:1,description:"Appease mad cults or ruin-lords with rites from a forgotten age.",difficulty:At.Moderate},Intimidation:{slots:1,description:"Break wills with a voice forged in the fires of desolation.",difficulty:At.Moderate},Leadership:{slots:2,description:"Rally the broken into a grim host, marching through damnation.",difficulty:At.Complex},Barter:{slots:1,description:"Trade with gaunt wanderers or crypt-dwellers for scraps of survival.",difficulty:At.Moderate}}},"Knowledge & Scholarship Skills":{Intelligence:{History:{slots:1,description:"Recall tales of fallen realms, their bones buried in ash and time.",difficulty:At.Moderate},Languages:{slots:1,description:"Decipher the guttural chants or faded scripts of the long-dead.",difficulty:At.Moderate},DungeonLore:{slots:1,description:"Know the builders of crypts, their traps a whisper of doom.",difficulty:At.Moderate},Astronomy:{slots:2,description:"Map the cold stars for guidance or omens in a fractured sky.",difficulty:At.Complex},Astrology:{slots:2,description:"Read celestial wounds for portents in a world teetering on ruin.",difficulty:At.Complex},Alchemy:{slots:2,description:"Mix rot and rust into potions or flames, a desperate alchemy.",difficulty:At.Complex},Cryptography:{slots:1,description:"Unravel ciphers etched by mad hands in dust and despair.",difficulty:At.Moderate},Runology:{slots:1,description:"Trace runes of power or peril, scarred into stone and decay.",difficulty:At.Moderate},Runosophy:{slots:2,description:"Plumb the mystic depths of runes, their secrets a double-edged curse.",difficulty:At.Rare},Nomothetic:{slots:2,description:"Grasp the laws of a broken world, bending fate with grim insight.",difficulty:At.Rare},NaturalSciences:{slots:2,description:"Study the rot of stone and flesh for edges in a dying land.",difficulty:At.Complex}},Wisdom:{NaturalLore:{slots:1,description:"Know the twisted ways of beasts and thorns in a blighted wild.",difficulty:At.Moderate},Observation:{slots:1,description:"See the faint scars of doom in shadow or dust, unheeded by most.",difficulty:At.Moderate},VeiledLore:{slots:2,description:"Unearth forbidden truths and magics, a peril to the mind and soul.",difficulty:At.Special},MonsterLore:{slots:1,description:"Sense the weaknesses of horrors lurking in wilds and depths.",difficulty:At.Moderate},GrayMagic:{slots:2,description:"Master the veiled arts of balance and control, drawing from the grey mists of forgotten stars.",difficulty:At.Rare,restriction:YS},BlackMagic:{slots:2,description:"Wield the shadowed craft of ruin and decay, secrets plucked from the black void between constellations.",difficulty:At.Rare,restriction:YS},WhiteMagic:{slots:2,description:"Channel the faint light of salvation and warding, gleaned from the pale gleam of distant stars.",difficulty:At.Rare,restriction:YS}}},"Combat & Tactics Skills":{Dexterity:{ImprovisedWeapons:{slots:1,description:"Turn broken junk or bones into tools of grim slaughter.",difficulty:At.Simple}},Intelligence:{Tactics:{slots:1,description:"Weave plans of blood and retreat in the chaos of ruin and wood.",difficulty:At.Moderate},AmbushTactics:{slots:1,description:"Set traps or spot foes in shadowed passes and crumbling halls.",difficulty:At.Moderate}},Wisdom:{CombatAwareness:{slots:2,description:"Strike true in gloom or bracken, where death stalks unseen.",difficulty:At.Complex},FirstAid:{slots:2,description:"Stitch flesh or brace bones with rags, a fleeting stay of ruin.",difficulty:At.Complex}}},"Miscellaneous & Utility Skills":{Strength:{Mining:{slots:2,description:"Tear through stone or earth, seeking ore or a breach in the dark.",difficulty:At.Complex}},Dexterity:{Thievery:{slots:1,description:"Pick rusted locks or frail traps for loot in a world of greed.",difficulty:At.Moderate},Camouflage:{slots:1,description:"Blend with mud and ash, a ghost in a land that hunts.",difficulty:At.Moderate},Calligraphy:{slots:1,description:"Scribe maps or runes with precision, ink teetering on oblivion.",difficulty:At.Moderate},Forgery:{slots:1,description:"Craft false marks or scripts to deceive the desperate or dead.",difficulty:At.Moderate}},Intelligence:{ToolImprovisation:{slots:1,description:"Shape crude tools from debris, a defiance of shattered lands.",difficulty:At.Moderate},Appraisal:{slots:1,description:"Judge the worth of tarnished relics in a market of despair.",difficulty:At.Moderate}},Wisdom:{Scouting:{slots:1,description:"Peer through fog and dark, spying paths for the damned.",difficulty:At.Moderate},NaturalMagic:{slots:2,description:"Channel the raw pulse of earth, flame, or wind, bending the elements to your will in a world that resists.",difficulty:At.Complex,restriction:Hte},VoiceAndForm:{slots:2,description:"Speak nouns and verbs through cuneal catalysts, twisting the mundane—ice to water, spark to flame—in a hollow echo of creation.",difficulty:At.Complex,restriction:Vte}}}};function lD({proficiencies:r,updateProficiencyValue:e,removeProficiency:t,toggleCheck:n}){const i=o=>o.replace(/([A-Z])/g," $1").trim(),a=o=>{for(const[,c]of Object.entries(lE))for(const[,d]of Object.entries(c))if(d[o])return d[o].difficulty.successesNeeded;return 0};return console.log("Rendering SelectedProficiencies with proficiencies:",r),s.jsxs("div",{className:"mb-8 space-y-4",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-200 tracking-tight mb-6 montserrat",children:"Proficiencias elegidas"}),r.length===0?s.jsx("p",{className:"text-gray-400 text-sm text-center montserrat",children:"No hay proficiencias elegidas."}):s.jsx("div",{className:"flex flex-wrap gap-4",children:r.map(o=>{const c=a(o.name);return s.jsxs("div",{className:"flex flex-col bg-gray-800 border border-gray-600 rounded px-4 py-2 text-sm shadow-md",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-gray-200 montserrat",children:i(o.name)}),s.jsx("input",{type:"number",value:o.value,onChange:d=>e(o.name,d.target.value),min:"0",max:"100",className:"w-16 mx-2 px-2 py-1 bg-gray-900 text-gray-200 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm shadow-sm transition-all duration-300","aria-label":`Valor de competencia para ${i(o.name)}`}),s.jsx("span",{className:"text-gray-200 montserrat",children:"%"}),s.jsx("button",{onClick:()=>t(o.name),className:"ml-2 text-red-500 hover:text-red-700 transition-all duration-200","aria-label":`Eliminar competencia ${i(o.name)}`,children:s.jsx(nE,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"flex gap-2 mt-2",children:Array.from({length:c}).map((d,f)=>s.jsx("button",{onClick:()=>n(o.name,f),className:"text-gray-200 hover:text-teal-500 transition-all duration-200","aria-label":`Marcar casilla ${f+1} para ${i(o.name)}`,"aria-checked":o.checks[f]||!1,children:o.checks[f]?s.jsx(qQ,{className:"w-4 h-4"}):s.jsx(GQ,{className:"w-4 h-4"})},f))})]},o.name)})})]})}lD.propTypes={proficiencies:Or.arrayOf(Or.shape({name:Or.string.isRequired,value:Or.number.isRequired,checks:Or.arrayOf(Or.bool).isRequired})).isRequired,updateProficiencyValue:Or.func.isRequired,removeProficiency:Or.func.isRequired,toggleCheck:Or.func.isRequired};function cD({profName:r,details:e,stat:t,addProficiency:n,isSelected:i}){const a=o=>o.replace(/([A-Z])/g," $1").trim();return console.log("Rendering ProficiencyItem:",r,"isSelected:",i),s.jsxs("div",{className:"flex justify-between items-center p-3 rounded border border-gray-600",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-200 font-medium montserrat",children:a(r)}),s.jsx("p",{className:"text-sm text-gray-300 montserrat",children:e.description}),s.jsxs("p",{className:"text-xs text-gray-500 montserrat",children:["Slots: ",e.slots," | Stat: ",t," | Dificultad: ",e.difficulty.successesNeeded," éxitos, ",e.difficulty.trainingTime,", Costo: ",e.difficulty.trainingCost,e.restriction&&` | Restricción: ${e.restriction}`]})]}),s.jsx("button",{onClick:()=>n(r),disabled:i,className:"bg-gray-700 text-xs text-gray-200 py-1 px-3 rounded border border-gray-600 hover:bg-teal-600 hover:text-white hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed montserrat","aria-label":`Agregar competencia ${a(r)}`,children:"Agregar Proficiencia"})]})}cD.propTypes={profName:Or.string.isRequired,details:Or.shape({slots:Or.number.isRequired,description:Or.string.isRequired,difficulty:Or.shape({successesNeeded:Or.number.isRequired,trainingTime:Or.string.isRequired,trainingCost:Or.number.isRequired}).isRequired,restriction:Or.string}).isRequired,stat:Or.string.isRequired,addProficiency:Or.func.isRequired,isSelected:Or.bool.isRequired};function uD({category:r,stats:e,open:t,toggleCategory:n,addProficiency:i,proficiencies:a}){return console.log("Rendering ProficiencyCategory:",r,"open:",t),s.jsxs("div",{className:"border border-gray-600 border-dashed rounded shadow-md",children:[s.jsxs("button",{onClick:()=>n(r),className:"w-full text-left px-4 py-3 text-gray-200 font-semibold flex justify-between items-center hover:bg-teal-600 hover:shadow-lg transition-all duration-300 montserrat","aria-expanded":t,"aria-label":`Alternar categoría ${r}`,children:[s.jsx("span",{className:"text-lg",children:r}),s.jsx("span",{children:t?s.jsx(FQ,{className:"w-5 h-5"}):s.jsx(VQ,{className:"w-5 h-5"})})]}),t&&s.jsx("div",{className:"p-4 space-y-4",children:Object.entries(e).map(([o,c])=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-emerald-400 mb-3 tracking-tight montserrat",children:o}),s.jsx("div",{className:"space-y-3",children:Object.entries(c).map(([d,f])=>s.jsx(cD,{profName:d,details:f,stat:o,addProficiency:i,isSelected:a.some(g=>g.name===d)},d))})]},o))})]})}uD.propTypes={category:Or.string.isRequired,stats:Or.object.isRequired,open:Or.bool.isRequired,toggleCategory:Or.func.isRequired,addProficiency:Or.func.isRequired,proficiencies:Or.array.isRequired};function Fte(){const r=en(),{id:e}=wb(),{user:t,loading:n}=sl(),{state:i}=td(),[a,o]=ae.useState(i?.character||null),[c,d]=ae.useState([]),[f,g]=ae.useState(i?.imagePreview||""),[b,v]=ae.useState(!i?.character),[y,w]=ae.useState(null),[T,N]=ae.useState(null),_=ae.useRef(!1),j=te=>{for(const[,W]of Object.entries(lE))for(const[,K]of Object.entries(W))if(K[te])return K[te].difficulty.successesNeeded;return 0},C=te=>(te||[]).map(W=>{const K=j(W.name);return{name:W.name,value:Number(W.value)||0,checks:W.checks||Array(K).fill(!1)}});ae.useEffect(()=>{if(_.current||n)return;(async()=>{if(a&&a.id===e&&a.data?.nonWeaponProficiencies){d(C(a.data.nonWeaponProficiencies)),g(a.data.picture||i?.imagePreview||""),v(!1),_.current=!0;return}if(!e||!t){w("ID de personaje o usuario no válido"),v(!1),_.current=!0;return}v(!0);try{const{data:W,error:K}=await Jt.from("characters").select("*").eq("id",e).eq("user_id",t.id).single();if(K)throw K;if(!W)throw new Error("Personaje no encontrado");const $={id:W.id,type:W.type,name:W.name,data:{...W.data,nonWeaponProficiencies:W.data.nonWeaponProficiencies||[]}};o($),d(C($.data.nonWeaponProficiencies)),g(W.data.picture||i?.imagePreview||"")}catch(W){w("No se pudo cargar el personaje: "+W.message)}finally{v(!1),_.current=!0}})()},[e,t,n,a,i]);const A=te=>{console.log("Toggling category:",te),U(W=>({...W,[te]:!W[te]}))},[P,U]=ae.useState({}),B=te=>{if(console.log("Adding proficiency:",te),!c.some(W=>W.name===te)){const W=j(te);d(K=>[...K,{name:te,value:0,checks:Array(W).fill(!1)}])}},F=te=>{console.log("Removing proficiency:",te),d(W=>W.filter(K=>K.name!==te))},k=(te,W)=>{console.log("Updating proficiency value:",te,W),d(K=>K.map($=>$.name===te?{...$,value:Number(W)||0}:$))},z=(te,W)=>{console.log("Toggling check for:",te,"index:",W),d(K=>K.map($=>$.name===te?{...$,checks:$.checks.map((oe,G)=>G===W?!oe:oe)}:$))},V=async()=>{if(!a||!t){console.log("Cannot save: missing character or user"),w("No se puede guardar: personaje o usuario no válido");return}v(!0),w(null),N(null);try{const te={...a.data,nonWeaponProficiencies:c};console.log("Saving proficiencies:",te.nonWeaponProficiencies);const{error:W}=await Jt.from("characters").update({data:te}).eq("id",a.id).eq("user_id",t.id);if(W)throw console.error("Supabase save error:",W),W;o(K=>({...K,data:te})),N("Competencias guardadas exitosamente"),console.log("Save successful"),setTimeout(()=>N(null),3e3)}catch(te){w("No se pudo guardar las competencias: "+te.message),console.error("Error saving proficiencies:",te)}finally{v(!1)}},X=()=>{console.log("Navigating back to /characters/edit/",a?.id||"no-id"),r(a?`/characters/edit/${a.id}`:"/characters",{state:{character:a,imagePreview:f}})},J=()=>{console.log("Retrying data fetch"),w(null),v(!0),o(null),d([]),_.current=!1},ee=ae.useMemo(()=>(console.log("Rendering memoized categories"),Object.entries(lE).map(([te,W])=>s.jsx(uD,{category:te,stats:W,open:!!P[te],toggleCategory:A,addProficiency:B,proficiencies:c},te))),[P,c]);return console.log("NonWeaponProficiencies render: authLoading=",n,"loading=",b,"error=",y,"character=",a),n?(console.log("Rendering auth loading state"),s.jsx("div",{className:"min-h-screen w-10/12 mx-auto p-8 relative overflow-hidden bg-black",children:s.jsx("p",{className:"text-yellow-500 text-sm text-center montserrat animate-pulse",children:"Cargando autenticación..."})})):b?(console.log("Rendering data loading state"),s.jsx("div",{className:"min-h-screen w-10/12 mx-auto p-8 relative overflow-hidden bg-black",children:s.jsx("p",{className:"text-yellow-500 text-sm text-center montserrat animate-pulse",children:"Cargando competencias..."})})):y?(console.log("Rendering error state:",y),s.jsxs("div",{className:"min-h-screen w-10/12 mx-auto p-8 relative overflow-hidden bg-black",children:[s.jsx("p",{className:"text-red-600 text-sm text-center montserrat animate-pulse",children:y}),s.jsxs("div",{className:"text-center mt-4",children:[s.jsx("button",{onClick:J,className:"bg-blue-600 hover:bg-blue-700 text-white montserrat font-bold py-2 px-4 rounded-2xl border border-white transition-all duration-300","aria-label":"Reintentar carga de datos",children:"Reintentar"}),s.jsx("button",{onClick:()=>r("/characters"),className:"ml-4 bg-gray-700 text-gray-200 py-2 px-4 rounded-lg border border-gray-600 hover:bg-teal-600 hover:text-white montserrat font-medium transition-all duration-300","aria-label":"Volver a personajes",children:"Volver"})]})]})):a?(console.log("Rendering main component with character:",a),s.jsxs("div",{className:"min-h-screen w-10/12 mx-auto p-8 relative overflow-hidden bg-black",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-10 pointer-events-none"}),s.jsxs("div",{className:"rounded-lg shadow-lg p-8 max-w-5xl mx-auto border border-white",children:[s.jsx("h1",{className:"text-4xl font-semibold text-yellow-500 mb-8 text-center tracking-tight cinzel",children:"Competencias"}),T&&s.jsx("p",{className:"text-green-500 text-sm text-center montserrat animate-pulse mb-4",children:T}),s.jsx(lD,{proficiencies:c,updateProficiencyValue:k,removeProficiency:F,toggleCheck:z}),s.jsx("div",{className:"space-y-4",children:ee}),s.jsxs("div",{className:"text-center mt-8 space-y-4",children:[s.jsxs("div",{className:"text-gray-400 text-sm montserrat",children:[s.jsx("p",{children:"Competencia Base = (Atributo × 2)%"}),s.jsx("p",{children:"Competencia Proficiente = (Atributo × 5)%"})]}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:V,disabled:b,className:"bg-emerald-800 hover:bg-emerald-600 text-white montserrat font-bold py-2 px-8 rounded-2xl border border-white transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Guardar competencias",children:b?"Guardando...":"Guardar Competencias"}),s.jsx("button",{onClick:X,disabled:b,className:"bg-gray-700 text-gray-200 py-2 px-8 rounded-lg border border-gray-600 hover:bg-teal-600 hover:text-white hover:shadow-lg montserrat font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Volver a la hoja de personaje",children:"Volver"})]})]})]})]})):(console.log("No character, rendering empty state"),s.jsxs("div",{className:"min-h-screen w-10/12 mx-auto p-8 relative overflow-hidden bg-black",children:[s.jsx("p",{className:"text-red-600 text-sm text-center montserrat animate-pulse",children:"No se encontró el personaje. Por favor, intenta de nuevo."}),s.jsx("div",{className:"text-center mt-4",children:s.jsx("button",{onClick:()=>r("/characters"),className:"bg-gray-700 text-gray-200 py-2 px-4 rounded-lg border border-gray-600 hover:bg-teal-600 hover:text-white montserrat font-medium transition-all duration-300","aria-label":"Volver a personajes",children:"Volver"})})]}))}function qte(){const r=en(),{user:e}=sl(),[t,n]=ae.useState(""),[i,a]=ae.useState(""),[o,c]=ae.useState(""),[d,f]=ae.useState("#ff0000"),[g,b]=ae.useState(!1),[v,y]=ae.useState(!1),[w,T]=ae.useState(!1),[N,_]=ae.useState(null),j=k=>n(k.target.value),C=k=>a(k.target.value),A=k=>c(k.target.value),P=k=>f(k.target.value),U=async()=>{if(!o)throw new Error("Proporcione un nombre de usuario.");const{error:k}=await Jt.from("user_profiles").upsert({user_id:e.id,username:o,color:d},{onConflict:"user_id"});if(k)throw k},B=async()=>{if(!i||!o){_("Proporcione nombre de room y username.");return}try{await U();const k=kp(),{data:z,error:V}=await Jt.from("rooms").insert({id:k,name:i,owner_id:e.id,members:[e.id]}).select("id").single();if(V)throw V;r(`/library/lore-room/${z.id}`)}catch(k){console.error(k),_(k.message)}},F=async()=>{if(!t||!o){_("Ingrese un Lore Room ID válido y un username.");return}try{await U();const{data:k,error:z}=await Jt.from("rooms").select("id, members").eq("id",t).single();if(z)throw z;if(!k.members.includes(e.id)){const{error:X}=await Jt.from("rooms").update({members:[...k.members,e.id]}).eq("id",t);if(X)throw X}r(`/library/lore-room/${t}`)}catch(k){console.error(k),_(k.message)}};return s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip relative",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center z-10",children:s.jsx("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:"Biblioteca de Mundos"})}),g&&s.jsxs("main",{className:"m-auto montserrat z-10 w-2/3",children:[s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsx("button",{onClick:()=>{y(!0),T(!1)},className:"w-fit mx-auto bg-slate-700 hover:bg-slate-500 text-white font-bold py-2 px-4 rounded-2xl cursor-pointer",children:"Unirse a una Lore Room"}),s.jsx("button",{onClick:()=>{T(!0),y(!1)},className:"w-fit mx-auto bg-emerald-700 hover:bg-emerald-500 text-white font-bold py-2 px-4 rounded-2xl cursor-pointer",children:"Crear una Lore Room"})]}),v&&s.jsx("div",{className:"mt-4",children:s.jsxs("form",{onSubmit:k=>{k.preventDefault(),F()},className:"flex flex-col justify-center text-center space-y-4 w-full md:w-1/3 mx-auto",children:[s.jsx("input",{className:"rounded-2xl border w-full h-20 bg-black/90 px-4 text-center focus:outline-none",type:"text",value:t,onChange:j,placeholder:"Introduce el Lore Room ID"}),s.jsx("input",{className:"rounded-2xl border w-full h-20 bg-black/90 px-4 text-center focus:outline-none",type:"text",value:o,onChange:A,placeholder:"Tu nombre de usuario"}),s.jsx("button",{type:"submit",className:"w-fit mx-auto bg-slate-700 hover:bg-slate-500 text-white font-bold py-2 px-4 rounded-2xl cursor-pointer",children:"Continuar"})]})}),w&&s.jsx("div",{className:"mt-4",children:s.jsxs("form",{onSubmit:k=>{k.preventDefault(),B()},className:"flex flex-col justify-center text-center space-y-4 w-full md:w-1/3 mx-auto",children:[s.jsx("input",{className:"rounded-2xl border w-full h-20 bg-black/90 px-4 text-center focus:outline-none",type:"text",value:i,onChange:C,placeholder:"Nombre de la Lore Room"}),s.jsx("input",{className:"rounded-2xl border w-full h-20 bg-black/90 px-4 text-center focus:outline-none",type:"text",value:o,onChange:A,placeholder:"Tu nombre de usuario"}),s.jsx("input",{className:"w-full h-12 mt-2",type:"color",value:d,onChange:P}),s.jsx("button",{type:"submit",className:"bg-green-700 hover:bg-green-500 text-white font-bold py-2 px-4 rounded-2xl cursor-pointer",children:"Crear"})]})}),N&&s.jsx("p",{className:"text-red-500 mt-2 text-center",children:N})]}),s.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full z-0 mt-20",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center",children:[s.jsx("p",{className:"cinzel text-xl opacity-25",children:"Haz Click"}),s.jsx("img",{onClick:()=>b(!0),src:"/assets/image/dragon-entrance.png",className:"object-cover opacity-25 transition ease-in-out duration-500 hover:opacity-40 cursor-pointer",alt:"A stylized dragon guarding a library entrance"}),s.jsx("p",{className:"cinzel text-xl opacity-25",children:"En la Puerta"})]}),s.jsx("div",{onClick:()=>r("/landing"),className:"bottom-0 w-fit my-8 mx-auto left-0 right-0 z-10 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})]})}function Gte(){const r=en(),{id:e}=wb(),{user:t}=sl(),[n,i]=ae.useState(null),[a,o]=ae.useState({username:"",color:"#000000",role:"member"}),[c,d]=ae.useState([]),[f,g]=ae.useState(null);ae.useEffect(()=>{(async()=>{if(!(!t||!e))try{const{data:w,error:T}=await Jt.from("rooms").select("id, name, owner_id, members").eq("id",e).single();if(T)throw T;i(w);const{data:N,error:_}=await Jt.from("user_profiles").select("user_id, username, color").in("user_id",w.members);if(_)throw _;const j=w.members.map(A=>{const P=N.find(U=>U.user_id===A)||{username:"Sin nombre",color:"#000000"};return{user_id:A,username:P.username,color:P.color,role:A===w.owner_id?"owner":"member"}});d(j);const C=N.find(A=>A.user_id===t.id)||{username:"",color:"#000000"};o({username:C.username,color:C.color,role:t.id===w.owner_id?"owner":"member"})}catch(w){console.error("Fetch room error:",w),g("Error al cargar la sala.")}})()},[t,e]);const b=async()=>{if(g(null),!a.username){g("Proporcione un nombre de usuario.");return}try{const{error:y}=await Jt.from("user_profiles").upsert({user_id:t.id,username:a.username,color:a.color},{onConflict:"user_id"});if(y)throw y;d(c.map(w=>w.user_id===t.id?{...w,username:a.username,color:a.color}:w))}catch(y){console.error("Update profile error:",y),g("Error al actualizar tus datos.")}},v=async y=>{if(a.role==="owner")try{const{data:w,error:T}=await Jt.from("rooms").select("members").eq("id",e).single();if(T)throw T;const N=w.members.filter(j=>j!==y),{error:_}=await Jt.from("rooms").update({members:N}).eq("id",e);if(_)throw _;d(c.filter(j=>j.user_id!==y))}catch(w){console.error("Remove member error:",w),g("Error al eliminar miembro.")}};return n?s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-x-clip overflow-y-auto",children:[s.jsxs("h1",{className:"cinzel text-5xl md:text-7xl mt-4 text-center",children:['Lore Room - "',n.name,'"']}),s.jsxs("main",{className:"w-10/12 mx-auto rounded-2xl my-8 space-y-8 border border-white p-4",children:[s.jsxs("form",{onSubmit:y=>{y.preventDefault(),b()},className:"flex flex-col md:flex-row justify-center items-center text-center w-fit mx-auto border-dashed border rounded-2xl p-4",children:[s.jsxs("div",{className:"flex flex-col w-auto md:w-150 mx-4 md:mx-0",children:[s.jsx("p",{className:"text-center text-xs text-gray-500 my-2",children:"Define tu nombre y color para la sala colaborativa"}),s.jsx("input",{className:"rounded-2xl border w-full md:w-1/2 mx-auto my-2 py-2 bg-black/90 text-center text-lg md:text-xl cinzel focus:outline-none",type:"text",value:a.username,onChange:y=>o({...a,username:y.target.value}),placeholder:"Personaje"}),s.jsx("input",{className:"w-10 h-10 mx-auto my-2 focus:outline-none",type:"color",value:a.color,onChange:y=>o({...a,color:y.target.value})})]}),s.jsx("button",{type:"submit",className:"bg-gray-700 hover:bg-gray-500 text-white font-bold p-2 rounded-2xl cursor-pointer cinzel w-fit h-fit mx-auto md:m-4 my-2 text-sm",children:"Guardar"})]}),f&&s.jsx("p",{className:"text-red-500 mt-2 text-center",children:f}),s.jsxs("div",{className:"w-full flex flex-col md:flex-row justify-center md:justify-evenly items-center p-6 space-x-0 md:space-x-8 text-2xl md:text-5xl cinzel",children:[s.jsx("div",{onClick:()=>r(`/library/lore-room/${e}/wiki`),className:"flex items-center justify-center w-50 h-50 cursor-pointer rounded-2xl border-2 border-transparent hover:shadow-white hover:shadow-sm",children:s.jsx("h2",{children:"Wiki"})}),s.jsx("div",{onClick:()=>r(`/library/lore-room/${e}/map`),className:"flex items-center justify-center w-50 h-50 cursor-pointer rounded-2xl border-2 border-transparent hover:shadow-white hover:shadow-sm",children:s.jsx("h2",{children:"Mapa"})})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"text-xl md:text-2xl cinzel mb-2",children:"Miembros"}),s.jsx("ul",{className:"space-y-2",children:c.map(y=>s.jsxs("li",{className:"flex justify-between items-center border rounded-2xl p-2",children:[s.jsxs("span",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:y.color}}),s.jsxs("span",{children:[y.username||"Sin nombre"," (",y.role,")"]})]}),a.role==="owner"&&y.user_id!==t.id&&s.jsx("button",{onClick:()=>v(y.user_id),className:"bg-red-700 hover:bg-red-500 text-white font-bold py-1 px-2 rounded-2xl text-sm",children:"Eliminar"})]},y.user_id))})]})]}),s.jsx("div",{className:"w-1/2 md:w-1/5 mt-4",children:s.jsx("img",{className:"rounded-2xl opacity-75",src:"/assets/image/multiversal-eye.png",alt:""})}),s.jsx("div",{onClick:()=>r("/landing"),className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]}):s.jsx("p",{className:"text-white text-center mt-10",children:"Cargando sala..."})}const Iu={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},Wte=()=>{const{setShowModal:r,setSelectedDie:e}=ae.useContext(vy),t=en(),n=ae.useCallback(o=>{e(o),r(!0)},[e,r]),i=ae.useCallback(()=>{console.log("Clear functionality (adapt for color selection if needed)")},[]),a=ae.useCallback(()=>{t("/tools")},[t]);return s.jsx(qn.div,{variants:Iu,className:"hidden md:flex rounded-full mx-4 fixed h-screen items-center my-auto",initial:"hidden",animate:"visible",children:s.jsxs("ul",{className:"space-y-6",children:[s.jsx(qn.li,{variants:Iu,onClick:a,className:"hidden rounded-full p-1 hover:shadow-gray-700 hover:shadow-md cursor-pointer",whileHover:{scale:1.1},whileTap:{scale:.9},children:s.jsx("a",{href:"/tools",children:s.jsx(el.Icon,{path:LO,size:1.2})})}),s.jsx(qn.li,{variants:Iu,onClick:()=>n("d20"),className:"rounded-full p-1 border-1 border-transparent hover:border-white hover:shadow-gray-700 hover:shadow-md cursor-pointer",whileHover:{scale:1.1},whileTap:{scale:.9},children:s.jsx(el.Icon,{path:CO,size:1.2})}),s.jsx(qn.li,{variants:Iu,onClick:()=>n("d12"),className:"rounded-full p-1 border-1 border-transparent hover:border-white hover:shadow-gray-700 hover:shadow-md cursor-pointer",whileHover:{scale:1.1},whileTap:{scale:.9},children:s.jsx(el.Icon,{path:AO,size:1.2})}),s.jsx(qn.li,{variants:Iu,onClick:()=>n("d10"),className:"rounded-full p-1 border-1 border-transparent hover:border-white hover:shadow-gray-700 hover:shadow-md cursor-pointer",whileHover:{scale:1.1},whileTap:{scale:.9},children:s.jsx(el.Icon,{path:jO,size:1.2})}),s.jsx(qn.li,{variants:Iu,onClick:()=>n("d8"),className:"rounded-full p-1 border-1 border-transparent hover:border-white hover:shadow-gray-700 hover:shadow-md cursor-pointer",whileHover:{scale:1.1},whileTap:{scale:.9},children:s.jsx(el.Icon,{path:DO,size:1.2})}),s.jsx(qn.li,{variants:Iu,onClick:()=>n("d6"),className:"rounded-full p-1 border-1 border-transparent hover:border-white hover:shadow-gray-700 hover:shadow-md cursor-pointer",whileHover:{scale:1.1},whileTap:{scale:.9},children:s.jsx(el.Icon,{path:OO,size:1.2})}),s.jsx(qn.li,{variants:Iu,onClick:()=>n("d4"),className:"rounded-full p-1 border-1 border-transparent hover:border-white hover:shadow-gray-700 hover:shadow-md cursor-pointer",whileHover:{scale:1.1},whileTap:{scale:.9},children:s.jsx(el.Icon,{path:RO,size:1.2})}),s.jsx(qn.li,{variants:Iu,onClick:i,className:"hidden rounded-full p-1 border-1 border-transparent hover:border-white hover:shadow-gray-700 hover:shadow-md cursor-pointer",whileHover:{scale:1.1},whileTap:{scale:.9},children:s.jsx(el.Icon,{path:PO,size:1.2})})]})})},Xte=()=>{const{showModal:r,setShowModal:e,selectedDie:t}=ae.useContext(vy),[n,i]=ae.useState(!1),[a,o]=ae.useState(null),c=ae.useRef(null),d={d4:RK,d6:OK,d8:DK,d10:AK,d12:CK,d20:BS};ae.useEffect(()=>{if(!r||!t)return;const v=()=>{const w=parseInt(t.replace("d",""),10),T=Math.floor(Math.random()*w)+1;console.log(`Simulated roll for 1${t}: ${T}`),o(T),i(!0)},y=setTimeout(()=>{v()},500);return()=>{clearTimeout(y),i(!1),o(null)}},[r,t]);const f=()=>{i(!1),o(null);const v=parseInt(t.replace("d",""),10),y=Math.floor(Math.random()*v)+1;console.log(`Simulated roll again for 1${t}: ${y}`),setTimeout(()=>{o(y),i(!0)},1e3)},g=()=>{console.log("Closing modal"),e(!1)},b=v=>{c.current&&!c.current.contains(v.target)&&(console.log("Backdrop clicked, closing modal"),g())};return r?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:b,children:s.jsxs("div",{ref:c,className:"p-4 rounded-lg border-1 w-1/2 h-1/3 max-w-4xl max-h-4xl relative flex flex-col",children:[s.jsx("div",{className:"w-full h-[90%] relative bg-black flex items-center justify-center",children:n&&a?s.jsx("div",{className:"text-white text-4xl cinzel",children:a}):s.jsxs("div",{className:"flex items-center justify-center text-white",children:[s.jsx(el.Icon,{path:d[t]||BS,size:1.5,className:"animate-spin"}),s.jsxs("span",{className:"mx-2 text-lg md:text-2xl cinzel",children:["Lanzando ",t]}),s.jsx(el.Icon,{path:d[t]||BS,size:1.5,className:"animate-spin"})]})}),n&&s.jsx("div",{className:"flex flex-col items-center space-y-4 mt-4",children:s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Lanzar Nuevamente"}),s.jsx("button",{onClick:g,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Cerrar"})]})})]})}):null};function dD(r,e){const t=ae.useRef(e);ae.useEffect(function(){e!==t.current&&r.attributionControl!=null&&(t.current!=null&&r.attributionControl.removeAttribution(t.current),e!=null&&r.attributionControl.addAttribution(e)),t.current=e},[r,e])}function Yte(r,e,t){e.center!==t.center&&r.setLatLng(e.center),e.radius!=null&&e.radius!==t.radius&&r.setRadius(e.radius)}const Zte=1;function Kte(r){return Object.freeze({__version:Zte,map:r})}function hD(r,e){return Object.freeze({...r,...e})}const tN=ae.createContext(null);function f_(){const r=ae.use(tN);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function fD(r){function e(t,n){const{instance:i,context:a}=r(t).current;ae.useImperativeHandle(n,()=>i);const{children:o}=t;return o==null?null:dn.createElement(tN,{value:a},o)}return ae.forwardRef(e)}function Jte(r){function e(t,n){const[i,a]=ae.useState(!1),{instance:o}=r(t,a).current;ae.useImperativeHandle(n,()=>o),ae.useEffect(function(){i&&o.update()},[o,i,t.children]);const c=o._contentNode;return c?OP.createPortal(t.children,c):null}return ae.forwardRef(e)}function nN(r,e){const t=ae.useRef(void 0);ae.useEffect(function(){return e!=null&&r.instance.on(e),t.current=e,function(){t.current!=null&&r.instance.off(t.current),t.current=null}},[r,e])}function rN(r,e){const t=r.pane??e.pane;return t?{...r,pane:t}:r}function Qte(r,e){return function(n,i){const a=f_(),o=r(rN(n,a),a);return dD(a.map,n.attribution),nN(o.current,n.eventHandlers),e(o.current,a,n,i),o}}var jg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var $te=jg.exports,C4;function ene(){return C4||(C4=1,(function(r,e){(function(t,n){n(e)})($te,(function(t){var n="1.9.4";function i(h){var S,R,q,Q;for(R=1,q=arguments.length;R<q;R++){Q=arguments[R];for(S in Q)h[S]=Q[S]}return h}var a=Object.create||(function(){function h(){}return function(S){return h.prototype=S,new h}})();function o(h,S){var R=Array.prototype.slice;if(h.bind)return h.bind.apply(h,R.call(arguments,1));var q=R.call(arguments,2);return function(){return h.apply(S,q.length?q.concat(R.call(arguments)):arguments)}}var c=0;function d(h){return"_leaflet_id"in h||(h._leaflet_id=++c),h._leaflet_id}function f(h,S,R){var q,Q,ue,Se;return Se=function(){q=!1,Q&&(ue.apply(R,Q),Q=!1)},ue=function(){q?Q=arguments:(h.apply(R,arguments),setTimeout(Se,S),q=!0)},ue}function g(h,S,R){var q=S[1],Q=S[0],ue=q-Q;return h===q&&R?h:((h-Q)%ue+ue)%ue+Q}function b(){return!1}function v(h,S){if(S===!1)return h;var R=Math.pow(10,S===void 0?6:S);return Math.round(h*R)/R}function y(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function w(h){return y(h).split(/\s+/)}function T(h,S){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?a(h.options):{});for(var R in S)h.options[R]=S[R];return h.options}function N(h,S,R){var q=[];for(var Q in h)q.push(encodeURIComponent(R?Q.toUpperCase():Q)+"="+encodeURIComponent(h[Q]));return(!S||S.indexOf("?")===-1?"?":"&")+q.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function j(h,S){return h.replace(_,function(R,q){var Q=S[q];if(Q===void 0)throw new Error("No value provided for variable "+R);return typeof Q=="function"&&(Q=Q(S)),Q})}var C=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function A(h,S){for(var R=0;R<h.length;R++)if(h[R]===S)return R;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function U(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var B=0;function F(h){var S=+new Date,R=Math.max(0,16-(S-B));return B=S+R,window.setTimeout(h,R)}var k=window.requestAnimationFrame||U("RequestAnimationFrame")||F,z=window.cancelAnimationFrame||U("CancelAnimationFrame")||U("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function V(h,S,R){if(R&&k===F)h.call(S);else return k.call(window,o(h,S))}function X(h){h&&z.call(window,h)}var J={__proto__:null,extend:i,create:a,bind:o,get lastId(){return c},stamp:d,throttle:f,wrapNum:g,falseFn:b,formatNum:v,trim:y,splitWords:w,setOptions:T,getParamString:N,template:j,isArray:C,indexOf:A,emptyImageUrl:P,requestFn:k,cancelFn:z,requestAnimFrame:V,cancelAnimFrame:X};function ee(){}ee.extend=function(h){var S=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},R=S.__super__=this.prototype,q=a(R);q.constructor=S,S.prototype=q;for(var Q in this)Object.prototype.hasOwnProperty.call(this,Q)&&Q!=="prototype"&&Q!=="__super__"&&(S[Q]=this[Q]);return h.statics&&i(S,h.statics),h.includes&&(te(h.includes),i.apply(null,[q].concat(h.includes))),i(q,h),delete q.statics,delete q.includes,q.options&&(q.options=R.options?a(R.options):{},i(q.options,h.options)),q._initHooks=[],q.callInitHooks=function(){if(!this._initHooksCalled){R.callInitHooks&&R.callInitHooks.call(this),this._initHooksCalled=!0;for(var ue=0,Se=q._initHooks.length;ue<Se;ue++)q._initHooks[ue].call(this)}},S},ee.include=function(h){var S=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=S,this.mergeOptions(h.options)),this},ee.mergeOptions=function(h){return i(this.prototype.options,h),this},ee.addInitHook=function(h){var S=Array.prototype.slice.call(arguments,1),R=typeof h=="function"?h:function(){this[h].apply(this,S)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(R),this};function te(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=C(h)?h:[h];for(var S=0;S<h.length;S++)h[S]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(h,S,R){if(typeof h=="object")for(var q in h)this._on(q,h[q],S);else{h=w(h);for(var Q=0,ue=h.length;Q<ue;Q++)this._on(h[Q],S,R)}return this},off:function(h,S,R){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var q in h)this._off(q,h[q],S);else{h=w(h);for(var Q=arguments.length===1,ue=0,Se=h.length;ue<Se;ue++)Q?this._off(h[ue]):this._off(h[ue],S,R)}return this},_on:function(h,S,R,q){if(typeof S!="function"){console.warn("wrong listener type: "+typeof S);return}if(this._listens(h,S,R)===!1){R===this&&(R=void 0);var Q={fn:S,ctx:R};q&&(Q.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(Q)}},_off:function(h,S,R){var q,Q,ue;if(this._events&&(q=this._events[h],!!q)){if(arguments.length===1){if(this._firingCount)for(Q=0,ue=q.length;Q<ue;Q++)q[Q].fn=b;delete this._events[h];return}if(typeof S!="function"){console.warn("wrong listener type: "+typeof S);return}var Se=this._listens(h,S,R);if(Se!==!1){var Ue=q[Se];this._firingCount&&(Ue.fn=b,this._events[h]=q=q.slice()),q.splice(Se,1)}}},fire:function(h,S,R){if(!this.listens(h,R))return this;var q=i({},S,{type:h,target:this,sourceTarget:S&&S.sourceTarget||this});if(this._events){var Q=this._events[h];if(Q){this._firingCount=this._firingCount+1||1;for(var ue=0,Se=Q.length;ue<Se;ue++){var Ue=Q[ue],Je=Ue.fn;Ue.once&&this.off(h,Je,Ue.ctx),Je.call(Ue.ctx||this,q)}this._firingCount--}}return R&&this._propagateEvent(q),this},listens:function(h,S,R,q){typeof h!="string"&&console.warn('"string" type argument expected');var Q=S;typeof S!="function"&&(q=!!S,Q=void 0,R=void 0);var ue=this._events&&this._events[h];if(ue&&ue.length&&this._listens(h,Q,R)!==!1)return!0;if(q){for(var Se in this._eventParents)if(this._eventParents[Se].listens(h,S,R,q))return!0}return!1},_listens:function(h,S,R){if(!this._events)return!1;var q=this._events[h]||[];if(!S)return!!q.length;R===this&&(R=void 0);for(var Q=0,ue=q.length;Q<ue;Q++)if(q[Q].fn===S&&q[Q].ctx===R)return Q;return!1},once:function(h,S,R){if(typeof h=="object")for(var q in h)this._on(q,h[q],S,!0);else{h=w(h);for(var Q=0,ue=h.length;Q<ue;Q++)this._on(h[Q],S,R,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[d(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[d(h)],this},_propagateEvent:function(h){for(var S in this._eventParents)this._eventParents[S].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var K=ee.extend(W);function $(h,S,R){this.x=R?Math.round(h):h,this.y=R?Math.round(S):S}var oe=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(h){return this.clone()._add(G(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(G(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new $(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new $(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=oe(this.x),this.y=oe(this.y),this},distanceTo:function(h){h=G(h);var S=h.x-this.x,R=h.y-this.y;return Math.sqrt(S*S+R*R)},equals:function(h){return h=G(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=G(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function G(h,S,R){return h instanceof $?h:C(h)?new $(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new $(h.x,h.y):new $(h,S,R)}function Y(h,S){if(h)for(var R=S?[h,S]:h,q=0,Q=R.length;q<Q;q++)this.extend(R[q])}Y.prototype={extend:function(h){var S,R;if(!h)return this;if(h instanceof $||typeof h[0]=="number"||"x"in h)S=R=G(h);else if(h=ne(h),S=h.min,R=h.max,!S||!R)return this;return!this.min&&!this.max?(this.min=S.clone(),this.max=R.clone()):(this.min.x=Math.min(S.x,this.min.x),this.max.x=Math.max(R.x,this.max.x),this.min.y=Math.min(S.y,this.min.y),this.max.y=Math.max(R.y,this.max.y)),this},getCenter:function(h){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var S,R;return typeof h[0]=="number"||h instanceof $?h=G(h):h=ne(h),h instanceof Y?(S=h.min,R=h.max):S=R=h,S.x>=this.min.x&&R.x<=this.max.x&&S.y>=this.min.y&&R.y<=this.max.y},intersects:function(h){h=ne(h);var S=this.min,R=this.max,q=h.min,Q=h.max,ue=Q.x>=S.x&&q.x<=R.x,Se=Q.y>=S.y&&q.y<=R.y;return ue&&Se},overlaps:function(h){h=ne(h);var S=this.min,R=this.max,q=h.min,Q=h.max,ue=Q.x>S.x&&q.x<R.x,Se=Q.y>S.y&&q.y<R.y;return ue&&Se},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var S=this.min,R=this.max,q=Math.abs(S.x-R.x)*h,Q=Math.abs(S.y-R.y)*h;return ne(G(S.x-q,S.y-Q),G(R.x+q,R.y+Q))},equals:function(h){return h?(h=ne(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function ne(h,S){return!h||h instanceof Y?h:new Y(h,S)}function le(h,S){if(h)for(var R=S?[h,S]:h,q=0,Q=R.length;q<Q;q++)this.extend(R[q])}le.prototype={extend:function(h){var S=this._southWest,R=this._northEast,q,Q;if(h instanceof ce)q=h,Q=h;else if(h instanceof le){if(q=h._southWest,Q=h._northEast,!q||!Q)return this}else return h?this.extend(ie(h)||be(h)):this;return!S&&!R?(this._southWest=new ce(q.lat,q.lng),this._northEast=new ce(Q.lat,Q.lng)):(S.lat=Math.min(q.lat,S.lat),S.lng=Math.min(q.lng,S.lng),R.lat=Math.max(Q.lat,R.lat),R.lng=Math.max(Q.lng,R.lng)),this},pad:function(h){var S=this._southWest,R=this._northEast,q=Math.abs(S.lat-R.lat)*h,Q=Math.abs(S.lng-R.lng)*h;return new le(new ce(S.lat-q,S.lng-Q),new ce(R.lat+q,R.lng+Q))},getCenter:function(){return new ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof ce||"lat"in h?h=ie(h):h=be(h);var S=this._southWest,R=this._northEast,q,Q;return h instanceof le?(q=h.getSouthWest(),Q=h.getNorthEast()):q=Q=h,q.lat>=S.lat&&Q.lat<=R.lat&&q.lng>=S.lng&&Q.lng<=R.lng},intersects:function(h){h=be(h);var S=this._southWest,R=this._northEast,q=h.getSouthWest(),Q=h.getNorthEast(),ue=Q.lat>=S.lat&&q.lat<=R.lat,Se=Q.lng>=S.lng&&q.lng<=R.lng;return ue&&Se},overlaps:function(h){h=be(h);var S=this._southWest,R=this._northEast,q=h.getSouthWest(),Q=h.getNorthEast(),ue=Q.lat>S.lat&&q.lat<R.lat,Se=Q.lng>S.lng&&q.lng<R.lng;return ue&&Se},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,S){return h?(h=be(h),this._southWest.equals(h.getSouthWest(),S)&&this._northEast.equals(h.getNorthEast(),S)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function be(h,S){return h instanceof le?h:new le(h,S)}function ce(h,S,R){if(isNaN(h)||isNaN(S))throw new Error("Invalid LatLng object: ("+h+", "+S+")");this.lat=+h,this.lng=+S,R!==void 0&&(this.alt=+R)}ce.prototype={equals:function(h,S){if(!h)return!1;h=ie(h);var R=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return R<=(S===void 0?1e-9:S)},toString:function(h){return"LatLng("+v(this.lat,h)+", "+v(this.lng,h)+")"},distanceTo:function(h){return _e.distance(this,ie(h))},wrap:function(){return _e.wrapLatLng(this)},toBounds:function(h){var S=180*h/40075017,R=S/Math.cos(Math.PI/180*this.lat);return be([this.lat-S,this.lng-R],[this.lat+S,this.lng+R])},clone:function(){return new ce(this.lat,this.lng,this.alt)}};function ie(h,S,R){return h instanceof ce?h:C(h)&&typeof h[0]!="object"?h.length===3?new ce(h[0],h[1],h[2]):h.length===2?new ce(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new ce(h.lat,"lng"in h?h.lng:h.lon,h.alt):S===void 0?null:new ce(h,S,R)}var ge={latLngToPoint:function(h,S){var R=this.projection.project(h),q=this.scale(S);return this.transformation._transform(R,q)},pointToLatLng:function(h,S){var R=this.scale(S),q=this.transformation.untransform(h,R);return this.projection.unproject(q)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var S=this.projection.bounds,R=this.scale(h),q=this.transformation.transform(S.min,R),Q=this.transformation.transform(S.max,R);return new Y(q,Q)},infinite:!1,wrapLatLng:function(h){var S=this.wrapLng?g(h.lng,this.wrapLng,!0):h.lng,R=this.wrapLat?g(h.lat,this.wrapLat,!0):h.lat,q=h.alt;return new ce(R,S,q)},wrapLatLngBounds:function(h){var S=h.getCenter(),R=this.wrapLatLng(S),q=S.lat-R.lat,Q=S.lng-R.lng;if(q===0&&Q===0)return h;var ue=h.getSouthWest(),Se=h.getNorthEast(),Ue=new ce(ue.lat-q,ue.lng-Q),Je=new ce(Se.lat-q,Se.lng-Q);return new le(Ue,Je)}},_e=i({},ge,{wrapLng:[-180,180],R:6371e3,distance:function(h,S){var R=Math.PI/180,q=h.lat*R,Q=S.lat*R,ue=Math.sin((S.lat-h.lat)*R/2),Se=Math.sin((S.lng-h.lng)*R/2),Ue=ue*ue+Math.cos(q)*Math.cos(Q)*Se*Se,Je=2*Math.atan2(Math.sqrt(Ue),Math.sqrt(1-Ue));return this.R*Je}}),Te=6378137,Ee={R:Te,MAX_LATITUDE:85.0511287798,project:function(h){var S=Math.PI/180,R=this.MAX_LATITUDE,q=Math.max(Math.min(R,h.lat),-R),Q=Math.sin(q*S);return new $(this.R*h.lng*S,this.R*Math.log((1+Q)/(1-Q))/2)},unproject:function(h){var S=180/Math.PI;return new ce((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*S,h.x*S/this.R)},bounds:(function(){var h=Te*Math.PI;return new Y([-h,-h],[h,h])})()};function $e(h,S,R,q){if(C(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=S,this._c=R,this._d=q}$e.prototype={transform:function(h,S){return this._transform(h.clone(),S)},_transform:function(h,S){return S=S||1,h.x=S*(this._a*h.x+this._b),h.y=S*(this._c*h.y+this._d),h},untransform:function(h,S){return S=S||1,new $((h.x/S-this._b)/this._a,(h.y/S-this._d)/this._c)}};function tt(h,S,R,q){return new $e(h,S,R,q)}var xe=i({},_e,{code:"EPSG:3857",projection:Ee,transformation:(function(){var h=.5/(Math.PI*Ee.R);return tt(h,.5,-h,.5)})()}),ke=i({},xe,{code:"EPSG:900913"});function Ve(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function nt(h,S){var R="",q,Q,ue,Se,Ue,Je;for(q=0,ue=h.length;q<ue;q++){for(Ue=h[q],Q=0,Se=Ue.length;Q<Se;Q++)Je=Ue[Q],R+=(Q?"L":"M")+Je.x+" "+Je.y;R+=S?Bt.svg?"z":"x":""}return R||"M0 0"}var Xe=document.documentElement.style,je="ActiveXObject"in window,de=je&&!document.addEventListener,ye="msLaunchUri"in navigator&&!("documentMode"in document),Be=Dr("webkit"),Oe=Dr("android"),he=Dr("android 2")||Dr("android 3"),se=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Me=Oe&&Dr("Google")&&se<537&&!("AudioNode"in window),qe=!!window.opera,Ge=!ye&&Dr("chrome"),ze=Dr("gecko")&&!Be&&!qe&&!je,St=!Ge&&Dr("safari"),ot=Dr("phantom"),wt="OTransition"in Xe,Dt=navigator.platform.indexOf("Win")===0,ut=je&&"transition"in Xe,vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!he,It="MozPerspective"in Xe,Pt=!window.L_DISABLE_3D&&(ut||vt||It)&&!wt&&!ot,gt=typeof orientation<"u"||Dr("mobile"),an=gt&&Be,De=gt&&vt,mt=!window.PointerEvent&&window.MSPointerEvent,bt=!!(window.PointerEvent||mt),jt="ontouchstart"in window||!!window.TouchEvent,ht=!window.L_NO_TOUCH&&(jt||bt),at=gt&&qe,Lt=gt&&ze,tn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Hn=(function(){var h=!1;try{var S=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",b,S),window.removeEventListener("testPassiveEventSupport",b,S)}catch{}return h})(),Un=(function(){return!!document.createElement("canvas").getContext})(),Wi=!!(document.createElementNS&&Ve("svg").createSVGRect),Br=!!Wi&&(function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),kr=!Wi&&(function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var S=h.firstChild;return S.style.behavior="url(#default#VML)",S&&typeof S.adj=="object"}catch{return!1}})(),yr=navigator.platform.indexOf("Mac")===0,As=navigator.platform.indexOf("Linux")===0;function Dr(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var Bt={ie:je,ielt9:de,edge:ye,webkit:Be,android:Oe,android23:he,androidStock:Me,opera:qe,chrome:Ge,gecko:ze,safari:St,phantom:ot,opera12:wt,win:Dt,ie3d:ut,webkit3d:vt,gecko3d:It,any3d:Pt,mobile:gt,mobileWebkit:an,mobileWebkit3d:De,msPointer:mt,pointer:bt,touch:ht,touchNative:jt,mobileOpera:at,mobileGecko:Lt,retina:tn,passiveEvents:Hn,canvas:Un,svg:Wi,vml:kr,inlineSvg:Br,mac:yr,linux:As},Xi=Bt.msPointer?"MSPointerDown":"pointerdown",Yi=Bt.msPointer?"MSPointerMove":"pointermove",Zi=Bt.msPointer?"MSPointerUp":"pointerup",ur=Bt.msPointer?"MSPointerCancel":"pointercancel",ds={touchstart:Xi,touchmove:Yi,touchend:Zi,touchcancel:ur},Ys={touchstart:Pe,touchmove:Ze,touchend:Ze,touchcancel:Ze},hs={},_a=!1;function Hr(h,S,R){return S==="touchstart"&&He(),Ys[S]?(R=Ys[S].bind(this,R),h.addEventListener(ds[S],R,!1),R):(console.warn("wrong event specified:",S),b)}function Jl(h,S,R){if(!ds[S]){console.warn("wrong event specified:",S);return}h.removeEventListener(ds[S],R,!1)}function Ql(h){hs[h.pointerId]=h}function me(h){hs[h.pointerId]&&(hs[h.pointerId]=h)}function Ce(h){delete hs[h.pointerId]}function He(){_a||(document.addEventListener(Xi,Ql,!0),document.addEventListener(Yi,me,!0),document.addEventListener(Zi,Ce,!0),document.addEventListener(ur,Ce,!0),_a=!0)}function Ze(h,S){if(S.pointerType!==(S.MSPOINTER_TYPE_MOUSE||"mouse")){S.touches=[];for(var R in hs)S.touches.push(hs[R]);S.changedTouches=[S],h(S)}}function Pe(h,S){S.MSPOINTER_TYPE_TOUCH&&S.pointerType===S.MSPOINTER_TYPE_TOUCH&&_r(S),Ze(h,S)}function ft(h){var S={},R,q;for(q in h)R=h[q],S[q]=R&&R.bind?R.bind(h):R;return h=S,S.type="dblclick",S.detail=2,S.isTrusted=!1,S._simulated=!0,S}var yt=200;function Ct(h,S){h.addEventListener("dblclick",S);var R=0,q;function Q(ue){if(ue.detail!==1){q=ue.detail;return}if(!(ue.pointerType==="mouse"||ue.sourceCapabilities&&!ue.sourceCapabilities.firesTouchEvents)){var Se=rc(ue);if(!(Se.some(function(Je){return Je instanceof HTMLLabelElement&&Je.attributes.for})&&!Se.some(function(Je){return Je instanceof HTMLInputElement||Je instanceof HTMLSelectElement}))){var Ue=Date.now();Ue-R<=yt?(q++,q===2&&S(ft(ue))):q=1,R=Ue}}}return h.addEventListener("click",Q),{dblclick:S,simDblclick:Q}}function _t(h,S){h.removeEventListener("dblclick",S.dblclick),h.removeEventListener("click",S.simDblclick)}var qt=Vr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xt=Vr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ut=Xt==="webkitTransition"||Xt==="OTransition"?Xt+"End":"transitionend";function vn(h){return typeof h=="string"?document.getElementById(h):h}function Pn(h,S){var R=h.style[S]||h.currentStyle&&h.currentStyle[S];if((!R||R==="auto")&&document.defaultView){var q=document.defaultView.getComputedStyle(h,null);R=q?q[S]:null}return R==="auto"?null:R}function Gt(h,S,R){var q=document.createElement(h);return q.className=S||"",R&&R.appendChild(q),q}function Qt(h){var S=h.parentNode;S&&S.removeChild(h)}function hn(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function kt(h){var S=h.parentNode;S&&S.lastChild!==h&&S.appendChild(h)}function $n(h){var S=h.parentNode;S&&S.firstChild!==h&&S.insertBefore(h,S.firstChild)}function Sn(h,S){if(h.classList!==void 0)return h.classList.contains(S);var R=Pr(h);return R.length>0&&new RegExp("(^|\\s)"+S+"(\\s|$)").test(R)}function Wt(h,S){if(h.classList!==void 0)for(var R=w(S),q=0,Q=R.length;q<Q;q++)h.classList.add(R[q]);else if(!Sn(h,S)){var ue=Pr(h);Kr(h,(ue?ue+" ":"")+S)}}function Xn(h,S){h.classList!==void 0?h.classList.remove(S):Kr(h,y((" "+Pr(h)+" ").replace(" "+S+" "," ")))}function Kr(h,S){h.className.baseVal===void 0?h.className=S:h.className.baseVal=S}function Pr(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function Nn(h,S){"opacity"in h.style?h.style.opacity=S:"filter"in h.style&&Mi(h,S)}function Mi(h,S){var R=!1,q="DXImageTransform.Microsoft.Alpha";try{R=h.filters.item(q)}catch{if(S===1)return}S=Math.round(S*100),R?(R.Enabled=S!==100,R.Opacity=S):h.style.filter+=" progid:"+q+"(opacity="+S+")"}function Vr(h){for(var S=document.documentElement.style,R=0;R<h.length;R++)if(h[R]in S)return h[R];return!1}function rr(h,S,R){var q=S||new $(0,0);h.style[qt]=(Bt.ie3d?"translate("+q.x+"px,"+q.y+"px)":"translate3d("+q.x+"px,"+q.y+"px,0)")+(R?" scale("+R+")":"")}function In(h,S){h._leaflet_pos=S,Bt.any3d?rr(h,S):(h.style.left=S.x+"px",h.style.top=S.y+"px")}function fs(h){return h._leaflet_pos||new $(0,0)}var Ar,$l,ol;if("onselectstart"in document)Ar=function(){ln(window,"selectstart",_r)},$l=function(){Zn(window,"selectstart",_r)};else{var qa=Vr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ar=function(){if(qa){var h=document.documentElement.style;ol=h[qa],h[qa]="none"}},$l=function(){qa&&(document.documentElement.style[qa]=ol,ol=void 0)}}function ec(){ln(window,"dragstart",_r)}function $c(){Zn(window,"dragstart",_r)}var eu,ll;function tc(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(cl(),eu=h,ll=h.style.outlineStyle,h.style.outlineStyle="none",ln(window,"keydown",cl))}function cl(){eu&&(eu.style.outlineStyle=ll,eu=void 0,ll=void 0,Zn(window,"keydown",cl))}function Ga(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function Wa(h){var S=h.getBoundingClientRect();return{x:S.width/h.offsetWidth||1,y:S.height/h.offsetHeight||1,boundingClientRect:S}}var wh={__proto__:null,TRANSFORM:qt,TRANSITION:Xt,TRANSITION_END:Ut,get:vn,getStyle:Pn,create:Gt,remove:Qt,empty:hn,toFront:kt,toBack:$n,hasClass:Sn,addClass:Wt,removeClass:Xn,setClass:Kr,getClass:Pr,setOpacity:Nn,testProp:Vr,setTransform:rr,setPosition:In,getPosition:fs,get disableTextSelection(){return Ar},get enableTextSelection(){return $l},disableImageDrag:ec,enableImageDrag:$c,preventOutline:tc,restoreOutline:cl,getSizedParentNode:Ga,getScale:Wa};function ln(h,S,R,q){if(S&&typeof S=="object")for(var Q in S)So(h,Q,S[Q],R);else{S=w(S);for(var ue=0,Se=S.length;ue<Se;ue++)So(h,S[ue],R,q)}return this}var Cs="_leaflet_events";function Zn(h,S,R,q){if(arguments.length===1)Zs(h),delete h[Cs];else if(S&&typeof S=="object")for(var Q in S)Ks(h,Q,S[Q],R);else if(S=w(S),arguments.length===2)Zs(h,function(Ue){return A(S,Ue)!==-1});else for(var ue=0,Se=S.length;ue<Se;ue++)Ks(h,S[ue],R,q);return this}function Zs(h,S){for(var R in h[Cs]){var q=R.split(/\d/)[0];(!S||S(q))&&Ks(h,q,null,null,R)}}var ul={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function So(h,S,R,q){var Q=S+d(R)+(q?"_"+d(q):"");if(h[Cs]&&h[Cs][Q])return this;var ue=function(Ue){return R.call(q||h,Ue||window.event)},Se=ue;!Bt.touchNative&&Bt.pointer&&S.indexOf("touch")===0?ue=Hr(h,S,ue):Bt.touch&&S==="dblclick"?ue=Ct(h,ue):"addEventListener"in h?S==="touchstart"||S==="touchmove"||S==="wheel"||S==="mousewheel"?h.addEventListener(ul[S]||S,ue,Bt.passiveEvents?{passive:!1}:!1):S==="mouseenter"||S==="mouseleave"?(ue=function(Ue){Ue=Ue||window.event,Eo(h,Ue)&&Se(Ue)},h.addEventListener(ul[S],ue,!1)):h.addEventListener(S,Se,!1):h.attachEvent("on"+S,ue),h[Cs]=h[Cs]||{},h[Cs][Q]=ue}function Ks(h,S,R,q,Q){Q=Q||S+d(R)+(q?"_"+d(q):"");var ue=h[Cs]&&h[Cs][Q];if(!ue)return this;!Bt.touchNative&&Bt.pointer&&S.indexOf("touch")===0?Jl(h,S,ue):Bt.touch&&S==="dblclick"?_t(h,ue):"removeEventListener"in h?h.removeEventListener(ul[S]||S,ue,!1):h.detachEvent("on"+S,ue),h[Cs][Q]=null}function Xa(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function nc(h){return So(h,"wheel",Xa),this}function dl(h){return ln(h,"mousedown touchstart dblclick contextmenu",Xa),h._leaflet_disable_click=!0,this}function _r(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function Rs(h){return _r(h),Xa(h),this}function rc(h){if(h.composedPath)return h.composedPath();for(var S=[],R=h.target;R;)S.push(R),R=R.parentNode;return S}function ji(h,S){if(!S)return new $(h.clientX,h.clientY);var R=Wa(S),q=R.boundingClientRect;return new $((h.clientX-q.left)/R.x-S.clientLeft,(h.clientY-q.top)/R.y-S.clientTop)}var wo=Bt.linux&&Bt.chrome?window.devicePixelRatio:Bt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function hl(h){return Bt.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/wo:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function Eo(h,S){var R=S.relatedTarget;if(!R)return!0;try{for(;R&&R!==h;)R=R.parentNode}catch{return!1}return R!==h}var Zf={__proto__:null,on:ln,off:Zn,stopPropagation:Xa,disableScrollPropagation:nc,disableClickPropagation:dl,preventDefault:_r,stop:Rs,getPropagationPath:rc,getMousePosition:ji,getWheelDelta:hl,isExternalTarget:Eo,addListener:ln,removeListener:Zn},Sa=K.extend({run:function(h,S,R,q){this.stop(),this._el=h,this._inProgress=!0,this._duration=R||.25,this._easeOutPower=1/Math.max(q||.5,.2),this._startPos=fs(h),this._offset=S.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(h){var S=+new Date-this._startTime,R=this._duration*1e3;S<R?this._runFrame(this._easeOut(S/R),h):(this._runFrame(1),this._complete())},_runFrame:function(h,S){var R=this._startPos.add(this._offset.multiplyBy(h));S&&R._round(),In(this._el,R),this.fire("step")},_complete:function(){X(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Tn=K.extend({options:{crs:xe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,S){S=T(this,S),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),S.maxBounds&&this.setMaxBounds(S.maxBounds),S.zoom!==void 0&&(this._zoom=this._limitZoom(S.zoom)),S.center&&S.zoom!==void 0&&this.setView(ie(S.center),S.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xt&&Bt.any3d&&!Bt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ln(this._proxy,Ut,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,S,R){if(S=S===void 0?this._zoom:this._limitZoom(S),h=this._limitCenter(ie(h),S,this.options.maxBounds),R=R||{},this._stop(),this._loaded&&!R.reset&&R!==!0){R.animate!==void 0&&(R.zoom=i({animate:R.animate},R.zoom),R.pan=i({animate:R.animate,duration:R.duration},R.pan));var q=this._zoom!==S?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,S,R.zoom):this._tryAnimatedPan(h,R.pan);if(q)return clearTimeout(this._sizeTimer),this}return this._resetView(h,S,R.pan&&R.pan.noMoveStart),this},setZoom:function(h,S){return this._loaded?this.setView(this.getCenter(),h,{zoom:S}):(this._zoom=h,this)},zoomIn:function(h,S){return h=h||(Bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,S)},zoomOut:function(h,S){return h=h||(Bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,S)},setZoomAround:function(h,S,R){var q=this.getZoomScale(S),Q=this.getSize().divideBy(2),ue=h instanceof $?h:this.latLngToContainerPoint(h),Se=ue.subtract(Q).multiplyBy(1-1/q),Ue=this.containerPointToLatLng(Q.add(Se));return this.setView(Ue,S,{zoom:R})},_getBoundsCenterZoom:function(h,S){S=S||{},h=h.getBounds?h.getBounds():be(h);var R=G(S.paddingTopLeft||S.padding||[0,0]),q=G(S.paddingBottomRight||S.padding||[0,0]),Q=this.getBoundsZoom(h,!1,R.add(q));if(Q=typeof S.maxZoom=="number"?Math.min(S.maxZoom,Q):Q,Q===1/0)return{center:h.getCenter(),zoom:Q};var ue=q.subtract(R).divideBy(2),Se=this.project(h.getSouthWest(),Q),Ue=this.project(h.getNorthEast(),Q),Je=this.unproject(Se.add(Ue).divideBy(2).add(ue),Q);return{center:Je,zoom:Q}},fitBounds:function(h,S){if(h=be(h),!h.isValid())throw new Error("Bounds are not valid.");var R=this._getBoundsCenterZoom(h,S);return this.setView(R.center,R.zoom,S)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,S){return this.setView(h,this._zoom,{pan:S})},panBy:function(h,S){if(h=G(h).round(),S=S||{},!h.x&&!h.y)return this.fire("moveend");if(S.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Sa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),S.noMoveStart||this.fire("movestart"),S.animate!==!1){Wt(this._mapPane,"leaflet-pan-anim");var R=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,R,S.duration||.25,S.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,S,R){if(R=R||{},R.animate===!1||!Bt.any3d)return this.setView(h,S,R);this._stop();var q=this.project(this.getCenter()),Q=this.project(h),ue=this.getSize(),Se=this._zoom;h=ie(h),S=S===void 0?Se:S;var Ue=Math.max(ue.x,ue.y),Je=Ue*this.getZoomScale(Se,S),ct=Q.distanceTo(q)||1,Nt=1.42,zt=Nt*Nt;function Ht(zr){var Qs=zr?-1:1,ro=zr?Je:Ue,Po=Je*Je-Ue*Ue+Qs*zt*zt*ct*ct,io=2*ro*zt*ct,du=Po/io,gc=Math.sqrt(du*du+1)-du,zs=gc<1e-9?-18:Math.log(gc);return zs}function cn(zr){return(Math.exp(zr)-Math.exp(-zr))/2}function ir(zr){return(Math.exp(zr)+Math.exp(-zr))/2}function Sr(zr){return cn(zr)/ir(zr)}var yi=Ht(0);function bs(zr){return Ue*(ir(yi)/ir(yi+Nt*zr))}function sm(zr){return Ue*(ir(yi)*Sr(yi+Nt*zr)-cn(yi))/zt}function Dh(zr){return 1-Math.pow(1-zr,1.5)}var Js=Date.now(),wl=(Ht(1)-yi)/Nt,er=R.duration?1e3*R.duration:1e3*wl*.8;function Do(){var zr=(Date.now()-Js)/er,Qs=Dh(zr)*wl;zr<=1?(this._flyToFrame=V(Do,this),this._move(this.unproject(q.add(Q.subtract(q).multiplyBy(sm(Qs)/ct)),Se),this.getScaleZoom(Ue/bs(Qs),Se),{flyTo:!0})):this._move(h,S)._moveEnd(!0)}return this._moveStart(!0,R.noMoveStart),Do.call(this),this},flyToBounds:function(h,S){var R=this._getBoundsCenterZoom(h,S);return this.flyTo(R.center,R.zoom,S)},setMaxBounds:function(h){return h=be(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var S=this.options.minZoom;return this.options.minZoom=h,this._loaded&&S!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var S=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&S!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,S){this._enforcingBounds=!0;var R=this.getCenter(),q=this._limitCenter(R,this._zoom,be(h));return R.equals(q)||this.panTo(q,S),this._enforcingBounds=!1,this},panInside:function(h,S){S=S||{};var R=G(S.paddingTopLeft||S.padding||[0,0]),q=G(S.paddingBottomRight||S.padding||[0,0]),Q=this.project(this.getCenter()),ue=this.project(h),Se=this.getPixelBounds(),Ue=ne([Se.min.add(R),Se.max.subtract(q)]),Je=Ue.getSize();if(!Ue.contains(ue)){this._enforcingBounds=!0;var ct=ue.subtract(Ue.getCenter()),Nt=Ue.extend(ue).getSize().subtract(Je);Q.x+=ct.x<0?-Nt.x:Nt.x,Q.y+=ct.y<0?-Nt.y:Nt.y,this.panTo(this.unproject(Q),S),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var S=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var R=this.getSize(),q=S.divideBy(2).round(),Q=R.divideBy(2).round(),ue=q.subtract(Q);return!ue.x&&!ue.y?this:(h.animate&&h.pan?this.panBy(ue):(h.pan&&this._rawPanBy(ue),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:S,newSize:R}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var S=o(this._handleGeolocationResponse,this),R=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(S,R,h):navigator.geolocation.getCurrentPosition(S,R,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var S=h.code,R=h.message||(S===1?"permission denied":S===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:S,message:"Geolocation error: "+R+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var S=h.coords.latitude,R=h.coords.longitude,q=new ce(S,R),Q=q.toBounds(h.coords.accuracy*2),ue=this._locateOptions;if(ue.setView){var Se=this.getBoundsZoom(Q);this.setView(q,ue.maxZoom?Math.min(Se,ue.maxZoom):Se)}var Ue={latlng:q,bounds:Q,timestamp:h.timestamp};for(var Je in h.coords)typeof h.coords[Je]=="number"&&(Ue[Je]=h.coords[Je]);this.fire("locationfound",Ue)}},addHandler:function(h,S){if(!S)return this;var R=this[h]=new S(this);return this._handlers.push(R),this.options[h]&&R.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Qt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(X(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)Qt(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,S){var R="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),q=Gt("div",R,S||this._mapPane);return h&&(this._panes[h]=q),q},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),S=this.unproject(h.getBottomLeft()),R=this.unproject(h.getTopRight());return new le(S,R)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,S,R){h=be(h),R=G(R||[0,0]);var q=this.getZoom()||0,Q=this.getMinZoom(),ue=this.getMaxZoom(),Se=h.getNorthWest(),Ue=h.getSouthEast(),Je=this.getSize().subtract(R),ct=ne(this.project(Ue,q),this.project(Se,q)).getSize(),Nt=Bt.any3d?this.options.zoomSnap:1,zt=Je.x/ct.x,Ht=Je.y/ct.y,cn=S?Math.max(zt,Ht):Math.min(zt,Ht);return q=this.getScaleZoom(cn,q),Nt&&(q=Math.round(q/(Nt/100))*(Nt/100),q=S?Math.ceil(q/Nt)*Nt:Math.floor(q/Nt)*Nt),Math.max(Q,Math.min(ue,q))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,S){var R=this._getTopLeftPoint(h,S);return new Y(R,R.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,S){var R=this.options.crs;return S=S===void 0?this._zoom:S,R.scale(h)/R.scale(S)},getScaleZoom:function(h,S){var R=this.options.crs;S=S===void 0?this._zoom:S;var q=R.zoom(h*R.scale(S));return isNaN(q)?1/0:q},project:function(h,S){return S=S===void 0?this._zoom:S,this.options.crs.latLngToPoint(ie(h),S)},unproject:function(h,S){return S=S===void 0?this._zoom:S,this.options.crs.pointToLatLng(G(h),S)},layerPointToLatLng:function(h){var S=G(h).add(this.getPixelOrigin());return this.unproject(S)},latLngToLayerPoint:function(h){var S=this.project(ie(h))._round();return S._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(ie(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(be(h))},distance:function(h,S){return this.options.crs.distance(ie(h),ie(S))},containerPointToLayerPoint:function(h){return G(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return G(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var S=this.containerPointToLayerPoint(G(h));return this.layerPointToLatLng(S)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ie(h)))},mouseEventToContainerPoint:function(h){return ji(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var S=this._container=vn(h);if(S){if(S._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ln(S,"scroll",this._onScroll,this),this._containerId=d(S)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&Bt.any3d,Wt(h,"leaflet-container"+(Bt.touch?" leaflet-touch":"")+(Bt.retina?" leaflet-retina":"")+(Bt.ielt9?" leaflet-oldie":"")+(Bt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var S=Pn(h,"position");S!=="absolute"&&S!=="relative"&&S!=="fixed"&&S!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),In(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Wt(h.markerPane,"leaflet-zoom-hide"),Wt(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,S,R){In(this._mapPane,new $(0,0));var q=!this._loaded;this._loaded=!0,S=this._limitZoom(S),this.fire("viewprereset");var Q=this._zoom!==S;this._moveStart(Q,R)._move(h,S)._moveEnd(Q),this.fire("viewreset"),q&&this.fire("load")},_moveStart:function(h,S){return h&&this.fire("zoomstart"),S||this.fire("movestart"),this},_move:function(h,S,R,q){S===void 0&&(S=this._zoom);var Q=this._zoom!==S;return this._zoom=S,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),q?R&&R.pinch&&this.fire("zoom",R):((Q||R&&R.pinch)&&this.fire("zoom",R),this.fire("move",R)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return X(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){In(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[d(this._container)]=this;var S=h?Zn:ln;S(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&S(window,"resize",this._onResize,this),Bt.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){X(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,S){for(var R=[],q,Q=S==="mouseout"||S==="mouseover",ue=h.target||h.srcElement,Se=!1;ue;){if(q=this._targets[d(ue)],q&&(S==="click"||S==="preclick")&&this._draggableMoved(q)){Se=!0;break}if(q&&q.listens(S,!0)&&(Q&&!Eo(ue,h)||(R.push(q),Q))||ue===this._container)break;ue=ue.parentNode}return!R.length&&!Se&&!Q&&this.listens(S,!0)&&(R=[this]),R},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var S=h.target||h.srcElement;if(!(!this._loaded||S._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(S))){var R=h.type;R==="mousedown"&&tc(S),this._fireDOMEvent(h,R)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,S,R){if(h.type==="click"){var q=i({},h);q.type="preclick",this._fireDOMEvent(q,q.type,R)}var Q=this._findEventTargets(h,S);if(R){for(var ue=[],Se=0;Se<R.length;Se++)R[Se].listens(S,!0)&&ue.push(R[Se]);Q=ue.concat(Q)}if(Q.length){S==="contextmenu"&&_r(h);var Ue=Q[0],Je={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var ct=Ue.getLatLng&&(!Ue._radius||Ue._radius<=10);Je.containerPoint=ct?this.latLngToContainerPoint(Ue.getLatLng()):this.mouseEventToContainerPoint(h),Je.layerPoint=this.containerPointToLayerPoint(Je.containerPoint),Je.latlng=ct?Ue.getLatLng():this.layerPointToLatLng(Je.layerPoint)}for(Se=0;Se<Q.length;Se++)if(Q[Se].fire(S,Je,!0),Je.originalEvent._stopped||Q[Se].options.bubblingMouseEvents===!1&&A(this._mouseEvents,S)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,S=this._handlers.length;h<S;h++)this._handlers[h].disable()},whenReady:function(h,S){return this._loaded?h.call(S||this,{target:this}):this.on("load",h,S),this},_getMapPanePos:function(){return fs(this._mapPane)||new $(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,S){var R=h&&S!==void 0?this._getNewPixelOrigin(h,S):this.getPixelOrigin();return R.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,S){var R=this.getSize()._divideBy(2);return this.project(h,S)._subtract(R)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,S,R){var q=this._getNewPixelOrigin(R,S);return this.project(h,S)._subtract(q)},_latLngBoundsToNewLayerBounds:function(h,S,R){var q=this._getNewPixelOrigin(R,S);return ne([this.project(h.getSouthWest(),S)._subtract(q),this.project(h.getNorthWest(),S)._subtract(q),this.project(h.getSouthEast(),S)._subtract(q),this.project(h.getNorthEast(),S)._subtract(q)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,S,R){if(!R)return h;var q=this.project(h,S),Q=this.getSize().divideBy(2),ue=new Y(q.subtract(Q),q.add(Q)),Se=this._getBoundsOffset(ue,R,S);return Math.abs(Se.x)<=1&&Math.abs(Se.y)<=1?h:this.unproject(q.add(Se),S)},_limitOffset:function(h,S){if(!S)return h;var R=this.getPixelBounds(),q=new Y(R.min.add(h),R.max.add(h));return h.add(this._getBoundsOffset(q,S))},_getBoundsOffset:function(h,S,R){var q=ne(this.project(S.getNorthEast(),R),this.project(S.getSouthWest(),R)),Q=q.min.subtract(h.min),ue=q.max.subtract(h.max),Se=this._rebound(Q.x,-ue.x),Ue=this._rebound(Q.y,-ue.y);return new $(Se,Ue)},_rebound:function(h,S){return h+S>0?Math.round(h-S)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(S))},_limitZoom:function(h){var S=this.getMinZoom(),R=this.getMaxZoom(),q=Bt.any3d?this.options.zoomSnap:1;return q&&(h=Math.round(h/q)*q),Math.max(S,Math.min(R,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Xn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,S){var R=this._getCenterOffset(h)._trunc();return(S&&S.animate)!==!0&&!this.getSize().contains(R)?!1:(this.panBy(R,S),!0)},_createAnimProxy:function(){var h=this._proxy=Gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(S){var R=qt,q=this._proxy.style[R];rr(this._proxy,this.project(S.center,S.zoom),this.getZoomScale(S.zoom,1)),q===this._proxy.style[R]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Qt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),S=this.getZoom();rr(this._proxy,this.project(h,S),this.getZoomScale(S,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,S,R){if(this._animatingZoom)return!0;if(R=R||{},!this._zoomAnimated||R.animate===!1||this._nothingToAnimate()||Math.abs(S-this._zoom)>this.options.zoomAnimationThreshold)return!1;var q=this.getZoomScale(S),Q=this._getCenterOffset(h)._divideBy(1-1/q);return R.animate!==!0&&!this.getSize().contains(Q)?!1:(V(function(){this._moveStart(!0,R.noMoveStart||!1)._animateZoom(h,S,!0)},this),!0)},_animateZoom:function(h,S,R,q){this._mapPane&&(R&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=S,Wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:S,noUpdate:q}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Xn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ic(h,S){return new Tn(h,S)}var Ai=ee.extend({options:{position:"topright"},initialize:function(h){T(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var S=this._map;return S&&S.removeControl(this),this.options.position=h,S&&S.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var S=this._container=this.onAdd(h),R=this.getPosition(),q=h._controlCorners[R];return Wt(S,"leaflet-control"),R.indexOf("bottom")!==-1?q.insertBefore(S,q.firstChild):q.appendChild(S),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Qt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),fl=function(h){return new Ai(h)};Tn.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},S="leaflet-",R=this._controlContainer=Gt("div",S+"control-container",this._container);function q(Q,ue){var Se=S+Q+" "+S+ue;h[Q+ue]=Gt("div",Se,R)}q("top","left"),q("top","right"),q("bottom","left"),q("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)Qt(this._controlCorners[h]);Qt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Eh=Ai.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,S,R,q){return R<q?-1:q<R?1:0}},initialize:function(h,S,R){T(this,R),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var q in h)this._addLayer(h[q],q);for(q in S)this._addLayer(S[q],q,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var S=0;S<this._layers.length;S++)this._layers[S].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Ai.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,S){return this._addLayer(h,S),this._map?this._update():this},addOverlay:function(h,S){return this._addLayer(h,S,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var S=this._getLayer(d(h));return S&&this._layers.splice(this._layers.indexOf(S),1),this._map?this._update():this},expand:function(){Wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(Wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Xn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Xn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",S=this._container=Gt("div",h),R=this.options.collapsed;S.setAttribute("aria-haspopup",!0),dl(S),nc(S);var q=this._section=Gt("section",h+"-list");R&&(this._map.on("click",this.collapse,this),ln(S,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Q=this._layersLink=Gt("a",h+"-toggle",S);Q.href="#",Q.title="Layers",Q.setAttribute("role","button"),ln(Q,{keydown:function(ue){ue.keyCode===13&&this._expandSafely()},click:function(ue){_r(ue),this._expandSafely()}},this),R||this.expand(),this._baseLayersList=Gt("div",h+"-base",q),this._separator=Gt("div",h+"-separator",q),this._overlaysList=Gt("div",h+"-overlays",q),S.appendChild(q)},_getLayer:function(h){for(var S=0;S<this._layers.length;S++)if(this._layers[S]&&d(this._layers[S].layer)===h)return this._layers[S]},_addLayer:function(h,S,R){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:S,overlay:R}),this.options.sortLayers&&this._layers.sort(o(function(q,Q){return this.options.sortFunction(q.layer,Q.layer,q.name,Q.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;hn(this._baseLayersList),hn(this._overlaysList),this._layerControlInputs=[];var h,S,R,q,Q=0;for(R=0;R<this._layers.length;R++)q=this._layers[R],this._addItem(q),S=S||q.overlay,h=h||!q.overlay,Q+=q.overlay?0:1;return this.options.hideSingleBase&&(h=h&&Q>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=S&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var S=this._getLayer(d(h.target)),R=S.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;R&&this._map.fire(R,S)},_createRadioElement:function(h,S){var R='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(S?' checked="checked"':"")+"/>",q=document.createElement("div");return q.innerHTML=R,q.firstChild},_addItem:function(h){var S=document.createElement("label"),R=this._map.hasLayer(h.layer),q;h.overlay?(q=document.createElement("input"),q.type="checkbox",q.className="leaflet-control-layers-selector",q.defaultChecked=R):q=this._createRadioElement("leaflet-base-layers_"+d(this),R),this._layerControlInputs.push(q),q.layerId=d(h.layer),ln(q,"click",this._onInputClick,this);var Q=document.createElement("span");Q.innerHTML=" "+h.name;var ue=document.createElement("span");S.appendChild(ue),ue.appendChild(q),ue.appendChild(Q);var Se=h.overlay?this._overlaysList:this._baseLayersList;return Se.appendChild(S),this._checkDisabledLayers(),S},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,S,R,q=[],Q=[];this._handlingClick=!0;for(var ue=h.length-1;ue>=0;ue--)S=h[ue],R=this._getLayer(S.layerId).layer,S.checked?q.push(R):S.checked||Q.push(R);for(ue=0;ue<Q.length;ue++)this._map.hasLayer(Q[ue])&&this._map.removeLayer(Q[ue]);for(ue=0;ue<q.length;ue++)this._map.hasLayer(q[ue])||this._map.addLayer(q[ue]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,S,R,q=this._map.getZoom(),Q=h.length-1;Q>=0;Q--)S=h[Q],R=this._getLayer(S.layerId).layer,S.disabled=R.options.minZoom!==void 0&&q<R.options.minZoom||R.options.maxZoom!==void 0&&q>R.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,ln(h,"click",_r),this.expand();var S=this;setTimeout(function(){Zn(h,"click",_r),S._preventClick=!1})}}),x0=function(h,S,R){return new Eh(h,S,R)},Jr=Ai.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var S="leaflet-control-zoom",R=Gt("div",S+" leaflet-bar"),q=this.options;return this._zoomInButton=this._createButton(q.zoomInText,q.zoomInTitle,S+"-in",R,this._zoomIn),this._zoomOutButton=this._createButton(q.zoomOutText,q.zoomOutTitle,S+"-out",R,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),R},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,S,R,q,Q){var ue=Gt("a",R,q);return ue.innerHTML=h,ue.href="#",ue.title=S,ue.setAttribute("role","button"),ue.setAttribute("aria-label",S),dl(ue),ln(ue,"click",Rs),ln(ue,"click",Q,this),ln(ue,"click",this._refocusOnMap,this),ue},_updateDisabled:function(){var h=this._map,S="leaflet-disabled";Xn(this._zoomInButton,S),Xn(this._zoomOutButton,S),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(Wt(this._zoomOutButton,S),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(Wt(this._zoomInButton,S),this._zoomInButton.setAttribute("aria-disabled","true"))}});Tn.mergeOptions({zoomControl:!0}),Tn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Jr,this.addControl(this.zoomControl))});var nd=function(h){return new Jr(h)},Nh=Ai.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var S="leaflet-control-scale",R=Gt("div",S),q=this.options;return this._addScales(q,S+"-line",R),h.on(q.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),R},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,S,R){h.metric&&(this._mScale=Gt("div",S,R)),h.imperial&&(this._iScale=Gt("div",S,R))},_update:function(){var h=this._map,S=h.getSize().y/2,R=h.distance(h.containerPointToLatLng([0,S]),h.containerPointToLatLng([this.options.maxWidth,S]));this._updateScales(R)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var S=this._getRoundNum(h),R=S<1e3?S+" m":S/1e3+" km";this._updateScale(this._mScale,R,S/h)},_updateImperial:function(h){var S=h*3.2808399,R,q,Q;S>5280?(R=S/5280,q=this._getRoundNum(R),this._updateScale(this._iScale,q+" mi",q/R)):(Q=this._getRoundNum(S),this._updateScale(this._iScale,Q+" ft",Q/S))},_updateScale:function(h,S,R){h.style.width=Math.round(this.options.maxWidth*R)+"px",h.innerHTML=S},_getRoundNum:function(h){var S=Math.pow(10,(Math.floor(h)+"").length-1),R=h/S;return R=R>=10?10:R>=5?5:R>=3?3:R>=2?2:1,S*R}}),Kf=function(h){return new Nh(h)},Jf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',rd=Ai.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Bt.inlineSvg?Jf+" ":"")+"Leaflet</a>"},initialize:function(h){T(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=Gt("div","leaflet-control-attribution"),dl(this._container);for(var S in h._layers)h._layers[S].getAttribution&&this.addAttribution(h._layers[S].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var S in this._attributions)this._attributions[S]&&h.push(S);var R=[];this.options.prefix&&R.push(this.options.prefix),h.length&&R.push(h.join(", ")),this._container.innerHTML=R.join(' <span aria-hidden="true">|</span> ')}}});Tn.mergeOptions({attributionControl:!0}),Tn.addInitHook(function(){this.options.attributionControl&&new rd().addTo(this)});var tu=function(h){return new rd(h)};Ai.Layers=Eh,Ai.Zoom=Jr,Ai.Scale=Nh,Ai.Attribution=rd,fl.layers=x0,fl.zoom=nd,fl.scale=Kf,fl.attribution=tu;var ms=ee.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ms.addTo=function(h,S){return h.addHandler(S,this),this};var Qf={Events:W},Th=Bt.touch?"touchstart mousedown":"mousedown",Ya=K.extend({options:{clickTolerance:3},initialize:function(h,S,R,q){T(this,q),this._element=h,this._dragStartTarget=S||h,this._preventOutline=R},enable:function(){this._enabled||(ln(this._dragStartTarget,Th,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ya._dragging===this&&this.finishDrag(!0),Zn(this._dragStartTarget,Th,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Sn(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){Ya._dragging===this&&this.finishDrag();return}if(!(Ya._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(Ya._dragging=this,this._preventOutline&&tc(this._element),ec(),Ar(),!this._moving)){this.fire("down");var S=h.touches?h.touches[0]:h,R=Ga(this._element);this._startPoint=new $(S.clientX,S.clientY),this._startPos=fs(this._element),this._parentScale=Wa(R);var q=h.type==="mousedown";ln(document,q?"mousemove":"touchmove",this._onMove,this),ln(document,q?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var S=h.touches&&h.touches.length===1?h.touches[0]:h,R=new $(S.clientX,S.clientY)._subtract(this._startPoint);!R.x&&!R.y||Math.abs(R.x)+Math.abs(R.y)<this.options.clickTolerance||(R.x/=this._parentScale.x,R.y/=this._parentScale.y,_r(h),this._moved||(this.fire("dragstart"),this._moved=!0,Wt(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(R),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),In(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Xn(document.body,"leaflet-dragging"),this._lastTarget&&(Xn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Zn(document,"mousemove touchmove",this._onMove,this),Zn(document,"mouseup touchend touchcancel",this._onUp,this),$c(),$l();var S=this._moved&&this._moving;this._moving=!1,Ya._dragging=!1,S&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function id(h,S,R){var q,Q=[1,4,2,8],ue,Se,Ue,Je,ct,Nt,zt,Ht;for(ue=0,Nt=h.length;ue<Nt;ue++)h[ue]._code=Ki(h[ue],S);for(Ue=0;Ue<4;Ue++){for(zt=Q[Ue],q=[],ue=0,Nt=h.length,Se=Nt-1;ue<Nt;Se=ue++)Je=h[ue],ct=h[Se],Je._code&zt?ct._code&zt||(Ht=ru(ct,Je,zt,S,R),Ht._code=Ki(Ht,S),q.push(Ht)):(ct._code&zt&&(Ht=ru(ct,Je,zt,S,R),Ht._code=Ki(Ht,S),q.push(Ht)),q.push(Je));h=q}return h}function sc(h,S){var R,q,Q,ue,Se,Ue,Je,ct,Nt;if(!h||h.length===0)throw new Error("latlngs not passed");li(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var zt=ie([0,0]),Ht=be(h),cn=Ht.getNorthWest().distanceTo(Ht.getSouthWest())*Ht.getNorthEast().distanceTo(Ht.getNorthWest());cn<1700&&(zt=sd(h));var ir=h.length,Sr=[];for(R=0;R<ir;R++){var yi=ie(h[R]);Sr.push(S.project(ie([yi.lat-zt.lat,yi.lng-zt.lng])))}for(Ue=Je=ct=0,R=0,q=ir-1;R<ir;q=R++)Q=Sr[R],ue=Sr[q],Se=Q.y*ue.x-ue.y*Q.x,Je+=(Q.x+ue.x)*Se,ct+=(Q.y+ue.y)*Se,Ue+=Se*3;Ue===0?Nt=Sr[0]:Nt=[Je/Ue,ct/Ue];var bs=S.unproject(G(Nt));return ie([bs.lat+zt.lat,bs.lng+zt.lng])}function sd(h){for(var S=0,R=0,q=0,Q=0;Q<h.length;Q++){var ue=ie(h[Q]);S+=ue.lat,R+=ue.lng,q++}return ie([S/q,R/q])}var Mh={__proto__:null,clipPolygon:id,polygonCenter:sc,centroid:sd};function ad(h,S){if(!S||!h.length)return h.slice();var R=S*S;return h=Za(h,R),h=jh(h,R),h}function nu(h,S,R){return Math.sqrt(Ja(h,S,R,!0))}function $f(h,S,R){return Ja(h,S,R)}function jh(h,S){var R=h.length,q=typeof Uint8Array<"u"?Uint8Array:Array,Q=new q(R);Q[0]=Q[R-1]=1,od(h,Q,S,0,R-1);var ue,Se=[];for(ue=0;ue<R;ue++)Q[ue]&&Se.push(h[ue]);return Se}function od(h,S,R,q,Q){var ue=0,Se,Ue,Je;for(Ue=q+1;Ue<=Q-1;Ue++)Je=Ja(h[Ue],h[q],h[Q],!0),Je>ue&&(Se=Ue,ue=Je);ue>R&&(S[Se]=1,od(h,S,R,q,Se),od(h,S,R,Se,Q))}function Za(h,S){for(var R=[h[0]],q=1,Q=0,ue=h.length;q<ue;q++)Ka(h[q],h[Q])>S&&(R.push(h[q]),Q=q);return Q<ue-1&&R.push(h[ue-1]),R}var ld;function em(h,S,R,q,Q){var ue=q?ld:Ki(h,R),Se=Ki(S,R),Ue,Je,ct;for(ld=Se;;){if(!(ue|Se))return[h,S];if(ue&Se)return!1;Ue=ue||Se,Je=ru(h,S,Ue,R,Q),ct=Ki(Je,R),Ue===ue?(h=Je,ue=ct):(S=Je,Se=ct)}}function ru(h,S,R,q,Q){var ue=S.x-h.x,Se=S.y-h.y,Ue=q.min,Je=q.max,ct,Nt;return R&8?(ct=h.x+ue*(Je.y-h.y)/Se,Nt=Je.y):R&4?(ct=h.x+ue*(Ue.y-h.y)/Se,Nt=Ue.y):R&2?(ct=Je.x,Nt=h.y+Se*(Je.x-h.x)/ue):R&1&&(ct=Ue.x,Nt=h.y+Se*(Ue.x-h.x)/ue),new $(ct,Nt,Q)}function Ki(h,S){var R=0;return h.x<S.min.x?R|=1:h.x>S.max.x&&(R|=2),h.y<S.min.y?R|=4:h.y>S.max.y&&(R|=8),R}function Ka(h,S){var R=S.x-h.x,q=S.y-h.y;return R*R+q*q}function Ja(h,S,R,q){var Q=S.x,ue=S.y,Se=R.x-Q,Ue=R.y-ue,Je=Se*Se+Ue*Ue,ct;return Je>0&&(ct=((h.x-Q)*Se+(h.y-ue)*Ue)/Je,ct>1?(Q=R.x,ue=R.y):ct>0&&(Q+=Se*ct,ue+=Ue*ct)),Se=h.x-Q,Ue=h.y-ue,q?Se*Se+Ue*Ue:new $(Q,ue)}function li(h){return!C(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function ac(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),li(h)}function oc(h,S){var R,q,Q,ue,Se,Ue,Je,ct;if(!h||h.length===0)throw new Error("latlngs not passed");li(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Nt=ie([0,0]),zt=be(h),Ht=zt.getNorthWest().distanceTo(zt.getSouthWest())*zt.getNorthEast().distanceTo(zt.getNorthWest());Ht<1700&&(Nt=sd(h));var cn=h.length,ir=[];for(R=0;R<cn;R++){var Sr=ie(h[R]);ir.push(S.project(ie([Sr.lat-Nt.lat,Sr.lng-Nt.lng])))}for(R=0,q=0;R<cn-1;R++)q+=ir[R].distanceTo(ir[R+1])/2;if(q===0)ct=ir[0];else for(R=0,ue=0;R<cn-1;R++)if(Se=ir[R],Ue=ir[R+1],Q=Se.distanceTo(Ue),ue+=Q,ue>q){Je=(ue-q)/Q,ct=[Ue.x-Je*(Ue.x-Se.x),Ue.y-Je*(Ue.y-Se.y)];break}var yi=S.unproject(G(ct));return ie([yi.lat+Nt.lat,yi.lng+Nt.lng])}var No={__proto__:null,simplify:ad,pointToSegmentDistance:nu,closestPointOnSegment:$f,clipSegment:em,_getEdgeIntersection:ru,_getBitCode:Ki,_sqClosestPointOnSegment:Ja,isFlat:li,_flat:ac,polylineCenter:oc},Qr={project:function(h){return new $(h.lng,h.lat)},unproject:function(h){return new ce(h.y,h.x)},bounds:new Y([-180,-90],[180,90])},ml={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Y([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var S=Math.PI/180,R=this.R,q=h.lat*S,Q=this.R_MINOR/R,ue=Math.sqrt(1-Q*Q),Se=ue*Math.sin(q),Ue=Math.tan(Math.PI/4-q/2)/Math.pow((1-Se)/(1+Se),ue/2);return q=-R*Math.log(Math.max(Ue,1e-10)),new $(h.lng*S*R,q)},unproject:function(h){for(var S=180/Math.PI,R=this.R,q=this.R_MINOR/R,Q=Math.sqrt(1-q*q),ue=Math.exp(-h.y/R),Se=Math.PI/2-2*Math.atan(ue),Ue=0,Je=.1,ct;Ue<15&&Math.abs(Je)>1e-7;Ue++)ct=Q*Math.sin(Se),ct=Math.pow((1-ct)/(1+ct),Q/2),Je=Math.PI/2-2*Math.atan(ue*ct)-Se,Se+=Je;return new ce(Se*S,h.x*S/R)}},Ah={__proto__:null,LonLat:Qr,Mercator:ml,SphericalMercator:Ee},To=i({},_e,{code:"EPSG:3395",projection:ml,transformation:(function(){var h=.5/(Math.PI*ml.R);return tt(h,.5,-h,.5)})()}),lc=i({},_e,{code:"EPSG:4326",projection:Qr,transformation:tt(1/180,1,-1/180,.5)}),Ch=i({},ge,{projection:Qr,transformation:tt(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,S){var R=S.lng-h.lng,q=S.lat-h.lat;return Math.sqrt(R*R+q*q)},infinite:!0});ge.Earth=_e,ge.EPSG3395=To,ge.EPSG3857=xe,ge.EPSG900913=ke,ge.EPSG4326=lc,ge.Simple=Ch;var Ji=K.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[d(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[d(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var S=h.target;if(S.hasLayer(this)){if(this._map=S,this._zoomAnimated=S._zoomAnimated,this.getEvents){var R=this.getEvents();S.on(R,this),this.once("remove",function(){S.off(R,this)},this)}this.onAdd(S),this.fire("add"),S.fire("layeradd",{layer:this})}}});Tn.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var S=d(h);return this._layers[S]?this:(this._layers[S]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var S=d(h);return this._layers[S]?(this._loaded&&h.onRemove(this),delete this._layers[S],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return d(h)in this._layers},eachLayer:function(h,S){for(var R in this._layers)h.call(S,this._layers[R]);return this},_addLayers:function(h){h=h?C(h)?h:[h]:[];for(var S=0,R=h.length;S<R;S++)this.addLayer(h[S])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[d(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var S=d(h);this._zoomBoundLayers[S]&&(delete this._zoomBoundLayers[S],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,S=-1/0,R=this._getZoomSpan();for(var q in this._zoomBoundLayers){var Q=this._zoomBoundLayers[q].options;h=Q.minZoom===void 0?h:Math.min(h,Q.minZoom),S=Q.maxZoom===void 0?S:Math.max(S,Q.maxZoom)}this._layersMaxZoom=S===-1/0?void 0:S,this._layersMinZoom=h===1/0?void 0:h,R!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Mo=Ji.extend({initialize:function(h,S){T(this,S),this._layers={};var R,q;if(h)for(R=0,q=h.length;R<q;R++)this.addLayer(h[R])},addLayer:function(h){var S=this.getLayerId(h);return this._layers[S]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var S=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[S]&&this._map.removeLayer(this._layers[S]),delete this._layers[S],this},hasLayer:function(h){var S=typeof h=="number"?h:this.getLayerId(h);return S in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var S=Array.prototype.slice.call(arguments,1),R,q;for(R in this._layers)q=this._layers[R],q[h]&&q[h].apply(q,S);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,S){for(var R in this._layers)h.call(S,this._layers[R]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return d(h)}}),Qi=function(h,S){return new Mo(h,S)},$i=Mo.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),Mo.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),Mo.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new le;for(var S in this._layers){var R=this._layers[S];h.extend(R.getBounds?R.getBounds():R.getLatLng())}return h}}),pl=function(h,S){return new $i(h,S)},gl=ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){T(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,S){var R=this._getIconUrl(h);if(!R){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var q=this._createImg(R,S&&S.tagName==="IMG"?S:null);return this._setIconStyles(q,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(q.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),q},_setIconStyles:function(h,S){var R=this.options,q=R[S+"Size"];typeof q=="number"&&(q=[q,q]);var Q=G(q),ue=G(S==="shadow"&&R.shadowAnchor||R.iconAnchor||Q&&Q.divideBy(2,!0));h.className="leaflet-marker-"+S+" "+(R.className||""),ue&&(h.style.marginLeft=-ue.x+"px",h.style.marginTop=-ue.y+"px"),Q&&(h.style.width=Q.x+"px",h.style.height=Q.y+"px")},_createImg:function(h,S){return S=S||document.createElement("img"),S.src=h,S},_getIconUrl:function(h){return Bt.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function iu(h){return new gl(h)}var jo=gl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof jo.imagePath!="string"&&(jo.imagePath=this._detectIconPath()),(this.options.imagePath||jo.imagePath)+gl.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var S=function(R,q,Q){var ue=q.exec(R);return ue&&ue[Q]};return h=S(h,/^url\((['"])?(.+)\1\)$/,2),h&&S(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=Gt("div","leaflet-default-icon-path",document.body),S=Pn(h,"background-image")||Pn(h,"backgroundImage");if(document.body.removeChild(h),S=this._stripUrl(S),S)return S;var R=document.querySelector('link[href$="leaflet.css"]');return R?R.href.substring(0,R.href.length-11-1):""}}),su=ms.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new Ya(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Wt(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Xn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var S=this._marker,R=S._map,q=this._marker.options.autoPanSpeed,Q=this._marker.options.autoPanPadding,ue=fs(S._icon),Se=R.getPixelBounds(),Ue=R.getPixelOrigin(),Je=ne(Se.min._subtract(Ue).add(Q),Se.max._subtract(Ue).subtract(Q));if(!Je.contains(ue)){var ct=G((Math.max(Je.max.x,ue.x)-Je.max.x)/(Se.max.x-Je.max.x)-(Math.min(Je.min.x,ue.x)-Je.min.x)/(Se.min.x-Je.min.x),(Math.max(Je.max.y,ue.y)-Je.max.y)/(Se.max.y-Je.max.y)-(Math.min(Je.min.y,ue.y)-Je.min.y)/(Se.min.y-Je.min.y)).multiplyBy(q);R.panBy(ct,{animate:!1}),this._draggable._newPos._add(ct),this._draggable._startPos._add(ct),In(S._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=V(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(X(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,h)))},_onDrag:function(h){var S=this._marker,R=S._shadow,q=fs(S._icon),Q=S._map.layerPointToLatLng(q);R&&In(R,q),S._latlng=Q,h.latlng=Q,h.oldLatLng=this._oldLatLng,S.fire("move",h).fire("drag",h)},_onDragEnd:function(h){X(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),bl=Ji.extend({options:{icon:new jo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,S){T(this,S),this._latlng=ie(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var S=this._latlng;return this._latlng=ie(h),this.update(),this.fire("move",{oldLatLng:S,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,S="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),R=h.icon.createIcon(this._icon),q=!1;R!==this._icon&&(this._icon&&this._removeIcon(),q=!0,h.title&&(R.title=h.title),R.tagName==="IMG"&&(R.alt=h.alt||"")),Wt(R,S),h.keyboard&&(R.tabIndex="0",R.setAttribute("role","button")),this._icon=R,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ln(R,"focus",this._panOnFocus,this);var Q=h.icon.createShadow(this._shadow),ue=!1;Q!==this._shadow&&(this._removeShadow(),ue=!0),Q&&(Wt(Q,S),Q.alt=""),this._shadow=Q,h.opacity<1&&this._updateOpacity(),q&&this.getPane().appendChild(this._icon),this._initInteraction(),Q&&ue&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Zn(this._icon,"focus",this._panOnFocus,this),Qt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Qt(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&In(this._icon,h),this._shadow&&In(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var S=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(S)},_initInteraction:function(){if(this.options.interactive&&(Wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),su)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new su(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&Nn(this._icon,h),this._shadow&&Nn(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var S=this.options.icon.options,R=S.iconSize?G(S.iconSize):G(0,0),q=S.iconAnchor?G(S.iconAnchor):G(0,0);h.panInside(this._latlng,{paddingTopLeft:q,paddingBottomRight:R.subtract(q)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cc(h,S){return new bl(h,S)}var ps=Ji.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return T(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),dr=ps.extend({options:{fill:!0,radius:10},initialize:function(h,S){T(this,S),this._latlng=ie(h),this._radius=this.options.radius},setLatLng:function(h){var S=this._latlng;return this._latlng=ie(h),this.redraw(),this.fire("move",{oldLatLng:S,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var S=h&&h.radius||this._radius;return ps.prototype.setStyle.call(this,h),this.setRadius(S),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,S=this._radiusY||h,R=this._clickTolerance(),q=[h+R,S+R];this._pxBounds=new Y(this._point.subtract(q),this._point.add(q))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function tm(h,S){return new dr(h,S)}var Rh=dr.extend({initialize:function(h,S,R){if(typeof S=="number"&&(S=i({},R,{radius:S})),T(this,S),this._latlng=ie(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new le(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:ps.prototype.setStyle,_project:function(){var h=this._latlng.lng,S=this._latlng.lat,R=this._map,q=R.options.crs;if(q.distance===_e.distance){var Q=Math.PI/180,ue=this._mRadius/_e.R/Q,Se=R.project([S+ue,h]),Ue=R.project([S-ue,h]),Je=Se.add(Ue).divideBy(2),ct=R.unproject(Je).lat,Nt=Math.acos((Math.cos(ue*Q)-Math.sin(S*Q)*Math.sin(ct*Q))/(Math.cos(S*Q)*Math.cos(ct*Q)))/Q;(isNaN(Nt)||Nt===0)&&(Nt=ue/Math.cos(Math.PI/180*S)),this._point=Je.subtract(R.getPixelOrigin()),this._radius=isNaN(Nt)?0:Je.x-R.project([ct,h-Nt]).x,this._radiusY=Je.y-Se.y}else{var zt=q.unproject(q.project(this._latlng).subtract([this._mRadius,0]));this._point=R.latLngToLayerPoint(this._latlng),this._radius=this._point.x-R.latLngToLayerPoint(zt).x}this._updateBounds()}});function nm(h,S,R){return new Rh(h,S,R)}var gs=ps.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,S){T(this,S),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var S=1/0,R=null,q=Ja,Q,ue,Se=0,Ue=this._parts.length;Se<Ue;Se++)for(var Je=this._parts[Se],ct=1,Nt=Je.length;ct<Nt;ct++){Q=Je[ct-1],ue=Je[ct];var zt=q(h,Q,ue,!0);zt<S&&(S=zt,R=q(h,Q,ue))}return R&&(R.distance=Math.sqrt(S)),R},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return oc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,S){return S=S||this._defaultShape(),h=ie(h),S.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new le,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return li(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var S=[],R=li(h),q=0,Q=h.length;q<Q;q++)R?(S[q]=ie(h[q]),this._bounds.extend(S[q])):S[q]=this._convertLatLngs(h[q]);return S},_project:function(){var h=new Y;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),S=new $(h,h);this._rawPxBounds&&(this._pxBounds=new Y([this._rawPxBounds.min.subtract(S),this._rawPxBounds.max.add(S)]))},_projectLatlngs:function(h,S,R){var q=h[0]instanceof ce,Q=h.length,ue,Se;if(q){for(Se=[],ue=0;ue<Q;ue++)Se[ue]=this._map.latLngToLayerPoint(h[ue]),R.extend(Se[ue]);S.push(Se)}else for(ue=0;ue<Q;ue++)this._projectLatlngs(h[ue],S,R)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var S=this._parts,R,q,Q,ue,Se,Ue,Je;for(R=0,Q=0,ue=this._rings.length;R<ue;R++)for(Je=this._rings[R],q=0,Se=Je.length;q<Se-1;q++)Ue=em(Je[q],Je[q+1],h,q,!0),Ue&&(S[Q]=S[Q]||[],S[Q].push(Ue[0]),(Ue[1]!==Je[q+1]||q===Se-2)&&(S[Q].push(Ue[1]),Q++))}},_simplifyPoints:function(){for(var h=this._parts,S=this.options.smoothFactor,R=0,q=h.length;R<q;R++)h[R]=ad(h[R],S)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,S){var R,q,Q,ue,Se,Ue,Je=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(R=0,ue=this._parts.length;R<ue;R++)for(Ue=this._parts[R],q=0,Se=Ue.length,Q=Se-1;q<Se;Q=q++)if(!(!S&&q===0)&&nu(h,Ue[Q],Ue[q])<=Je)return!0;return!1}});function Ao(h,S){return new gs(h,S)}gs._flat=ac;var xl=gs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var S=gs.prototype._convertLatLngs.call(this,h),R=S.length;return R>=2&&S[0]instanceof ce&&S[0].equals(S[R-1])&&S.pop(),S},_setLatLngs:function(h){gs.prototype._setLatLngs.call(this,h),li(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return li(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,S=this.options.weight,R=new $(S,S);if(h=new Y(h.min.subtract(R),h.max.add(R)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var q=0,Q=this._rings.length,ue;q<Q;q++)ue=id(this._rings[q],h,!0),ue.length&&this._parts.push(ue)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var S=!1,R,q,Q,ue,Se,Ue,Je,ct;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(ue=0,Je=this._parts.length;ue<Je;ue++)for(R=this._parts[ue],Se=0,ct=R.length,Ue=ct-1;Se<ct;Ue=Se++)q=R[Se],Q=R[Ue],q.y>h.y!=Q.y>h.y&&h.x<(Q.x-q.x)*(h.y-q.y)/(Q.y-q.y)+q.x&&(S=!S);return S||gs.prototype._containsPoint.call(this,h,!0)}});function es(h,S){return new xl(h,S)}var $r=$i.extend({initialize:function(h,S){T(this,S),this._layers={},h&&this.addData(h)},addData:function(h){var S=C(h)?h:h.features,R,q,Q;if(S){for(R=0,q=S.length;R<q;R++)Q=S[R],(Q.geometries||Q.geometry||Q.features||Q.coordinates)&&this.addData(Q);return this}var ue=this.options;if(ue.filter&&!ue.filter(h))return this;var Se=bi(h,ue);return Se?(Se.feature=yl(h),Se.defaultOptions=Se.options,this.resetStyle(Se),ue.onEachFeature&&ue.onEachFeature(h,Se),this.addLayer(Se)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(S){this._setLayerStyle(S,h)},this)},_setLayerStyle:function(h,S){h.setStyle&&(typeof S=="function"&&(S=S(h.feature)),h.setStyle(S))}});function bi(h,S){var R=h.type==="Feature"?h.geometry:h,q=R?R.coordinates:null,Q=[],ue=S&&S.pointToLayer,Se=S&&S.coordsToLatLng||au,Ue,Je,ct,Nt;if(!q&&!R)return null;switch(R.type){case"Point":return Ue=Se(q),cd(ue,h,Ue,S);case"MultiPoint":for(ct=0,Nt=q.length;ct<Nt;ct++)Ue=Se(q[ct]),Q.push(cd(ue,h,Ue,S));return new $i(Q);case"LineString":case"MultiLineString":return Je=uc(q,R.type==="LineString"?0:1,Se),new gs(Je,S);case"Polygon":case"MultiPolygon":return Je=uc(q,R.type==="Polygon"?1:2,Se),new xl(Je,S);case"GeometryCollection":for(ct=0,Nt=R.geometries.length;ct<Nt;ct++){var zt=bi({geometry:R.geometries[ct],type:"Feature",properties:h.properties},S);zt&&Q.push(zt)}return new $i(Q);case"FeatureCollection":for(ct=0,Nt=R.features.length;ct<Nt;ct++){var Ht=bi(R.features[ct],S);Ht&&Q.push(Ht)}return new $i(Q);default:throw new Error("Invalid GeoJSON object.")}}function cd(h,S,R,q){return h?h(S,R):new bl(R,q&&q.markersInheritOptions&&q)}function au(h){return new ce(h[1],h[0],h[2])}function uc(h,S,R){for(var q=[],Q=0,ue=h.length,Se;Q<ue;Q++)Se=S?uc(h[Q],S-1,R):(R||au)(h[Q]),q.push(Se);return q}function vl(h,S){return h=ie(h),h.alt!==void 0?[v(h.lng,S),v(h.lat,S),v(h.alt,S)]:[v(h.lng,S),v(h.lat,S)]}function dc(h,S,R,q){for(var Q=[],ue=0,Se=h.length;ue<Se;ue++)Q.push(S?dc(h[ue],li(h[ue])?0:S-1,R,q):vl(h[ue],q));return!S&&R&&Q.length>0&&Q.push(Q[0].slice()),Q}function ts(h,S){return h.feature?i({},h.feature,{geometry:S}):yl(S)}function yl(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var _l={toGeoJSON:function(h){return ts(this,{type:"Point",coordinates:vl(this.getLatLng(),h)})}};bl.include(_l),Rh.include(_l),dr.include(_l),gs.include({toGeoJSON:function(h){var S=!li(this._latlngs),R=dc(this._latlngs,S?1:0,!1,h);return ts(this,{type:(S?"Multi":"")+"LineString",coordinates:R})}}),xl.include({toGeoJSON:function(h){var S=!li(this._latlngs),R=S&&!li(this._latlngs[0]),q=dc(this._latlngs,R?2:S?1:0,!0,h);return S||(q=[q]),ts(this,{type:(R?"Multi":"")+"Polygon",coordinates:q})}}),Mo.include({toMultiPoint:function(h){var S=[];return this.eachLayer(function(R){S.push(R.toGeoJSON(h).geometry.coordinates)}),ts(this,{type:"MultiPoint",coordinates:S})},toGeoJSON:function(h){var S=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(S==="MultiPoint")return this.toMultiPoint(h);var R=S==="GeometryCollection",q=[];return this.eachLayer(function(Q){if(Q.toGeoJSON){var ue=Q.toGeoJSON(h);if(R)q.push(ue.geometry);else{var Se=yl(ue);Se.type==="FeatureCollection"?q.push.apply(q,Se.features):q.push(Se)}}}),R?ts(this,{geometries:q,type:"GeometryCollection"}):{type:"FeatureCollection",features:q}}});function ou(h,S){return new $r(h,S)}var Oh=ou,Fr=Ji.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,S,R){this._url=h,this._bounds=be(S),T(this,R)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Qt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&kt(this._image),this},bringToBack:function(){return this._map&&$n(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=be(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",S=this._image=h?this._url:Gt("img");if(Wt(S,"leaflet-image-layer"),this._zoomAnimated&&Wt(S,"leaflet-zoom-animated"),this.options.className&&Wt(S,this.options.className),S.onselectstart=b,S.onmousemove=b,S.onload=o(this.fire,this,"load"),S.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=S.src;return}S.src=this._url,S.alt=this.options.alt},_animateZoom:function(h){var S=this._map.getZoomScale(h.zoom),R=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;rr(this._image,R,S)},_reset:function(){var h=this._image,S=new Y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),R=S.getSize();In(h,S.min),h.style.width=R.x+"px",h.style.height=R.y+"px"},_updateOpacity:function(){Nn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),Co=function(h,S,R){return new Fr(h,S,R)},lu=Fr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",S=this._image=h?this._url:Gt("video");if(Wt(S,"leaflet-image-layer"),this._zoomAnimated&&Wt(S,"leaflet-zoom-animated"),this.options.className&&Wt(S,this.options.className),S.onselectstart=b,S.onmousemove=b,S.onloadeddata=o(this.fire,this,"load"),h){for(var R=S.getElementsByTagName("source"),q=[],Q=0;Q<R.length;Q++)q.push(R[Q].src);this._url=R.length>0?q:[S.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(S.style,"objectFit")&&(S.style.objectFit="fill"),S.autoplay=!!this.options.autoplay,S.loop=!!this.options.loop,S.muted=!!this.options.muted,S.playsInline=!!this.options.playsInline;for(var ue=0;ue<this._url.length;ue++){var Se=Gt("source");Se.src=this._url[ue],S.appendChild(Se)}}});function rm(h,S,R){return new lu(h,S,R)}var wa=Fr.extend({_initImage:function(){var h=this._image=this._url;Wt(h,"leaflet-image-layer"),this._zoomAnimated&&Wt(h,"leaflet-zoom-animated"),this.options.className&&Wt(h,this.options.className),h.onselectstart=b,h.onmousemove=b}});function zi(h,S,R){return new wa(h,S,R)}var Os=Ji.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,S){h&&(h instanceof ce||C(h))?(this._latlng=ie(h),T(this,S)):(T(this,h),this._source=S),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&Nn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&Nn(this._container,1),this.bringToFront(),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(Nn(this._container,0),this._removeTimeout=setTimeout(o(Qt,void 0,this._container),200)):Qt(this._container),this.options.interactive&&(Xn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=ie(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&kt(this._container),this},bringToBack:function(){return this._map&&$n(this._container),this},_prepareOpen:function(h){var S=this._source;if(!S._map)return!1;if(S instanceof $i){S=null;var R=this._source._layers;for(var q in R)if(R[q]._map){S=R[q];break}if(!S)return!1;this._source=S}if(!h)if(S.getCenter)h=S.getCenter();else if(S.getLatLng)h=S.getLatLng();else if(S.getBounds)h=S.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,S=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof S=="string")h.innerHTML=S;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(S)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),S=G(this.options.offset),R=this._getAnchor();this._zoomAnimated?In(this._container,h.add(R)):S=S.add(h).add(R);var q=this._containerBottom=-S.y,Q=this._containerLeft=-Math.round(this._containerWidth/2)+S.x;this._container.style.bottom=q+"px",this._container.style.left=Q+"px"}},_getAnchor:function(){return[0,0]}});Tn.include({_initOverlay:function(h,S,R,q){var Q=S;return Q instanceof h||(Q=new h(q).setContent(S)),R&&Q.setLatLng(R),Q}}),Ji.include({_initOverlay:function(h,S,R,q){var Q=R;return Q instanceof h?(T(Q,q),Q._source=this):(Q=S&&!q?S:new h(q,this),Q.setContent(R)),Q}});var xi=Os.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,Os.prototype.openOn.call(this,h)},onAdd:function(h){Os.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ps||this._source.on("preclick",Xa))},onRemove:function(h){Os.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ps||this._source.off("preclick",Xa))},getEvents:function(){var h=Os.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",S=this._container=Gt("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),R=this._wrapper=Gt("div",h+"-content-wrapper",S);if(this._contentNode=Gt("div",h+"-content",R),dl(S),nc(this._contentNode),ln(S,"contextmenu",Xa),this._tipContainer=Gt("div",h+"-tip-container",S),this._tip=Gt("div",h+"-tip",this._tipContainer),this.options.closeButton){var q=this._closeButton=Gt("a",h+"-close-button",S);q.setAttribute("role","button"),q.setAttribute("aria-label","Close popup"),q.href="#close",q.innerHTML='<span aria-hidden="true">&#215;</span>',ln(q,"click",function(Q){_r(Q),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,S=h.style;S.width="",S.whiteSpace="nowrap";var R=h.offsetWidth;R=Math.min(R,this.options.maxWidth),R=Math.max(R,this.options.minWidth),S.width=R+1+"px",S.whiteSpace="",S.height="";var q=h.offsetHeight,Q=this.options.maxHeight,ue="leaflet-popup-scrolled";Q&&q>Q?(S.height=Q+"px",Wt(h,ue)):Xn(h,ue),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var S=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),R=this._getAnchor();In(this._container,S.add(R))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,S=parseInt(Pn(this._container,"marginBottom"),10)||0,R=this._container.offsetHeight+S,q=this._containerWidth,Q=new $(this._containerLeft,-R-this._containerBottom);Q._add(fs(this._container));var ue=h.layerPointToContainerPoint(Q),Se=G(this.options.autoPanPadding),Ue=G(this.options.autoPanPaddingTopLeft||Se),Je=G(this.options.autoPanPaddingBottomRight||Se),ct=h.getSize(),Nt=0,zt=0;ue.x+q+Je.x>ct.x&&(Nt=ue.x+q-ct.x+Je.x),ue.x-Nt-Ue.x<0&&(Nt=ue.x-Ue.x),ue.y+R+Je.y>ct.y&&(zt=ue.y+R-ct.y+Je.y),ue.y-zt-Ue.y<0&&(zt=ue.y-Ue.y),(Nt||zt)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([Nt,zt]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),im=function(h,S){return new xi(h,S)};Tn.mergeOptions({closePopupOnClick:!0}),Tn.include({openPopup:function(h,S,R){return this._initOverlay(xi,h,S,R).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),Ji.include({bindPopup:function(h,S){return this._popup=this._initOverlay(xi,this._popup,h,S),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof $i||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){Rs(h);var S=h.layer||h.target;if(this._popup._source===S&&!(S instanceof ps)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=S,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var Ds=Os.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){Os.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){Os.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=Os.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",S=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Gt("div",S),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var S,R,q=this._map,Q=this._container,ue=q.latLngToContainerPoint(q.getCenter()),Se=q.layerPointToContainerPoint(h),Ue=this.options.direction,Je=Q.offsetWidth,ct=Q.offsetHeight,Nt=G(this.options.offset),zt=this._getAnchor();Ue==="top"?(S=Je/2,R=ct):Ue==="bottom"?(S=Je/2,R=0):Ue==="center"?(S=Je/2,R=ct/2):Ue==="right"?(S=0,R=ct/2):Ue==="left"?(S=Je,R=ct/2):Se.x<ue.x?(Ue="right",S=0,R=ct/2):(Ue="left",S=Je+(Nt.x+zt.x)*2,R=ct/2),h=h.subtract(G(S,R,!0)).add(Nt).add(zt),Xn(Q,"leaflet-tooltip-right"),Xn(Q,"leaflet-tooltip-left"),Xn(Q,"leaflet-tooltip-top"),Xn(Q,"leaflet-tooltip-bottom"),Wt(Q,"leaflet-tooltip-"+Ue),In(Q,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&Nn(this._container,h)},_animateZoom:function(h){var S=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(S)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),hc=function(h,S){return new Ds(h,S)};Tn.include({openTooltip:function(h,S,R){return this._initOverlay(Ds,h,S,R).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),Ji.include({bindTooltip:function(h,S){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ds,this._tooltip,h,S),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var S=h?"off":"on",R={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?R.add=this._openTooltip:(R.mouseover=this._openTooltip,R.mouseout=this.closeTooltip,R.click=this._openTooltip,this._map?this._addFocusListeners():R.add=this._addFocusListeners),this._tooltip.options.sticky&&(R.mousemove=this._moveTooltip),this[S](R),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof $i||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var S=typeof h.getElement=="function"&&h.getElement();S&&(ln(S,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),ln(S,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var S=typeof h.getElement=="function"&&h.getElement();S&&S.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var S=this;this._map.once("moveend",function(){S._openOnceFlag=!1,S._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var S=h.latlng,R,q;this._tooltip.options.sticky&&h.originalEvent&&(R=this._map.mouseEventToContainerPoint(h.originalEvent),q=this._map.containerPointToLayerPoint(R),S=this._map.layerPointToLatLng(q)),this._tooltip.setLatLng(S)}});var Ea=gl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var S=h&&h.tagName==="DIV"?h:document.createElement("div"),R=this.options;if(R.html instanceof Element?(hn(S),S.appendChild(R.html)):S.innerHTML=R.html!==!1?R.html:"",R.bgPos){var q=G(R.bgPos);S.style.backgroundPosition=-q.x+"px "+-q.y+"px"}return this._setIconStyles(S,"icon"),S},createShadow:function(){return null}});function ud(h){return new Ea(h)}gl.Default=jo;var Qa=Ji.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Bt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){T(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),Qt(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(kt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($n(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof $?h:new $(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var S=this.getPane().children,R=-h(-1/0,1/0),q=0,Q=S.length,ue;q<Q;q++)ue=S[q].style.zIndex,S[q]!==this._container&&ue&&(R=h(R,+ue));isFinite(R)&&(this.options.zIndex=R+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Bt.ielt9){Nn(this._container,this.options.opacity);var h=+new Date,S=!1,R=!1;for(var q in this._tiles){var Q=this._tiles[q];if(!(!Q.current||!Q.loaded)){var ue=Math.min(1,(h-Q.loaded)/200);Nn(Q.el,ue),ue<1?S=!0:(Q.active?R=!0:this._onOpaqueTile(Q),Q.active=!0)}}R&&!this._noPrune&&this._pruneTiles(),S&&(X(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=Gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,S=this.options.maxZoom;if(h!==void 0){for(var R in this._levels)R=Number(R),this._levels[R].el.children.length||R===h?(this._levels[R].el.style.zIndex=S-Math.abs(h-R),this._onUpdateLevel(R)):(Qt(this._levels[R].el),this._removeTilesAtZoom(R),this._onRemoveLevel(R),delete this._levels[R]);var q=this._levels[h],Q=this._map;return q||(q=this._levels[h]={},q.el=Gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),q.el.style.zIndex=S,q.origin=Q.project(Q.unproject(Q.getPixelOrigin()),h).round(),q.zoom=h,this._setZoomTransform(q,Q.getCenter(),Q.getZoom()),b(q.el.offsetWidth),this._onCreateLevel(q)),this._level=q,q}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var h,S,R=this._map.getZoom();if(R>this.options.maxZoom||R<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)S=this._tiles[h],S.retain=S.current;for(h in this._tiles)if(S=this._tiles[h],S.current&&!S.active){var q=S.coords;this._retainParent(q.x,q.y,q.z,q.z-5)||this._retainChildren(q.x,q.y,q.z,q.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var S in this._tiles)this._tiles[S].coords.z===h&&this._removeTile(S)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)Qt(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,S,R,q){var Q=Math.floor(h/2),ue=Math.floor(S/2),Se=R-1,Ue=new $(+Q,+ue);Ue.z=+Se;var Je=this._tileCoordsToKey(Ue),ct=this._tiles[Je];return ct&&ct.active?(ct.retain=!0,!0):(ct&&ct.loaded&&(ct.retain=!0),Se>q?this._retainParent(Q,ue,Se,q):!1)},_retainChildren:function(h,S,R,q){for(var Q=2*h;Q<2*h+2;Q++)for(var ue=2*S;ue<2*S+2;ue++){var Se=new $(Q,ue);Se.z=R+1;var Ue=this._tileCoordsToKey(Se),Je=this._tiles[Ue];if(Je&&Je.active){Je.retain=!0;continue}else Je&&Je.loaded&&(Je.retain=!0);R+1<q&&this._retainChildren(Q,ue,R+1,q)}},_resetView:function(h){var S=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),S,S)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var S=this.options;return S.minNativeZoom!==void 0&&h<S.minNativeZoom?S.minNativeZoom:S.maxNativeZoom!==void 0&&S.maxNativeZoom<h?S.maxNativeZoom:h},_setView:function(h,S,R,q){var Q=Math.round(S);this.options.maxZoom!==void 0&&Q>this.options.maxZoom||this.options.minZoom!==void 0&&Q<this.options.minZoom?Q=void 0:Q=this._clampZoom(Q);var ue=this.options.updateWhenZooming&&Q!==this._tileZoom;(!q||ue)&&(this._tileZoom=Q,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Q!==void 0&&this._update(h),R||this._pruneTiles(),this._noPrune=!!R),this._setZoomTransforms(h,S)},_setZoomTransforms:function(h,S){for(var R in this._levels)this._setZoomTransform(this._levels[R],h,S)},_setZoomTransform:function(h,S,R){var q=this._map.getZoomScale(R,h.zoom),Q=h.origin.multiplyBy(q).subtract(this._map._getNewPixelOrigin(S,R)).round();Bt.any3d?rr(h.el,Q,q):In(h.el,Q)},_resetGrid:function(){var h=this._map,S=h.options.crs,R=this._tileSize=this.getTileSize(),q=this._tileZoom,Q=this._map.getPixelWorldBounds(this._tileZoom);Q&&(this._globalTileRange=this._pxBoundsToTileRange(Q)),this._wrapX=S.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,S.wrapLng[0]],q).x/R.x),Math.ceil(h.project([0,S.wrapLng[1]],q).x/R.y)],this._wrapY=S.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([S.wrapLat[0],0],q).y/R.x),Math.ceil(h.project([S.wrapLat[1],0],q).y/R.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var S=this._map,R=S._animatingZoom?Math.max(S._animateToZoom,S.getZoom()):S.getZoom(),q=S.getZoomScale(R,this._tileZoom),Q=S.project(h,this._tileZoom).floor(),ue=S.getSize().divideBy(q*2);return new Y(Q.subtract(ue),Q.add(ue))},_update:function(h){var S=this._map;if(S){var R=this._clampZoom(S.getZoom());if(h===void 0&&(h=S.getCenter()),this._tileZoom!==void 0){var q=this._getTiledPixelBounds(h),Q=this._pxBoundsToTileRange(q),ue=Q.getCenter(),Se=[],Ue=this.options.keepBuffer,Je=new Y(Q.getBottomLeft().subtract([Ue,-Ue]),Q.getTopRight().add([Ue,-Ue]));if(!(isFinite(Q.min.x)&&isFinite(Q.min.y)&&isFinite(Q.max.x)&&isFinite(Q.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ct in this._tiles){var Nt=this._tiles[ct].coords;(Nt.z!==this._tileZoom||!Je.contains(new $(Nt.x,Nt.y)))&&(this._tiles[ct].current=!1)}if(Math.abs(R-this._tileZoom)>1){this._setView(h,R);return}for(var zt=Q.min.y;zt<=Q.max.y;zt++)for(var Ht=Q.min.x;Ht<=Q.max.x;Ht++){var cn=new $(Ht,zt);if(cn.z=this._tileZoom,!!this._isValidTile(cn)){var ir=this._tiles[this._tileCoordsToKey(cn)];ir?ir.current=!0:Se.push(cn)}}if(Se.sort(function(yi,bs){return yi.distanceTo(ue)-bs.distanceTo(ue)}),Se.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Sr=document.createDocumentFragment();for(Ht=0;Ht<Se.length;Ht++)this._addTile(Se[Ht],Sr);this._level.el.appendChild(Sr)}}}},_isValidTile:function(h){var S=this._map.options.crs;if(!S.infinite){var R=this._globalTileRange;if(!S.wrapLng&&(h.x<R.min.x||h.x>R.max.x)||!S.wrapLat&&(h.y<R.min.y||h.y>R.max.y))return!1}if(!this.options.bounds)return!0;var q=this._tileCoordsToBounds(h);return be(this.options.bounds).overlaps(q)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var S=this._map,R=this.getTileSize(),q=h.scaleBy(R),Q=q.add(R),ue=S.unproject(q,h.z),Se=S.unproject(Q,h.z);return[ue,Se]},_tileCoordsToBounds:function(h){var S=this._tileCoordsToNwSe(h),R=new le(S[0],S[1]);return this.options.noWrap||(R=this._map.wrapLatLngBounds(R)),R},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var S=h.split(":"),R=new $(+S[0],+S[1]);return R.z=+S[2],R},_removeTile:function(h){var S=this._tiles[h];S&&(Qt(S.el),delete this._tiles[h],this.fire("tileunload",{tile:S.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){Wt(h,"leaflet-tile");var S=this.getTileSize();h.style.width=S.x+"px",h.style.height=S.y+"px",h.onselectstart=b,h.onmousemove=b,Bt.ielt9&&this.options.opacity<1&&Nn(h,this.options.opacity)},_addTile:function(h,S){var R=this._getTilePos(h),q=this._tileCoordsToKey(h),Q=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile(Q),this.createTile.length<2&&V(o(this._tileReady,this,h,null,Q)),In(Q,R),this._tiles[q]={el:Q,coords:h,current:!0},S.appendChild(Q),this.fire("tileloadstart",{tile:Q,coords:h})},_tileReady:function(h,S,R){S&&this.fire("tileerror",{error:S,tile:R,coords:h});var q=this._tileCoordsToKey(h);R=this._tiles[q],R&&(R.loaded=+new Date,this._map._fadeAnimated?(Nn(R.el,0),X(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(R.active=!0,this._pruneTiles()),S||(Wt(R.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:R.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Bt.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var S=new $(this._wrapX?g(h.x,this._wrapX):h.x,this._wrapY?g(h.y,this._wrapY):h.y);return S.z=h.z,S},_pxBoundsToTileRange:function(h){var S=this.getTileSize();return new Y(h.min.unscaleBy(S).floor(),h.max.unscaleBy(S).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function ci(h){return new Qa(h)}var Ro=Qa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,S){this._url=h,S=T(this,S),S.detectRetina&&Bt.retina&&S.maxZoom>0?(S.tileSize=Math.floor(S.tileSize/2),S.zoomReverse?(S.zoomOffset--,S.minZoom=Math.min(S.maxZoom,S.minZoom+1)):(S.zoomOffset++,S.maxZoom=Math.max(S.minZoom,S.maxZoom-1)),S.minZoom=Math.max(0,S.minZoom)):S.zoomReverse?S.minZoom=Math.min(S.maxZoom,S.minZoom):S.maxZoom=Math.max(S.minZoom,S.maxZoom),typeof S.subdomains=="string"&&(S.subdomains=S.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,S){return this._url===h&&S===void 0&&(S=!0),this._url=h,S||this.redraw(),this},createTile:function(h,S){var R=document.createElement("img");return ln(R,"load",o(this._tileOnLoad,this,S,R)),ln(R,"error",o(this._tileOnError,this,S,R)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(R.referrerPolicy=this.options.referrerPolicy),R.alt="",R.src=this.getTileUrl(h),R},getTileUrl:function(h){var S={r:Bt.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var R=this._globalTileRange.max.y-h.y;this.options.tms&&(S.y=R),S["-y"]=R}return j(this._url,i(S,this.options))},_tileOnLoad:function(h,S){Bt.ielt9?setTimeout(o(h,this,null,S),0):h(null,S)},_tileOnError:function(h,S,R){var q=this.options.errorTileUrl;q&&S.getAttribute("src")!==q&&(S.src=q),h(R,S)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,S=this.options.maxZoom,R=this.options.zoomReverse,q=this.options.zoomOffset;return R&&(h=S-h),h+q},_getSubdomain:function(h){var S=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[S]},_abortLoading:function(){var h,S;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(S=this._tiles[h].el,S.onload=b,S.onerror=b,!S.complete)){S.src=P;var R=this._tiles[h].coords;Qt(S),delete this._tiles[h],this.fire("tileabort",{tile:S,coords:R})}},_removeTile:function(h){var S=this._tiles[h];if(S)return S.el.setAttribute("src",P),Qa.prototype._removeTile.call(this,h)},_tileReady:function(h,S,R){if(!(!this._map||R&&R.getAttribute("src")===P))return Qa.prototype._tileReady.call(this,h,S,R)}});function ui(h,S){return new Ro(h,S)}var vi=Ro.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,S){this._url=h;var R=i({},this.defaultWmsParams);for(var q in S)q in this.options||(R[q]=S[q]);S=T(this,S);var Q=S.detectRetina&&Bt.retina?2:1,ue=this.getTileSize();R.width=ue.x*Q,R.height=ue.y*Q,this.wmsParams=R},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var S=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[S]=this._crs.code,Ro.prototype.onAdd.call(this,h)},getTileUrl:function(h){var S=this._tileCoordsToNwSe(h),R=this._crs,q=ne(R.project(S[0]),R.project(S[1])),Q=q.min,ue=q.max,Se=(this._wmsVersion>=1.3&&this._crs===lc?[Q.y,Q.x,ue.y,ue.x]:[Q.x,Q.y,ue.x,ue.y]).join(","),Ue=Ro.prototype.getTileUrl.call(this,h);return Ue+N(this.wmsParams,Ue,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Se},setParams:function(h,S){return i(this.wmsParams,h),S||this.redraw(),this}});function Ps(h,S){return new vi(h,S)}Ro.WMS=vi,ui.wms=Ps;var Ls=Ji.extend({options:{padding:.1},initialize:function(h){T(this,h),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,S){var R=this._map.getZoomScale(S,this._zoom),q=this._map.getSize().multiplyBy(.5+this.options.padding),Q=this._map.project(this._center,S),ue=q.multiplyBy(-R).add(Q).subtract(this._map._getNewPixelOrigin(h,S));Bt.any3d?rr(this._container,ue,R):In(this._container,ue)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,S=this._map.getSize(),R=this._map.containerPointToLayerPoint(S.multiplyBy(-h)).round();this._bounds=new Y(R,R.add(S.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),fc=Ls.extend({options:{tolerance:0},getEvents:function(){var h=Ls.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ls.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");ln(h,"mousemove",this._onMouseMove,this),ln(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ln(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){X(this._redrawRequest),delete this._ctx,Qt(this._container),Zn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var S in this._layers)h=this._layers[S],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ls.prototype._update.call(this);var h=this._bounds,S=this._container,R=h.getSize(),q=Bt.retina?2:1;In(S,h.min),S.width=q*R.x,S.height=q*R.y,S.style.width=R.x+"px",S.style.height=R.y+"px",Bt.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){Ls.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[d(h)]=h;var S=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=S),this._drawLast=S,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var S=h._order,R=S.next,q=S.prev;R?R.prev=q:this._drawLast=q,q?q.next=R:this._drawFirst=R,delete h._order,delete this._layers[d(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var S=h.options.dashArray.split(/[, ]+/),R=[],q,Q;for(Q=0;Q<S.length;Q++){if(q=Number(S[Q]),isNaN(q))return;R.push(q)}h.options._dashArray=R}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var S=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Y,this._redrawBounds.extend(h._pxBounds.min.subtract([S,S])),this._redrawBounds.extend(h._pxBounds.max.add([S,S]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var S=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,S.x,S.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,S=this._redrawBounds;if(this._ctx.save(),S){var R=S.getSize();this._ctx.beginPath(),this._ctx.rect(S.min.x,S.min.y,R.x,R.y),this._ctx.clip()}this._drawing=!0;for(var q=this._drawFirst;q;q=q.next)h=q.layer,(!S||h._pxBounds&&h._pxBounds.intersects(S))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,S){if(this._drawing){var R,q,Q,ue,Se=h._parts,Ue=Se.length,Je=this._ctx;if(Ue){for(Je.beginPath(),R=0;R<Ue;R++){for(q=0,Q=Se[R].length;q<Q;q++)ue=Se[R][q],Je[q?"lineTo":"moveTo"](ue.x,ue.y);S&&Je.closePath()}this._fillStroke(Je,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var S=h._point,R=this._ctx,q=Math.max(Math.round(h._radius),1),Q=(Math.max(Math.round(h._radiusY),1)||q)/q;Q!==1&&(R.save(),R.scale(1,Q)),R.beginPath(),R.arc(S.x,S.y/Q,q,0,Math.PI*2,!1),Q!==1&&R.restore(),this._fillStroke(R,h)}},_fillStroke:function(h,S){var R=S.options;R.fill&&(h.globalAlpha=R.fillOpacity,h.fillStyle=R.fillColor||R.color,h.fill(R.fillRule||"evenodd")),R.stroke&&R.weight!==0&&(h.setLineDash&&h.setLineDash(S.options&&S.options._dashArray||[]),h.globalAlpha=R.opacity,h.lineWidth=R.weight,h.strokeStyle=R.color,h.lineCap=R.lineCap,h.lineJoin=R.lineJoin,h.stroke())},_onClick:function(h){for(var S=this._map.mouseEventToLayerPoint(h),R,q,Q=this._drawFirst;Q;Q=Q.next)R=Q.layer,R.options.interactive&&R._containsPoint(S)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(R))&&(q=R);this._fireEvent(q?[q]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var S=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,S)}},_handleMouseOut:function(h){var S=this._hoveredLayer;S&&(Xn(this._container,"leaflet-interactive"),this._fireEvent([S],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,S){if(!this._mouseHoverThrottled){for(var R,q,Q=this._drawFirst;Q;Q=Q.next)R=Q.layer,R.options.interactive&&R._containsPoint(S)&&(q=R);q!==this._hoveredLayer&&(this._handleMouseOut(h),q&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([q],h,"mouseover"),this._hoveredLayer=q)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,S,R){this._map._fireDOMEvent(S,R||S.type,h)},_bringToFront:function(h){var S=h._order;if(S){var R=S.next,q=S.prev;if(R)R.prev=q;else return;q?q.next=R:R&&(this._drawFirst=R),S.prev=this._drawLast,this._drawLast.next=S,S.next=null,this._drawLast=S,this._requestRedraw(h)}},_bringToBack:function(h){var S=h._order;if(S){var R=S.next,q=S.prev;if(q)q.next=R;else return;R?R.prev=q:q&&(this._drawLast=q),S.prev=null,S.next=this._drawFirst,this._drawFirst.prev=S,this._drawFirst=S,this._requestRedraw(h)}}});function $a(h){return Bt.canvas?new fc(h):null}var Oo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),eo={_initContainer:function(){this._container=Gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ls.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var S=h._container=Oo("shape");Wt(S,"leaflet-vml-shape "+(this.options.className||"")),S.coordsize="1 1",h._path=Oo("path"),S.appendChild(h._path),this._updateStyle(h),this._layers[d(h)]=h},_addPath:function(h){var S=h._container;this._container.appendChild(S),h.options.interactive&&h.addInteractiveTarget(S)},_removePath:function(h){var S=h._container;Qt(S),h.removeInteractiveTarget(S),delete this._layers[d(h)]},_updateStyle:function(h){var S=h._stroke,R=h._fill,q=h.options,Q=h._container;Q.stroked=!!q.stroke,Q.filled=!!q.fill,q.stroke?(S||(S=h._stroke=Oo("stroke")),Q.appendChild(S),S.weight=q.weight+"px",S.color=q.color,S.opacity=q.opacity,q.dashArray?S.dashStyle=C(q.dashArray)?q.dashArray.join(" "):q.dashArray.replace(/( *, *)/g," "):S.dashStyle="",S.endcap=q.lineCap.replace("butt","flat"),S.joinstyle=q.lineJoin):S&&(Q.removeChild(S),h._stroke=null),q.fill?(R||(R=h._fill=Oo("fill")),Q.appendChild(R),R.color=q.fillColor||q.color,R.opacity=q.fillOpacity):R&&(Q.removeChild(R),h._fill=null)},_updateCircle:function(h){var S=h._point.round(),R=Math.round(h._radius),q=Math.round(h._radiusY||R);this._setPath(h,h._empty()?"M0 0":"AL "+S.x+","+S.y+" "+R+","+q+" 0,"+65535*360)},_setPath:function(h,S){h._path.v=S},_bringToFront:function(h){kt(h._container)},_bringToBack:function(h){$n(h._container)}},mc=Bt.vml?Oo:Ve,Na=Ls.extend({_initContainer:function(){this._container=mc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=mc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Qt(this._container),Zn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ls.prototype._update.call(this);var h=this._bounds,S=h.getSize(),R=this._container;(!this._svgSize||!this._svgSize.equals(S))&&(this._svgSize=S,R.setAttribute("width",S.x),R.setAttribute("height",S.y)),In(R,h.min),R.setAttribute("viewBox",[h.min.x,h.min.y,S.x,S.y].join(" ")),this.fire("update")}},_initPath:function(h){var S=h._path=mc("path");h.options.className&&Wt(S,h.options.className),h.options.interactive&&Wt(S,"leaflet-interactive"),this._updateStyle(h),this._layers[d(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){Qt(h._path),h.removeInteractiveTarget(h._path),delete this._layers[d(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var S=h._path,R=h.options;S&&(R.stroke?(S.setAttribute("stroke",R.color),S.setAttribute("stroke-opacity",R.opacity),S.setAttribute("stroke-width",R.weight),S.setAttribute("stroke-linecap",R.lineCap),S.setAttribute("stroke-linejoin",R.lineJoin),R.dashArray?S.setAttribute("stroke-dasharray",R.dashArray):S.removeAttribute("stroke-dasharray"),R.dashOffset?S.setAttribute("stroke-dashoffset",R.dashOffset):S.removeAttribute("stroke-dashoffset")):S.setAttribute("stroke","none"),R.fill?(S.setAttribute("fill",R.fillColor||R.color),S.setAttribute("fill-opacity",R.fillOpacity),S.setAttribute("fill-rule",R.fillRule||"evenodd")):S.setAttribute("fill","none"))},_updatePoly:function(h,S){this._setPath(h,nt(h._parts,S))},_updateCircle:function(h){var S=h._point,R=Math.max(Math.round(h._radius),1),q=Math.max(Math.round(h._radiusY),1)||R,Q="a"+R+","+q+" 0 1,0 ",ue=h._empty()?"M0 0":"M"+(S.x-R)+","+S.y+Q+R*2+",0 "+Q+-R*2+",0 ";this._setPath(h,ue)},_setPath:function(h,S){h._path.setAttribute("d",S)},_bringToFront:function(h){kt(h._path)},_bringToBack:function(h){$n(h._path)}});Bt.vml&&Na.include(eo);function to(h){return Bt.svg||Bt.vml?new Na(h):null}Tn.include({getRenderer:function(h){var S=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return S||(S=this._renderer=this._createRenderer()),this.hasLayer(S)||this.addLayer(S),S},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var S=this._paneRenderers[h];return S===void 0&&(S=this._createRenderer({pane:h}),this._paneRenderers[h]=S),S},_createRenderer:function(h){return this.options.preferCanvas&&$a(h)||to(h)}});var dd=xl.extend({initialize:function(h,S){xl.prototype.initialize.call(this,this._boundsToLatLngs(h),S)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=be(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function ns(h,S){return new dd(h,S)}Na.create=mc,Na.pointsToPath=nt,$r.geometryToLayer=bi,$r.coordsToLatLng=au,$r.coordsToLatLngs=uc,$r.latLngToCoords=vl,$r.latLngsToCoords=dc,$r.getFeature=ts,$r.asFeature=yl,Tn.mergeOptions({boxZoom:!0});var pc=ms.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){ln(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Zn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Qt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ar(),ec(),this._startPoint=this._map.mouseEventToContainerPoint(h),ln(document,{contextmenu:Rs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=Gt("div","leaflet-zoom-box",this._container),Wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var S=new Y(this._point,this._startPoint),R=S.getSize();In(this._box,S.min),this._box.style.width=R.x+"px",this._box.style.height=R.y+"px"},_finish:function(){this._moved&&(Qt(this._box),Xn(this._container,"leaflet-crosshair")),$l(),$c(),Zn(document,{contextmenu:Rs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var S=new le(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(S).fire("boxzoomend",{boxZoomBounds:S})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Tn.addInitHook("addHandler","boxZoom",pc),Tn.mergeOptions({doubleClickZoom:!0});var Lr=ms.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var S=this._map,R=S.getZoom(),q=S.options.zoomDelta,Q=h.originalEvent.shiftKey?R-q:R+q;S.options.doubleClickZoom==="center"?S.setZoom(Q):S.setZoomAround(h.containerPoint,Q)}});Tn.addInitHook("addHandler","doubleClickZoom",Lr),Tn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var hd=ms.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new Ya(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}Wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Xn(this._map._container,"leaflet-grab"),Xn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var S=be(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(S.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(S.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var S=this._lastTime=+new Date,R=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(R),this._times.push(S),this._prunePositions(S)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),S=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=S.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,S){return h-(h-S)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),S=this._offsetLimit;h.x<S.min.x&&(h.x=this._viscousLimit(h.x,S.min.x)),h.y<S.min.y&&(h.y=this._viscousLimit(h.y,S.min.y)),h.x>S.max.x&&(h.x=this._viscousLimit(h.x,S.max.x)),h.y>S.max.y&&(h.y=this._viscousLimit(h.y,S.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,S=Math.round(h/2),R=this._initialWorldOffset,q=this._draggable._newPos.x,Q=(q-S+R)%h+S-R,ue=(q+S+R)%h-S-R,Se=Math.abs(Q+R)<Math.abs(ue+R)?Q:ue;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Se},_onDragEnd:function(h){var S=this._map,R=S.options,q=!R.inertia||h.noInertia||this._times.length<2;if(S.fire("dragend",h),q)S.fire("moveend");else{this._prunePositions(+new Date);var Q=this._lastPos.subtract(this._positions[0]),ue=(this._lastTime-this._times[0])/1e3,Se=R.easeLinearity,Ue=Q.multiplyBy(Se/ue),Je=Ue.distanceTo([0,0]),ct=Math.min(R.inertiaMaxSpeed,Je),Nt=Ue.multiplyBy(ct/Je),zt=ct/(R.inertiaDeceleration*Se),Ht=Nt.multiplyBy(-zt/2).round();!Ht.x&&!Ht.y?S.fire("moveend"):(Ht=S._limitOffset(Ht,S.options.maxBounds),V(function(){S.panBy(Ht,{duration:zt,easeLinearity:Se,noMoveStart:!0,animate:!0})}))}}});Tn.addInitHook("addHandler","dragging",hd),Tn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ei=ms.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),ln(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Zn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,S=document.documentElement,R=h.scrollTop||S.scrollTop,q=h.scrollLeft||S.scrollLeft;this._map._container.focus(),window.scrollTo(q,R)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var S=this._panKeys={},R=this.keyCodes,q,Q;for(q=0,Q=R.left.length;q<Q;q++)S[R.left[q]]=[-1*h,0];for(q=0,Q=R.right.length;q<Q;q++)S[R.right[q]]=[h,0];for(q=0,Q=R.down.length;q<Q;q++)S[R.down[q]]=[0,h];for(q=0,Q=R.up.length;q<Q;q++)S[R.up[q]]=[0,-1*h]},_setZoomDelta:function(h){var S=this._zoomKeys={},R=this.keyCodes,q,Q;for(q=0,Q=R.zoomIn.length;q<Q;q++)S[R.zoomIn[q]]=h;for(q=0,Q=R.zoomOut.length;q<Q;q++)S[R.zoomOut[q]]=-h},_addHooks:function(){ln(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Zn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var S=h.keyCode,R=this._map,q;if(S in this._panKeys){if(!R._panAnim||!R._panAnim._inProgress)if(q=this._panKeys[S],h.shiftKey&&(q=G(q).multiplyBy(3)),R.options.maxBounds&&(q=R._limitOffset(G(q),R.options.maxBounds)),R.options.worldCopyJump){var Q=R.wrapLatLng(R.unproject(R.project(R.getCenter()).add(q)));R.panTo(Q)}else R.panBy(q)}else if(S in this._zoomKeys)R.setZoom(R.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[S]);else if(S===27&&R._popup&&R._popup.options.closeOnEscapeKey)R.closePopup();else return;Rs(h)}}});Tn.addInitHook("addHandler","keyboard",ei),Tn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var no=ms.extend({addHooks:function(){ln(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Zn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var S=hl(h),R=this._map.options.wheelDebounceTime;this._delta+=S,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var q=Math.max(R-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),q),Rs(h)},_performZoom:function(){var h=this._map,S=h.getZoom(),R=this._map.options.zoomSnap||0;h._stop();var q=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Q=4*Math.log(2/(1+Math.exp(-Math.abs(q))))/Math.LN2,ue=R?Math.ceil(Q/R)*R:Q,Se=h._limitZoom(S+(this._delta>0?ue:-ue))-S;this._delta=0,this._startTime=null,Se&&(h.options.scrollWheelZoom==="center"?h.setZoom(S+Se):h.setZoomAround(this._lastMousePos,S+Se))}});Tn.addInitHook("addHandler","scrollWheelZoom",no);var cu=600;Tn.mergeOptions({tapHold:Bt.touchNative&&Bt.safari&&Bt.mobile,tapTolerance:15});var uu=ms.extend({addHooks:function(){ln(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Zn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var S=h.touches[0];this._startPos=this._newPos=new $(S.clientX,S.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(ln(document,"touchend",_r),ln(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",S))},this),cu),ln(document,"touchend touchcancel contextmenu",this._cancel,this),ln(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){Zn(document,"touchend",_r),Zn(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),Zn(document,"touchend touchcancel contextmenu",this._cancel,this),Zn(document,"touchmove",this._onMove,this)},_onMove:function(h){var S=h.touches[0];this._newPos=new $(S.clientX,S.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,S){var R=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:S.screenX,screenY:S.screenY,clientX:S.clientX,clientY:S.clientY});R._simulated=!0,S.target.dispatchEvent(R)}});Tn.addInitHook("addHandler","tapHold",uu),Tn.mergeOptions({touchZoom:Bt.touch,bounceAtZoomLimits:!0});var Sl=ms.extend({addHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),ln(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Xn(this._map._container,"leaflet-touch-zoom"),Zn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var S=this._map;if(!(!h.touches||h.touches.length!==2||S._animatingZoom||this._zooming)){var R=S.mouseEventToContainerPoint(h.touches[0]),q=S.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=S.getSize()._divideBy(2),this._startLatLng=S.containerPointToLatLng(this._centerPoint),S.options.touchZoom!=="center"&&(this._pinchStartLatLng=S.containerPointToLatLng(R.add(q)._divideBy(2))),this._startDist=R.distanceTo(q),this._startZoom=S.getZoom(),this._moved=!1,this._zooming=!0,S._stop(),ln(document,"touchmove",this._onTouchMove,this),ln(document,"touchend touchcancel",this._onTouchEnd,this),_r(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var S=this._map,R=S.mouseEventToContainerPoint(h.touches[0]),q=S.mouseEventToContainerPoint(h.touches[1]),Q=R.distanceTo(q)/this._startDist;if(this._zoom=S.getScaleZoom(Q,this._startZoom),!S.options.bounceAtZoomLimits&&(this._zoom<S.getMinZoom()&&Q<1||this._zoom>S.getMaxZoom()&&Q>1)&&(this._zoom=S._limitZoom(this._zoom)),S.options.touchZoom==="center"){if(this._center=this._startLatLng,Q===1)return}else{var ue=R._add(q)._divideBy(2)._subtract(this._centerPoint);if(Q===1&&ue.x===0&&ue.y===0)return;this._center=S.unproject(S.project(this._pinchStartLatLng,this._zoom).subtract(ue),this._zoom)}this._moved||(S._moveStart(!0,!1),this._moved=!0),X(this._animRequest);var Se=o(S._move,S,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(Se,this,!0),_r(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,X(this._animRequest),Zn(document,"touchmove",this._onTouchMove,this),Zn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Tn.addInitHook("addHandler","touchZoom",Sl),Tn.BoxZoom=pc,Tn.DoubleClickZoom=Lr,Tn.Drag=hd,Tn.Keyboard=ei,Tn.ScrollWheelZoom=no,Tn.TapHold=uu,Tn.TouchZoom=Sl,t.Bounds=Y,t.Browser=Bt,t.CRS=ge,t.Canvas=fc,t.Circle=Rh,t.CircleMarker=dr,t.Class=ee,t.Control=Ai,t.DivIcon=Ea,t.DivOverlay=Os,t.DomEvent=Zf,t.DomUtil=wh,t.Draggable=Ya,t.Evented=K,t.FeatureGroup=$i,t.GeoJSON=$r,t.GridLayer=Qa,t.Handler=ms,t.Icon=gl,t.ImageOverlay=Fr,t.LatLng=ce,t.LatLngBounds=le,t.Layer=Ji,t.LayerGroup=Mo,t.LineUtil=No,t.Map=Tn,t.Marker=bl,t.Mixin=Qf,t.Path=ps,t.Point=$,t.PolyUtil=Mh,t.Polygon=xl,t.Polyline=gs,t.Popup=xi,t.PosAnimation=Sa,t.Projection=Ah,t.Rectangle=dd,t.Renderer=Ls,t.SVG=Na,t.SVGOverlay=wa,t.TileLayer=Ro,t.Tooltip=Ds,t.Transformation=$e,t.Util=J,t.VideoOverlay=lu,t.bind=o,t.bounds=ne,t.canvas=$a,t.circle=nm,t.circleMarker=tm,t.control=fl,t.divIcon=ud,t.extend=i,t.featureGroup=pl,t.geoJSON=ou,t.geoJson=Oh,t.gridLayer=ci,t.icon=iu,t.imageOverlay=Co,t.latLng=ie,t.latLngBounds=be,t.layerGroup=Qi,t.map=ic,t.marker=cc,t.point=G,t.polygon=es,t.polyline=Ao,t.popup=im,t.rectangle=ns,t.setOptions=T,t.stamp=d,t.svg=to,t.svgOverlay=zi,t.tileLayer=ui,t.tooltip=hc,t.transformation=tt,t.version=n,t.videoOverlay=rm;var rs=window.L;t.noConflict=function(){return window.L=rs,this},window.L=t}))})(jg,jg.exports)),jg.exports}var dh=ene();const iN=ed(dh);function sN(r,e,t){return Object.freeze({instance:r,context:e,container:t})}function aN(r,e){return e==null?function(n,i){const a=ae.useRef(void 0);return a.current||(a.current=r(n,i)),a}:function(n,i){const a=ae.useRef(void 0);a.current||(a.current=r(n,i));const o=ae.useRef(n),{instance:c}=a.current;return ae.useEffect(function(){o.current!==n&&(e(c,n,o.current),o.current=n)},[c,n,e]),a}}function mD(r,e){ae.useEffect(function(){return(e.layerContainer??e.map).addLayer(r.instance),function(){e.layerContainer?.removeLayer(r.instance),e.map.removeLayer(r.instance)}},[e,r])}function tne(r){return function(t){const n=f_(),i=r(rN(t,n),n);return dD(n.map,t.attribution),nN(i.current,t.eventHandlers),mD(i.current,n),i}}function nne(r,e){const t=ae.useRef(void 0);ae.useEffect(function(){if(e.pathOptions!==t.current){const i=e.pathOptions??{};r.instance.setStyle(i),t.current=i}},[r,e])}function rne(r){return function(t){const n=f_(),i=r(rN(t,n),n);return nN(i.current,t.eventHandlers),mD(i.current,n),nne(i.current,t),i}}function ine(r,e){const t=aN(r,e),n=tne(t);return fD(n)}function sne(r,e){const t=aN(r),n=Qte(t,e);return Jte(n)}function ane(r,e){const t=aN(r,e),n=rne(t);return fD(n)}function one(r,e,t){e.bounds instanceof dh.LatLngBounds&&e.bounds!==t.bounds&&r.setBounds(e.bounds),e.opacity!=null&&e.opacity!==t.opacity&&r.setOpacity(e.opacity),e.zIndex!=null&&e.zIndex!==t.zIndex&&r.setZIndex(e.zIndex)}function lne(){return f_().map}function cne(r){const e=lne();return ae.useEffect(function(){return e.on(r),function(){e.off(r)}},[e,r]),e}const une=ane(function({center:e,children:t,...n},i){const a=new dh.CircleMarker(e,n);return sN(a,hD(i,{overlayContainer:a}))},Yte),dne=ine(function({bounds:e,url:t,...n},i){const a=new dh.ImageOverlay(t,e,n);return sN(a,hD(i,{overlayContainer:a}))},function(e,t,n){if(one(e,t,n),t.bounds!==n.bounds){const i=t.bounds instanceof dh.LatLngBounds?t.bounds:new dh.LatLngBounds(t.bounds);e.setBounds(i)}t.url!==n.url&&e.setUrl(t.url)});function hne({bounds:r,boundsOptions:e,center:t,children:n,className:i,id:a,placeholder:o,style:c,whenReady:d,zoom:f,...g},b){const[v]=ae.useState({className:i,id:a,style:c}),[y,w]=ae.useState(null),T=ae.useRef(void 0);ae.useImperativeHandle(b,()=>y?.map??null,[y]);const N=ae.useCallback(j=>{if(j!==null&&!T.current){const C=new dh.Map(j,g);T.current=C,t!=null&&f!=null?C.setView(t,f):r!=null&&C.fitBounds(r,e),d!=null&&C.whenReady(d),w(Kte(C))}},[]);ae.useEffect(()=>()=>{y?.map.remove()},[y]);const _=y?dn.createElement(tN,{value:y},n):o??null;return dn.createElement("div",{...v,ref:N},_)}const fne=ae.forwardRef(hne),mne=sne(function(e,t){const n=new dh.Tooltip(e,t.overlayContainer);return sN(n,t)},function(e,t,{position:n},i){ae.useEffect(function(){const o=t.overlayContainer;if(o==null)return;const{instance:c}=e,d=g=>{g.tooltip===c&&(n!=null&&c.setLatLng(n),c.update(),i(!0))},f=g=>{g.tooltip===c&&i(!1)};return o.on({tooltipopen:d,tooltipclose:f}),o.bindTooltip(c),function(){o.off({tooltipopen:d,tooltipclose:f}),o._map!=null&&o.unbindTooltip()}},[e,t,i,n])});delete iN.Icon.Default.prototype._getIconUrl;iN.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});function pne({onMapClick:r}){return cne({click(e){r(e.latlng)}}),null}function gne(){const r=en(),{id:e}=wb(),{user:t}=sl(),n=ae.useRef(null),[i,a]=ae.useState(null),[o,c]=ae.useState([]),[d,f]=ae.useState(null),[g,b]=ae.useState([]),[v,y]=ae.useState({username:"",color:"#000000"}),[w,T]=ae.useState(!1),[N,_]=ae.useState(null),[j,C]=ae.useState(""),[A,P]=ae.useState(!1),[U,B]=ae.useState(null),[F,k]=ae.useState(!1),[z,V]=ae.useState(null),[X,J]=ae.useState(""),[ee,te]=ae.useState(""),[W,K]=ae.useState(null),[$,oe]=ae.useState(!1),[G,Y]=ae.useState(!1);ae.useEffect(()=>{(async()=>{if(!(!t||!e))try{const{data:$e,error:tt}=await Jt.from("rooms").select("id, name, owner_id, current_map_id").eq("id",e).single();if(tt)throw tt;a($e),T(t.id===$e.owner_id);const{data:xe,error:ke}=await Jt.from("maps").select("id, name, image_url, start_lat, start_lng").eq("room_id",e);if(ke)throw ke;if(c(xe),xe.length>0){const Xe=xe.find(je=>je.id===$e.current_map_id)||xe[0];f(Xe)}const{data:Ve,error:nt}=await Jt.from("user_profiles").select("username, color").eq("user_id",t.id).single();if(nt&&nt.code!=="PGRST116")throw nt;y(Ve||{username:"Sin nombre",color:"#000000"})}catch($e){console.error("Fetch data error:",$e),K("Error al cargar datos del mapa.")}})()},[t,e]),ae.useEffect(()=>{if((async()=>{if(d)try{const{data:$e,error:tt}=await Jt.from("pins").select("id, position_x, position_y, title, description, created_by, color").eq("map_id",d.id);if(tt)throw tt;b($e)}catch($e){console.error("Fetch pins error:",$e),K("Error al cargar pins.")}})(),d){const $e=Jt.channel("pins").on("postgres_changes",{event:"*",schema:"public",table:"pins",filter:`map_id=eq.${d.id}`},tt=>{tt.eventType==="INSERT"&&b(xe=>[...xe,tt.new]),tt.eventType==="UPDATE"&&b(xe=>xe.map(ke=>ke.id===tt.new.id?tt.new:ke)),tt.eventType==="DELETE"&&b(xe=>xe.filter(ke=>ke.id!==tt.old.id))}).subscribe();return()=>Jt.removeChannel($e)}},[d]);const ne=Ee=>{const $e=o.find(tt=>tt.id===Ee);$e&&f($e)},le=async Ee=>{if(Ee.preventDefault(),!!w){if(!N||!j){K("Proporcione nombre de mapa y seleccione un archivo.");return}try{const $e=N.name.split(".").pop(),tt=`${e}/${kp()}.${$e}`,{error:xe}=await Jt.storage.from("room-maps").upload(tt,N);if(xe)throw xe;const{data:ke}=Jt.storage.from("room-maps").getPublicUrl(tt),Ve=ke.publicUrl,{data:nt,error:Xe}=await Jt.from("maps").insert({id:kp(),room_id:e,image_url:Ve,name:j,uploaded_by:t.id,start_lat:0,start_lng:0}).select("id, name, image_url, start_lat, start_lng").single();if(Xe)throw Xe;c([...o,nt]),f(nt),_(null),C(""),oe(!1)}catch($e){console.error("Upload map error:",$e),K("Error al subir el mapa.")}}},be=async()=>{if(!(!w||!n.current||!d))try{const $e=n.current.getCenter(),{error:tt}=await Jt.from("maps").update({start_lat:$e.lat,start_lng:$e.lng}).eq("id",d.id);if(tt)throw tt;f({...d,start_lat:$e.lat,start_lng:$e.lng}),c(o.map(xe=>xe.id===d.id?{...xe,start_lat:$e.lat,start_lng:$e.lng}:xe))}catch(Ee){console.error("Set starter zone error:",Ee),K("Error al establecer zona inicial.")}},ce=Ee=>{if(!A)return;const $e=(Ee.lng+180)/360*100,tt=(90-Ee.lat)/180*100;B({position_x:$e,position_y:tt}),P(!1),k(!0)},ie=()=>{P(!0),J(""),te("")},ge=Ee=>{!w&&Ee.created_by!==t.id||(V(Ee),J(Ee.title||""),te(Ee.description||""),k(!0))},_e=async()=>{if(!X){K("El título del pin es obligatorio.");return}try{if(z){const{error:Ee}=await Jt.from("pins").update({title:X,description:ee}).eq("id",z.id);if(Ee)throw Ee;b(g.map($e=>$e.id===z.id?{...$e,title:X,description:ee}:$e))}else if(U&&d){const{position_x:Ee,position_y:$e}=U,{data:tt,error:xe}=await Jt.from("pins").insert({id:kp(),map_id:d.id,position_x:Ee,position_y:$e,title:X,description:ee,created_by:t.id,color:v.color}).select("id, position_x, position_y, title, description, created_by, color").single();if(xe)throw xe;b([...g,tt])}k(!1),P(!1),B(null),V(null),J(""),te("")}catch(Ee){console.error("Save pin error:",Ee),K("Error al guardar el pin.")}},Te=async()=>{if(!(!z||!w&&z.created_by!==t.id))try{const{error:Ee}=await Jt.from("pins").delete().eq("id",z.id);if(Ee)throw Ee;b(g.filter($e=>$e.id!==z.id)),k(!1),V(null),J(""),te("")}catch(Ee){console.error("Delete pin error:",Ee),K("Error al eliminar pin.")}};return i?s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-x-clip relative",children:[s.jsxs("h1",{className:"cinzel text-5xl md:text-7xl mt-4 text-center",children:['Mapas - "',i.name,'"']}),s.jsxs("main",{className:"w-10/12 mx-auto rounded-2xl my-8 space-y-8 border border-white p-4",children:[w&&s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:()=>oe(!$),className:"bg-gray-700 hover:bg-gray-500 text-white font-bold p-2 rounded-2xl cursor-pointer cinzel text-sm",children:"Add New Map"}),s.jsx("button",{onClick:()=>Y(!G),className:"bg-gray-700 hover:bg-gray-500 text-white font-bold p-2 rounded-2xl cursor-pointer cinzel text-sm",children:"Choose Map"}),s.jsx("button",{onClick:be,className:"bg-blue-700 hover:bg-blue-500 text-white font-bold p-2 rounded-2xl cursor-pointer cinzel text-sm",children:"Set Starter Zone"})]}),$&&w&&s.jsxs("form",{onSubmit:le,className:"flex flex-col md:flex-row justify-center items-center text-center w-fit mx-auto border-dashed border rounded-2xl p-4",children:[s.jsxs("div",{className:"flex flex-col w-auto md:w-150 mx-4 md:mx-0",children:[s.jsx("p",{className:"text-center text-xs text-gray-500 my-2",children:"Subir un nuevo mapa"}),s.jsx("input",{className:"rounded-2xl border w-full md:w-1/2 mx-auto my-2 py-2 bg-black/90 text-center text-lg md:text-xl cinzel focus:outline-none",type:"text",value:j,onChange:Ee=>C(Ee.target.value),placeholder:"Nombre del mapa"}),s.jsx("input",{className:"my-2",type:"file",accept:"image/*",onChange:Ee=>_(Ee.target.files[0])})]}),s.jsx("button",{type:"submit",className:"bg-gray-700 hover:bg-gray-500 text-white font-bold p-2 rounded-2xl cursor-pointer cinzel w-fit h-fit mx-auto md:m-4 my-2 text-sm",children:"Subir Mapa"})]}),G&&w&&o.length>0&&s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("label",{className:"cinzel text-lg mb-2",children:"Seleccionar Mapa"}),s.jsx("select",{className:"rounded-2xl border bg-black/90 text-white p-2 cinzel",value:d?.id||"",onChange:Ee=>ne(Ee.target.value),children:o.map(Ee=>s.jsx("option",{value:Ee.id,children:Ee.name||"Mapa sin nombre"},Ee.id))})]}),W&&s.jsx("p",{className:"text-red-500 mt-2 text-center",children:W}),d?s.jsxs("div",{className:"relative w-full max-w-4xl mx-auto h-[600px]",children:[s.jsxs(fne,{center:[d.start_lat||0,d.start_lng||0],zoom:2,style:{height:"100%",width:"100%"},ref:n,crs:iN.CRS.Simple,zoomControl:!0,minZoom:-5,maxZoom:18,className:A?"leaflet-container adding-pin":"leaflet-container",children:[s.jsx(dne,{url:d.image_url,bounds:[[-90,-180],[90,180]]}),s.jsx(pne,{onMapClick:ce,isAddingPin:A}),g.map(Ee=>s.jsx(une,{center:[Ee.position_y/100*180-90,Ee.position_x/100*360-180],radius:8,fillColor:Ee.color,color:Ee.color,fillOpacity:.8,interactive:!0,eventHandlers:{click:()=>ge(Ee)},children:s.jsx(mne,{direction:"top",children:s.jsxs("div",{className:"max-w-150 overflow-clip",children:[s.jsx("strong",{className:"cinzel text-lg",children:Ee.title||"Sin título"}),s.jsx("br",{}),s.jsx("p",{className:"w-fit text-xs garamond",children:Ee.description||"Sin descripción"})]})})},Ee.id))]}),s.jsx("button",{onClick:ie,className:"absolute bottom-4 right-4 bg-green-700 hover:bg-green-500 text-white rounded-full p-3 cursor-pointer z-[1000]",children:s.jsx(el.Icon,{path:zK,size:1})})]}):s.jsx("p",{className:"text-center text-gray-500",children:"No hay mapas disponibles."}),F&&s.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[1000]",children:s.jsxs("div",{className:"bg-black border border-white rounded-2xl p-6 w-11/12 md:w-1/3",children:[s.jsx("h2",{className:"cinzel text-xl mb-4",children:z?"Editar Pin":"Agregar Pin"}),s.jsxs("form",{className:"flex flex-col space-y-4",children:[s.jsx("input",{className:"rounded-2xl border bg-black/90 text-white p-2 cinzel",type:"text",value:X,onChange:Ee=>J(Ee.target.value),placeholder:"Título del pin"}),s.jsx("textarea",{className:"rounded-2xl border bg-black/90 text-white p-2 cinzel",value:ee,onChange:Ee=>te(Ee.target.value),placeholder:"Descripción del pin",rows:4}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{type:"button",onClick:_e,className:"bg-gray-700 hover:bg-gray-500 text-white font-bold p-2 rounded-2xl cinzel text-sm",children:"Guardar"}),z&&(w||z.created_by===t.id)&&s.jsx("button",{type:"button",onClick:Te,className:"bg-red-700 hover:bg-red-500 text-white font-bold p-2 rounded-2xl cinzel text-sm",children:"Eliminar"}),s.jsx("button",{type:"button",onClick:()=>{k(!1),P(!1),B(null),V(null),J(""),te("")},className:"bg-gray-700 hover:bg-gray-500 text-white font-bold p-2 rounded-2xl cinzel text-sm",children:"Cancelar"})]})]})]})}),g.length>0&&s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"text-xl md:text-2xl cinzel mb-2",children:"Pins"}),s.jsx("ul",{className:"space-y-2",children:g.map(Ee=>s.jsxs("li",{className:"flex justify-between items-center border rounded-2xl p-2 ",children:[s.jsx("div",{className:"flex flex-row items-center space-x-2 w-2/3",children:s.jsxs("div",{children:[s.jsx("span",{className:"cinzel text-2xl",style:{color:Ee.color},children:Ee.title||"Sin título"}),s.jsxs("p",{className:"text-xs text-slate-700 garamond",children:["(X: ",Ee.position_x.toFixed(2),"%, Y: ",Ee.position_y.toFixed(2),"%)"]}),s.jsx("p",{className:"text-xl garamond indent-5",children:Ee.description})]})}),(w||Ee.created_by===t.id)&&s.jsx("button",{onClick:()=>ge(Ee),className:"bg-blue-700 hover:bg-blue-500 text-white font-bold py-1 px-2 rounded-2xl text-sm",children:"Editar"})]},Ee.id))})]})]}),s.jsx("div",{onClick:()=>r(`/library/lore-room/${e}`),className:"bottom-0 relative my-8 mx-auto left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]}):s.jsx("p",{className:"text-white text-center mt-10",children:"Cargando sala..."})}function bne(){const r=en(),{id:e}=wb(),{user:t}=sl(),n=ae.useRef(null),i=ae.useRef(null),[a,o]=ae.useState(null),[c,d]=ae.useState(!1),[f,g]=ae.useState([]),[b,v]=ae.useState(null),[y,w]=ae.useState(!1),[T,N]=ae.useState(""),[_,j]=ae.useState(""),[C,A]=ae.useState(null),[P,U]=ae.useState(null),[B,F]=ae.useState(!1),k=ae.useMemo(()=>{const $={};return f.forEach(oe=>{oe.children=[],$[oe.id]=oe}),f.filter(oe=>(oe.parent_id&&$[oe.parent_id]&&$[oe.parent_id].children.push(oe),!oe.parent_id))},[f]);ae.useEffect(()=>{(async()=>{if(!(!t||!e)){F(!0);try{const{data:oe,error:G}=await Jt.from("rooms").select("id, name, owner_id").eq("id",e).single();if(G)throw G;o(oe),d(t.id===oe.owner_id);const{data:Y,error:ne}=await Jt.from("wiki_pages").select("id, room_id, title, content, parent_id, created_at, updated_at").eq("room_id",e).order("created_at",{ascending:!0});if(ne)throw ne;g(Y||[])}catch(oe){console.error("Error fetching data:",oe),U("Error al cargar datos de la wiki.")}finally{F(!1)}}})()},[t,e]),ae.useEffect(()=>{if(y&&n.current&&b)return i.current=new UO(n.current,{theme:"snow",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]}}),i.current.root.innerHTML=b.content,i.current.on("text-change",()=>{j(i.current.root.innerHTML)}),N(b.title),A(b.parent_id),()=>{i.current&&(i.current.off("text-change"),i.current=null)}},[y,b]);const z=$=>{v($)},V=$=>{v($),w(!0)},X=async()=>{if(!c){U("Solo el dueño puede editar páginas.");return}if(!b||!T||!_){U("Título y contenido requeridos.");return}F(!0);try{const $={title:T,parent_id:C||null,content:_,updated_at:new Date().toISOString()},{error:oe}=await Jt.from("wiki_pages").update($).eq("id",b.id);if(oe)throw oe;const G=f.map(Y=>Y.id===b.id?{...Y,...$}:Y);g(G),v({...b,...$}),w(!1),U(null)}catch($){console.error("Error updating wiki page:",$),U("Error al guardar la página.")}finally{F(!1)}},J=async()=>{if(!c){U("Solo el dueño puede crear páginas.");return}F(!0);try{const $={id:kp(),room_id:e,title:"New Page",content:"<p>Edit me...</p>",parent_id:b?.id||null},{data:oe,error:G}=await Jt.from("wiki_pages").insert($).select("*").single();if(G)throw G;g([...f,oe]),z(oe),w(!0)}catch($){console.error("Error creating wiki page:",$),U("Error al crear la página.")}finally{F(!1)}},ee=async $=>{if(!c){U("Solo el dueño puede eliminar páginas.");return}if(window.confirm("¿Estás seguro de eliminar esta página y sus subpáginas?")){F(!0);try{const{error:oe}=await Jt.from("wiki_pages").delete().eq("id",$);if(oe)throw oe;const G=f.filter(Y=>Y.id!==$);g(G),b?.id===$&&v(null),U(null)}catch(oe){console.error("Error deleting wiki page:",oe),U("Error al eliminar la página.")}finally{F(!1)}}},te=()=>{w(!1),N(""),j(""),A(null)},W=()=>{r(`/library/lore-room/${e}`)},K=($,oe=0)=>s.jsx("ul",{className:`space-y-2 ${oe>0?"ml-4":""}`,children:$.map(G=>s.jsxs("li",{children:[s.jsx("div",{className:"cursor-pointer hover:underline",onClick:()=>z(G),children:G.title}),G.children.length>0&&K(G.children,oe+1)]},G.id))});return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:`
          .quill > * {
            border-color: inherit !important;
            color: inherit !important;
          }
          .quill > .ql-toolbar {
            border-radius: 10px 10px 0 0;
          }
          .quill > .ql-container {
            font-size: inherit;
            border-radius: 0 0 10px 10px;
          }
          .ql-toolbar.ql-snow .ql-picker-label {
            color: inherit !important;
            opacity: 0.76;
          }
          .ql-snow .ql-picker {
            color: inherit !important;
          }
          .quill > .ql-container > .ql-editor.ql-blank::before {
            color: inherit;
          }
          .ql-snow.ql-toolbar button svg {
            opacity: 0.76;
            color: currentColor;
          }
          .ql-snow .ql-stroke {
            stroke: currentColor !important;
          }
          .ql-snow .ql-fill {
            fill: currentColor !important;
          }
          .ql-picker-item {
            color: #444 !important;
          }
          .ql-editor {
            background-color: black;
            color: white;
            min-height: 200px;
          }
          .ql-toolbar.ql-snow {
            background-color: #2d3748;
            border-color: #4a5568 !important;
          }
          .ql-container.ql-snow {
            border-color: #4a5568 !important;
          }
          .ql-snow .ql-picker-options {
            background-color: #2d3748;
            color: white;
          }
          .ql-snow .ql-tooltip {
            background-color: #2d3748;
            color: white;
          }
          .ql-syntax {
            background-color: #000 !important;
            color: #f8f8f2 !important;
          }
          .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
            z-index: 50;
            padding: 20px 0;
          }
          .modal-content {
            background: black;
            padding: 20px;
            border-width: 1px;
            border-radius: 8px;
            width: 80%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
          }
          .close-button {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            color: white;
          }
        `}),s.jsxs("section",{className:"min-h-screen min-w-screen flex flex-col items-center text-white overflow-clip",children:[s.jsx("div",{className:"top-0 mx-auto mt-4 text-center",children:s.jsxs("h1",{className:"cinzel text-5xl md:text-7xl landing-title",children:['Wiki - Lore Room "',a.name,'"']})}),P&&s.jsx("p",{className:"text-red-500 mt-2 text-center",children:P}),B&&s.jsx("p",{className:"text-yellow-500 mt-2 text-center",children:"Cargando..."}),s.jsxs("main",{className:"w-10/12 h-10/12 mx-auto my-8 space-y-8 p-4 flex flex-col md:flex-row",children:[s.jsxs("aside",{className:"w-full md:w-1/4 pr-4",children:[s.jsx("h2",{className:"cinzel text-2xl mb-4",children:"Páginas"}),k.length>0?K(k):s.jsx("p",{className:"text-gray-500",children:"No hay páginas disponibles."}),c&&s.jsx("button",{onClick:J,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-2xl mt-4",disabled:B,children:"Nueva Página"})]}),s.jsx("div",{className:"w-full md:w-3/4 px-4 quill border-2 h-full p-2 rounded-2xl",children:b?s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"cinzel text-3xl mb-4 text-yellow-500",children:b.title}),b.children.length>0&&s.jsx("div",{className:"w-full grid grid-cols-1 md:grid-cols-3 wrap-anywhere md:gap-2 items-center text-center border-5 border-double rounded-2xl p-4 mx-auto",children:b.children.map($=>s.jsx("div",{className:"border p-2 cinzel text-md md:text-lg hover:underline hover:underline-offset-4 hover:text-yellow-500 hover:decoration-yellow-500 cursor-pointer text-center my-4 py-2",onClick:()=>z($),children:$.title},$.id))}),c&&s.jsxs("div",{className:"my-8 space-x-4",children:[s.jsx("button",{onClick:()=>V(b),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-2xl",disabled:B,children:"Editar"}),s.jsx("button",{onClick:()=>ee(b.id),className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-2xl",disabled:B,children:"Eliminar"})]}),s.jsx("div",{className:"ql-editor bg-gray-800 p-4 text-white",dangerouslySetInnerHTML:{__html:b.content}})]}):s.jsxs("div",{className:"text-center text-gray-500 p-10",children:[s.jsxs("p",{children:["No hay páginas en la wiki. ",c?"Crea una nueva página para comenzar.":"Espera a que el dueño cree una página."]}),c&&s.jsx("button",{onClick:J,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-2xl mt-4",disabled:B,children:"Crear Página"})]})})]}),y&&s.jsx("div",{className:"modal",children:s.jsxs("div",{className:"modal-content",children:[s.jsx("span",{className:"close-button",onClick:te,children:"×"}),s.jsx("label",{className:"block text-white mb-2",children:"Título:"}),s.jsx("input",{type:"text",value:T,onChange:$=>N($.target.value),className:"w-full p-2 mb-4 bg-gray-800 text-white border border-gray-300 rounded",disabled:B}),s.jsx("label",{className:"block text-white mb-2",children:"Capítulo Padre:"}),s.jsxs("select",{value:C||"",onChange:$=>A($.target.value?$.target.value:null),className:"w-full p-2 mb-4 bg-gray-800 text-white border border-gray-300 rounded",disabled:B,children:[s.jsx("option",{value:"",children:"Ninguno"}),f.filter($=>$.id!==b?.id).map($=>s.jsx("option",{value:$.id,children:$.title},$.id))]}),s.jsx("div",{ref:n,className:"border border-gray-300 rounded mb-4"}),s.jsxs("div",{className:"space-x-4 mt-8",children:[s.jsx("button",{onClick:te,className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-2xl",disabled:B,children:"Cancelar"}),s.jsx("button",{onClick:X,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-2xl",disabled:B,children:"Guardar"})]})]})}),s.jsx("div",{onClick:W,className:"bottom-0 relative my-8 mx-auto w-fit left-0 right-0 cursor-pointer",children:s.jsx("p",{className:"garamond text-center text-lg cursor-pointer hover:underline hover:underline-offset-8 border-1 border-transparent hover:border-white p-4 rounded-2xl",children:"Volver"})})]})]})}const rn=({children:r})=>{const{user:e,loading:t}=sl();return ae.useEffect(()=>{console.log("ProtectedRoute updated:",{user:e,loading:t})},[e,t]),t?s.jsx(qn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"min-h-screen flex items-center justify-center text-white text-center cinzel text-2xl animate-pulse",children:"Cargando..."}):e?r:s.jsx(H4,{to:"/login",replace:!0})};function xne({error:r,resetErrorBoundary:e}){return s.jsxs("div",{className:"p-4 bg-red-100 text-red-700 rounded-lg text-center",children:[s.jsxs("p",{children:["Error: ",r.message]}),s.jsx("button",{className:"mt-2 bg-red-500 text-white px-4 py-1 rounded hover:bg-red-600",onClick:e,children:"Reintentar"})]})}function vne(){return s.jsx("div",{className:"overflow-clip relative min-h-screen",children:s.jsxs(SP,{children:[s.jsx(Wte,{}),s.jsx(Xte,{}),s.jsx(qU,{mode:"wait",children:s.jsx(H8,{FallbackComponent:xne,onReset:()=>window.location.reload(),children:s.jsxs($6,{children:[s.jsx(Kt,{path:"/",element:s.jsx(qn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:s.jsx(yK,{})})}),s.jsx(Kt,{path:"/login",element:s.jsx(_K,{})}),s.jsx(Kt,{path:"/register",element:s.jsx(SK,{})}),s.jsx(Kt,{path:"/landing",element:s.jsx(rn,{children:s.jsx(qn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:s.jsx(VK,{})})})}),s.jsx(Kt,{path:"/tools",element:s.jsx(rn,{children:s.jsx(FK,{})})}),s.jsx(Kt,{path:"/rules",element:s.jsx(rn,{children:s.jsx(qK,{})})}),s.jsx(Kt,{path:"/rules/attributes",element:s.jsx(rn,{children:s.jsx(GK,{})})}),s.jsx(Kt,{path:"/rules/races",element:s.jsx(rn,{children:s.jsx(WK,{})})}),s.jsx(Kt,{path:"/rules/races/elf",element:s.jsx(rn,{children:s.jsx(XK,{})})}),s.jsx(Kt,{path:"/rules/races/dwarf",element:s.jsx(rn,{children:s.jsx(YK,{})})}),s.jsx(Kt,{path:"/rules/races/human",element:s.jsx(rn,{children:s.jsx(ZK,{})})}),s.jsx(Kt,{path:"/rules/races/beastman",element:s.jsx(rn,{children:s.jsx(KK,{})})}),s.jsx(Kt,{path:"/rules/races/halfling",element:s.jsx(rn,{children:s.jsx(JK,{})})}),s.jsx(Kt,{path:"/rules/races/verdant",element:s.jsx(rn,{children:s.jsx(QK,{})})}),s.jsx(Kt,{path:"/rules/classes",element:s.jsx(rn,{children:s.jsx($K,{})})}),s.jsx(Kt,{path:"/rules/classes/warrior",element:s.jsx(rn,{children:s.jsx(eJ,{})})}),s.jsx(Kt,{path:"/rules/classes/magicuser",element:s.jsx(rn,{children:s.jsx(tJ,{})})}),s.jsx(Kt,{path:"/rules/classes/specialist",element:s.jsx(rn,{children:s.jsx(nJ,{})})}),s.jsx(Kt,{path:"/rules/classes/multiclass",element:s.jsx(rn,{children:s.jsx(rJ,{})})}),s.jsx(Kt,{path:"/rules/gear",element:s.jsx(rn,{children:s.jsx(iJ,{})})}),s.jsx(Kt,{path:"/rules/gear/armor",element:s.jsx(rn,{children:s.jsx(sJ,{})})}),s.jsx(Kt,{path:"/rules/gear/weapons",element:s.jsx(rn,{children:s.jsx(aJ,{})})}),s.jsx(Kt,{path:"/rules/gear/companions",element:s.jsx(rn,{children:s.jsx(oJ,{})})}),s.jsx(Kt,{path:"/rules/gear/magic",element:s.jsx(rn,{children:s.jsx(lJ,{})})}),s.jsx(Kt,{path:"/rules/gear/machinery",element:s.jsx(rn,{children:s.jsx(cJ,{})})}),s.jsx(Kt,{path:"/rules/gear/apparel",element:s.jsx(rn,{children:s.jsx(uJ,{})})}),s.jsx(Kt,{path:"/rules/gear/supplies",element:s.jsx(rn,{children:s.jsx(dJ,{})})}),s.jsx(Kt,{path:"/rules/game",element:s.jsx(rn,{children:s.jsx(hJ,{})})}),s.jsx(Kt,{path:"/rules/game/mechanics",element:s.jsx(rn,{children:s.jsx(fJ,{})})}),s.jsx(Kt,{path:"/rules/game/combat",element:s.jsx(rn,{children:s.jsx(mJ,{})})}),s.jsx(Kt,{path:"/rules/game/maneuvers",element:s.jsx(rn,{children:s.jsx(pJ,{})})}),s.jsx(Kt,{path:"/rules/game/weapon-proficiencies",element:s.jsx(rn,{children:s.jsx(gJ,{})})}),s.jsx(Kt,{path:"/rules/game/non-weapon-proficiencies",element:s.jsx(rn,{children:s.jsx(bJ,{})})}),s.jsx(Kt,{path:"/rules/game/xp-level",element:s.jsx(rn,{children:s.jsx(xJ,{})})}),s.jsx(Kt,{path:"/rules/game/life-death",element:s.jsx(rn,{children:s.jsx(vJ,{})})}),s.jsx(Kt,{path:"/rules/game/exploration",element:s.jsx(rn,{children:s.jsx(yJ,{})})}),s.jsx(Kt,{path:"/rules/game/downtime",element:s.jsx(rn,{children:s.jsx(_J,{})})}),s.jsx(Kt,{path:"/rules/magic",element:s.jsx(rn,{children:s.jsx(SJ,{})})}),s.jsx(Kt,{path:"/rules/magic/astral",element:s.jsx(rn,{children:s.jsx(wJ,{})})}),s.jsx(Kt,{path:"/rules/magic/astral/spells",element:s.jsx(rn,{children:s.jsx(EJ,{})})}),s.jsx(Kt,{path:"/rules/magic/natural",element:s.jsx(rn,{children:s.jsx(NJ,{})})}),s.jsx(Kt,{path:"/rules/magic/natural/spells",element:s.jsx(rn,{children:s.jsx(TJ,{})})}),s.jsx(Kt,{path:"/rules/magic/voice-form",element:s.jsx(rn,{children:s.jsx(MJ,{})})}),s.jsx(Kt,{path:"/rules/magic/voice-form/spells",element:s.jsx(rn,{children:s.jsx(jJ,{})})}),s.jsx(Kt,{path:"/rules/magic/archive",element:s.jsx(rn,{children:s.jsx(AJ,{})})}),s.jsx(Kt,{path:"/journals",element:s.jsx(rn,{children:s.jsx(w$,{})})}),s.jsx(Kt,{path:"/characters",element:s.jsx(rn,{children:s.jsx(E$,{})})}),s.jsx(Kt,{path:"/characters/new",element:s.jsx(rn,{children:s.jsx(H4,{to:"/characters/new/pc",replace:!0})})}),s.jsx(Kt,{path:"/characters/new/pc",element:s.jsx(rn,{children:s.jsx(XS,{})})}),s.jsx(Kt,{path:"/characters/new/npc",element:s.jsx(rn,{children:s.jsx(XS,{})})}),s.jsx(Kt,{path:"/characters/edit/:id",element:s.jsx(rn,{children:s.jsx(XS,{})})}),s.jsx(Kt,{path:"/characters/edit/:id/non-weapon-proficiencies",element:s.jsx(rn,{children:s.jsx(Fte,{})})}),s.jsx(Kt,{path:"/library",element:s.jsx(rn,{children:s.jsx(qte,{})})}),s.jsx(Kt,{path:"/library/lore-room/:id",element:s.jsx(rn,{children:s.jsx(Gte,{})})}),s.jsx(Kt,{path:"/library/lore-room/:id/wiki",element:s.jsx(rn,{children:s.jsx(bne,{})})}),s.jsx(Kt,{path:"/library/lore-room/:id/map",element:s.jsx(rn,{children:s.jsx(gne,{})})})]})})})]})})}function yne(){return s.jsx(B8,{children:s.jsx(F8,{children:s.jsx(vne,{})})})}c6.createRoot(document.getElementById("root")).render(s.jsx(yne,{}));
